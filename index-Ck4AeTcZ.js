var g4=Object.defineProperty;var v4=(t,e,n)=>e in t?g4(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Et=(t,e,n)=>v4(t,typeof e!="symbol"?e+"":e,n);function Rf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var $a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function y4(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var xg={exports:{}},Ru={},kg={exports:{}},Ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k2;function b4(){if(k2)return Ft;k2=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),i=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),p=Symbol.iterator;function h(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,v={};function b(B,V,oe){this.props=B,this.context=V,this.refs=v,this.updater=oe||m}b.prototype.isReactComponent={},b.prototype.setState=function(B,V){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,V,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function w(){}w.prototype=b.prototype;function x(B,V,oe){this.props=B,this.context=V,this.refs=v,this.updater=oe||m}var _=x.prototype=new w;_.constructor=x,y(_,b.prototype),_.isPureReactComponent=!0;var C=Array.isArray,T=Object.prototype.hasOwnProperty,R={current:null},M={key:!0,ref:!0,__self:!0,__source:!0};function W(B,V,oe){var ue,le={},Ee=null,Re=null;if(V!=null)for(ue in V.ref!==void 0&&(Re=V.ref),V.key!==void 0&&(Ee=""+V.key),V)T.call(V,ue)&&!M.hasOwnProperty(ue)&&(le[ue]=V[ue]);var xe=arguments.length-2;if(xe===1)le.children=oe;else if(1<xe){for(var Ne=Array(xe),He=0;He<xe;He++)Ne[He]=arguments[He+2];le.children=Ne}if(B&&B.defaultProps)for(ue in xe=B.defaultProps,xe)le[ue]===void 0&&(le[ue]=xe[ue]);return{$$typeof:t,type:B,key:Ee,ref:Re,props:le,_owner:R.current}}function P(B,V){return{$$typeof:t,type:B.type,key:V,ref:B.ref,props:B.props,_owner:B._owner}}function z(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function F(B){var V={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(oe){return V[oe]})}var O=/\/+/g;function U(B,V){return typeof B=="object"&&B!==null&&B.key!=null?F(""+B.key):V.toString(36)}function N(B,V,oe,ue,le){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var Re=!1;if(B===null)Re=!0;else switch(Ee){case"string":case"number":Re=!0;break;case"object":switch(B.$$typeof){case t:case e:Re=!0}}if(Re)return Re=B,le=le(Re),B=ue===""?"."+U(Re,0):ue,C(le)?(oe="",B!=null&&(oe=B.replace(O,"$&/")+"/"),N(le,V,oe,"",function(He){return He})):le!=null&&(z(le)&&(le=P(le,oe+(!le.key||Re&&Re.key===le.key?"":(""+le.key).replace(O,"$&/")+"/")+B)),V.push(le)),1;if(Re=0,ue=ue===""?".":ue+":",C(B))for(var xe=0;xe<B.length;xe++){Ee=B[xe];var Ne=ue+U(Ee,xe);Re+=N(Ee,V,oe,Ne,le)}else if(Ne=h(B),typeof Ne=="function")for(B=Ne.call(B),xe=0;!(Ee=B.next()).done;)Ee=Ee.value,Ne=ue+U(Ee,xe++),Re+=N(Ee,V,oe,Ne,le);else if(Ee==="object")throw V=String(B),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.");return Re}function q(B,V,oe){if(B==null)return B;var ue=[],le=0;return N(B,ue,"","",function(Ee){return V.call(oe,Ee,le++)}),ue}function ae(B){if(B._status===-1){var V=B._result;V=V(),V.then(function(oe){(B._status===0||B._status===-1)&&(B._status=1,B._result=oe)},function(oe){(B._status===0||B._status===-1)&&(B._status=2,B._result=oe)}),B._status===-1&&(B._status=0,B._result=V)}if(B._status===1)return B._result.default;throw B._result}var J={current:null},Z={transition:null},Y={ReactCurrentDispatcher:J,ReactCurrentBatchConfig:Z,ReactCurrentOwner:R};function te(){throw Error("act(...) is not supported in production builds of React.")}return Ft.Children={map:q,forEach:function(B,V,oe){q(B,function(){V.apply(this,arguments)},oe)},count:function(B){var V=0;return q(B,function(){V++}),V},toArray:function(B){return q(B,function(V){return V})||[]},only:function(B){if(!z(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Ft.Component=b,Ft.Fragment=n,Ft.Profiler=a,Ft.PureComponent=x,Ft.StrictMode=r,Ft.Suspense=c,Ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,Ft.act=te,Ft.cloneElement=function(B,V,oe){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ue=y({},B.props),le=B.key,Ee=B.ref,Re=B._owner;if(V!=null){if(V.ref!==void 0&&(Ee=V.ref,Re=R.current),V.key!==void 0&&(le=""+V.key),B.type&&B.type.defaultProps)var xe=B.type.defaultProps;for(Ne in V)T.call(V,Ne)&&!M.hasOwnProperty(Ne)&&(ue[Ne]=V[Ne]===void 0&&xe!==void 0?xe[Ne]:V[Ne])}var Ne=arguments.length-2;if(Ne===1)ue.children=oe;else if(1<Ne){xe=Array(Ne);for(var He=0;He<Ne;He++)xe[He]=arguments[He+2];ue.children=xe}return{$$typeof:t,type:B.type,key:le,ref:Ee,props:ue,_owner:Re}},Ft.createContext=function(B){return B={$$typeof:o,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:s,_context:B},B.Consumer=B},Ft.createElement=W,Ft.createFactory=function(B){var V=W.bind(null,B);return V.type=B,V},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(B){return{$$typeof:i,render:B}},Ft.isValidElement=z,Ft.lazy=function(B){return{$$typeof:l,_payload:{_status:-1,_result:B},_init:ae}},Ft.memo=function(B,V){return{$$typeof:d,type:B,compare:V===void 0?null:V}},Ft.startTransition=function(B){var V=Z.transition;Z.transition={};try{B()}finally{Z.transition=V}},Ft.unstable_act=te,Ft.useCallback=function(B,V){return J.current.useCallback(B,V)},Ft.useContext=function(B){return J.current.useContext(B)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(B){return J.current.useDeferredValue(B)},Ft.useEffect=function(B,V){return J.current.useEffect(B,V)},Ft.useId=function(){return J.current.useId()},Ft.useImperativeHandle=function(B,V,oe){return J.current.useImperativeHandle(B,V,oe)},Ft.useInsertionEffect=function(B,V){return J.current.useInsertionEffect(B,V)},Ft.useLayoutEffect=function(B,V){return J.current.useLayoutEffect(B,V)},Ft.useMemo=function(B,V){return J.current.useMemo(B,V)},Ft.useReducer=function(B,V,oe){return J.current.useReducer(B,V,oe)},Ft.useRef=function(B){return J.current.useRef(B)},Ft.useState=function(B){return J.current.useState(B)},Ft.useSyncExternalStore=function(B,V,oe){return J.current.useSyncExternalStore(B,V,oe)},Ft.useTransition=function(){return J.current.useTransition()},Ft.version="18.3.1",Ft}var _2;function xc(){return _2||(_2=1,kg.exports=b4()),kg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I2;function w4(){if(I2)return Ru;I2=1;var t=xc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(i,c,d){var l,p={},h=null,m=null;d!==void 0&&(h=""+d),c.key!==void 0&&(h=""+c.key),c.ref!==void 0&&(m=c.ref);for(l in c)r.call(c,l)&&!s.hasOwnProperty(l)&&(p[l]=c[l]);if(i&&i.defaultProps)for(l in c=i.defaultProps,c)p[l]===void 0&&(p[l]=c[l]);return{$$typeof:e,type:i,key:h,ref:m,props:p,_owner:a.current}}return Ru.Fragment=n,Ru.jsx=o,Ru.jsxs=o,Ru}var C2;function S4(){return C2||(C2=1,xg.exports=w4()),xg.exports}var Fe=S4(),Oe=xc();const ya=Hl(Oe),x4=Rf({__proto__:null,default:ya},[Oe]);var Cd={},_g={exports:{}},aa={},Ig={exports:{}},Cg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2;function k4(){return E2||(E2=1,function(t){function e(Z,Y){var te=Z.length;Z.push(Y);e:for(;0<te;){var B=te-1>>>1,V=Z[B];if(0<a(V,Y))Z[B]=Y,Z[te]=V,te=B;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var Y=Z[0],te=Z.pop();if(te!==Y){Z[0]=te;e:for(var B=0,V=Z.length,oe=V>>>1;B<oe;){var ue=2*(B+1)-1,le=Z[ue],Ee=ue+1,Re=Z[Ee];if(0>a(le,te))Ee<V&&0>a(Re,le)?(Z[B]=Re,Z[Ee]=te,B=Ee):(Z[B]=le,Z[ue]=te,B=ue);else if(Ee<V&&0>a(Re,te))Z[B]=Re,Z[Ee]=te,B=Ee;else break e}}return Y}function a(Z,Y){var te=Z.sortIndex-Y.sortIndex;return te!==0?te:Z.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,i=o.now();t.unstable_now=function(){return o.now()-i}}var c=[],d=[],l=1,p=null,h=3,m=!1,y=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(Z){for(var Y=n(d);Y!==null;){if(Y.callback===null)r(d);else if(Y.startTime<=Z)r(d),Y.sortIndex=Y.expirationTime,e(c,Y);else break;Y=n(d)}}function C(Z){if(v=!1,_(Z),!y)if(n(c)!==null)y=!0,ae(T);else{var Y=n(d);Y!==null&&J(C,Y.startTime-Z)}}function T(Z,Y){y=!1,v&&(v=!1,w(W),W=-1),m=!0;var te=h;try{for(_(Y),p=n(c);p!==null&&(!(p.expirationTime>Y)||Z&&!F());){var B=p.callback;if(typeof B=="function"){p.callback=null,h=p.priorityLevel;var V=B(p.expirationTime<=Y);Y=t.unstable_now(),typeof V=="function"?p.callback=V:p===n(c)&&r(c),_(Y)}else r(c);p=n(c)}if(p!==null)var oe=!0;else{var ue=n(d);ue!==null&&J(C,ue.startTime-Y),oe=!1}return oe}finally{p=null,h=te,m=!1}}var R=!1,M=null,W=-1,P=5,z=-1;function F(){return!(t.unstable_now()-z<P)}function O(){if(M!==null){var Z=t.unstable_now();z=Z;var Y=!0;try{Y=M(!0,Z)}finally{Y?U():(R=!1,M=null)}}else R=!1}var U;if(typeof x=="function")U=function(){x(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,q=N.port2;N.port1.onmessage=O,U=function(){q.postMessage(null)}}else U=function(){b(O,0)};function ae(Z){M=Z,R||(R=!0,U())}function J(Z,Y){W=b(function(){Z(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,ae(T))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var Y=3;break;default:Y=h}var te=h;h=Y;try{return Z()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,Y){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var te=h;h=Z;try{return Y()}finally{h=te}},t.unstable_scheduleCallback=function(Z,Y,te){var B=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?B+te:B):te=B,Z){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=te+V,Z={id:l++,callback:Y,priorityLevel:Z,startTime:te,expirationTime:V,sortIndex:-1},te>B?(Z.sortIndex=te,e(d,Z),n(c)===null&&Z===n(d)&&(v?(w(W),W=-1):v=!0,J(C,te-B))):(Z.sortIndex=V,e(c,Z),y||m||(y=!0,ae(T))),Z},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Z){var Y=h;return function(){var te=h;h=Y;try{return Z.apply(this,arguments)}finally{h=te}}}}(Cg)),Cg}var T2;function _4(){return T2||(T2=1,Ig.exports=k4()),Ig.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N2;function I4(){if(N2)return aa;N2=1;var t=xc(),e=_4();function n(u){for(var f="https://reactjs.org/docs/error-decoder.html?invariant="+u,g=1;g<arguments.length;g++)f+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,a={};function s(u,f){o(u,f),o(u+"Capture",f)}function o(u,f){for(a[u]=f,u=0;u<f.length;u++)r.add(f[u])}var i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,l={},p={};function h(u){return c.call(p,u)?!0:c.call(l,u)?!1:d.test(u)?p[u]=!0:(l[u]=!0,!1)}function m(u,f,g,S){if(g!==null&&g.type===0)return!1;switch(typeof f){case"function":case"symbol":return!0;case"boolean":return S?!1:g!==null?!g.acceptsBooleans:(u=u.toLowerCase().slice(0,5),u!=="data-"&&u!=="aria-");default:return!1}}function y(u,f,g,S){if(f===null||typeof f>"u"||m(u,f,g,S))return!0;if(S)return!1;if(g!==null)switch(g.type){case 3:return!f;case 4:return f===!1;case 5:return isNaN(f);case 6:return isNaN(f)||1>f}return!1}function v(u,f,g,S,I,E,j){this.acceptsBooleans=f===2||f===3||f===4,this.attributeName=S,this.attributeNamespace=I,this.mustUseProperty=g,this.propertyName=u,this.type=f,this.sanitizeURL=E,this.removeEmptyString=j}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(u){b[u]=new v(u,0,!1,u,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(u){var f=u[0];b[f]=new v(f,1,!1,u[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(u){b[u]=new v(u,2,!1,u.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(u){b[u]=new v(u,2,!1,u,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(u){b[u]=new v(u,3,!1,u.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(u){b[u]=new v(u,3,!0,u,null,!1,!1)}),["capture","download"].forEach(function(u){b[u]=new v(u,4,!1,u,null,!1,!1)}),["cols","rows","size","span"].forEach(function(u){b[u]=new v(u,6,!1,u,null,!1,!1)}),["rowSpan","start"].forEach(function(u){b[u]=new v(u,5,!1,u.toLowerCase(),null,!1,!1)});var w=/[\-:]([a-z])/g;function x(u){return u[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(u){var f=u.replace(w,x);b[f]=new v(f,1,!1,u,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(u){var f=u.replace(w,x);b[f]=new v(f,1,!1,u,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(u){var f=u.replace(w,x);b[f]=new v(f,1,!1,u,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!1,!1)}),b.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(u){b[u]=new v(u,1,!1,u.toLowerCase(),null,!0,!0)});function _(u,f,g,S){var I=b.hasOwnProperty(f)?b[f]:null;(I!==null?I.type!==0:S||!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(y(f,g,I,S)&&(g=null),S||I===null?h(f)&&(g===null?u.removeAttribute(f):u.setAttribute(f,""+g)):I.mustUseProperty?u[I.propertyName]=g===null?I.type===3?!1:"":g:(f=I.attributeName,S=I.attributeNamespace,g===null?u.removeAttribute(f):(I=I.type,g=I===3||I===4&&g===!0?"":""+g,S?u.setAttributeNS(S,f,g):u.setAttribute(f,g))))}var C=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),R=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),W=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),U=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),Z=Symbol.iterator;function Y(u){return u===null||typeof u!="object"?null:(u=Z&&u[Z]||u["@@iterator"],typeof u=="function"?u:null)}var te=Object.assign,B;function V(u){if(B===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\n( *(at )?)/);B=f&&f[1]||""}return`
`+B+u}var oe=!1;function ue(u,f){if(!u||oe)return"";oe=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(f)if(f=function(){throw Error()},Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(ke){var S=ke}Reflect.construct(u,[],f)}else{try{f.call()}catch(ke){S=ke}u.call(f.prototype)}else{try{throw Error()}catch(ke){S=ke}u()}}catch(ke){if(ke&&S&&typeof ke.stack=="string"){for(var I=ke.stack.split(`
`),E=S.stack.split(`
`),j=I.length-1,ne=E.length-1;1<=j&&0<=ne&&I[j]!==E[ne];)ne--;for(;1<=j&&0<=ne;j--,ne--)if(I[j]!==E[ne]){if(j!==1||ne!==1)do if(j--,ne--,0>ne||I[j]!==E[ne]){var fe=`
`+I[j].replace(" at new "," at ");return u.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",u.displayName)),fe}while(1<=j&&0<=ne);break}}}finally{oe=!1,Error.prepareStackTrace=g}return(u=u?u.displayName||u.name:"")?V(u):""}function le(u){switch(u.tag){case 5:return V(u.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return u=ue(u.type,!1),u;case 11:return u=ue(u.type.render,!1),u;case 1:return u=ue(u.type,!0),u;default:return""}}function Ee(u){if(u==null)return null;if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case M:return"Fragment";case R:return"Portal";case P:return"Profiler";case W:return"StrictMode";case U:return"Suspense";case N:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case F:return(u.displayName||"Context")+".Consumer";case z:return(u._context.displayName||"Context")+".Provider";case O:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case q:return f=u.displayName||null,f!==null?f:Ee(u.type)||"Memo";case ae:f=u._payload,u=u._init;try{return Ee(u(f))}catch{}}return null}function Re(u){var f=u.type;switch(u.tag){case 24:return"Cache";case 9:return(f.displayName||"Context")+".Consumer";case 10:return(f._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return u=f.render,u=u.displayName||u.name||"",f.displayName||(u!==""?"ForwardRef("+u+")":"ForwardRef");case 7:return"Fragment";case 5:return f;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(f);case 8:return f===W?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f}return null}function xe(u){switch(typeof u){case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ne(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function He(u){var f=Ne(u)?"checked":"value",g=Object.getOwnPropertyDescriptor(u.constructor.prototype,f),S=""+u[f];if(!u.hasOwnProperty(f)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var I=g.get,E=g.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return I.call(this)},set:function(j){S=""+j,E.call(this,j)}}),Object.defineProperty(u,f,{enumerable:g.enumerable}),{getValue:function(){return S},setValue:function(j){S=""+j},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Ke(u){u._valueTracker||(u._valueTracker=He(u))}function et(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),S="";return u&&(S=Ne(u)?u.checked?"true":"false":u.value),u=S,u!==g?(f.setValue(u),!0):!1}function Qe(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}function $(u,f){var g=f.checked;return te({},f,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:g??u._wrapperState.initialChecked})}function be(u,f){var g=f.defaultValue==null?"":f.defaultValue,S=f.checked!=null?f.checked:f.defaultChecked;g=xe(f.value!=null?f.value:g),u._wrapperState={initialChecked:S,initialValue:g,controlled:f.type==="checkbox"||f.type==="radio"?f.checked!=null:f.value!=null}}function pe(u,f){f=f.checked,f!=null&&_(u,"checked",f,!1)}function Q(u,f){pe(u,f);var g=xe(f.value),S=f.type;if(g!=null)S==="number"?(g===0&&u.value===""||u.value!=g)&&(u.value=""+g):u.value!==""+g&&(u.value=""+g);else if(S==="submit"||S==="reset"){u.removeAttribute("value");return}f.hasOwnProperty("value")?ce(u,f.type,g):f.hasOwnProperty("defaultValue")&&ce(u,f.type,xe(f.defaultValue)),f.checked==null&&f.defaultChecked!=null&&(u.defaultChecked=!!f.defaultChecked)}function K(u,f,g){if(f.hasOwnProperty("value")||f.hasOwnProperty("defaultValue")){var S=f.type;if(!(S!=="submit"&&S!=="reset"||f.value!==void 0&&f.value!==null))return;f=""+u._wrapperState.initialValue,g||f===u.value||(u.value=f),u.defaultValue=f}g=u.name,g!==""&&(u.name=""),u.defaultChecked=!!u._wrapperState.initialChecked,g!==""&&(u.name=g)}function ce(u,f,g){(f!=="number"||Qe(u.ownerDocument)!==u)&&(g==null?u.defaultValue=""+u._wrapperState.initialValue:u.defaultValue!==""+g&&(u.defaultValue=""+g))}var _e=Array.isArray;function Ae(u,f,g,S){if(u=u.options,f){f={};for(var I=0;I<g.length;I++)f["$"+g[I]]=!0;for(g=0;g<u.length;g++)I=f.hasOwnProperty("$"+u[g].value),u[g].selected!==I&&(u[g].selected=I),I&&S&&(u[g].defaultSelected=!0)}else{for(g=""+xe(g),f=null,I=0;I<u.length;I++){if(u[I].value===g){u[I].selected=!0,S&&(u[I].defaultSelected=!0);return}f!==null||u[I].disabled||(f=u[I])}f!==null&&(f.selected=!0)}}function ge(u,f){if(f.dangerouslySetInnerHTML!=null)throw Error(n(91));return te({},f,{value:void 0,defaultValue:void 0,children:""+u._wrapperState.initialValue})}function $e(u,f){var g=f.value;if(g==null){if(g=f.children,f=f.defaultValue,g!=null){if(f!=null)throw Error(n(92));if(_e(g)){if(1<g.length)throw Error(n(93));g=g[0]}f=g}f==null&&(f=""),g=f}u._wrapperState={initialValue:xe(g)}}function Ve(u,f){var g=xe(f.value),S=xe(f.defaultValue);g!=null&&(g=""+g,g!==u.value&&(u.value=g),f.defaultValue==null&&u.defaultValue!==g&&(u.defaultValue=g)),S!=null&&(u.defaultValue=""+S)}function Me(u){var f=u.textContent;f===u._wrapperState.initialValue&&f!==""&&f!==null&&(u.value=f)}function Ze(u){switch(u){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ft(u,f){return u==null||u==="http://www.w3.org/1999/xhtml"?Ze(f):u==="http://www.w3.org/2000/svg"&&f==="foreignObject"?"http://www.w3.org/1999/xhtml":u}var dt,qt=function(u){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(f,g,S,I){MSApp.execUnsafeLocalFunction(function(){return u(f,g,S,I)})}:u}(function(u,f){if(u.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in u)u.innerHTML=f;else{for(dt=dt||document.createElement("div"),dt.innerHTML="<svg>"+f.valueOf().toString()+"</svg>",f=dt.firstChild;u.firstChild;)u.removeChild(u.firstChild);for(;f.firstChild;)u.appendChild(f.firstChild)}});function Bn(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var Ht={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(Ht).forEach(function(u){kr.forEach(function(f){f=f+u.charAt(0).toUpperCase()+u.substring(1),Ht[f]=Ht[u]})});function Dt(u,f,g){return f==null||typeof f=="boolean"||f===""?"":g||typeof f!="number"||f===0||Ht.hasOwnProperty(u)&&Ht[u]?(""+f).trim():f+"px"}function Fn(u,f){u=u.style;for(var g in f)if(f.hasOwnProperty(g)){var S=g.indexOf("--")===0,I=Dt(g,f[g],S);g==="float"&&(g="cssFloat"),S?u.setProperty(g,I):u[g]=I}}var tn=te({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rn(u,f){if(f){if(tn[u]&&(f.children!=null||f.dangerouslySetInnerHTML!=null))throw Error(n(137,u));if(f.dangerouslySetInnerHTML!=null){if(f.children!=null)throw Error(n(60));if(typeof f.dangerouslySetInnerHTML!="object"||!("__html"in f.dangerouslySetInnerHTML))throw Error(n(61))}if(f.style!=null&&typeof f.style!="object")throw Error(n(62))}}function Yr(u,f){if(u.indexOf("-")===-1)return typeof f.is=="string";switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lr=null;function ua(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var or=null,Jn=null,an=null;function Pt(u){if(u=yu(u)){if(typeof or!="function")throw Error(n(280));var f=u.stateNode;f&&(f=Wc(f),or(u.stateNode,u.type,f))}}function ca(u){Jn?an?an.push(u):an=[u]:Jn=u}function ir(){if(Jn){var u=Jn,f=an;if(an=Jn=null,Pt(u),f)for(u=0;u<f.length;u++)Pt(f[u])}}function Ie(u,f){return u(f)}function Le(){}var it=!1;function qe(u,f,g){if(it)return u(f,g);it=!0;try{return Ie(u,f,g)}finally{it=!1,(Jn!==null||an!==null)&&(Le(),ir())}}function Bt(u,f){var g=u.stateNode;if(g===null)return null;var S=Wc(g);if(S===null)return null;g=S[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(S=!S.disabled)||(u=u.type,S=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!S;break e;default:u=!1}if(u)return null;if(g&&typeof g!="function")throw Error(n(231,f,typeof g));return g}var Kt=!1;if(i)try{var St={};Object.defineProperty(St,"passive",{get:function(){Kt=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{Kt=!1}function kt(u,f,g,S,I,E,j,ne,fe){var ke=Array.prototype.slice.call(arguments,3);try{f.apply(g,ke)}catch(ze){this.onError(ze)}}var sn=!1,Hn=null,er=!1,za=null,xa={onError:function(u){sn=!0,Hn=u}};function Ns(u,f,g,S,I,E,j,ne,fe){sn=!1,Hn=null,kt.apply(xa,arguments)}function $n(u,f,g,S,I,E,j,ne,fe){if(Ns.apply(this,arguments),sn){if(sn){var ke=Hn;sn=!1,Hn=null}else throw Error(n(198));er||(er=!0,za=ke)}}function zn(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,f.flags&4098&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function ss(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function Zo(u){if(zn(u)!==u)throw Error(n(188))}function Qo(u){var f=u.alternate;if(!f){if(f=zn(u),f===null)throw Error(n(188));return f!==u?null:u}for(var g=u,S=f;;){var I=g.return;if(I===null)break;var E=I.alternate;if(E===null){if(S=I.return,S!==null){g=S;continue}break}if(I.child===E.child){for(E=I.child;E;){if(E===g)return Zo(I),u;if(E===S)return Zo(I),f;E=E.sibling}throw Error(n(188))}if(g.return!==S.return)g=I,S=E;else{for(var j=!1,ne=I.child;ne;){if(ne===g){j=!0,g=I,S=E;break}if(ne===S){j=!0,S=I,g=E;break}ne=ne.sibling}if(!j){for(ne=E.child;ne;){if(ne===g){j=!0,g=E,S=I;break}if(ne===S){j=!0,S=E,g=I;break}ne=ne.sibling}if(!j)throw Error(n(189))}}if(g.alternate!==S)throw Error(n(190))}if(g.tag!==3)throw Error(n(188));return g.stateNode.current===g?u:f}function Ui(u){return u=Qo(u),u!==null?Jo(u):null}function Jo(u){if(u.tag===5||u.tag===6)return u;for(u=u.child;u!==null;){var f=Jo(u);if(f!==null)return f;u=u.sibling}return null}var As=e.unstable_scheduleCallback,La=e.unstable_cancelCallback,Hi=e.unstable_shouldYield,Gi=e.unstable_requestPaint,gn=e.unstable_now,nu=e.unstable_getCurrentPriorityLevel,Ds=e.unstable_ImmediatePriority,qi=e.unstable_UserBlockingPriority,Fs=e.unstable_NormalPriority,Ki=e.unstable_LowPriority,Wa=e.unstable_IdlePriority,os=null,Zr=null;function ru(u){if(Zr&&typeof Zr.onCommitFiberRoot=="function")try{Zr.onCommitFiberRoot(os,u,void 0,(u.current.flags&128)===128)}catch{}}var _r=Math.clz32?Math.clz32:ei,Xi=Math.log,oo=Math.LN2;function ei(u){return u>>>=0,u===0?32:31-(Xi(u)/oo|0)|0}var is=64,ka=4194304;function Gn(u){switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return u&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return u}}function Rs(u,f){var g=u.pendingLanes;if(g===0)return 0;var S=0,I=u.suspendedLanes,E=u.pingedLanes,j=g&268435455;if(j!==0){var ne=j&~I;ne!==0?S=Gn(ne):(E&=j,E!==0&&(S=Gn(E)))}else j=g&~I,j!==0?S=Gn(j):E!==0&&(S=Gn(E));if(S===0)return 0;if(f!==0&&f!==S&&!(f&I)&&(I=S&-S,E=f&-f,I>=E||I===16&&(E&4194240)!==0))return f;if(S&4&&(S|=g&16),f=u.entangledLanes,f!==0)for(u=u.entanglements,f&=S;0<f;)g=31-_r(f),I=1<<g,S|=u[g],f&=~I;return S}function au(u,f){switch(u){case 1:case 2:case 4:return f+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yi(u,f){for(var g=u.suspendedLanes,S=u.pingedLanes,I=u.expirationTimes,E=u.pendingLanes;0<E;){var j=31-_r(E),ne=1<<j,fe=I[j];fe===-1?(!(ne&g)||ne&S)&&(I[j]=au(ne,f)):fe<=f&&(u.expiredLanes|=ne),E&=~ne}}function io(u){return u=u.pendingLanes&-1073741825,u!==0?u:u&1073741824?1073741824:0}function vr(){var u=is;return is<<=1,!(is&4194240)&&(is=64),u}function $s(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Ir(u,f,g){u.pendingLanes|=f,f!==536870912&&(u.suspendedLanes=0,u.pingedLanes=0),u=u.eventTimes,f=31-_r(f),u[f]=g}function ti(u,f){var g=u.pendingLanes&~f;u.pendingLanes=f,u.suspendedLanes=0,u.pingedLanes=0,u.expiredLanes&=f,u.mutableReadLanes&=f,u.entangledLanes&=f,f=u.entanglements;var S=u.eventTimes;for(u=u.expirationTimes;0<g;){var I=31-_r(g),E=1<<I;f[I]=0,S[I]=-1,u[I]=-1,g&=~E}}function ls(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var S=31-_r(g),I=1<<S;I&f|u[S]&f&&(u[S]|=f),g&=~I}}var jt=0;function lo(u){return u&=-u,1<u?4<u?u&268435455?16:536870912:4:1}var us,Os,Ms,Ps,Bs,_a=!1,cs=[],Cr=null,Er=null,da=null,ee=new Map,ve=new Map,Be=[],pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bt(u,f){switch(u){case"focusin":case"focusout":Cr=null;break;case"dragenter":case"dragleave":Er=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":ee.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":ve.delete(f.pointerId)}}function vt(u,f,g,S,I,E){return u===null||u.nativeEvent!==E?(u={blockedOn:f,domEventName:g,eventSystemFlags:S,nativeEvent:E,targetContainers:[I]},f!==null&&(f=yu(f),f!==null&&Os(f)),u):(u.eventSystemFlags|=S,f=u.targetContainers,I!==null&&f.indexOf(I)===-1&&f.push(I),u)}function Ye(u,f,g,S,I){switch(f){case"focusin":return Cr=vt(Cr,u,f,g,S,I),!0;case"dragenter":return Er=vt(Er,u,f,g,S,I),!0;case"mouseover":return da=vt(da,u,f,g,S,I),!0;case"pointerover":var E=I.pointerId;return ee.set(E,vt(ee.get(E)||null,u,f,g,S,I)),!0;case"gotpointercapture":return E=I.pointerId,ve.set(E,vt(ve.get(E)||null,u,f,g,S,I)),!0}return!1}function rt(u){var f=ri(u.target);if(f!==null){var g=zn(f);if(g!==null){if(f=g.tag,f===13){if(f=ss(g),f!==null){u.blockedOn=f,Bs(u.priority,function(){Ms(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Xt(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=ou(u.domEventName,u.eventSystemFlags,f[0],u.nativeEvent);if(g===null){g=u.nativeEvent;var S=new g.constructor(g.type,g);Lr=S,g.target.dispatchEvent(S),Lr=null}else return f=yu(g),f!==null&&Os(f),u.blockedOn=g,!1;f.shift()}return!0}function lr(u,f,g){Xt(u)&&g.delete(f)}function fa(){_a=!1,Cr!==null&&Xt(Cr)&&(Cr=null),Er!==null&&Xt(Er)&&(Er=null),da!==null&&Xt(da)&&(da=null),ee.forEach(lr),ve.forEach(lr)}function ds(u,f){u.blockedOn===f&&(u.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fa)))}function ja(u){function f(I){return ds(I,u)}if(0<cs.length){ds(cs[0],u);for(var g=1;g<cs.length;g++){var S=cs[g];S.blockedOn===u&&(S.blockedOn=null)}}for(Cr!==null&&ds(Cr,u),Er!==null&&ds(Er,u),da!==null&&ds(da,u),ee.forEach(f),ve.forEach(f),g=0;g<Be.length;g++)S=Be[g],S.blockedOn===u&&(S.blockedOn=null);for(;0<Be.length&&(g=Be[0],g.blockedOn===null);)rt(g),g.blockedOn===null&&Be.shift()}var Va=C.ReactCurrentBatchConfig,Ln=!0;function fs(u,f,g,S){var I=jt,E=Va.transition;Va.transition=null;try{jt=1,su(u,f,g,S)}finally{jt=I,Va.transition=E}}function uo(u,f,g,S){var I=jt,E=Va.transition;Va.transition=null;try{jt=4,su(u,f,g,S)}finally{jt=I,Va.transition=E}}function su(u,f,g,S){if(Ln){var I=ou(u,f,g,S);if(I===null)fm(u,f,S,Zi,g),bt(u,S);else if(Ye(I,u,f,g,S))S.stopPropagation();else if(bt(u,S),f&4&&-1<pt.indexOf(u)){for(;I!==null;){var E=yu(I);if(E!==null&&us(E),E=ou(u,f,g,S),E===null&&fm(u,f,S,Zi,g),E===I)break;I=E}I!==null&&S.stopPropagation()}else fm(u,f,S,null,g)}}var Zi=null;function ou(u,f,g,S){if(Zi=null,u=ua(S),u=ri(u),u!==null)if(f=zn(u),f===null)u=null;else if(g=f.tag,g===13){if(u=ss(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null);return Zi=u,null}function ni(u){switch(u){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nu()){case Ds:return 1;case qi:return 4;case Fs:case Ki:return 16;case Wa:return 536870912;default:return 16}default:return 16}}var ps=null,iu=null,Qi=null;function lu(){if(Qi)return Qi;var u,f=iu,g=f.length,S,I="value"in ps?ps.value:ps.textContent,E=I.length;for(u=0;u<g&&f[u]===I[u];u++);var j=g-u;for(S=1;S<=j&&f[g-S]===I[E-S];S++);return Qi=I.slice(u,1<S?1-S:void 0)}function k(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function D(){return!0}function L(){return!1}function H(u){function f(g,S,I,E,j){this._reactName=g,this._targetInst=I,this.type=S,this.nativeEvent=E,this.target=j,this.currentTarget=null;for(var ne in u)u.hasOwnProperty(ne)&&(g=u[ne],this[ne]=g?g(E):E[ne]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?D:L,this.isPropagationStopped=L,this}return te(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!="unknown"&&(g.returnValue=!1),this.isDefaultPrevented=D)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!="unknown"&&(g.cancelBubble=!0),this.isPropagationStopped=D)},persist:function(){},isPersistent:D}),f}var re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},me=H(re),ie=te({},re,{view:0,detail:0}),Se=H(ie),Te,je,tt,yt=te({},ie,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tm,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==tt&&(tt&&u.type==="mousemove"?(Te=u.screenX-tt.screenX,je=u.screenY-tt.screenY):je=Te=0,tt=u),Te)},movementY:function(u){return"movementY"in u?u.movementY:je}}),xt=H(yt),ut=te({},yt,{dataTransfer:0}),Ct=H(ut),zt=te({},ie,{relatedTarget:0}),on=H(zt),un=te({},re,{animationName:0,elapsedTime:0,pseudoElement:0}),tr=H(un),Qr=te({},re,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Tr=H(Qr),Vt=te({},re,{data:0}),On=H(Vt),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tE(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=eE[u])?!!f[u]:!1}function tm(){return tE}var nE=te({},ie,{key:function(u){if(u.key){var f=hs[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=k(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?JC[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tm,charCode:function(u){return u.type==="keypress"?k(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?k(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),rE=H(nE),aE=te({},yt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h1=H(aE),sE=te({},ie,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tm}),oE=H(sE),iE=te({},re,{propertyName:0,elapsedTime:0,pseudoElement:0}),lE=H(iE),uE=te({},yt,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),cE=H(uE),dE=[9,13,27,32],nm=i&&"CompositionEvent"in window,uu=null;i&&"documentMode"in document&&(uu=document.documentMode);var fE=i&&"TextEvent"in window&&!uu,m1=i&&(!nm||uu&&8<uu&&11>=uu),g1=" ",v1=!1;function y1(u,f){switch(u){case"keyup":return dE.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b1(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Ji=!1;function pE(u,f){switch(u){case"compositionend":return b1(f);case"keypress":return f.which!==32?null:(v1=!0,g1);case"textInput":return u=f.data,u===g1&&v1?null:u;default:return null}}function hE(u,f){if(Ji)return u==="compositionend"||!nm&&y1(u,f)?(u=lu(),Qi=iu=ps=null,Ji=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return m1&&f.locale!=="ko"?null:f.data;default:return null}}var mE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function w1(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!mE[u.type]:f==="textarea"}function S1(u,f,g,S){ca(S),f=Bc(f,"onChange"),0<f.length&&(g=new me("onChange","change",null,g,S),u.push({event:g,listeners:f}))}var cu=null,du=null;function gE(u){z1(u,0)}function $c(u){var f=al(u);if(et(f))return u}function vE(u,f){if(u==="change")return f}var x1=!1;if(i){var rm;if(i){var am="oninput"in document;if(!am){var k1=document.createElement("div");k1.setAttribute("oninput","return;"),am=typeof k1.oninput=="function"}rm=am}else rm=!1;x1=rm&&(!document.documentMode||9<document.documentMode)}function _1(){cu&&(cu.detachEvent("onpropertychange",I1),du=cu=null)}function I1(u){if(u.propertyName==="value"&&$c(du)){var f=[];S1(f,du,u,ua(u)),qe(gE,f)}}function yE(u,f,g){u==="focusin"?(_1(),cu=f,du=g,cu.attachEvent("onpropertychange",I1)):u==="focusout"&&_1()}function bE(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return $c(du)}function wE(u,f){if(u==="click")return $c(f)}function SE(u,f){if(u==="input"||u==="change")return $c(f)}function xE(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var Ua=typeof Object.is=="function"?Object.is:xE;function fu(u,f){if(Ua(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var g=Object.keys(u),S=Object.keys(f);if(g.length!==S.length)return!1;for(S=0;S<g.length;S++){var I=g[S];if(!c.call(f,I)||!Ua(u[I],f[I]))return!1}return!0}function C1(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function E1(u,f){var g=C1(u);u=0;for(var S;g;){if(g.nodeType===3){if(S=u+g.textContent.length,u<=f&&S>=f)return{node:g,offset:f-u};u=S}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=C1(g)}}function T1(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?T1(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function N1(){for(var u=window,f=Qe();f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href=="string"}catch{g=!1}if(g)u=f.contentWindow;else break;f=Qe(u.document)}return f}function sm(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}function kE(u){var f=N1(),g=u.focusedElem,S=u.selectionRange;if(f!==g&&g&&g.ownerDocument&&T1(g.ownerDocument.documentElement,g)){if(S!==null&&sm(g)){if(f=S.start,u=S.end,u===void 0&&(u=f),"selectionStart"in g)g.selectionStart=f,g.selectionEnd=Math.min(u,g.value.length);else if(u=(f=g.ownerDocument||document)&&f.defaultView||window,u.getSelection){u=u.getSelection();var I=g.textContent.length,E=Math.min(S.start,I);S=S.end===void 0?E:Math.min(S.end,I),!u.extend&&E>S&&(I=S,S=E,E=I),I=E1(g,E);var j=E1(g,S);I&&j&&(u.rangeCount!==1||u.anchorNode!==I.node||u.anchorOffset!==I.offset||u.focusNode!==j.node||u.focusOffset!==j.offset)&&(f=f.createRange(),f.setStart(I.node,I.offset),u.removeAllRanges(),E>S?(u.addRange(f),u.extend(j.node,j.offset)):(f.setEnd(j.node,j.offset),u.addRange(f)))}}for(f=[],u=g;u=u.parentNode;)u.nodeType===1&&f.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<f.length;g++)u=f[g],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var _E=i&&"documentMode"in document&&11>=document.documentMode,el=null,om=null,pu=null,im=!1;function A1(u,f,g){var S=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;im||el==null||el!==Qe(S)||(S=el,"selectionStart"in S&&sm(S)?S={start:S.selectionStart,end:S.selectionEnd}:(S=(S.ownerDocument&&S.ownerDocument.defaultView||window).getSelection(),S={anchorNode:S.anchorNode,anchorOffset:S.anchorOffset,focusNode:S.focusNode,focusOffset:S.focusOffset}),pu&&fu(pu,S)||(pu=S,S=Bc(om,"onSelect"),0<S.length&&(f=new me("onSelect","select",null,f,g),u.push({event:f,listeners:S}),f.target=el)))}function Oc(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g["Webkit"+u]="webkit"+f,g["Moz"+u]="moz"+f,g}var tl={animationend:Oc("Animation","AnimationEnd"),animationiteration:Oc("Animation","AnimationIteration"),animationstart:Oc("Animation","AnimationStart"),transitionend:Oc("Transition","TransitionEnd")},lm={},D1={};i&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function Mc(u){if(lm[u])return lm[u];if(!tl[u])return u;var f=tl[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in D1)return lm[u]=f[g];return u}var F1=Mc("animationend"),R1=Mc("animationiteration"),$1=Mc("animationstart"),O1=Mc("transitionend"),M1=new Map,P1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function co(u,f){M1.set(u,f),s(f,[u])}for(var um=0;um<P1.length;um++){var cm=P1[um],IE=cm.toLowerCase(),CE=cm[0].toUpperCase()+cm.slice(1);co(IE,"on"+CE)}co(F1,"onAnimationEnd"),co(R1,"onAnimationIteration"),co($1,"onAnimationStart"),co("dblclick","onDoubleClick"),co("focusin","onFocus"),co("focusout","onBlur"),co(O1,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EE=new Set("cancel close invalid load scroll toggle".split(" ").concat(hu));function B1(u,f,g){var S=u.type||"unknown-event";u.currentTarget=g,$n(S,f,void 0,u),u.currentTarget=null}function z1(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var S=u[g],I=S.event;S=S.listeners;e:{var E=void 0;if(f)for(var j=S.length-1;0<=j;j--){var ne=S[j],fe=ne.instance,ke=ne.currentTarget;if(ne=ne.listener,fe!==E&&I.isPropagationStopped())break e;B1(I,ne,ke),E=fe}else for(j=0;j<S.length;j++){if(ne=S[j],fe=ne.instance,ke=ne.currentTarget,ne=ne.listener,fe!==E&&I.isPropagationStopped())break e;B1(I,ne,ke),E=fe}}}if(er)throw u=za,er=!1,za=null,u}function wn(u,f){var g=f[ym];g===void 0&&(g=f[ym]=new Set);var S=u+"__bubble";g.has(S)||(L1(f,u,2,!1),g.add(S))}function dm(u,f,g){var S=0;f&&(S|=4),L1(g,u,S,f)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function mu(u){if(!u[Pc]){u[Pc]=!0,r.forEach(function(g){g!=="selectionchange"&&(EE.has(g)||dm(g,!1,u),dm(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[Pc]||(f[Pc]=!0,dm("selectionchange",!1,f))}}function L1(u,f,g,S){switch(ni(f)){case 1:var I=fs;break;case 4:I=uo;break;default:I=su}g=I.bind(null,f,g,u),I=void 0,!Kt||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(I=!0),S?I!==void 0?u.addEventListener(f,g,{capture:!0,passive:I}):u.addEventListener(f,g,!0):I!==void 0?u.addEventListener(f,g,{passive:I}):u.addEventListener(f,g,!1)}function fm(u,f,g,S,I){var E=S;if(!(f&1)&&!(f&2)&&S!==null)e:for(;;){if(S===null)return;var j=S.tag;if(j===3||j===4){var ne=S.stateNode.containerInfo;if(ne===I||ne.nodeType===8&&ne.parentNode===I)break;if(j===4)for(j=S.return;j!==null;){var fe=j.tag;if((fe===3||fe===4)&&(fe=j.stateNode.containerInfo,fe===I||fe.nodeType===8&&fe.parentNode===I))return;j=j.return}for(;ne!==null;){if(j=ri(ne),j===null)return;if(fe=j.tag,fe===5||fe===6){S=E=j;continue e}ne=ne.parentNode}}S=S.return}qe(function(){var ke=E,ze=ua(g),We=[];e:{var Pe=M1.get(u);if(Pe!==void 0){var Je=me,st=u;switch(u){case"keypress":if(k(g)===0)break e;case"keydown":case"keyup":Je=rE;break;case"focusin":st="focus",Je=on;break;case"focusout":st="blur",Je=on;break;case"beforeblur":case"afterblur":Je=on;break;case"click":if(g.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Je=xt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Je=Ct;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Je=oE;break;case F1:case R1:case $1:Je=tr;break;case O1:Je=lE;break;case"scroll":Je=Se;break;case"wheel":Je=cE;break;case"copy":case"cut":case"paste":Je=Tr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Je=h1}var lt=(f&4)!==0,Wn=!lt&&u==="scroll",ye=lt?Pe!==null?Pe+"Capture":null:Pe;lt=[];for(var he=ke,we;he!==null;){we=he;var Ue=we.stateNode;if(we.tag===5&&Ue!==null&&(we=Ue,ye!==null&&(Ue=Bt(he,ye),Ue!=null&&lt.push(gu(he,Ue,we)))),Wn)break;he=he.return}0<lt.length&&(Pe=new Je(Pe,st,null,g,ze),We.push({event:Pe,listeners:lt}))}}if(!(f&7)){e:{if(Pe=u==="mouseover"||u==="pointerover",Je=u==="mouseout"||u==="pointerout",Pe&&g!==Lr&&(st=g.relatedTarget||g.fromElement)&&(ri(st)||st[zs]))break e;if((Je||Pe)&&(Pe=ze.window===ze?ze:(Pe=ze.ownerDocument)?Pe.defaultView||Pe.parentWindow:window,Je?(st=g.relatedTarget||g.toElement,Je=ke,st=st?ri(st):null,st!==null&&(Wn=zn(st),st!==Wn||st.tag!==5&&st.tag!==6)&&(st=null)):(Je=null,st=ke),Je!==st)){if(lt=xt,Ue="onMouseLeave",ye="onMouseEnter",he="mouse",(u==="pointerout"||u==="pointerover")&&(lt=h1,Ue="onPointerLeave",ye="onPointerEnter",he="pointer"),Wn=Je==null?Pe:al(Je),we=st==null?Pe:al(st),Pe=new lt(Ue,he+"leave",Je,g,ze),Pe.target=Wn,Pe.relatedTarget=we,Ue=null,ri(ze)===ke&&(lt=new lt(ye,he+"enter",st,g,ze),lt.target=we,lt.relatedTarget=Wn,Ue=lt),Wn=Ue,Je&&st)t:{for(lt=Je,ye=st,he=0,we=lt;we;we=nl(we))he++;for(we=0,Ue=ye;Ue;Ue=nl(Ue))we++;for(;0<he-we;)lt=nl(lt),he--;for(;0<we-he;)ye=nl(ye),we--;for(;he--;){if(lt===ye||ye!==null&&lt===ye.alternate)break t;lt=nl(lt),ye=nl(ye)}lt=null}else lt=null;Je!==null&&W1(We,Pe,Je,lt,!1),st!==null&&Wn!==null&&W1(We,Wn,st,lt,!0)}}e:{if(Pe=ke?al(ke):window,Je=Pe.nodeName&&Pe.nodeName.toLowerCase(),Je==="select"||Je==="input"&&Pe.type==="file")var ct=vE;else if(w1(Pe))if(x1)ct=SE;else{ct=bE;var mt=yE}else(Je=Pe.nodeName)&&Je.toLowerCase()==="input"&&(Pe.type==="checkbox"||Pe.type==="radio")&&(ct=wE);if(ct&&(ct=ct(u,ke))){S1(We,ct,g,ze);break e}mt&&mt(u,Pe,ke),u==="focusout"&&(mt=Pe._wrapperState)&&mt.controlled&&Pe.type==="number"&&ce(Pe,"number",Pe.value)}switch(mt=ke?al(ke):window,u){case"focusin":(w1(mt)||mt.contentEditable==="true")&&(el=mt,om=ke,pu=null);break;case"focusout":pu=om=el=null;break;case"mousedown":im=!0;break;case"contextmenu":case"mouseup":case"dragend":im=!1,A1(We,g,ze);break;case"selectionchange":if(_E)break;case"keydown":case"keyup":A1(We,g,ze)}var gt;if(nm)e:{switch(u){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else Ji?y1(u,g)&&(_t="onCompositionEnd"):u==="keydown"&&g.keyCode===229&&(_t="onCompositionStart");_t&&(m1&&g.locale!=="ko"&&(Ji||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&Ji&&(gt=lu()):(ps=ze,iu="value"in ps?ps.value:ps.textContent,Ji=!0)),mt=Bc(ke,_t),0<mt.length&&(_t=new On(_t,u,null,g,ze),We.push({event:_t,listeners:mt}),gt?_t.data=gt:(gt=b1(g),gt!==null&&(_t.data=gt)))),(gt=fE?pE(u,g):hE(u,g))&&(ke=Bc(ke,"onBeforeInput"),0<ke.length&&(ze=new On("onBeforeInput","beforeinput",null,g,ze),We.push({event:ze,listeners:ke}),ze.data=gt))}z1(We,f)})}function gu(u,f,g){return{instance:u,listener:f,currentTarget:g}}function Bc(u,f){for(var g=f+"Capture",S=[];u!==null;){var I=u,E=I.stateNode;I.tag===5&&E!==null&&(I=E,E=Bt(u,g),E!=null&&S.unshift(gu(u,E,I)),E=Bt(u,f),E!=null&&S.push(gu(u,E,I))),u=u.return}return S}function nl(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5);return u||null}function W1(u,f,g,S,I){for(var E=f._reactName,j=[];g!==null&&g!==S;){var ne=g,fe=ne.alternate,ke=ne.stateNode;if(fe!==null&&fe===S)break;ne.tag===5&&ke!==null&&(ne=ke,I?(fe=Bt(g,E),fe!=null&&j.unshift(gu(g,fe,ne))):I||(fe=Bt(g,E),fe!=null&&j.push(gu(g,fe,ne)))),g=g.return}j.length!==0&&u.push({event:f,listeners:j})}var TE=/\r\n?/g,NE=/\u0000|\uFFFD/g;function j1(u){return(typeof u=="string"?u:""+u).replace(TE,`
`).replace(NE,"")}function zc(u,f,g){if(f=j1(f),j1(u)!==f&&g)throw Error(n(425))}function Lc(){}var pm=null,hm=null;function mm(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var gm=typeof setTimeout=="function"?setTimeout:void 0,AE=typeof clearTimeout=="function"?clearTimeout:void 0,V1=typeof Promise=="function"?Promise:void 0,DE=typeof queueMicrotask=="function"?queueMicrotask:typeof V1<"u"?function(u){return V1.resolve(null).then(u).catch(FE)}:gm;function FE(u){setTimeout(function(){throw u})}function vm(u,f){var g=f,S=0;do{var I=g.nextSibling;if(u.removeChild(g),I&&I.nodeType===8)if(g=I.data,g==="/$"){if(S===0){u.removeChild(I),ja(f);return}S--}else g!=="$"&&g!=="$?"&&g!=="$!"||S++;g=I}while(g);ja(f)}function fo(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?")break;if(f==="/$")return null}}return u}function U1(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="$"||g==="$!"||g==="$?"){if(f===0)return u;f--}else g==="/$"&&f++}u=u.previousSibling}return null}var rl=Math.random().toString(36).slice(2),ms="__reactFiber$"+rl,vu="__reactProps$"+rl,zs="__reactContainer$"+rl,ym="__reactEvents$"+rl,RE="__reactListeners$"+rl,$E="__reactHandles$"+rl;function ri(u){var f=u[ms];if(f)return f;for(var g=u.parentNode;g;){if(f=g[zs]||g[ms]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=U1(u);u!==null;){if(g=u[ms])return g;u=U1(u)}return f}u=g,g=u.parentNode}return null}function yu(u){return u=u[ms]||u[zs],!u||u.tag!==5&&u.tag!==6&&u.tag!==13&&u.tag!==3?null:u}function al(u){if(u.tag===5||u.tag===6)return u.stateNode;throw Error(n(33))}function Wc(u){return u[vu]||null}var bm=[],sl=-1;function po(u){return{current:u}}function Sn(u){0>sl||(u.current=bm[sl],bm[sl]=null,sl--)}function vn(u,f){sl++,bm[sl]=u.current,u.current=f}var ho={},Nr=po(ho),Jr=po(!1),ai=ho;function ol(u,f){var g=u.type.contextTypes;if(!g)return ho;var S=u.stateNode;if(S&&S.__reactInternalMemoizedUnmaskedChildContext===f)return S.__reactInternalMemoizedMaskedChildContext;var I={},E;for(E in g)I[E]=f[E];return S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=f,u.__reactInternalMemoizedMaskedChildContext=I),I}function ea(u){return u=u.childContextTypes,u!=null}function jc(){Sn(Jr),Sn(Nr)}function H1(u,f,g){if(Nr.current!==ho)throw Error(n(168));vn(Nr,f),vn(Jr,g)}function G1(u,f,g){var S=u.stateNode;if(f=f.childContextTypes,typeof S.getChildContext!="function")return g;S=S.getChildContext();for(var I in S)if(!(I in f))throw Error(n(108,Re(u)||"Unknown",I));return te({},g,S)}function Vc(u){return u=(u=u.stateNode)&&u.__reactInternalMemoizedMergedChildContext||ho,ai=Nr.current,vn(Nr,u),vn(Jr,Jr.current),!0}function q1(u,f,g){var S=u.stateNode;if(!S)throw Error(n(169));g?(u=G1(u,f,ai),S.__reactInternalMemoizedMergedChildContext=u,Sn(Jr),Sn(Nr),vn(Nr,u)):Sn(Jr),vn(Jr,g)}var Ls=null,Uc=!1,wm=!1;function K1(u){Ls===null?Ls=[u]:Ls.push(u)}function OE(u){Uc=!0,K1(u)}function mo(){if(!wm&&Ls!==null){wm=!0;var u=0,f=jt;try{var g=Ls;for(jt=1;u<g.length;u++){var S=g[u];do S=S(!0);while(S!==null)}Ls=null,Uc=!1}catch(I){throw Ls!==null&&(Ls=Ls.slice(u+1)),As(Ds,mo),I}finally{jt=f,wm=!1}}return null}var il=[],ll=0,Hc=null,Gc=0,Ia=[],Ca=0,si=null,Ws=1,js="";function oi(u,f){il[ll++]=Gc,il[ll++]=Hc,Hc=u,Gc=f}function X1(u,f,g){Ia[Ca++]=Ws,Ia[Ca++]=js,Ia[Ca++]=si,si=u;var S=Ws;u=js;var I=32-_r(S)-1;S&=~(1<<I),g+=1;var E=32-_r(f)+I;if(30<E){var j=I-I%5;E=(S&(1<<j)-1).toString(32),S>>=j,I-=j,Ws=1<<32-_r(f)+I|g<<I|S,js=E+u}else Ws=1<<E|g<<I|S,js=u}function Sm(u){u.return!==null&&(oi(u,1),X1(u,1,0))}function xm(u){for(;u===Hc;)Hc=il[--ll],il[ll]=null,Gc=il[--ll],il[ll]=null;for(;u===si;)si=Ia[--Ca],Ia[Ca]=null,js=Ia[--Ca],Ia[Ca]=null,Ws=Ia[--Ca],Ia[Ca]=null}var pa=null,ha=null,kn=!1,Ha=null;function Y1(u,f){var g=Aa(5,null,null,0);g.elementType="DELETED",g.stateNode=f,g.return=u,f=u.deletions,f===null?(u.deletions=[g],u.flags|=16):f.push(g)}function Z1(u,f){switch(u.tag){case 5:var g=u.type;return f=f.nodeType!==1||g.toLowerCase()!==f.nodeName.toLowerCase()?null:f,f!==null?(u.stateNode=f,pa=u,ha=fo(f.firstChild),!0):!1;case 6:return f=u.pendingProps===""||f.nodeType!==3?null:f,f!==null?(u.stateNode=f,pa=u,ha=null,!0):!1;case 13:return f=f.nodeType!==8?null:f,f!==null?(g=si!==null?{id:Ws,overflow:js}:null,u.memoizedState={dehydrated:f,treeContext:g,retryLane:1073741824},g=Aa(18,null,null,0),g.stateNode=f,g.return=u,u.child=g,pa=u,ha=null,!0):!1;default:return!1}}function km(u){return(u.mode&1)!==0&&(u.flags&128)===0}function _m(u){if(kn){var f=ha;if(f){var g=f;if(!Z1(u,f)){if(km(u))throw Error(n(418));f=fo(g.nextSibling);var S=pa;f&&Z1(u,f)?Y1(S,g):(u.flags=u.flags&-4097|2,kn=!1,pa=u)}}else{if(km(u))throw Error(n(418));u.flags=u.flags&-4097|2,kn=!1,pa=u}}}function Q1(u){for(u=u.return;u!==null&&u.tag!==5&&u.tag!==3&&u.tag!==13;)u=u.return;pa=u}function qc(u){if(u!==pa)return!1;if(!kn)return Q1(u),kn=!0,!1;var f;if((f=u.tag!==3)&&!(f=u.tag!==5)&&(f=u.type,f=f!=="head"&&f!=="body"&&!mm(u.type,u.memoizedProps)),f&&(f=ha)){if(km(u))throw J1(),Error(n(418));for(;f;)Y1(u,f),f=fo(f.nextSibling)}if(Q1(u),u.tag===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));e:{for(u=u.nextSibling,f=0;u;){if(u.nodeType===8){var g=u.data;if(g==="/$"){if(f===0){ha=fo(u.nextSibling);break e}f--}else g!=="$"&&g!=="$!"&&g!=="$?"||f++}u=u.nextSibling}ha=null}}else ha=pa?fo(u.stateNode.nextSibling):null;return!0}function J1(){for(var u=ha;u;)u=fo(u.nextSibling)}function ul(){ha=pa=null,kn=!1}function Im(u){Ha===null?Ha=[u]:Ha.push(u)}var ME=C.ReactCurrentBatchConfig;function bu(u,f,g){if(u=g.ref,u!==null&&typeof u!="function"&&typeof u!="object"){if(g._owner){if(g=g._owner,g){if(g.tag!==1)throw Error(n(309));var S=g.stateNode}if(!S)throw Error(n(147,u));var I=S,E=""+u;return f!==null&&f.ref!==null&&typeof f.ref=="function"&&f.ref._stringRef===E?f.ref:(f=function(j){var ne=I.refs;j===null?delete ne[E]:ne[E]=j},f._stringRef=E,f)}if(typeof u!="string")throw Error(n(284));if(!g._owner)throw Error(n(290,u))}return u}function Kc(u,f){throw u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u))}function eb(u){var f=u._init;return f(u._payload)}function tb(u){function f(ye,he){if(u){var we=ye.deletions;we===null?(ye.deletions=[he],ye.flags|=16):we.push(he)}}function g(ye,he){if(!u)return null;for(;he!==null;)f(ye,he),he=he.sibling;return null}function S(ye,he){for(ye=new Map;he!==null;)he.key!==null?ye.set(he.key,he):ye.set(he.index,he),he=he.sibling;return ye}function I(ye,he){return ye=ko(ye,he),ye.index=0,ye.sibling=null,ye}function E(ye,he,we){return ye.index=we,u?(we=ye.alternate,we!==null?(we=we.index,we<he?(ye.flags|=2,he):we):(ye.flags|=2,he)):(ye.flags|=1048576,he)}function j(ye){return u&&ye.alternate===null&&(ye.flags|=2),ye}function ne(ye,he,we,Ue){return he===null||he.tag!==6?(he=gg(we,ye.mode,Ue),he.return=ye,he):(he=I(he,we),he.return=ye,he)}function fe(ye,he,we,Ue){var ct=we.type;return ct===M?ze(ye,he,we.props.children,Ue,we.key):he!==null&&(he.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ae&&eb(ct)===he.type)?(Ue=I(he,we.props),Ue.ref=bu(ye,he,we),Ue.return=ye,Ue):(Ue=yd(we.type,we.key,we.props,null,ye.mode,Ue),Ue.ref=bu(ye,he,we),Ue.return=ye,Ue)}function ke(ye,he,we,Ue){return he===null||he.tag!==4||he.stateNode.containerInfo!==we.containerInfo||he.stateNode.implementation!==we.implementation?(he=vg(we,ye.mode,Ue),he.return=ye,he):(he=I(he,we.children||[]),he.return=ye,he)}function ze(ye,he,we,Ue,ct){return he===null||he.tag!==7?(he=hi(we,ye.mode,Ue,ct),he.return=ye,he):(he=I(he,we),he.return=ye,he)}function We(ye,he,we){if(typeof he=="string"&&he!==""||typeof he=="number")return he=gg(""+he,ye.mode,we),he.return=ye,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case T:return we=yd(he.type,he.key,he.props,null,ye.mode,we),we.ref=bu(ye,null,he),we.return=ye,we;case R:return he=vg(he,ye.mode,we),he.return=ye,he;case ae:var Ue=he._init;return We(ye,Ue(he._payload),we)}if(_e(he)||Y(he))return he=hi(he,ye.mode,we,null),he.return=ye,he;Kc(ye,he)}return null}function Pe(ye,he,we,Ue){var ct=he!==null?he.key:null;if(typeof we=="string"&&we!==""||typeof we=="number")return ct!==null?null:ne(ye,he,""+we,Ue);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case T:return we.key===ct?fe(ye,he,we,Ue):null;case R:return we.key===ct?ke(ye,he,we,Ue):null;case ae:return ct=we._init,Pe(ye,he,ct(we._payload),Ue)}if(_e(we)||Y(we))return ct!==null?null:ze(ye,he,we,Ue,null);Kc(ye,we)}return null}function Je(ye,he,we,Ue,ct){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number")return ye=ye.get(we)||null,ne(he,ye,""+Ue,ct);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case T:return ye=ye.get(Ue.key===null?we:Ue.key)||null,fe(he,ye,Ue,ct);case R:return ye=ye.get(Ue.key===null?we:Ue.key)||null,ke(he,ye,Ue,ct);case ae:var mt=Ue._init;return Je(ye,he,we,mt(Ue._payload),ct)}if(_e(Ue)||Y(Ue))return ye=ye.get(we)||null,ze(he,ye,Ue,ct,null);Kc(he,Ue)}return null}function st(ye,he,we,Ue){for(var ct=null,mt=null,gt=he,_t=he=0,dr=null;gt!==null&&_t<we.length;_t++){gt.index>_t?(dr=gt,gt=null):dr=gt.sibling;var Yt=Pe(ye,gt,we[_t],Ue);if(Yt===null){gt===null&&(gt=dr);break}u&&gt&&Yt.alternate===null&&f(ye,gt),he=E(Yt,he,_t),mt===null?ct=Yt:mt.sibling=Yt,mt=Yt,gt=dr}if(_t===we.length)return g(ye,gt),kn&&oi(ye,_t),ct;if(gt===null){for(;_t<we.length;_t++)gt=We(ye,we[_t],Ue),gt!==null&&(he=E(gt,he,_t),mt===null?ct=gt:mt.sibling=gt,mt=gt);return kn&&oi(ye,_t),ct}for(gt=S(ye,gt);_t<we.length;_t++)dr=Je(gt,ye,_t,we[_t],Ue),dr!==null&&(u&&dr.alternate!==null&&gt.delete(dr.key===null?_t:dr.key),he=E(dr,he,_t),mt===null?ct=dr:mt.sibling=dr,mt=dr);return u&&gt.forEach(function(_o){return f(ye,_o)}),kn&&oi(ye,_t),ct}function lt(ye,he,we,Ue){var ct=Y(we);if(typeof ct!="function")throw Error(n(150));if(we=ct.call(we),we==null)throw Error(n(151));for(var mt=ct=null,gt=he,_t=he=0,dr=null,Yt=we.next();gt!==null&&!Yt.done;_t++,Yt=we.next()){gt.index>_t?(dr=gt,gt=null):dr=gt.sibling;var _o=Pe(ye,gt,Yt.value,Ue);if(_o===null){gt===null&&(gt=dr);break}u&&gt&&_o.alternate===null&&f(ye,gt),he=E(_o,he,_t),mt===null?ct=_o:mt.sibling=_o,mt=_o,gt=dr}if(Yt.done)return g(ye,gt),kn&&oi(ye,_t),ct;if(gt===null){for(;!Yt.done;_t++,Yt=we.next())Yt=We(ye,Yt.value,Ue),Yt!==null&&(he=E(Yt,he,_t),mt===null?ct=Yt:mt.sibling=Yt,mt=Yt);return kn&&oi(ye,_t),ct}for(gt=S(ye,gt);!Yt.done;_t++,Yt=we.next())Yt=Je(gt,ye,_t,Yt.value,Ue),Yt!==null&&(u&&Yt.alternate!==null&&gt.delete(Yt.key===null?_t:Yt.key),he=E(Yt,he,_t),mt===null?ct=Yt:mt.sibling=Yt,mt=Yt);return u&&gt.forEach(function(m4){return f(ye,m4)}),kn&&oi(ye,_t),ct}function Wn(ye,he,we,Ue){if(typeof we=="object"&&we!==null&&we.type===M&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case T:e:{for(var ct=we.key,mt=he;mt!==null;){if(mt.key===ct){if(ct=we.type,ct===M){if(mt.tag===7){g(ye,mt.sibling),he=I(mt,we.props.children),he.return=ye,ye=he;break e}}else if(mt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===ae&&eb(ct)===mt.type){g(ye,mt.sibling),he=I(mt,we.props),he.ref=bu(ye,mt,we),he.return=ye,ye=he;break e}g(ye,mt);break}else f(ye,mt);mt=mt.sibling}we.type===M?(he=hi(we.props.children,ye.mode,Ue,we.key),he.return=ye,ye=he):(Ue=yd(we.type,we.key,we.props,null,ye.mode,Ue),Ue.ref=bu(ye,he,we),Ue.return=ye,ye=Ue)}return j(ye);case R:e:{for(mt=we.key;he!==null;){if(he.key===mt)if(he.tag===4&&he.stateNode.containerInfo===we.containerInfo&&he.stateNode.implementation===we.implementation){g(ye,he.sibling),he=I(he,we.children||[]),he.return=ye,ye=he;break e}else{g(ye,he);break}else f(ye,he);he=he.sibling}he=vg(we,ye.mode,Ue),he.return=ye,ye=he}return j(ye);case ae:return mt=we._init,Wn(ye,he,mt(we._payload),Ue)}if(_e(we))return st(ye,he,we,Ue);if(Y(we))return lt(ye,he,we,Ue);Kc(ye,we)}return typeof we=="string"&&we!==""||typeof we=="number"?(we=""+we,he!==null&&he.tag===6?(g(ye,he.sibling),he=I(he,we),he.return=ye,ye=he):(g(ye,he),he=gg(we,ye.mode,Ue),he.return=ye,ye=he),j(ye)):g(ye,he)}return Wn}var cl=tb(!0),nb=tb(!1),Xc=po(null),Yc=null,dl=null,Cm=null;function Em(){Cm=dl=Yc=null}function Tm(u){var f=Xc.current;Sn(Xc),u._currentValue=f}function Nm(u,f,g){for(;u!==null;){var S=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,S!==null&&(S.childLanes|=f)):S!==null&&(S.childLanes&f)!==f&&(S.childLanes|=f),u===g)break;u=u.return}}function fl(u,f){Yc=u,Cm=dl=null,u=u.dependencies,u!==null&&u.firstContext!==null&&(u.lanes&f&&(ta=!0),u.firstContext=null)}function Ea(u){var f=u._currentValue;if(Cm!==u)if(u={context:u,memoizedValue:f,next:null},dl===null){if(Yc===null)throw Error(n(308));dl=u,Yc.dependencies={lanes:0,firstContext:u}}else dl=dl.next=u;return f}var ii=null;function Am(u){ii===null?ii=[u]:ii.push(u)}function rb(u,f,g,S){var I=f.interleaved;return I===null?(g.next=g,Am(f)):(g.next=I.next,I.next=g),f.interleaved=g,Vs(u,S)}function Vs(u,f){u.lanes|=f;var g=u.alternate;for(g!==null&&(g.lanes|=f),g=u,u=u.return;u!==null;)u.childLanes|=f,g=u.alternate,g!==null&&(g.childLanes|=f),g=u,u=u.return;return g.tag===3?g.stateNode:null}var go=!1;function Dm(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ab(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,effects:u.effects})}function Us(u,f){return{eventTime:u,lane:f,tag:0,payload:null,callback:null,next:null}}function vo(u,f,g){var S=u.updateQueue;if(S===null)return null;if(S=S.shared,Gt&2){var I=S.pending;return I===null?f.next=f:(f.next=I.next,I.next=f),S.pending=f,Vs(u,g)}return I=S.interleaved,I===null?(f.next=f,Am(S)):(f.next=I.next,I.next=f),S.interleaved=f,Vs(u,g)}function Zc(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194240)!==0)){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,ls(u,g)}}function sb(u,f){var g=u.updateQueue,S=u.alternate;if(S!==null&&(S=S.updateQueue,g===S)){var I=null,E=null;if(g=g.firstBaseUpdate,g!==null){do{var j={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};E===null?I=E=j:E=E.next=j,g=g.next}while(g!==null);E===null?I=E=f:E=E.next=f}else I=E=f;g={baseState:S.baseState,firstBaseUpdate:I,lastBaseUpdate:E,shared:S.shared,effects:S.effects},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}function Qc(u,f,g,S){var I=u.updateQueue;go=!1;var E=I.firstBaseUpdate,j=I.lastBaseUpdate,ne=I.shared.pending;if(ne!==null){I.shared.pending=null;var fe=ne,ke=fe.next;fe.next=null,j===null?E=ke:j.next=ke,j=fe;var ze=u.alternate;ze!==null&&(ze=ze.updateQueue,ne=ze.lastBaseUpdate,ne!==j&&(ne===null?ze.firstBaseUpdate=ke:ne.next=ke,ze.lastBaseUpdate=fe))}if(E!==null){var We=I.baseState;j=0,ze=ke=fe=null,ne=E;do{var Pe=ne.lane,Je=ne.eventTime;if((S&Pe)===Pe){ze!==null&&(ze=ze.next={eventTime:Je,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var st=u,lt=ne;switch(Pe=f,Je=g,lt.tag){case 1:if(st=lt.payload,typeof st=="function"){We=st.call(Je,We,Pe);break e}We=st;break e;case 3:st.flags=st.flags&-65537|128;case 0:if(st=lt.payload,Pe=typeof st=="function"?st.call(Je,We,Pe):st,Pe==null)break e;We=te({},We,Pe);break e;case 2:go=!0}}ne.callback!==null&&ne.lane!==0&&(u.flags|=64,Pe=I.effects,Pe===null?I.effects=[ne]:Pe.push(ne))}else Je={eventTime:Je,lane:Pe,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},ze===null?(ke=ze=Je,fe=We):ze=ze.next=Je,j|=Pe;if(ne=ne.next,ne===null){if(ne=I.shared.pending,ne===null)break;Pe=ne,ne=Pe.next,Pe.next=null,I.lastBaseUpdate=Pe,I.shared.pending=null}}while(!0);if(ze===null&&(fe=We),I.baseState=fe,I.firstBaseUpdate=ke,I.lastBaseUpdate=ze,f=I.shared.interleaved,f!==null){I=f;do j|=I.lane,I=I.next;while(I!==f)}else E===null&&(I.shared.lanes=0);ci|=j,u.lanes=j,u.memoizedState=We}}function ob(u,f,g){if(u=f.effects,f.effects=null,u!==null)for(f=0;f<u.length;f++){var S=u[f],I=S.callback;if(I!==null){if(S.callback=null,S=g,typeof I!="function")throw Error(n(191,I));I.call(S)}}}var wu={},gs=po(wu),Su=po(wu),xu=po(wu);function li(u){if(u===wu)throw Error(n(174));return u}function Fm(u,f){switch(vn(xu,f),vn(Su,u),vn(gs,wu),u=f.nodeType,u){case 9:case 11:f=(f=f.documentElement)?f.namespaceURI:ft(null,"");break;default:u=u===8?f.parentNode:f,f=u.namespaceURI||null,u=u.tagName,f=ft(f,u)}Sn(gs),vn(gs,f)}function pl(){Sn(gs),Sn(Su),Sn(xu)}function ib(u){li(xu.current);var f=li(gs.current),g=ft(f,u.type);f!==g&&(vn(Su,u),vn(gs,g))}function Rm(u){Su.current===u&&(Sn(gs),Sn(Su))}var Tn=po(0);function Jc(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||g.data==="$?"||g.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var $m=[];function Om(){for(var u=0;u<$m.length;u++)$m[u]._workInProgressVersionPrimary=null;$m.length=0}var ed=C.ReactCurrentDispatcher,Mm=C.ReactCurrentBatchConfig,ui=0,Nn=null,nr=null,ur=null,td=!1,ku=!1,_u=0,PE=0;function Ar(){throw Error(n(321))}function Pm(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!Ua(u[g],f[g]))return!1;return!0}function Bm(u,f,g,S,I,E){if(ui=E,Nn=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,ed.current=u===null||u.memoizedState===null?WE:jE,u=g(S,I),ku){E=0;do{if(ku=!1,_u=0,25<=E)throw Error(n(301));E+=1,ur=nr=null,f.updateQueue=null,ed.current=VE,u=g(S,I)}while(ku)}if(ed.current=ad,f=nr!==null&&nr.next!==null,ui=0,ur=nr=Nn=null,td=!1,f)throw Error(n(300));return u}function zm(){var u=_u!==0;return _u=0,u}function vs(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ur===null?Nn.memoizedState=ur=u:ur=ur.next=u,ur}function Ta(){if(nr===null){var u=Nn.alternate;u=u!==null?u.memoizedState:null}else u=nr.next;var f=ur===null?Nn.memoizedState:ur.next;if(f!==null)ur=f,nr=u;else{if(u===null)throw Error(n(310));nr=u,u={memoizedState:nr.memoizedState,baseState:nr.baseState,baseQueue:nr.baseQueue,queue:nr.queue,next:null},ur===null?Nn.memoizedState=ur=u:ur=ur.next=u}return ur}function Iu(u,f){return typeof f=="function"?f(u):f}function Lm(u){var f=Ta(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var S=nr,I=S.baseQueue,E=g.pending;if(E!==null){if(I!==null){var j=I.next;I.next=E.next,E.next=j}S.baseQueue=I=E,g.pending=null}if(I!==null){E=I.next,S=S.baseState;var ne=j=null,fe=null,ke=E;do{var ze=ke.lane;if((ui&ze)===ze)fe!==null&&(fe=fe.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),S=ke.hasEagerState?ke.eagerState:u(S,ke.action);else{var We={lane:ze,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};fe===null?(ne=fe=We,j=S):fe=fe.next=We,Nn.lanes|=ze,ci|=ze}ke=ke.next}while(ke!==null&&ke!==E);fe===null?j=S:fe.next=ne,Ua(S,f.memoizedState)||(ta=!0),f.memoizedState=S,f.baseState=j,f.baseQueue=fe,g.lastRenderedState=S}if(u=g.interleaved,u!==null){I=u;do E=I.lane,Nn.lanes|=E,ci|=E,I=I.next;while(I!==u)}else I===null&&(g.lanes=0);return[f.memoizedState,g.dispatch]}function Wm(u){var f=Ta(),g=f.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=u;var S=g.dispatch,I=g.pending,E=f.memoizedState;if(I!==null){g.pending=null;var j=I=I.next;do E=u(E,j.action),j=j.next;while(j!==I);Ua(E,f.memoizedState)||(ta=!0),f.memoizedState=E,f.baseQueue===null&&(f.baseState=E),g.lastRenderedState=E}return[E,S]}function lb(){}function ub(u,f){var g=Nn,S=Ta(),I=f(),E=!Ua(S.memoizedState,I);if(E&&(S.memoizedState=I,ta=!0),S=S.queue,jm(fb.bind(null,g,S,u),[u]),S.getSnapshot!==f||E||ur!==null&&ur.memoizedState.tag&1){if(g.flags|=2048,Cu(9,db.bind(null,g,S,I,f),void 0,null),cr===null)throw Error(n(349));ui&30||cb(g,f,I)}return I}function cb(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=Nn.updateQueue,f===null?(f={lastEffect:null,stores:null},Nn.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function db(u,f,g,S){f.value=g,f.getSnapshot=S,pb(f)&&hb(u)}function fb(u,f,g){return g(function(){pb(f)&&hb(u)})}function pb(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!Ua(u,g)}catch{return!0}}function hb(u){var f=Vs(u,1);f!==null&&Xa(f,u,1,-1)}function mb(u){var f=vs();return typeof u=="function"&&(u=u()),f.memoizedState=f.baseState=u,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iu,lastRenderedState:u},f.queue=u,u=u.dispatch=LE.bind(null,Nn,u),[f.memoizedState,u]}function Cu(u,f,g,S){return u={tag:u,create:f,destroy:g,deps:S,next:null},f=Nn.updateQueue,f===null?(f={lastEffect:null,stores:null},Nn.updateQueue=f,f.lastEffect=u.next=u):(g=f.lastEffect,g===null?f.lastEffect=u.next=u:(S=g.next,g.next=u,u.next=S,f.lastEffect=u)),u}function gb(){return Ta().memoizedState}function nd(u,f,g,S){var I=vs();Nn.flags|=u,I.memoizedState=Cu(1|f,g,void 0,S===void 0?null:S)}function rd(u,f,g,S){var I=Ta();S=S===void 0?null:S;var E=void 0;if(nr!==null){var j=nr.memoizedState;if(E=j.destroy,S!==null&&Pm(S,j.deps)){I.memoizedState=Cu(f,g,E,S);return}}Nn.flags|=u,I.memoizedState=Cu(1|f,g,E,S)}function vb(u,f){return nd(8390656,8,u,f)}function jm(u,f){return rd(2048,8,u,f)}function yb(u,f){return rd(4,2,u,f)}function bb(u,f){return rd(4,4,u,f)}function wb(u,f){if(typeof f=="function")return u=u(),f(u),function(){f(null)};if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function Sb(u,f,g){return g=g!=null?g.concat([u]):null,rd(4,4,wb.bind(null,f,u),g)}function Vm(){}function xb(u,f){var g=Ta();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&Pm(f,S[1])?S[0]:(g.memoizedState=[u,f],u)}function kb(u,f){var g=Ta();f=f===void 0?null:f;var S=g.memoizedState;return S!==null&&f!==null&&Pm(f,S[1])?S[0]:(u=u(),g.memoizedState=[u,f],u)}function _b(u,f,g){return ui&21?(Ua(g,f)||(g=vr(),Nn.lanes|=g,ci|=g,u.baseState=!0),f):(u.baseState&&(u.baseState=!1,ta=!0),u.memoizedState=g)}function BE(u,f){var g=jt;jt=g!==0&&4>g?g:4,u(!0);var S=Mm.transition;Mm.transition={};try{u(!1),f()}finally{jt=g,Mm.transition=S}}function Ib(){return Ta().memoizedState}function zE(u,f,g){var S=So(u);if(g={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null},Cb(u))Eb(f,g);else if(g=rb(u,f,g,S),g!==null){var I=jr();Xa(g,u,S,I),Tb(g,f,S)}}function LE(u,f,g){var S=So(u),I={lane:S,action:g,hasEagerState:!1,eagerState:null,next:null};if(Cb(u))Eb(f,I);else{var E=u.alternate;if(u.lanes===0&&(E===null||E.lanes===0)&&(E=f.lastRenderedReducer,E!==null))try{var j=f.lastRenderedState,ne=E(j,g);if(I.hasEagerState=!0,I.eagerState=ne,Ua(ne,j)){var fe=f.interleaved;fe===null?(I.next=I,Am(f)):(I.next=fe.next,fe.next=I),f.interleaved=I;return}}catch{}finally{}g=rb(u,f,I,S),g!==null&&(I=jr(),Xa(g,u,S,I),Tb(g,f,S))}}function Cb(u){var f=u.alternate;return u===Nn||f!==null&&f===Nn}function Eb(u,f){ku=td=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function Tb(u,f,g){if(g&4194240){var S=f.lanes;S&=u.pendingLanes,g|=S,f.lanes=g,ls(u,g)}}var ad={readContext:Ea,useCallback:Ar,useContext:Ar,useEffect:Ar,useImperativeHandle:Ar,useInsertionEffect:Ar,useLayoutEffect:Ar,useMemo:Ar,useReducer:Ar,useRef:Ar,useState:Ar,useDebugValue:Ar,useDeferredValue:Ar,useTransition:Ar,useMutableSource:Ar,useSyncExternalStore:Ar,useId:Ar,unstable_isNewReconciler:!1},WE={readContext:Ea,useCallback:function(u,f){return vs().memoizedState=[u,f===void 0?null:f],u},useContext:Ea,useEffect:vb,useImperativeHandle:function(u,f,g){return g=g!=null?g.concat([u]):null,nd(4194308,4,wb.bind(null,f,u),g)},useLayoutEffect:function(u,f){return nd(4194308,4,u,f)},useInsertionEffect:function(u,f){return nd(4,2,u,f)},useMemo:function(u,f){var g=vs();return f=f===void 0?null:f,u=u(),g.memoizedState=[u,f],u},useReducer:function(u,f,g){var S=vs();return f=g!==void 0?g(f):f,S.memoizedState=S.baseState=f,u={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:f},S.queue=u,u=u.dispatch=zE.bind(null,Nn,u),[S.memoizedState,u]},useRef:function(u){var f=vs();return u={current:u},f.memoizedState=u},useState:mb,useDebugValue:Vm,useDeferredValue:function(u){return vs().memoizedState=u},useTransition:function(){var u=mb(!1),f=u[0];return u=BE.bind(null,u[1]),vs().memoizedState=u,[f,u]},useMutableSource:function(){},useSyncExternalStore:function(u,f,g){var S=Nn,I=vs();if(kn){if(g===void 0)throw Error(n(407));g=g()}else{if(g=f(),cr===null)throw Error(n(349));ui&30||cb(S,f,g)}I.memoizedState=g;var E={value:g,getSnapshot:f};return I.queue=E,vb(fb.bind(null,S,E,u),[u]),S.flags|=2048,Cu(9,db.bind(null,S,E,g,f),void 0,null),g},useId:function(){var u=vs(),f=cr.identifierPrefix;if(kn){var g=js,S=Ws;g=(S&~(1<<32-_r(S)-1)).toString(32)+g,f=":"+f+"R"+g,g=_u++,0<g&&(f+="H"+g.toString(32)),f+=":"}else g=PE++,f=":"+f+"r"+g.toString(32)+":";return u.memoizedState=f},unstable_isNewReconciler:!1},jE={readContext:Ea,useCallback:xb,useContext:Ea,useEffect:jm,useImperativeHandle:Sb,useInsertionEffect:yb,useLayoutEffect:bb,useMemo:kb,useReducer:Lm,useRef:gb,useState:function(){return Lm(Iu)},useDebugValue:Vm,useDeferredValue:function(u){var f=Ta();return _b(f,nr.memoizedState,u)},useTransition:function(){var u=Lm(Iu)[0],f=Ta().memoizedState;return[u,f]},useMutableSource:lb,useSyncExternalStore:ub,useId:Ib,unstable_isNewReconciler:!1},VE={readContext:Ea,useCallback:xb,useContext:Ea,useEffect:jm,useImperativeHandle:Sb,useInsertionEffect:yb,useLayoutEffect:bb,useMemo:kb,useReducer:Wm,useRef:gb,useState:function(){return Wm(Iu)},useDebugValue:Vm,useDeferredValue:function(u){var f=Ta();return nr===null?f.memoizedState=u:_b(f,nr.memoizedState,u)},useTransition:function(){var u=Wm(Iu)[0],f=Ta().memoizedState;return[u,f]},useMutableSource:lb,useSyncExternalStore:ub,useId:Ib,unstable_isNewReconciler:!1};function Ga(u,f){if(u&&u.defaultProps){f=te({},f),u=u.defaultProps;for(var g in u)f[g]===void 0&&(f[g]=u[g]);return f}return f}function Um(u,f,g,S){f=u.memoizedState,g=g(S,f),g=g==null?f:te({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var sd={isMounted:function(u){return(u=u._reactInternals)?zn(u)===u:!1},enqueueSetState:function(u,f,g){u=u._reactInternals;var S=jr(),I=So(u),E=Us(S,I);E.payload=f,g!=null&&(E.callback=g),f=vo(u,E,I),f!==null&&(Xa(f,u,I,S),Zc(f,u,I))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var S=jr(),I=So(u),E=Us(S,I);E.tag=1,E.payload=f,g!=null&&(E.callback=g),f=vo(u,E,I),f!==null&&(Xa(f,u,I,S),Zc(f,u,I))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=jr(),S=So(u),I=Us(g,S);I.tag=2,f!=null&&(I.callback=f),f=vo(u,I,S),f!==null&&(Xa(f,u,S,g),Zc(f,u,S))}};function Nb(u,f,g,S,I,E,j){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(S,E,j):f.prototype&&f.prototype.isPureReactComponent?!fu(g,S)||!fu(I,E):!0}function Ab(u,f,g){var S=!1,I=ho,E=f.contextType;return typeof E=="object"&&E!==null?E=Ea(E):(I=ea(f)?ai:Nr.current,S=f.contextTypes,E=(S=S!=null)?ol(u,I):ho),f=new f(g,E),u.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=sd,u.stateNode=f,f._reactInternals=u,S&&(u=u.stateNode,u.__reactInternalMemoizedUnmaskedChildContext=I,u.__reactInternalMemoizedMaskedChildContext=E),f}function Db(u,f,g,S){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(g,S),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(g,S),f.state!==u&&sd.enqueueReplaceState(f,f.state,null)}function Hm(u,f,g,S){var I=u.stateNode;I.props=g,I.state=u.memoizedState,I.refs={},Dm(u);var E=f.contextType;typeof E=="object"&&E!==null?I.context=Ea(E):(E=ea(f)?ai:Nr.current,I.context=ol(u,E)),I.state=u.memoizedState,E=f.getDerivedStateFromProps,typeof E=="function"&&(Um(u,f,E,g),I.state=u.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(f=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),f!==I.state&&sd.enqueueReplaceState(I,I.state,null),Qc(u,g,I,S),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308)}function hl(u,f){try{var g="",S=f;do g+=le(S),S=S.return;while(S);var I=g}catch(E){I=`
Error generating stack: `+E.message+`
`+E.stack}return{value:u,source:f,stack:I,digest:null}}function Gm(u,f,g){return{value:u,source:null,stack:g??null,digest:f??null}}function qm(u,f){try{console.error(f.value)}catch(g){setTimeout(function(){throw g})}}var UE=typeof WeakMap=="function"?WeakMap:Map;function Fb(u,f,g){g=Us(-1,g),g.tag=3,g.payload={element:null};var S=f.value;return g.callback=function(){fd||(fd=!0,lg=S),qm(u,f)},g}function Rb(u,f,g){g=Us(-1,g),g.tag=3;var S=u.type.getDerivedStateFromError;if(typeof S=="function"){var I=f.value;g.payload=function(){return S(I)},g.callback=function(){qm(u,f)}}var E=u.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(g.callback=function(){qm(u,f),typeof S!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})}),g}function $b(u,f,g){var S=u.pingCache;if(S===null){S=u.pingCache=new UE;var I=new Set;S.set(f,I)}else I=S.get(f),I===void 0&&(I=new Set,S.set(f,I));I.has(g)||(I.add(g),u=a4.bind(null,u,f,g),f.then(u,u))}function Ob(u){do{var f;if((f=u.tag===13)&&(f=u.memoizedState,f=f!==null?f.dehydrated!==null:!0),f)return u;u=u.return}while(u!==null);return null}function Mb(u,f,g,S,I){return u.mode&1?(u.flags|=65536,u.lanes=I,u):(u===f?u.flags|=65536:(u.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:(f=Us(-1,1),f.tag=2,vo(g,f,1))),g.lanes|=1),u)}var HE=C.ReactCurrentOwner,ta=!1;function Wr(u,f,g,S){f.child=u===null?nb(f,null,g,S):cl(f,u.child,g,S)}function Pb(u,f,g,S,I){g=g.render;var E=f.ref;return fl(f,I),S=Bm(u,f,g,S,E,I),g=zm(),u!==null&&!ta?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Hs(u,f,I)):(kn&&g&&Sm(f),f.flags|=1,Wr(u,f,S,I),f.child)}function Bb(u,f,g,S,I){if(u===null){var E=g.type;return typeof E=="function"&&!mg(E)&&E.defaultProps===void 0&&g.compare===null&&g.defaultProps===void 0?(f.tag=15,f.type=E,zb(u,f,E,S,I)):(u=yd(g.type,null,S,f,f.mode,I),u.ref=f.ref,u.return=f,f.child=u)}if(E=u.child,!(u.lanes&I)){var j=E.memoizedProps;if(g=g.compare,g=g!==null?g:fu,g(j,S)&&u.ref===f.ref)return Hs(u,f,I)}return f.flags|=1,u=ko(E,S),u.ref=f.ref,u.return=f,f.child=u}function zb(u,f,g,S,I){if(u!==null){var E=u.memoizedProps;if(fu(E,S)&&u.ref===f.ref)if(ta=!1,f.pendingProps=S=E,(u.lanes&I)!==0)u.flags&131072&&(ta=!0);else return f.lanes=u.lanes,Hs(u,f,I)}return Km(u,f,g,S,I)}function Lb(u,f,g){var S=f.pendingProps,I=S.children,E=u!==null?u.memoizedState:null;if(S.mode==="hidden")if(!(f.mode&1))f.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(gl,ma),ma|=g;else{if(!(g&1073741824))return u=E!==null?E.baseLanes|g:g,f.lanes=f.childLanes=1073741824,f.memoizedState={baseLanes:u,cachePool:null,transitions:null},f.updateQueue=null,vn(gl,ma),ma|=u,null;f.memoizedState={baseLanes:0,cachePool:null,transitions:null},S=E!==null?E.baseLanes:g,vn(gl,ma),ma|=S}else E!==null?(S=E.baseLanes|g,f.memoizedState=null):S=g,vn(gl,ma),ma|=S;return Wr(u,f,I,g),f.child}function Wb(u,f){var g=f.ref;(u===null&&g!==null||u!==null&&u.ref!==g)&&(f.flags|=512,f.flags|=2097152)}function Km(u,f,g,S,I){var E=ea(g)?ai:Nr.current;return E=ol(f,E),fl(f,I),g=Bm(u,f,g,S,E,I),S=zm(),u!==null&&!ta?(f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~I,Hs(u,f,I)):(kn&&S&&Sm(f),f.flags|=1,Wr(u,f,g,I),f.child)}function jb(u,f,g,S,I){if(ea(g)){var E=!0;Vc(f)}else E=!1;if(fl(f,I),f.stateNode===null)id(u,f),Ab(f,g,S),Hm(f,g,S,I),S=!0;else if(u===null){var j=f.stateNode,ne=f.memoizedProps;j.props=ne;var fe=j.context,ke=g.contextType;typeof ke=="object"&&ke!==null?ke=Ea(ke):(ke=ea(g)?ai:Nr.current,ke=ol(f,ke));var ze=g.getDerivedStateFromProps,We=typeof ze=="function"||typeof j.getSnapshotBeforeUpdate=="function";We||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ne!==S||fe!==ke)&&Db(f,j,S,ke),go=!1;var Pe=f.memoizedState;j.state=Pe,Qc(f,S,j,I),fe=f.memoizedState,ne!==S||Pe!==fe||Jr.current||go?(typeof ze=="function"&&(Um(f,g,ze,S),fe=f.memoizedState),(ne=go||Nb(f,g,ne,S,Pe,fe,ke))?(We||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(f.flags|=4194308)):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=S,f.memoizedState=fe),j.props=S,j.state=fe,j.context=ke,S=ne):(typeof j.componentDidMount=="function"&&(f.flags|=4194308),S=!1)}else{j=f.stateNode,ab(u,f),ne=f.memoizedProps,ke=f.type===f.elementType?ne:Ga(f.type,ne),j.props=ke,We=f.pendingProps,Pe=j.context,fe=g.contextType,typeof fe=="object"&&fe!==null?fe=Ea(fe):(fe=ea(g)?ai:Nr.current,fe=ol(f,fe));var Je=g.getDerivedStateFromProps;(ze=typeof Je=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(ne!==We||Pe!==fe)&&Db(f,j,S,fe),go=!1,Pe=f.memoizedState,j.state=Pe,Qc(f,S,j,I);var st=f.memoizedState;ne!==We||Pe!==st||Jr.current||go?(typeof Je=="function"&&(Um(f,g,Je,S),st=f.memoizedState),(ke=go||Nb(f,g,ke,S,Pe,st,fe)||!1)?(ze||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(S,st,fe),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(S,st,fe)),typeof j.componentDidUpdate=="function"&&(f.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof j.componentDidUpdate!="function"||ne===u.memoizedProps&&Pe===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&Pe===u.memoizedState||(f.flags|=1024),f.memoizedProps=S,f.memoizedState=st),j.props=S,j.state=st,j.context=fe,S=ke):(typeof j.componentDidUpdate!="function"||ne===u.memoizedProps&&Pe===u.memoizedState||(f.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||ne===u.memoizedProps&&Pe===u.memoizedState||(f.flags|=1024),S=!1)}return Xm(u,f,g,S,E,I)}function Xm(u,f,g,S,I,E){Wb(u,f);var j=(f.flags&128)!==0;if(!S&&!j)return I&&q1(f,g,!1),Hs(u,f,E);S=f.stateNode,HE.current=f;var ne=j&&typeof g.getDerivedStateFromError!="function"?null:S.render();return f.flags|=1,u!==null&&j?(f.child=cl(f,u.child,null,E),f.child=cl(f,null,ne,E)):Wr(u,f,ne,E),f.memoizedState=S.state,I&&q1(f,g,!0),f.child}function Vb(u){var f=u.stateNode;f.pendingContext?H1(u,f.pendingContext,f.pendingContext!==f.context):f.context&&H1(u,f.context,!1),Fm(u,f.containerInfo)}function Ub(u,f,g,S,I){return ul(),Im(I),f.flags|=256,Wr(u,f,g,S),f.child}var Ym={dehydrated:null,treeContext:null,retryLane:0};function Zm(u){return{baseLanes:u,cachePool:null,transitions:null}}function Hb(u,f,g){var S=f.pendingProps,I=Tn.current,E=!1,j=(f.flags&128)!==0,ne;if((ne=j)||(ne=u!==null&&u.memoizedState===null?!1:(I&2)!==0),ne?(E=!0,f.flags&=-129):(u===null||u.memoizedState!==null)&&(I|=1),vn(Tn,I&1),u===null)return _m(f),u=f.memoizedState,u!==null&&(u=u.dehydrated,u!==null)?(f.mode&1?u.data==="$!"?f.lanes=8:f.lanes=1073741824:f.lanes=1,null):(j=S.children,u=S.fallback,E?(S=f.mode,E=f.child,j={mode:"hidden",children:j},!(S&1)&&E!==null?(E.childLanes=0,E.pendingProps=j):E=bd(j,S,0,null),u=hi(u,S,g,null),E.return=f,u.return=f,E.sibling=u,f.child=E,f.child.memoizedState=Zm(g),f.memoizedState=Ym,u):Qm(f,j));if(I=u.memoizedState,I!==null&&(ne=I.dehydrated,ne!==null))return GE(u,f,j,S,ne,I,g);if(E){E=S.fallback,j=f.mode,I=u.child,ne=I.sibling;var fe={mode:"hidden",children:S.children};return!(j&1)&&f.child!==I?(S=f.child,S.childLanes=0,S.pendingProps=fe,f.deletions=null):(S=ko(I,fe),S.subtreeFlags=I.subtreeFlags&14680064),ne!==null?E=ko(ne,E):(E=hi(E,j,g,null),E.flags|=2),E.return=f,S.return=f,S.sibling=E,f.child=S,S=E,E=f.child,j=u.child.memoizedState,j=j===null?Zm(g):{baseLanes:j.baseLanes|g,cachePool:null,transitions:j.transitions},E.memoizedState=j,E.childLanes=u.childLanes&~g,f.memoizedState=Ym,S}return E=u.child,u=E.sibling,S=ko(E,{mode:"visible",children:S.children}),!(f.mode&1)&&(S.lanes=g),S.return=f,S.sibling=null,u!==null&&(g=f.deletions,g===null?(f.deletions=[u],f.flags|=16):g.push(u)),f.child=S,f.memoizedState=null,S}function Qm(u,f){return f=bd({mode:"visible",children:f},u.mode,0,null),f.return=u,u.child=f}function od(u,f,g,S){return S!==null&&Im(S),cl(f,u.child,null,g),u=Qm(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function GE(u,f,g,S,I,E,j){if(g)return f.flags&256?(f.flags&=-257,S=Gm(Error(n(422))),od(u,f,j,S)):f.memoizedState!==null?(f.child=u.child,f.flags|=128,null):(E=S.fallback,I=f.mode,S=bd({mode:"visible",children:S.children},I,0,null),E=hi(E,I,j,null),E.flags|=2,S.return=f,E.return=f,S.sibling=E,f.child=S,f.mode&1&&cl(f,u.child,null,j),f.child.memoizedState=Zm(j),f.memoizedState=Ym,E);if(!(f.mode&1))return od(u,f,j,null);if(I.data==="$!"){if(S=I.nextSibling&&I.nextSibling.dataset,S)var ne=S.dgst;return S=ne,E=Error(n(419)),S=Gm(E,S,void 0),od(u,f,j,S)}if(ne=(j&u.childLanes)!==0,ta||ne){if(S=cr,S!==null){switch(j&-j){case 4:I=2;break;case 16:I=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:I=32;break;case 536870912:I=268435456;break;default:I=0}I=I&(S.suspendedLanes|j)?0:I,I!==0&&I!==E.retryLane&&(E.retryLane=I,Vs(u,I),Xa(S,u,I,-1))}return hg(),S=Gm(Error(n(421))),od(u,f,j,S)}return I.data==="$?"?(f.flags|=128,f.child=u.child,f=s4.bind(null,u),I._reactRetry=f,null):(u=E.treeContext,ha=fo(I.nextSibling),pa=f,kn=!0,Ha=null,u!==null&&(Ia[Ca++]=Ws,Ia[Ca++]=js,Ia[Ca++]=si,Ws=u.id,js=u.overflow,si=f),f=Qm(f,S.children),f.flags|=4096,f)}function Gb(u,f,g){u.lanes|=f;var S=u.alternate;S!==null&&(S.lanes|=f),Nm(u.return,f,g)}function Jm(u,f,g,S,I){var E=u.memoizedState;E===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:S,tail:g,tailMode:I}:(E.isBackwards=f,E.rendering=null,E.renderingStartTime=0,E.last=S,E.tail=g,E.tailMode=I)}function qb(u,f,g){var S=f.pendingProps,I=S.revealOrder,E=S.tail;if(Wr(u,f,S.children,g),S=Tn.current,S&2)S=S&1|2,f.flags|=128;else{if(u!==null&&u.flags&128)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&Gb(u,g,f);else if(u.tag===19)Gb(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}S&=1}if(vn(Tn,S),!(f.mode&1))f.memoizedState=null;else switch(I){case"forwards":for(g=f.child,I=null;g!==null;)u=g.alternate,u!==null&&Jc(u)===null&&(I=g),g=g.sibling;g=I,g===null?(I=f.child,f.child=null):(I=g.sibling,g.sibling=null),Jm(f,!1,I,g,E);break;case"backwards":for(g=null,I=f.child,f.child=null;I!==null;){if(u=I.alternate,u!==null&&Jc(u)===null){f.child=I;break}u=I.sibling,I.sibling=g,g=I,I=u}Jm(f,!0,g,null,E);break;case"together":Jm(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function id(u,f){!(f.mode&1)&&u!==null&&(u.alternate=null,f.alternate=null,f.flags|=2)}function Hs(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),ci|=f.lanes,!(g&f.childLanes))return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,g=ko(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=ko(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function qE(u,f,g){switch(f.tag){case 3:Vb(f),ul();break;case 5:ib(f);break;case 1:ea(f.type)&&Vc(f);break;case 4:Fm(f,f.stateNode.containerInfo);break;case 10:var S=f.type._context,I=f.memoizedProps.value;vn(Xc,S._currentValue),S._currentValue=I;break;case 13:if(S=f.memoizedState,S!==null)return S.dehydrated!==null?(vn(Tn,Tn.current&1),f.flags|=128,null):g&f.child.childLanes?Hb(u,f,g):(vn(Tn,Tn.current&1),u=Hs(u,f,g),u!==null?u.sibling:null);vn(Tn,Tn.current&1);break;case 19:if(S=(g&f.childLanes)!==0,u.flags&128){if(S)return qb(u,f,g);f.flags|=128}if(I=f.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),vn(Tn,Tn.current),S)break;return null;case 22:case 23:return f.lanes=0,Lb(u,f,g)}return Hs(u,f,g)}var Kb,eg,Xb,Yb;Kb=function(u,f){for(var g=f.child;g!==null;){if(g.tag===5||g.tag===6)u.appendChild(g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===f)break;for(;g.sibling===null;){if(g.return===null||g.return===f)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},eg=function(){},Xb=function(u,f,g,S){var I=u.memoizedProps;if(I!==S){u=f.stateNode,li(gs.current);var E=null;switch(g){case"input":I=$(u,I),S=$(u,S),E=[];break;case"select":I=te({},I,{value:void 0}),S=te({},S,{value:void 0}),E=[];break;case"textarea":I=ge(u,I),S=ge(u,S),E=[];break;default:typeof I.onClick!="function"&&typeof S.onClick=="function"&&(u.onclick=Lc)}Rn(g,S);var j;g=null;for(ke in I)if(!S.hasOwnProperty(ke)&&I.hasOwnProperty(ke)&&I[ke]!=null)if(ke==="style"){var ne=I[ke];for(j in ne)ne.hasOwnProperty(j)&&(g||(g={}),g[j]="")}else ke!=="dangerouslySetInnerHTML"&&ke!=="children"&&ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&ke!=="autoFocus"&&(a.hasOwnProperty(ke)?E||(E=[]):(E=E||[]).push(ke,null));for(ke in S){var fe=S[ke];if(ne=I!=null?I[ke]:void 0,S.hasOwnProperty(ke)&&fe!==ne&&(fe!=null||ne!=null))if(ke==="style")if(ne){for(j in ne)!ne.hasOwnProperty(j)||fe&&fe.hasOwnProperty(j)||(g||(g={}),g[j]="");for(j in fe)fe.hasOwnProperty(j)&&ne[j]!==fe[j]&&(g||(g={}),g[j]=fe[j])}else g||(E||(E=[]),E.push(ke,g)),g=fe;else ke==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,ne=ne?ne.__html:void 0,fe!=null&&ne!==fe&&(E=E||[]).push(ke,fe)):ke==="children"?typeof fe!="string"&&typeof fe!="number"||(E=E||[]).push(ke,""+fe):ke!=="suppressContentEditableWarning"&&ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(ke)?(fe!=null&&ke==="onScroll"&&wn("scroll",u),E||ne===fe||(E=[])):(E=E||[]).push(ke,fe))}g&&(E=E||[]).push("style",g);var ke=E;(f.updateQueue=ke)&&(f.flags|=4)}},Yb=function(u,f,g,S){g!==S&&(f.flags|=4)};function Eu(u,f){if(!kn)switch(u.tailMode){case"hidden":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case"collapsed":g=u.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:S.sibling=null}}function Dr(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,S=0;if(f)for(var I=u.child;I!==null;)g|=I.lanes|I.childLanes,S|=I.subtreeFlags&14680064,S|=I.flags&14680064,I.return=u,I=I.sibling;else for(I=u.child;I!==null;)g|=I.lanes|I.childLanes,S|=I.subtreeFlags,S|=I.flags,I.return=u,I=I.sibling;return u.subtreeFlags|=S,u.childLanes=g,f}function KE(u,f,g){var S=f.pendingProps;switch(xm(f),f.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(f),null;case 1:return ea(f.type)&&jc(),Dr(f),null;case 3:return S=f.stateNode,pl(),Sn(Jr),Sn(Nr),Om(),S.pendingContext&&(S.context=S.pendingContext,S.pendingContext=null),(u===null||u.child===null)&&(qc(f)?f.flags|=4:u===null||u.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,Ha!==null&&(dg(Ha),Ha=null))),eg(u,f),Dr(f),null;case 5:Rm(f);var I=li(xu.current);if(g=f.type,u!==null&&f.stateNode!=null)Xb(u,f,g,S,I),u.ref!==f.ref&&(f.flags|=512,f.flags|=2097152);else{if(!S){if(f.stateNode===null)throw Error(n(166));return Dr(f),null}if(u=li(gs.current),qc(f)){S=f.stateNode,g=f.type;var E=f.memoizedProps;switch(S[ms]=f,S[vu]=E,u=(f.mode&1)!==0,g){case"dialog":wn("cancel",S),wn("close",S);break;case"iframe":case"object":case"embed":wn("load",S);break;case"video":case"audio":for(I=0;I<hu.length;I++)wn(hu[I],S);break;case"source":wn("error",S);break;case"img":case"image":case"link":wn("error",S),wn("load",S);break;case"details":wn("toggle",S);break;case"input":be(S,E),wn("invalid",S);break;case"select":S._wrapperState={wasMultiple:!!E.multiple},wn("invalid",S);break;case"textarea":$e(S,E),wn("invalid",S)}Rn(g,E),I=null;for(var j in E)if(E.hasOwnProperty(j)){var ne=E[j];j==="children"?typeof ne=="string"?S.textContent!==ne&&(E.suppressHydrationWarning!==!0&&zc(S.textContent,ne,u),I=["children",ne]):typeof ne=="number"&&S.textContent!==""+ne&&(E.suppressHydrationWarning!==!0&&zc(S.textContent,ne,u),I=["children",""+ne]):a.hasOwnProperty(j)&&ne!=null&&j==="onScroll"&&wn("scroll",S)}switch(g){case"input":Ke(S),K(S,E,!0);break;case"textarea":Ke(S),Me(S);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(S.onclick=Lc)}S=I,f.updateQueue=S,S!==null&&(f.flags|=4)}else{j=I.nodeType===9?I:I.ownerDocument,u==="http://www.w3.org/1999/xhtml"&&(u=Ze(g)),u==="http://www.w3.org/1999/xhtml"?g==="script"?(u=j.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild)):typeof S.is=="string"?u=j.createElement(g,{is:S.is}):(u=j.createElement(g),g==="select"&&(j=u,S.multiple?j.multiple=!0:S.size&&(j.size=S.size))):u=j.createElementNS(u,g),u[ms]=f,u[vu]=S,Kb(u,f,!1,!1),f.stateNode=u;e:{switch(j=Yr(g,S),g){case"dialog":wn("cancel",u),wn("close",u),I=S;break;case"iframe":case"object":case"embed":wn("load",u),I=S;break;case"video":case"audio":for(I=0;I<hu.length;I++)wn(hu[I],u);I=S;break;case"source":wn("error",u),I=S;break;case"img":case"image":case"link":wn("error",u),wn("load",u),I=S;break;case"details":wn("toggle",u),I=S;break;case"input":be(u,S),I=$(u,S),wn("invalid",u);break;case"option":I=S;break;case"select":u._wrapperState={wasMultiple:!!S.multiple},I=te({},S,{value:void 0}),wn("invalid",u);break;case"textarea":$e(u,S),I=ge(u,S),wn("invalid",u);break;default:I=S}Rn(g,I),ne=I;for(E in ne)if(ne.hasOwnProperty(E)){var fe=ne[E];E==="style"?Fn(u,fe):E==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&qt(u,fe)):E==="children"?typeof fe=="string"?(g!=="textarea"||fe!=="")&&Bn(u,fe):typeof fe=="number"&&Bn(u,""+fe):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(a.hasOwnProperty(E)?fe!=null&&E==="onScroll"&&wn("scroll",u):fe!=null&&_(u,E,fe,j))}switch(g){case"input":Ke(u),K(u,S,!1);break;case"textarea":Ke(u),Me(u);break;case"option":S.value!=null&&u.setAttribute("value",""+xe(S.value));break;case"select":u.multiple=!!S.multiple,E=S.value,E!=null?Ae(u,!!S.multiple,E,!1):S.defaultValue!=null&&Ae(u,!!S.multiple,S.defaultValue,!0);break;default:typeof I.onClick=="function"&&(u.onclick=Lc)}switch(g){case"button":case"input":case"select":case"textarea":S=!!S.autoFocus;break e;case"img":S=!0;break e;default:S=!1}}S&&(f.flags|=4)}f.ref!==null&&(f.flags|=512,f.flags|=2097152)}return Dr(f),null;case 6:if(u&&f.stateNode!=null)Yb(u,f,u.memoizedProps,S);else{if(typeof S!="string"&&f.stateNode===null)throw Error(n(166));if(g=li(xu.current),li(gs.current),qc(f)){if(S=f.stateNode,g=f.memoizedProps,S[ms]=f,(E=S.nodeValue!==g)&&(u=pa,u!==null))switch(u.tag){case 3:zc(S.nodeValue,g,(u.mode&1)!==0);break;case 5:u.memoizedProps.suppressHydrationWarning!==!0&&zc(S.nodeValue,g,(u.mode&1)!==0)}E&&(f.flags|=4)}else S=(g.nodeType===9?g:g.ownerDocument).createTextNode(S),S[ms]=f,f.stateNode=S}return Dr(f),null;case 13:if(Sn(Tn),S=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(kn&&ha!==null&&f.mode&1&&!(f.flags&128))J1(),ul(),f.flags|=98560,E=!1;else if(E=qc(f),S!==null&&S.dehydrated!==null){if(u===null){if(!E)throw Error(n(318));if(E=f.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(n(317));E[ms]=f}else ul(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;Dr(f),E=!1}else Ha!==null&&(dg(Ha),Ha=null),E=!0;if(!E)return f.flags&65536?f:null}return f.flags&128?(f.lanes=g,f):(S=S!==null,S!==(u!==null&&u.memoizedState!==null)&&S&&(f.child.flags|=8192,f.mode&1&&(u===null||Tn.current&1?rr===0&&(rr=3):hg())),f.updateQueue!==null&&(f.flags|=4),Dr(f),null);case 4:return pl(),eg(u,f),u===null&&mu(f.stateNode.containerInfo),Dr(f),null;case 10:return Tm(f.type._context),Dr(f),null;case 17:return ea(f.type)&&jc(),Dr(f),null;case 19:if(Sn(Tn),E=f.memoizedState,E===null)return Dr(f),null;if(S=(f.flags&128)!==0,j=E.rendering,j===null)if(S)Eu(E,!1);else{if(rr!==0||u!==null&&u.flags&128)for(u=f.child;u!==null;){if(j=Jc(u),j!==null){for(f.flags|=128,Eu(E,!1),S=j.updateQueue,S!==null&&(f.updateQueue=S,f.flags|=4),f.subtreeFlags=0,S=g,g=f.child;g!==null;)E=g,u=S,E.flags&=14680066,j=E.alternate,j===null?(E.childLanes=0,E.lanes=u,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=j.childLanes,E.lanes=j.lanes,E.child=j.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=j.memoizedProps,E.memoizedState=j.memoizedState,E.updateQueue=j.updateQueue,E.type=j.type,u=j.dependencies,E.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),g=g.sibling;return vn(Tn,Tn.current&1|2),f.child}u=u.sibling}E.tail!==null&&gn()>vl&&(f.flags|=128,S=!0,Eu(E,!1),f.lanes=4194304)}else{if(!S)if(u=Jc(j),u!==null){if(f.flags|=128,S=!0,g=u.updateQueue,g!==null&&(f.updateQueue=g,f.flags|=4),Eu(E,!0),E.tail===null&&E.tailMode==="hidden"&&!j.alternate&&!kn)return Dr(f),null}else 2*gn()-E.renderingStartTime>vl&&g!==1073741824&&(f.flags|=128,S=!0,Eu(E,!1),f.lanes=4194304);E.isBackwards?(j.sibling=f.child,f.child=j):(g=E.last,g!==null?g.sibling=j:f.child=j,E.last=j)}return E.tail!==null?(f=E.tail,E.rendering=f,E.tail=f.sibling,E.renderingStartTime=gn(),f.sibling=null,g=Tn.current,vn(Tn,S?g&1|2:g&1),f):(Dr(f),null);case 22:case 23:return pg(),S=f.memoizedState!==null,u!==null&&u.memoizedState!==null!==S&&(f.flags|=8192),S&&f.mode&1?ma&1073741824&&(Dr(f),f.subtreeFlags&6&&(f.flags|=8192)):Dr(f),null;case 24:return null;case 25:return null}throw Error(n(156,f.tag))}function XE(u,f){switch(xm(f),f.tag){case 1:return ea(f.type)&&jc(),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return pl(),Sn(Jr),Sn(Nr),Om(),u=f.flags,u&65536&&!(u&128)?(f.flags=u&-65537|128,f):null;case 5:return Rm(f),null;case 13:if(Sn(Tn),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));ul()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Sn(Tn),null;case 4:return pl(),null;case 10:return Tm(f.type._context),null;case 22:case 23:return pg(),null;case 24:return null;default:return null}}var ld=!1,Fr=!1,YE=typeof WeakSet=="function"?WeakSet:Set,nt=null;function ml(u,f){var g=u.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(S){Mn(u,f,S)}else g.current=null}function tg(u,f,g){try{g()}catch(S){Mn(u,f,S)}}var Zb=!1;function ZE(u,f){if(pm=Ln,u=N1(),sm(u)){if("selectionStart"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var S=g.getSelection&&g.getSelection();if(S&&S.rangeCount!==0){g=S.anchorNode;var I=S.anchorOffset,E=S.focusNode;S=S.focusOffset;try{g.nodeType,E.nodeType}catch{g=null;break e}var j=0,ne=-1,fe=-1,ke=0,ze=0,We=u,Pe=null;t:for(;;){for(var Je;We!==g||I!==0&&We.nodeType!==3||(ne=j+I),We!==E||S!==0&&We.nodeType!==3||(fe=j+S),We.nodeType===3&&(j+=We.nodeValue.length),(Je=We.firstChild)!==null;)Pe=We,We=Je;for(;;){if(We===u)break t;if(Pe===g&&++ke===I&&(ne=j),Pe===E&&++ze===S&&(fe=j),(Je=We.nextSibling)!==null)break;We=Pe,Pe=We.parentNode}We=Je}g=ne===-1||fe===-1?null:{start:ne,end:fe}}else g=null}g=g||{start:0,end:0}}else g=null;for(hm={focusedElem:u,selectionRange:g},Ln=!1,nt=f;nt!==null;)if(f=nt,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,nt=u;else for(;nt!==null;){f=nt;try{var st=f.alternate;if(f.flags&1024)switch(f.tag){case 0:case 11:case 15:break;case 1:if(st!==null){var lt=st.memoizedProps,Wn=st.memoizedState,ye=f.stateNode,he=ye.getSnapshotBeforeUpdate(f.elementType===f.type?lt:Ga(f.type,lt),Wn);ye.__reactInternalSnapshotBeforeUpdate=he}break;case 3:var we=f.stateNode.containerInfo;we.nodeType===1?we.textContent="":we.nodeType===9&&we.documentElement&&we.removeChild(we.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ue){Mn(f,f.return,Ue)}if(u=f.sibling,u!==null){u.return=f.return,nt=u;break}nt=f.return}return st=Zb,Zb=!1,st}function Tu(u,f,g){var S=f.updateQueue;if(S=S!==null?S.lastEffect:null,S!==null){var I=S=S.next;do{if((I.tag&u)===u){var E=I.destroy;I.destroy=void 0,E!==void 0&&tg(f,g,E)}I=I.next}while(I!==S)}}function ud(u,f){if(f=f.updateQueue,f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&u)===u){var S=g.create;g.destroy=S()}g=g.next}while(g!==f)}}function ng(u){var f=u.ref;if(f!==null){var g=u.stateNode;switch(u.tag){case 5:u=g;break;default:u=g}typeof f=="function"?f(u):f.current=u}}function Qb(u){var f=u.alternate;f!==null&&(u.alternate=null,Qb(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&(delete f[ms],delete f[vu],delete f[ym],delete f[RE],delete f[$E])),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}function Jb(u){return u.tag===5||u.tag===3||u.tag===4}function e2(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||Jb(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function rg(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.nodeType===8?g.parentNode.insertBefore(u,f):g.insertBefore(u,f):(g.nodeType===8?(f=g.parentNode,f.insertBefore(u,g)):(f=g,f.appendChild(u)),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Lc));else if(S!==4&&(u=u.child,u!==null))for(rg(u,f,g),u=u.sibling;u!==null;)rg(u,f,g),u=u.sibling}function ag(u,f,g){var S=u.tag;if(S===5||S===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(S!==4&&(u=u.child,u!==null))for(ag(u,f,g),u=u.sibling;u!==null;)ag(u,f,g),u=u.sibling}var yr=null,qa=!1;function yo(u,f,g){for(g=g.child;g!==null;)t2(u,f,g),g=g.sibling}function t2(u,f,g){if(Zr&&typeof Zr.onCommitFiberUnmount=="function")try{Zr.onCommitFiberUnmount(os,g)}catch{}switch(g.tag){case 5:Fr||ml(g,f);case 6:var S=yr,I=qa;yr=null,yo(u,f,g),yr=S,qa=I,yr!==null&&(qa?(u=yr,g=g.stateNode,u.nodeType===8?u.parentNode.removeChild(g):u.removeChild(g)):yr.removeChild(g.stateNode));break;case 18:yr!==null&&(qa?(u=yr,g=g.stateNode,u.nodeType===8?vm(u.parentNode,g):u.nodeType===1&&vm(u,g),ja(u)):vm(yr,g.stateNode));break;case 4:S=yr,I=qa,yr=g.stateNode.containerInfo,qa=!0,yo(u,f,g),yr=S,qa=I;break;case 0:case 11:case 14:case 15:if(!Fr&&(S=g.updateQueue,S!==null&&(S=S.lastEffect,S!==null))){I=S=S.next;do{var E=I,j=E.destroy;E=E.tag,j!==void 0&&(E&2||E&4)&&tg(g,f,j),I=I.next}while(I!==S)}yo(u,f,g);break;case 1:if(!Fr&&(ml(g,f),S=g.stateNode,typeof S.componentWillUnmount=="function"))try{S.props=g.memoizedProps,S.state=g.memoizedState,S.componentWillUnmount()}catch(ne){Mn(g,f,ne)}yo(u,f,g);break;case 21:yo(u,f,g);break;case 22:g.mode&1?(Fr=(S=Fr)||g.memoizedState!==null,yo(u,f,g),Fr=S):yo(u,f,g);break;default:yo(u,f,g)}}function n2(u){var f=u.updateQueue;if(f!==null){u.updateQueue=null;var g=u.stateNode;g===null&&(g=u.stateNode=new YE),f.forEach(function(S){var I=o4.bind(null,u,S);g.has(S)||(g.add(S),S.then(I,I))})}}function Ka(u,f){var g=f.deletions;if(g!==null)for(var S=0;S<g.length;S++){var I=g[S];try{var E=u,j=f,ne=j;e:for(;ne!==null;){switch(ne.tag){case 5:yr=ne.stateNode,qa=!1;break e;case 3:yr=ne.stateNode.containerInfo,qa=!0;break e;case 4:yr=ne.stateNode.containerInfo,qa=!0;break e}ne=ne.return}if(yr===null)throw Error(n(160));t2(E,j,I),yr=null,qa=!1;var fe=I.alternate;fe!==null&&(fe.return=null),I.return=null}catch(ke){Mn(I,f,ke)}}if(f.subtreeFlags&12854)for(f=f.child;f!==null;)r2(f,u),f=f.sibling}function r2(u,f){var g=u.alternate,S=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:if(Ka(f,u),ys(u),S&4){try{Tu(3,u,u.return),ud(3,u)}catch(lt){Mn(u,u.return,lt)}try{Tu(5,u,u.return)}catch(lt){Mn(u,u.return,lt)}}break;case 1:Ka(f,u),ys(u),S&512&&g!==null&&ml(g,g.return);break;case 5:if(Ka(f,u),ys(u),S&512&&g!==null&&ml(g,g.return),u.flags&32){var I=u.stateNode;try{Bn(I,"")}catch(lt){Mn(u,u.return,lt)}}if(S&4&&(I=u.stateNode,I!=null)){var E=u.memoizedProps,j=g!==null?g.memoizedProps:E,ne=u.type,fe=u.updateQueue;if(u.updateQueue=null,fe!==null)try{ne==="input"&&E.type==="radio"&&E.name!=null&&pe(I,E),Yr(ne,j);var ke=Yr(ne,E);for(j=0;j<fe.length;j+=2){var ze=fe[j],We=fe[j+1];ze==="style"?Fn(I,We):ze==="dangerouslySetInnerHTML"?qt(I,We):ze==="children"?Bn(I,We):_(I,ze,We,ke)}switch(ne){case"input":Q(I,E);break;case"textarea":Ve(I,E);break;case"select":var Pe=I._wrapperState.wasMultiple;I._wrapperState.wasMultiple=!!E.multiple;var Je=E.value;Je!=null?Ae(I,!!E.multiple,Je,!1):Pe!==!!E.multiple&&(E.defaultValue!=null?Ae(I,!!E.multiple,E.defaultValue,!0):Ae(I,!!E.multiple,E.multiple?[]:"",!1))}I[vu]=E}catch(lt){Mn(u,u.return,lt)}}break;case 6:if(Ka(f,u),ys(u),S&4){if(u.stateNode===null)throw Error(n(162));I=u.stateNode,E=u.memoizedProps;try{I.nodeValue=E}catch(lt){Mn(u,u.return,lt)}}break;case 3:if(Ka(f,u),ys(u),S&4&&g!==null&&g.memoizedState.isDehydrated)try{ja(f.containerInfo)}catch(lt){Mn(u,u.return,lt)}break;case 4:Ka(f,u),ys(u);break;case 13:Ka(f,u),ys(u),I=u.child,I.flags&8192&&(E=I.memoizedState!==null,I.stateNode.isHidden=E,!E||I.alternate!==null&&I.alternate.memoizedState!==null||(ig=gn())),S&4&&n2(u);break;case 22:if(ze=g!==null&&g.memoizedState!==null,u.mode&1?(Fr=(ke=Fr)||ze,Ka(f,u),Fr=ke):Ka(f,u),ys(u),S&8192){if(ke=u.memoizedState!==null,(u.stateNode.isHidden=ke)&&!ze&&u.mode&1)for(nt=u,ze=u.child;ze!==null;){for(We=nt=ze;nt!==null;){switch(Pe=nt,Je=Pe.child,Pe.tag){case 0:case 11:case 14:case 15:Tu(4,Pe,Pe.return);break;case 1:ml(Pe,Pe.return);var st=Pe.stateNode;if(typeof st.componentWillUnmount=="function"){S=Pe,g=Pe.return;try{f=S,st.props=f.memoizedProps,st.state=f.memoizedState,st.componentWillUnmount()}catch(lt){Mn(S,g,lt)}}break;case 5:ml(Pe,Pe.return);break;case 22:if(Pe.memoizedState!==null){o2(We);continue}}Je!==null?(Je.return=Pe,nt=Je):o2(We)}ze=ze.sibling}e:for(ze=null,We=u;;){if(We.tag===5){if(ze===null){ze=We;try{I=We.stateNode,ke?(E=I.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(ne=We.stateNode,fe=We.memoizedProps.style,j=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,ne.style.display=Dt("display",j))}catch(lt){Mn(u,u.return,lt)}}}else if(We.tag===6){if(ze===null)try{We.stateNode.nodeValue=ke?"":We.memoizedProps}catch(lt){Mn(u,u.return,lt)}}else if((We.tag!==22&&We.tag!==23||We.memoizedState===null||We===u)&&We.child!==null){We.child.return=We,We=We.child;continue}if(We===u)break e;for(;We.sibling===null;){if(We.return===null||We.return===u)break e;ze===We&&(ze=null),We=We.return}ze===We&&(ze=null),We.sibling.return=We.return,We=We.sibling}}break;case 19:Ka(f,u),ys(u),S&4&&n2(u);break;case 21:break;default:Ka(f,u),ys(u)}}function ys(u){var f=u.flags;if(f&2){try{e:{for(var g=u.return;g!==null;){if(Jb(g)){var S=g;break e}g=g.return}throw Error(n(160))}switch(S.tag){case 5:var I=S.stateNode;S.flags&32&&(Bn(I,""),S.flags&=-33);var E=e2(u);ag(u,E,I);break;case 3:case 4:var j=S.stateNode.containerInfo,ne=e2(u);rg(u,ne,j);break;default:throw Error(n(161))}}catch(fe){Mn(u,u.return,fe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function QE(u,f,g){nt=u,a2(u)}function a2(u,f,g){for(var S=(u.mode&1)!==0;nt!==null;){var I=nt,E=I.child;if(I.tag===22&&S){var j=I.memoizedState!==null||ld;if(!j){var ne=I.alternate,fe=ne!==null&&ne.memoizedState!==null||Fr;ne=ld;var ke=Fr;if(ld=j,(Fr=fe)&&!ke)for(nt=I;nt!==null;)j=nt,fe=j.child,j.tag===22&&j.memoizedState!==null?i2(I):fe!==null?(fe.return=j,nt=fe):i2(I);for(;E!==null;)nt=E,a2(E),E=E.sibling;nt=I,ld=ne,Fr=ke}s2(u)}else I.subtreeFlags&8772&&E!==null?(E.return=I,nt=E):s2(u)}}function s2(u){for(;nt!==null;){var f=nt;if(f.flags&8772){var g=f.alternate;try{if(f.flags&8772)switch(f.tag){case 0:case 11:case 15:Fr||ud(5,f);break;case 1:var S=f.stateNode;if(f.flags&4&&!Fr)if(g===null)S.componentDidMount();else{var I=f.elementType===f.type?g.memoizedProps:Ga(f.type,g.memoizedProps);S.componentDidUpdate(I,g.memoizedState,S.__reactInternalSnapshotBeforeUpdate)}var E=f.updateQueue;E!==null&&ob(f,E,S);break;case 3:var j=f.updateQueue;if(j!==null){if(g=null,f.child!==null)switch(f.child.tag){case 5:g=f.child.stateNode;break;case 1:g=f.child.stateNode}ob(f,j,g)}break;case 5:var ne=f.stateNode;if(g===null&&f.flags&4){g=ne;var fe=f.memoizedProps;switch(f.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&g.focus();break;case"img":fe.src&&(g.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(f.memoizedState===null){var ke=f.alternate;if(ke!==null){var ze=ke.memoizedState;if(ze!==null){var We=ze.dehydrated;We!==null&&ja(We)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Fr||f.flags&512&&ng(f)}catch(Pe){Mn(f,f.return,Pe)}}if(f===u){nt=null;break}if(g=f.sibling,g!==null){g.return=f.return,nt=g;break}nt=f.return}}function o2(u){for(;nt!==null;){var f=nt;if(f===u){nt=null;break}var g=f.sibling;if(g!==null){g.return=f.return,nt=g;break}nt=f.return}}function i2(u){for(;nt!==null;){var f=nt;try{switch(f.tag){case 0:case 11:case 15:var g=f.return;try{ud(4,f)}catch(fe){Mn(f,g,fe)}break;case 1:var S=f.stateNode;if(typeof S.componentDidMount=="function"){var I=f.return;try{S.componentDidMount()}catch(fe){Mn(f,I,fe)}}var E=f.return;try{ng(f)}catch(fe){Mn(f,E,fe)}break;case 5:var j=f.return;try{ng(f)}catch(fe){Mn(f,j,fe)}}}catch(fe){Mn(f,f.return,fe)}if(f===u){nt=null;break}var ne=f.sibling;if(ne!==null){ne.return=f.return,nt=ne;break}nt=f.return}}var JE=Math.ceil,cd=C.ReactCurrentDispatcher,sg=C.ReactCurrentOwner,Na=C.ReactCurrentBatchConfig,Gt=0,cr=null,qn=null,br=0,ma=0,gl=po(0),rr=0,Nu=null,ci=0,dd=0,og=0,Au=null,na=null,ig=0,vl=1/0,Gs=null,fd=!1,lg=null,bo=null,pd=!1,wo=null,hd=0,Du=0,ug=null,md=-1,gd=0;function jr(){return Gt&6?gn():md!==-1?md:md=gn()}function So(u){return u.mode&1?Gt&2&&br!==0?br&-br:ME.transition!==null?(gd===0&&(gd=vr()),gd):(u=jt,u!==0||(u=window.event,u=u===void 0?16:ni(u.type)),u):1}function Xa(u,f,g,S){if(50<Du)throw Du=0,ug=null,Error(n(185));Ir(u,g,S),(!(Gt&2)||u!==cr)&&(u===cr&&(!(Gt&2)&&(dd|=g),rr===4&&xo(u,br)),ra(u,S),g===1&&Gt===0&&!(f.mode&1)&&(vl=gn()+500,Uc&&mo()))}function ra(u,f){var g=u.callbackNode;Yi(u,f);var S=Rs(u,u===cr?br:0);if(S===0)g!==null&&La(g),u.callbackNode=null,u.callbackPriority=0;else if(f=S&-S,u.callbackPriority!==f){if(g!=null&&La(g),f===1)u.tag===0?OE(u2.bind(null,u)):K1(u2.bind(null,u)),DE(function(){!(Gt&6)&&mo()}),g=null;else{switch(lo(S)){case 1:g=Ds;break;case 4:g=qi;break;case 16:g=Fs;break;case 536870912:g=Wa;break;default:g=Fs}g=v2(g,l2.bind(null,u))}u.callbackPriority=f,u.callbackNode=g}}function l2(u,f){if(md=-1,gd=0,Gt&6)throw Error(n(327));var g=u.callbackNode;if(yl()&&u.callbackNode!==g)return null;var S=Rs(u,u===cr?br:0);if(S===0)return null;if(S&30||S&u.expiredLanes||f)f=vd(u,S);else{f=S;var I=Gt;Gt|=2;var E=d2();(cr!==u||br!==f)&&(Gs=null,vl=gn()+500,fi(u,f));do try{n4();break}catch(ne){c2(u,ne)}while(!0);Em(),cd.current=E,Gt=I,qn!==null?f=0:(cr=null,br=0,f=rr)}if(f!==0){if(f===2&&(I=io(u),I!==0&&(S=I,f=cg(u,I))),f===1)throw g=Nu,fi(u,0),xo(u,S),ra(u,gn()),g;if(f===6)xo(u,S);else{if(I=u.current.alternate,!(S&30)&&!e4(I)&&(f=vd(u,S),f===2&&(E=io(u),E!==0&&(S=E,f=cg(u,E))),f===1))throw g=Nu,fi(u,0),xo(u,S),ra(u,gn()),g;switch(u.finishedWork=I,u.finishedLanes=S,f){case 0:case 1:throw Error(n(345));case 2:pi(u,na,Gs);break;case 3:if(xo(u,S),(S&130023424)===S&&(f=ig+500-gn(),10<f)){if(Rs(u,0)!==0)break;if(I=u.suspendedLanes,(I&S)!==S){jr(),u.pingedLanes|=u.suspendedLanes&I;break}u.timeoutHandle=gm(pi.bind(null,u,na,Gs),f);break}pi(u,na,Gs);break;case 4:if(xo(u,S),(S&4194240)===S)break;for(f=u.eventTimes,I=-1;0<S;){var j=31-_r(S);E=1<<j,j=f[j],j>I&&(I=j),S&=~E}if(S=I,S=gn()-S,S=(120>S?120:480>S?480:1080>S?1080:1920>S?1920:3e3>S?3e3:4320>S?4320:1960*JE(S/1960))-S,10<S){u.timeoutHandle=gm(pi.bind(null,u,na,Gs),S);break}pi(u,na,Gs);break;case 5:pi(u,na,Gs);break;default:throw Error(n(329))}}}return ra(u,gn()),u.callbackNode===g?l2.bind(null,u):null}function cg(u,f){var g=Au;return u.current.memoizedState.isDehydrated&&(fi(u,f).flags|=256),u=vd(u,f),u!==2&&(f=na,na=g,f!==null&&dg(f)),u}function dg(u){na===null?na=u:na.push.apply(na,u)}function e4(u){for(var f=u;;){if(f.flags&16384){var g=f.updateQueue;if(g!==null&&(g=g.stores,g!==null))for(var S=0;S<g.length;S++){var I=g[S],E=I.getSnapshot;I=I.value;try{if(!Ua(E(),I))return!1}catch{return!1}}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function xo(u,f){for(f&=~og,f&=~dd,u.suspendedLanes|=f,u.pingedLanes&=~f,u=u.expirationTimes;0<f;){var g=31-_r(f),S=1<<g;u[g]=-1,f&=~S}}function u2(u){if(Gt&6)throw Error(n(327));yl();var f=Rs(u,0);if(!(f&1))return ra(u,gn()),null;var g=vd(u,f);if(u.tag!==0&&g===2){var S=io(u);S!==0&&(f=S,g=cg(u,S))}if(g===1)throw g=Nu,fi(u,0),xo(u,f),ra(u,gn()),g;if(g===6)throw Error(n(345));return u.finishedWork=u.current.alternate,u.finishedLanes=f,pi(u,na,Gs),ra(u,gn()),null}function fg(u,f){var g=Gt;Gt|=1;try{return u(f)}finally{Gt=g,Gt===0&&(vl=gn()+500,Uc&&mo())}}function di(u){wo!==null&&wo.tag===0&&!(Gt&6)&&yl();var f=Gt;Gt|=1;var g=Na.transition,S=jt;try{if(Na.transition=null,jt=1,u)return u()}finally{jt=S,Na.transition=g,Gt=f,!(Gt&6)&&mo()}}function pg(){ma=gl.current,Sn(gl)}function fi(u,f){u.finishedWork=null,u.finishedLanes=0;var g=u.timeoutHandle;if(g!==-1&&(u.timeoutHandle=-1,AE(g)),qn!==null)for(g=qn.return;g!==null;){var S=g;switch(xm(S),S.tag){case 1:S=S.type.childContextTypes,S!=null&&jc();break;case 3:pl(),Sn(Jr),Sn(Nr),Om();break;case 5:Rm(S);break;case 4:pl();break;case 13:Sn(Tn);break;case 19:Sn(Tn);break;case 10:Tm(S.type._context);break;case 22:case 23:pg()}g=g.return}if(cr=u,qn=u=ko(u.current,null),br=ma=f,rr=0,Nu=null,og=dd=ci=0,na=Au=null,ii!==null){for(f=0;f<ii.length;f++)if(g=ii[f],S=g.interleaved,S!==null){g.interleaved=null;var I=S.next,E=g.pending;if(E!==null){var j=E.next;E.next=I,S.next=j}g.pending=S}ii=null}return u}function c2(u,f){do{var g=qn;try{if(Em(),ed.current=ad,td){for(var S=Nn.memoizedState;S!==null;){var I=S.queue;I!==null&&(I.pending=null),S=S.next}td=!1}if(ui=0,ur=nr=Nn=null,ku=!1,_u=0,sg.current=null,g===null||g.return===null){rr=1,Nu=f,qn=null;break}e:{var E=u,j=g.return,ne=g,fe=f;if(f=br,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var ke=fe,ze=ne,We=ze.tag;if(!(ze.mode&1)&&(We===0||We===11||We===15)){var Pe=ze.alternate;Pe?(ze.updateQueue=Pe.updateQueue,ze.memoizedState=Pe.memoizedState,ze.lanes=Pe.lanes):(ze.updateQueue=null,ze.memoizedState=null)}var Je=Ob(j);if(Je!==null){Je.flags&=-257,Mb(Je,j,ne,E,f),Je.mode&1&&$b(E,ke,f),f=Je,fe=ke;var st=f.updateQueue;if(st===null){var lt=new Set;lt.add(fe),f.updateQueue=lt}else st.add(fe);break e}else{if(!(f&1)){$b(E,ke,f),hg();break e}fe=Error(n(426))}}else if(kn&&ne.mode&1){var Wn=Ob(j);if(Wn!==null){!(Wn.flags&65536)&&(Wn.flags|=256),Mb(Wn,j,ne,E,f),Im(hl(fe,ne));break e}}E=fe=hl(fe,ne),rr!==4&&(rr=2),Au===null?Au=[E]:Au.push(E),E=j;do{switch(E.tag){case 3:E.flags|=65536,f&=-f,E.lanes|=f;var ye=Fb(E,fe,f);sb(E,ye);break e;case 1:ne=fe;var he=E.type,we=E.stateNode;if(!(E.flags&128)&&(typeof he.getDerivedStateFromError=="function"||we!==null&&typeof we.componentDidCatch=="function"&&(bo===null||!bo.has(we)))){E.flags|=65536,f&=-f,E.lanes|=f;var Ue=Rb(E,ne,f);sb(E,Ue);break e}}E=E.return}while(E!==null)}p2(g)}catch(ct){f=ct,qn===g&&g!==null&&(qn=g=g.return);continue}break}while(!0)}function d2(){var u=cd.current;return cd.current=ad,u===null?ad:u}function hg(){(rr===0||rr===3||rr===2)&&(rr=4),cr===null||!(ci&268435455)&&!(dd&268435455)||xo(cr,br)}function vd(u,f){var g=Gt;Gt|=2;var S=d2();(cr!==u||br!==f)&&(Gs=null,fi(u,f));do try{t4();break}catch(I){c2(u,I)}while(!0);if(Em(),Gt=g,cd.current=S,qn!==null)throw Error(n(261));return cr=null,br=0,rr}function t4(){for(;qn!==null;)f2(qn)}function n4(){for(;qn!==null&&!Hi();)f2(qn)}function f2(u){var f=g2(u.alternate,u,ma);u.memoizedProps=u.pendingProps,f===null?p2(u):qn=f,sg.current=null}function p2(u){var f=u;do{var g=f.alternate;if(u=f.return,f.flags&32768){if(g=XE(g,f),g!==null){g.flags&=32767,qn=g;return}if(u!==null)u.flags|=32768,u.subtreeFlags=0,u.deletions=null;else{rr=6,qn=null;return}}else if(g=KE(g,f,ma),g!==null){qn=g;return}if(f=f.sibling,f!==null){qn=f;return}qn=f=u}while(f!==null);rr===0&&(rr=5)}function pi(u,f,g){var S=jt,I=Na.transition;try{Na.transition=null,jt=1,r4(u,f,g,S)}finally{Na.transition=I,jt=S}return null}function r4(u,f,g,S){do yl();while(wo!==null);if(Gt&6)throw Error(n(327));g=u.finishedWork;var I=u.finishedLanes;if(g===null)return null;if(u.finishedWork=null,u.finishedLanes=0,g===u.current)throw Error(n(177));u.callbackNode=null,u.callbackPriority=0;var E=g.lanes|g.childLanes;if(ti(u,E),u===cr&&(qn=cr=null,br=0),!(g.subtreeFlags&2064)&&!(g.flags&2064)||pd||(pd=!0,v2(Fs,function(){return yl(),null})),E=(g.flags&15990)!==0,g.subtreeFlags&15990||E){E=Na.transition,Na.transition=null;var j=jt;jt=1;var ne=Gt;Gt|=4,sg.current=null,ZE(u,g),r2(g,u),kE(hm),Ln=!!pm,hm=pm=null,u.current=g,QE(g),Gi(),Gt=ne,jt=j,Na.transition=E}else u.current=g;if(pd&&(pd=!1,wo=u,hd=I),E=u.pendingLanes,E===0&&(bo=null),ru(g.stateNode),ra(u,gn()),f!==null)for(S=u.onRecoverableError,g=0;g<f.length;g++)I=f[g],S(I.value,{componentStack:I.stack,digest:I.digest});if(fd)throw fd=!1,u=lg,lg=null,u;return hd&1&&u.tag!==0&&yl(),E=u.pendingLanes,E&1?u===ug?Du++:(Du=0,ug=u):Du=0,mo(),null}function yl(){if(wo!==null){var u=lo(hd),f=Na.transition,g=jt;try{if(Na.transition=null,jt=16>u?16:u,wo===null)var S=!1;else{if(u=wo,wo=null,hd=0,Gt&6)throw Error(n(331));var I=Gt;for(Gt|=4,nt=u.current;nt!==null;){var E=nt,j=E.child;if(nt.flags&16){var ne=E.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var ke=ne[fe];for(nt=ke;nt!==null;){var ze=nt;switch(ze.tag){case 0:case 11:case 15:Tu(8,ze,E)}var We=ze.child;if(We!==null)We.return=ze,nt=We;else for(;nt!==null;){ze=nt;var Pe=ze.sibling,Je=ze.return;if(Qb(ze),ze===ke){nt=null;break}if(Pe!==null){Pe.return=Je,nt=Pe;break}nt=Je}}}var st=E.alternate;if(st!==null){var lt=st.child;if(lt!==null){st.child=null;do{var Wn=lt.sibling;lt.sibling=null,lt=Wn}while(lt!==null)}}nt=E}}if(E.subtreeFlags&2064&&j!==null)j.return=E,nt=j;else e:for(;nt!==null;){if(E=nt,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Tu(9,E,E.return)}var ye=E.sibling;if(ye!==null){ye.return=E.return,nt=ye;break e}nt=E.return}}var he=u.current;for(nt=he;nt!==null;){j=nt;var we=j.child;if(j.subtreeFlags&2064&&we!==null)we.return=j,nt=we;else e:for(j=he;nt!==null;){if(ne=nt,ne.flags&2048)try{switch(ne.tag){case 0:case 11:case 15:ud(9,ne)}}catch(ct){Mn(ne,ne.return,ct)}if(ne===j){nt=null;break e}var Ue=ne.sibling;if(Ue!==null){Ue.return=ne.return,nt=Ue;break e}nt=ne.return}}if(Gt=I,mo(),Zr&&typeof Zr.onPostCommitFiberRoot=="function")try{Zr.onPostCommitFiberRoot(os,u)}catch{}S=!0}return S}finally{jt=g,Na.transition=f}}return!1}function h2(u,f,g){f=hl(g,f),f=Fb(u,f,1),u=vo(u,f,1),f=jr(),u!==null&&(Ir(u,1,f),ra(u,f))}function Mn(u,f,g){if(u.tag===3)h2(u,u,g);else for(;f!==null;){if(f.tag===3){h2(f,u,g);break}else if(f.tag===1){var S=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(bo===null||!bo.has(S))){u=hl(g,u),u=Rb(f,u,1),f=vo(f,u,1),u=jr(),f!==null&&(Ir(f,1,u),ra(f,u));break}}f=f.return}}function a4(u,f,g){var S=u.pingCache;S!==null&&S.delete(f),f=jr(),u.pingedLanes|=u.suspendedLanes&g,cr===u&&(br&g)===g&&(rr===4||rr===3&&(br&130023424)===br&&500>gn()-ig?fi(u,0):og|=g),ra(u,f)}function m2(u,f){f===0&&(u.mode&1?(f=ka,ka<<=1,!(ka&130023424)&&(ka=4194304)):f=1);var g=jr();u=Vs(u,f),u!==null&&(Ir(u,f,g),ra(u,g))}function s4(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),m2(u,g)}function o4(u,f){var g=0;switch(u.tag){case 13:var S=u.stateNode,I=u.memoizedState;I!==null&&(g=I.retryLane);break;case 19:S=u.stateNode;break;default:throw Error(n(314))}S!==null&&S.delete(f),m2(u,g)}var g2;g2=function(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps||Jr.current)ta=!0;else{if(!(u.lanes&g)&&!(f.flags&128))return ta=!1,qE(u,f,g);ta=!!(u.flags&131072)}else ta=!1,kn&&f.flags&1048576&&X1(f,Gc,f.index);switch(f.lanes=0,f.tag){case 2:var S=f.type;id(u,f),u=f.pendingProps;var I=ol(f,Nr.current);fl(f,g),I=Bm(null,f,S,u,I,g);var E=zm();return f.flags|=1,typeof I=="object"&&I!==null&&typeof I.render=="function"&&I.$$typeof===void 0?(f.tag=1,f.memoizedState=null,f.updateQueue=null,ea(S)?(E=!0,Vc(f)):E=!1,f.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,Dm(f),I.updater=sd,f.stateNode=I,I._reactInternals=f,Hm(f,S,u,g),f=Xm(null,f,S,!0,E,g)):(f.tag=0,kn&&E&&Sm(f),Wr(null,f,I,g),f=f.child),f;case 16:S=f.elementType;e:{switch(id(u,f),u=f.pendingProps,I=S._init,S=I(S._payload),f.type=S,I=f.tag=l4(S),u=Ga(S,u),I){case 0:f=Km(null,f,S,u,g);break e;case 1:f=jb(null,f,S,u,g);break e;case 11:f=Pb(null,f,S,u,g);break e;case 14:f=Bb(null,f,S,Ga(S.type,u),g);break e}throw Error(n(306,S,""))}return f;case 0:return S=f.type,I=f.pendingProps,I=f.elementType===S?I:Ga(S,I),Km(u,f,S,I,g);case 1:return S=f.type,I=f.pendingProps,I=f.elementType===S?I:Ga(S,I),jb(u,f,S,I,g);case 3:e:{if(Vb(f),u===null)throw Error(n(387));S=f.pendingProps,E=f.memoizedState,I=E.element,ab(u,f),Qc(f,S,null,g);var j=f.memoizedState;if(S=j.element,E.isDehydrated)if(E={element:S,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},f.updateQueue.baseState=E,f.memoizedState=E,f.flags&256){I=hl(Error(n(423)),f),f=Ub(u,f,S,g,I);break e}else if(S!==I){I=hl(Error(n(424)),f),f=Ub(u,f,S,g,I);break e}else for(ha=fo(f.stateNode.containerInfo.firstChild),pa=f,kn=!0,Ha=null,g=nb(f,null,S,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling;else{if(ul(),S===I){f=Hs(u,f,g);break e}Wr(u,f,S,g)}f=f.child}return f;case 5:return ib(f),u===null&&_m(f),S=f.type,I=f.pendingProps,E=u!==null?u.memoizedProps:null,j=I.children,mm(S,I)?j=null:E!==null&&mm(S,E)&&(f.flags|=32),Wb(u,f),Wr(u,f,j,g),f.child;case 6:return u===null&&_m(f),null;case 13:return Hb(u,f,g);case 4:return Fm(f,f.stateNode.containerInfo),S=f.pendingProps,u===null?f.child=cl(f,null,S,g):Wr(u,f,S,g),f.child;case 11:return S=f.type,I=f.pendingProps,I=f.elementType===S?I:Ga(S,I),Pb(u,f,S,I,g);case 7:return Wr(u,f,f.pendingProps,g),f.child;case 8:return Wr(u,f,f.pendingProps.children,g),f.child;case 12:return Wr(u,f,f.pendingProps.children,g),f.child;case 10:e:{if(S=f.type._context,I=f.pendingProps,E=f.memoizedProps,j=I.value,vn(Xc,S._currentValue),S._currentValue=j,E!==null)if(Ua(E.value,j)){if(E.children===I.children&&!Jr.current){f=Hs(u,f,g);break e}}else for(E=f.child,E!==null&&(E.return=f);E!==null;){var ne=E.dependencies;if(ne!==null){j=E.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===S){if(E.tag===1){fe=Us(-1,g&-g),fe.tag=2;var ke=E.updateQueue;if(ke!==null){ke=ke.shared;var ze=ke.pending;ze===null?fe.next=fe:(fe.next=ze.next,ze.next=fe),ke.pending=fe}}E.lanes|=g,fe=E.alternate,fe!==null&&(fe.lanes|=g),Nm(E.return,g,f),ne.lanes|=g;break}fe=fe.next}}else if(E.tag===10)j=E.type===f.type?null:E.child;else if(E.tag===18){if(j=E.return,j===null)throw Error(n(341));j.lanes|=g,ne=j.alternate,ne!==null&&(ne.lanes|=g),Nm(j,g,f),j=E.sibling}else j=E.child;if(j!==null)j.return=E;else for(j=E;j!==null;){if(j===f){j=null;break}if(E=j.sibling,E!==null){E.return=j.return,j=E;break}j=j.return}E=j}Wr(u,f,I.children,g),f=f.child}return f;case 9:return I=f.type,S=f.pendingProps.children,fl(f,g),I=Ea(I),S=S(I),f.flags|=1,Wr(u,f,S,g),f.child;case 14:return S=f.type,I=Ga(S,f.pendingProps),I=Ga(S.type,I),Bb(u,f,S,I,g);case 15:return zb(u,f,f.type,f.pendingProps,g);case 17:return S=f.type,I=f.pendingProps,I=f.elementType===S?I:Ga(S,I),id(u,f),f.tag=1,ea(S)?(u=!0,Vc(f)):u=!1,fl(f,g),Ab(f,S,I),Hm(f,S,I,g),Xm(null,f,S,!0,u,g);case 19:return qb(u,f,g);case 22:return Lb(u,f,g)}throw Error(n(156,f.tag))};function v2(u,f){return As(u,f)}function i4(u,f,g,S){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(u,f,g,S){return new i4(u,f,g,S)}function mg(u){return u=u.prototype,!(!u||!u.isReactComponent)}function l4(u){if(typeof u=="function")return mg(u)?1:0;if(u!=null){if(u=u.$$typeof,u===O)return 11;if(u===q)return 14}return 2}function ko(u,f){var g=u.alternate;return g===null?(g=Aa(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&14680064,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g}function yd(u,f,g,S,I,E){var j=2;if(S=u,typeof u=="function")mg(u)&&(j=1);else if(typeof u=="string")j=5;else e:switch(u){case M:return hi(g.children,I,E,f);case W:j=8,I|=8;break;case P:return u=Aa(12,g,f,I|2),u.elementType=P,u.lanes=E,u;case U:return u=Aa(13,g,f,I),u.elementType=U,u.lanes=E,u;case N:return u=Aa(19,g,f,I),u.elementType=N,u.lanes=E,u;case J:return bd(g,I,E,f);default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case z:j=10;break e;case F:j=9;break e;case O:j=11;break e;case q:j=14;break e;case ae:j=16,S=null;break e}throw Error(n(130,u==null?u:typeof u,""))}return f=Aa(j,g,f,I),f.elementType=u,f.type=S,f.lanes=E,f}function hi(u,f,g,S){return u=Aa(7,u,S,f),u.lanes=g,u}function bd(u,f,g,S){return u=Aa(22,u,S,f),u.elementType=J,u.lanes=g,u.stateNode={isHidden:!1},u}function gg(u,f,g){return u=Aa(6,u,null,f),u.lanes=g,u}function vg(u,f,g){return f=Aa(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}function u4(u,f,g,S,I){this.tag=f,this.containerInfo=u,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$s(0),this.expirationTimes=$s(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$s(0),this.identifierPrefix=S,this.onRecoverableError=I,this.mutableSourceEagerHydrationData=null}function yg(u,f,g,S,I,E,j,ne,fe){return u=new u4(u,f,g,ne,fe),f===1?(f=1,E===!0&&(f|=8)):f=0,E=Aa(3,null,null,f),u.current=E,E.stateNode=u,E.memoizedState={element:S,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dm(E),u}function c4(u,f,g){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:R,key:S==null?null:""+S,children:u,containerInfo:f,implementation:g}}function y2(u){if(!u)return ho;u=u._reactInternals;e:{if(zn(u)!==u||u.tag!==1)throw Error(n(170));var f=u;do{switch(f.tag){case 3:f=f.stateNode.context;break e;case 1:if(ea(f.type)){f=f.stateNode.__reactInternalMemoizedMergedChildContext;break e}}f=f.return}while(f!==null);throw Error(n(171))}if(u.tag===1){var g=u.type;if(ea(g))return G1(u,g,f)}return f}function b2(u,f,g,S,I,E,j,ne,fe){return u=yg(g,S,!0,u,I,E,j,ne,fe),u.context=y2(null),g=u.current,S=jr(),I=So(g),E=Us(S,I),E.callback=f??null,vo(g,E,I),u.current.lanes=I,Ir(u,I,S),ra(u,S),u}function wd(u,f,g,S){var I=f.current,E=jr(),j=So(I);return g=y2(g),f.context===null?f.context=g:f.pendingContext=g,f=Us(E,j),f.payload={element:u},S=S===void 0?null:S,S!==null&&(f.callback=S),u=vo(I,f,j),u!==null&&(Xa(u,I,j,E),Zc(u,I,j)),j}function Sd(u){if(u=u.current,!u.child)return null;switch(u.child.tag){case 5:return u.child.stateNode;default:return u.child.stateNode}}function w2(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function bg(u,f){w2(u,f),(u=u.alternate)&&w2(u,f)}function d4(){return null}var S2=typeof reportError=="function"?reportError:function(u){console.error(u)};function wg(u){this._internalRoot=u}xd.prototype.render=wg.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));wd(u,f,null,null)},xd.prototype.unmount=wg.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;di(function(){wd(null,u,null,null)}),f[zs]=null}};function xd(u){this._internalRoot=u}xd.prototype.unstable_scheduleHydration=function(u){if(u){var f=Ps();u={blockedOn:null,target:u,priority:f};for(var g=0;g<Be.length&&f!==0&&f<Be[g].priority;g++);Be.splice(g,0,u),g===0&&rt(u)}};function Sg(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function kd(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11&&(u.nodeType!==8||u.nodeValue!==" react-mount-point-unstable "))}function x2(){}function f4(u,f,g,S,I){if(I){if(typeof S=="function"){var E=S;S=function(){var ke=Sd(j);E.call(ke)}}var j=b2(f,S,u,0,null,!1,!1,"",x2);return u._reactRootContainer=j,u[zs]=j.current,mu(u.nodeType===8?u.parentNode:u),di(),j}for(;I=u.lastChild;)u.removeChild(I);if(typeof S=="function"){var ne=S;S=function(){var ke=Sd(fe);ne.call(ke)}}var fe=yg(u,0,!1,null,null,!1,!1,"",x2);return u._reactRootContainer=fe,u[zs]=fe.current,mu(u.nodeType===8?u.parentNode:u),di(function(){wd(f,fe,g,S)}),fe}function _d(u,f,g,S,I){var E=g._reactRootContainer;if(E){var j=E;if(typeof I=="function"){var ne=I;I=function(){var fe=Sd(j);ne.call(fe)}}wd(f,j,u,I)}else j=f4(g,f,u,I,S);return Sd(j)}us=function(u){switch(u.tag){case 3:var f=u.stateNode;if(f.current.memoizedState.isDehydrated){var g=Gn(f.pendingLanes);g!==0&&(ls(f,g|1),ra(f,gn()),!(Gt&6)&&(vl=gn()+500,mo()))}break;case 13:di(function(){var S=Vs(u,1);if(S!==null){var I=jr();Xa(S,u,1,I)}}),bg(u,1)}},Os=function(u){if(u.tag===13){var f=Vs(u,134217728);if(f!==null){var g=jr();Xa(f,u,134217728,g)}bg(u,134217728)}},Ms=function(u){if(u.tag===13){var f=So(u),g=Vs(u,f);if(g!==null){var S=jr();Xa(g,u,f,S)}bg(u,f)}},Ps=function(){return jt},Bs=function(u,f){var g=jt;try{return jt=u,f()}finally{jt=g}},or=function(u,f,g){switch(f){case"input":if(Q(u,g),f=g.name,g.type==="radio"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll("input[name="+JSON.stringify(""+f)+'][type="radio"]'),f=0;f<g.length;f++){var S=g[f];if(S!==u&&S.form===u.form){var I=Wc(S);if(!I)throw Error(n(90));et(S),Q(S,I)}}}break;case"textarea":Ve(u,g);break;case"select":f=g.value,f!=null&&Ae(u,!!g.multiple,f,!1)}},Ie=fg,Le=di;var p4={usingClientEntryPoint:!1,Events:[yu,al,Wc,ca,ir,fg]},Fu={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h4={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(u){return u=Ui(u),u===null?null:u.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||d4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Id.isDisabled&&Id.supportsFiber)try{os=Id.inject(h4),Zr=Id}catch{}}return aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p4,aa.createPortal=function(u,f){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sg(f))throw Error(n(200));return c4(u,f,null,g)},aa.createRoot=function(u,f){if(!Sg(u))throw Error(n(299));var g=!1,S="",I=S2;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),f=yg(u,1,!1,null,null,g,!1,S,I),u[zs]=f.current,mu(u.nodeType===8?u.parentNode:u),new wg(f)},aa.findDOMNode=function(u){if(u==null)return null;if(u.nodeType===1)return u;var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=Ui(f),u=u===null?null:u.stateNode,u},aa.flushSync=function(u){return di(u)},aa.hydrate=function(u,f,g){if(!kd(f))throw Error(n(200));return _d(null,u,f,!0,g)},aa.hydrateRoot=function(u,f,g){if(!Sg(u))throw Error(n(405));var S=g!=null&&g.hydratedSources||null,I=!1,E="",j=S2;if(g!=null&&(g.unstable_strictMode===!0&&(I=!0),g.identifierPrefix!==void 0&&(E=g.identifierPrefix),g.onRecoverableError!==void 0&&(j=g.onRecoverableError)),f=b2(f,null,u,1,g??null,I,!1,E,j),u[zs]=f.current,mu(u),S)for(u=0;u<S.length;u++)g=S[u],I=g._getVersion,I=I(g._source),f.mutableSourceEagerHydrationData==null?f.mutableSourceEagerHydrationData=[g,I]:f.mutableSourceEagerHydrationData.push(g,I);return new xd(f)},aa.render=function(u,f,g){if(!kd(f))throw Error(n(200));return _d(null,u,f,!1,g)},aa.unmountComponentAtNode=function(u){if(!kd(u))throw Error(n(40));return u._reactRootContainer?(di(function(){_d(null,null,u,!1,function(){u._reactRootContainer=null,u[zs]=null})}),!0):!1},aa.unstable_batchedUpdates=fg,aa.unstable_renderSubtreeIntoContainer=function(u,f,g,S){if(!kd(g))throw Error(n(200));if(u==null||u._reactInternals===void 0)throw Error(n(38));return _d(u,f,g,!1,S)},aa.version="18.3.1-next-f1338f8080-20240426",aa}var A2;function C4(){if(A2)return _g.exports;A2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_g.exports=I4(),_g.exports}var D2;function E4(){if(D2)return Cd;D2=1;var t=C4();return Cd.createRoot=t.createRoot,Cd.hydrateRoot=t.hydrateRoot,Cd}var T4=E4(),Eg={exports:{}},Tg={},Ng={exports:{}},Ag={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F2;function N4(){if(F2)return Ag;F2=1;var t=xc();function e(p,h){return p===h&&(p!==0||1/p===1/h)||p!==p&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,a=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function i(p,h){var m=h(),y=r({inst:{value:m,getSnapshot:h}}),v=y[0].inst,b=y[1];return s(function(){v.value=m,v.getSnapshot=h,c(v)&&b({inst:v})},[p,m,h]),a(function(){return c(v)&&b({inst:v}),p(function(){c(v)&&b({inst:v})})},[p]),o(m),m}function c(p){var h=p.getSnapshot;p=p.value;try{var m=h();return!n(p,m)}catch{return!0}}function d(p,h){return h()}var l=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:i;return Ag.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:l,Ag}var R2;function A4(){return R2||(R2=1,Ng.exports=N4()),Ng.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $2;function D4(){if($2)return Tg;$2=1;var t=xc(),e=A4();function n(d,l){return d===l&&(d!==0||1/d===1/l)||d!==d&&l!==l}var r=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,i=t.useMemo,c=t.useDebugValue;return Tg.useSyncExternalStoreWithSelector=function(d,l,p,h,m){var y=s(null);if(y.current===null){var v={hasValue:!1,value:null};y.current=v}else v=y.current;y=i(function(){function w(R){if(!x){if(x=!0,_=R,R=h(R),m!==void 0&&v.hasValue){var M=v.value;if(m(M,R))return C=M}return C=R}if(M=C,r(_,R))return M;var W=h(R);return m!==void 0&&m(M,W)?(_=R,M):(_=R,C=W)}var x=!1,_,C,T=p===void 0?null:p;return[function(){return w(l())},T===null?void 0:function(){return w(T())}]},[l,p,h,m]);var b=a(d,y[0],y[1]);return o(function(){v.hasValue=!0,v.value=b},[b]),c(b),b},Tg}var O2;function F4(){return O2||(O2=1,Eg.exports=D4()),Eg.exports}var ax=F4();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xe=function(){return Xe=Object.assign||function(e){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xe.apply(this,arguments)};function Ay(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function Lt(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Zt(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function xn(t,e,n){if(arguments.length===2)for(var r=0,a=e.length,s;r<a;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var fn;(function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"})(fn||(fn={}));var Ol;(function(t){t.Parent="#_parent",t.Internal="#_internal"})(Ol||(Ol={}));var xv=fn.Start,Dy=fn.Stop,kc=fn.Raise,$f=fn.Send,sx=fn.Cancel,R4=fn.NullEvent,Fy=fn.Assign;fn.After;fn.DoneState;var ox=fn.Log,$4=fn.Init,kv=fn.Invoke;fn.ErrorExecution;var M2=fn.ErrorPlatform,O4=fn.ErrorCustom,ix=fn.Update,M4=fn.Choose,P4=fn.Pure,lx=".",P2={},_v="xstate.guard",B4="",Ed;function Ry(t,e,n){n===void 0&&(n=lx);var r=Xu(t,n),a=Xu(e,n);return nn(a)?nn(r)?a===r:!1:nn(r)?r in a:Object.keys(r).every(function(s){return s in a?Ry(r[s],a[s]):!1})}function ux(t){try{return nn(t)||typeof t=="number"?"".concat(t):t.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Iv(t,e){try{return Gl(t)?t:t.toString().split(e)}catch{throw new Error("'".concat(t,"' is not a valid state path."))}}function z4(t){return typeof t=="object"&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function Xu(t,e){if(z4(t))return t.value;if(Gl(t))return af(t);if(typeof t!="string")return t;var n=Iv(t,e);return af(n)}function af(t){if(t.length===1)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function Lu(t,e){for(var n={},r=Object.keys(t),a=0;a<r.length;a++){var s=r[a];n[s]=e(t[s],s,t,a)}return n}function B2(t,e,n){var r,a,s={};try{for(var o=Lt(Object.keys(t)),i=o.next();!i.done;i=o.next()){var c=i.value,d=t[c];n(d)&&(s[c]=e(d,c,t))}}catch(l){r={error:l}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return s}var L4=function(t){return function(e){var n,r,a=e;try{for(var s=Lt(t),o=s.next();!o.done;o=s.next()){var i=o.value;a=a[i]}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return a}};function W4(t,e){return function(n){var r,a,s=n;try{for(var o=Lt(t),i=o.next();!i.done;i=o.next()){var c=i.value;s=s[e][c]}}catch(d){r={error:d}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return s}}function zd(t){if(!t)return[[]];if(nn(t))return[[t]];var e=An(Object.keys(t).map(function(n){var r=t[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:zd(t[n]).map(function(a){return[n].concat(a)})}));return e}function An(t){var e;return(e=[]).concat.apply(e,xn([],Zt(t),!1))}function cx(t){return Gl(t)?t:[t]}function Ya(t){return t===void 0?[]:cx(t)}function sf(t,e,n){var r,a;if(en(t))return t(e,n.data);var s={};try{for(var o=Lt(Object.keys(t)),i=o.next();!i.done;i=o.next()){var c=i.value,d=t[c];en(d)?s[c]=d(e,n.data):s[c]=d}}catch(l){r={error:l}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(r)throw r.error}}return s}function j4(t){return/^(done|error)\./.test(t)}function z2(t){return!!(t instanceof Promise||t!==null&&(en(t)||typeof t=="object")&&en(t.then))}function V4(t){return t!==null&&typeof t=="object"&&"transition"in t&&typeof t.transition=="function"}function U4(t,e){var n,r,a=Zt([[],[]],2),s=a[0],o=a[1];try{for(var i=Lt(t),c=i.next();!c.done;c=i.next()){var d=c.value;e(d)?s.push(d):o.push(d)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[s,o]}function dx(t,e){return Lu(t.states,function(n,r){if(n){var a=(nn(e)?void 0:e[r])||(n?n.current:void 0);if(a)return{current:a,states:dx(n,a)}}})}function H4(t,e){return{current:e,states:dx(t,e)}}function L2(t,e,n,r){var a=t&&n.reduce(function(s,o){var i,c,d=o.assignment,l={state:r,action:o,_event:e},p={};if(en(d))p=d(s,e.data,l);else try{for(var h=Lt(Object.keys(d)),m=h.next();!m.done;m=h.next()){var y=m.value,v=d[y];p[y]=en(v)?v(s,e.data,l):v}}catch(b){i={error:b}}finally{try{m&&!m.done&&(c=h.return)&&c.call(h)}finally{if(i)throw i.error}}return Object.assign({},s,p)},t);return a}var G4=function(){};function Gl(t){return Array.isArray(t)}function en(t){return typeof t=="function"}function nn(t){return typeof t=="string"}function fx(t,e){if(t)return nn(t)?{type:_v,name:t,predicate:e?e[t]:void 0}:en(t)?{type:_v,name:t.name,predicate:t}:t}function q4(t){try{return"subscribe"in t&&en(t.subscribe)}catch{return!1}}var Co=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Ed={},Ed[Co]=function(){return this},Ed[Symbol.observable]=function(){return this};function Ml(t){return!!t&&"__xstatenode"in t}function K4(t){return!!t&&typeof t.send=="function"}function Of(t,e){return nn(t)||typeof t=="number"?Xe({type:t},e):t}function wr(t,e){if(!nn(t)&&"$$type"in t&&t.$$type==="scxml")return t;var n=Of(t);return Xe({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function bl(t,e){var n=cx(e).map(function(r){return typeof r>"u"||typeof r=="string"||Ml(r)?{target:r,event:t}:Xe(Xe({},r),{event:t})});return n}function X4(t){if(!(t===void 0||t===B4))return Ya(t)}function px(t,e,n,r,a){var s=t.options.guards,o={state:a,cond:e,_event:r};if(e.type===_v)return((s==null?void 0:s[e.name])||e.predicate)(n,r.data,o);var i=s==null?void 0:s[e.type];if(!i)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return i(n,r.data,o)}function hx(t){return typeof t=="string"?{type:t}:t}function Yu(t,e,n){var r=function(){},a=typeof t=="object",s=a?t:null;return{next:((a?t.next:t)||r).bind(s),error:((a?t.error:e)||r).bind(s),complete:((a?t.complete:n)||r).bind(s)}}function Td(t,e){return"".concat(t,":invocation[").concat(e,"]")}function Cv(t){return(t.type===kc||t.type===$f&&t.to===Ol.Internal)&&typeof t.delay!="number"}var Tl=wr({type:$4});function Ev(t,e){return e&&e[t]||void 0}function nc(t,e){var n;if(nn(t)||typeof t=="number"){var r=Ev(t,e);en(r)?n={type:t,exec:r}:r?n=r:n={type:t,exec:void 0}}else if(en(t))n={type:t.name||t.toString(),exec:t};else{var r=Ev(t.type,e);if(en(r))n=Xe(Xe({},t),{exec:r});else if(r){var a=r.type||t.type;n=Xe(Xe(Xe({},r),t),{type:a})}else n=t}return n}var Eo=function(t,e){if(!t)return[];var n=Gl(t)?t:[t];return n.map(function(r){return nc(r,e)})};function $y(t){var e=nc(t);return Xe(Xe({id:nn(t)?t:e.id},e),{type:e.type})}function Y4(t,e){return{type:kc,event:typeof t=="function"?t:Of(t),delay:e?e.delay:void 0,id:e==null?void 0:e.id}}function Z4(t,e,n,r){var a={_event:n},s=wr(en(t.event)?t.event(e,n.data,a):t.event),o;if(nn(t.delay)){var i=r&&r[t.delay];o=en(i)?i(e,n.data,a):i}else o=en(t.delay)?t.delay(e,n.data,a):t.delay;return Xe(Xe({},t),{type:kc,_event:s,delay:o})}function Ld(t,e){return{to:e?e.to:void 0,type:$f,event:en(t)?t:Of(t),delay:e?e.delay:void 0,id:e&&e.id!==void 0?e.id:en(t)?t.name:ux(t)}}function Q4(t,e,n,r){var a={_event:n},s=wr(en(t.event)?t.event(e,n.data,a):t.event),o;if(nn(t.delay)){var i=r&&r[t.delay];o=en(i)?i(e,n.data,a):i}else o=en(t.delay)?t.delay(e,n.data,a):t.delay;var c=en(t.to)?t.to(e,n.data,a):t.to;return Xe(Xe({},t),{to:c,_event:s,event:s.data,delay:o})}var J4=function(t,e,n){return Xe(Xe({},t),{value:nn(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})},Wd=function(t){return{type:sx,sendId:t}};function eT(t){var e=$y(t);return{type:fn.Start,activity:e,exec:void 0}}function tT(t){var e=en(t)?t:$y(t);return{type:fn.Stop,activity:e,exec:void 0}}function nT(t,e,n){var r=en(t.activity)?t.activity(e,n.data):t.activity,a=typeof r=="string"?{id:r}:r,s={type:fn.Stop,activity:a};return s}var rT=function(t){return{type:Fy,assignment:t}};function aT(t,e){var n=e?"#".concat(e):"";return"".concat(fn.After,"(").concat(t,")").concat(n)}function Nd(t,e){var n="".concat(fn.DoneState,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function jd(t,e){var n="".concat(fn.DoneInvoke,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}function Wu(t,e){var n="".concat(fn.ErrorPlatform,".").concat(t),r={type:n,data:e};return r.toString=function(){return n},r}var sT=function(t){var e,n,r=[];try{for(var a=Lt(t),s=a.next();!s.done;s=a.next())for(var o=s.value,i=0;i<o.actions.length;){if(o.actions[i].type===Fy){r.push(o.actions[i]),o.actions.splice(i,1);continue}i++}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r};function of(t,e,n,r,a,s,o){o===void 0&&(o=!1);var i=o?[]:sT(a),c=i.length?L2(n,r,i,e):n,d=o?[n]:void 0,l=[];function p(y,v){var b;switch(v.type){case kc:{var w=Z4(v,c,r,t.options.delays);return s&&typeof w.delay=="number"&&s(w,c,r),w}case $f:var x=Q4(v,c,r,t.options.delays);return s&&x.to!==Ol.Internal&&(y==="entry"?l.push(x):s(x,c,r)),x;case ox:{var _=J4(v,c,r);return s==null||s(_,c,r),_}case M4:{var C=v,T=(b=C.conds.find(function(ae){var J=fx(ae.cond,t.options.guards);return!J||px(t,J,c,r,s?void 0:e)}))===null||b===void 0?void 0:b.actions;if(!T)return[];var R=Zt(of(t,e,c,r,[{type:y,actions:Eo(Ya(T),t.options.actions)}],s,o),2),M=R[0],W=R[1];return c=W,d==null||d.push(c),M}case P4:{var T=v.get(c,r.data);if(!T)return[];var P=Zt(of(t,e,c,r,[{type:y,actions:Eo(Ya(T),t.options.actions)}],s,o),2),z=P[0],F=P[1];return c=F,d==null||d.push(c),z}case Dy:{var _=nT(v,c,r);return s==null||s(_,n,r),_}case Fy:{c=L2(c,r,[v],s?void 0:e),d==null||d.push(c);break}default:var O=nc(v,t.options.actions),U=O.exec;if(s)s(O,c,r);else if(U&&d){var N=d.length-1,q=Xe(Xe({},O),{exec:function(ae){for(var J=[],Z=1;Z<arguments.length;Z++)J[Z-1]=arguments[Z];U.apply(void 0,xn([d[N]],Zt(J),!1))}});O=q}return O}}function h(y){var v,b,w=[];try{for(var x=Lt(y.actions),_=x.next();!_.done;_=x.next()){var C=_.value,T=p(y.type,C);T&&(w=w.concat(T))}}catch(R){v={error:R}}finally{try{_&&!_.done&&(b=x.return)&&b.call(x)}finally{if(v)throw v.error}}return l.forEach(function(R){s(R,c,r)}),l.length=0,w}var m=An(a.map(h));return[m,c]}var kl=function(t,e){var n=e(t);return n};function mx(t){var e;return e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}},e[Co]=function(){return this},e}function oT(t,e,n,r){var a,s=hx(t.src),o=(a=e==null?void 0:e.options.services)===null||a===void 0?void 0:a[s.type],i=t.data?sf(t.data,n,r):void 0,c=o?gx(o,t.id,i):mx(t.id);return c.meta=t,c}function gx(t,e,n){var r=mx(e);if(r.deferred=!0,Ml(t)){var a=r.state=kl(void 0,function(){return(n?t.withContext(n):t).initialState});r.getSnapshot=function(){return a}}return r}function iT(t){try{return typeof t.send=="function"}catch{return!1}}function lT(t){return iT(t)&&"id"in t}function uT(t){var e;return Xe((e={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},e[Co]=function(){return this},e),t)}var lf=function(t){return t.type==="atomic"||t.type==="final"};function vx(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function rc(t){return vx(t).filter(function(e){return e.type!=="history"})}function yx(t){var e=[t];return lf(t)?e:e.concat(An(rc(t).map(yx)))}function ju(t,e){var n,r,a,s,o,i,c,d,l=new Set(t),p=Tv(l),h=new Set(e);try{for(var m=Lt(h),y=m.next();!y.done;y=m.next())for(var v=y.value,b=v.parent;b&&!h.has(b);)h.add(b),b=b.parent}catch(P){n={error:P}}finally{try{y&&!y.done&&(r=m.return)&&r.call(m)}finally{if(n)throw n.error}}var w=Tv(h);try{for(var x=Lt(h),_=x.next();!_.done;_=x.next()){var v=_.value;if(v.type==="compound"&&(!w.get(v)||!w.get(v).length))p.get(v)?p.get(v).forEach(function(z){return h.add(z)}):v.initialStateNodes.forEach(function(z){return h.add(z)});else if(v.type==="parallel")try{for(var C=(o=void 0,Lt(rc(v))),T=C.next();!T.done;T=C.next()){var R=T.value;h.has(R)||(h.add(R),p.get(R)?p.get(R).forEach(function(z){return h.add(z)}):R.initialStateNodes.forEach(function(z){return h.add(z)}))}}catch(z){o={error:z}}finally{try{T&&!T.done&&(i=C.return)&&i.call(C)}finally{if(o)throw o.error}}}}catch(P){a={error:P}}finally{try{_&&!_.done&&(s=x.return)&&s.call(x)}finally{if(a)throw a.error}}try{for(var M=Lt(h),W=M.next();!W.done;W=M.next())for(var v=W.value,b=v.parent;b&&!h.has(b);)h.add(b),b=b.parent}catch(P){c={error:P}}finally{try{W&&!W.done&&(d=M.return)&&d.call(M)}finally{if(c)throw c.error}}return h}function bx(t,e){var n=e.get(t);if(!n)return{};if(t.type==="compound"){var r=n[0];if(r){if(lf(r))return r.key}else return{}}var a={};return n.forEach(function(s){a[s.key]=bx(s,e)}),a}function Tv(t){var e,n,r=new Map;try{for(var a=Lt(t),s=a.next();!s.done;s=a.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(i){e={error:i}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}function cT(t,e){var n=ju([t],e);return bx(t,Tv(n))}function Vu(t,e){return Array.isArray(t)?t.some(function(n){return n===e}):t instanceof Set?t.has(e):!1}function dT(t){return xn([],Zt(new Set(An(xn([],Zt(t.map(function(e){return e.ownEvents})),!1)))),!1)}function Vd(t,e){return e.type==="compound"?rc(e).some(function(n){return n.type==="final"&&Vu(t,n)}):e.type==="parallel"?rc(e).every(function(n){return Vd(t,n)}):!1}function fT(t){return t===void 0&&(t=[]),t.reduce(function(e,n){return n.meta!==void 0&&(e[n.id]=n.meta),e},{})}function W2(t){return new Set(An(t.map(function(e){return e.tags})))}function wx(t,e){if(t===e)return!0;if(t===void 0||e===void 0)return!1;if(nn(t)||nn(e))return t===e;var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(a){return wx(t[a],e[a])})}function pT(t){return typeof t!="object"||t===null?!1:"value"in t&&"_event"in t}function hT(t,e){var n=t.exec,r=Xe(Xe({},t),{exec:n!==void 0?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0});return r}var Za=function(){function t(e){var n=this,r;this.actions=[],this.activities=P2,this.meta={},this.events=[],this.value=e.value,this.context=e.context,this._event=e._event,this._sessionid=e._sessionid,this.event=this._event.data,this.historyValue=e.historyValue,this.history=e.history,this.actions=e.actions||[],this.activities=e.activities||P2,this.meta=fT(e.configuration),this.events=e.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=e.configuration,this.transitions=e.transitions,this.children=e.children,this.done=!!e.done,this.tags=(r=Array.isArray(e.tags)?new Set(e.tags):e.tags)!==null&&r!==void 0?r:new Set,this.machine=e.machine,Object.defineProperty(this,"nextEvents",{get:function(){return dT(n.configuration)}})}return t.from=function(e,n){if(e instanceof t)return e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,events:[],configuration:[],transitions:[],children:{}}):e;var r=Tl;return new t({value:e,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=Tl;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(e,n){var r=this;if(e===void 0&&(e=this.value),n===void 0&&(n="."),nn(e))return[e];var a=Object.keys(e);return a.concat.apply(a,xn([],Zt(a.map(function(s){return r.toStrings(e[s],n).map(function(o){return s+n+o})})),!1))},t.prototype.toJSON=function(){var e=this;e.configuration,e.transitions;var n=e.tags;e.machine;var r=Ay(e,["configuration","transitions","tags","machine"]);return Xe(Xe({},r),{tags:Array.from(n)})},t.prototype.matches=function(e){return Ry(e,this.value)},t.prototype.hasTag=function(e){return this.tags.has(e)},t.prototype.can=function(e){var n;G4(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,e);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(a){return a.target!==void 0||a.actions.length})},t}(),mT={deferEvents:!1},j2=function(){function t(e){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Xe(Xe({},mT),e)}return t.prototype.initialize=function(e){if(this.initialized=!0,e){if(!this.options.deferEvents){this.schedule(e);return}this.process(e)}this.flushEvents()},t.prototype.schedule=function(e){if(!this.initialized||this.processingEvent){this.queue.push(e);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(e),this.flushEvents()},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var e=this.queue.shift();e;)this.process(e),e=this.queue.shift()},t.prototype.process=function(e){this.processingEvent=!0;try{e()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},t}(),Dg=new Map,gT=0,$u={bookId:function(){return"x:".concat(gT++)},register:function(t,e){return Dg.set(t,e),t},get:function(t){return Dg.get(t)},free:function(t){Dg.delete(t)}};function Oy(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function vT(){var t=Oy();if(t&&"__xstate__"in t)return t.__xstate__}function yT(t){if(Oy()){var e=vT();e&&e.register(t)}}function bT(t,e){e===void 0&&(e={});var n=t.initialState,r=new Set,a=[],s=!1,o=function(){if(!s){for(s=!0;a.length>0;){var d=a.shift();n=t.transition(n,d,c),r.forEach(function(l){return l.next(n)})}s=!1}},i=uT({id:e.id,send:function(d){a.push(d),o()},getSnapshot:function(){return n},subscribe:function(d,l,p){var h=Yu(d,l,p);return r.add(h),h.next(n),{unsubscribe:function(){r.delete(h)}}}}),c={parent:e.parent,self:i,id:e.id||"anonymous",observers:r};return n=t.start?t.start(c):n,i}var wT={sync:!1,autoForward:!1},Kn;(function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"})(Kn||(Kn={}));var ST=function(){function t(e,n){n===void 0&&(n=t.defaultOptions);var r=this;this.machine=e,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=Kn.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(l,p){if(Gl(l))return r.batch(l),r.state;var h=wr(Of(l,p));if(r.status===Kn.Stopped)return r.state;if(r.status!==Kn.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(h.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(h.data)));return r.scheduler.schedule(function(){r.forward(h);var m=r._nextState(h);r.update(m,h)}),r._state},this.sendTo=function(l,p,h){var m=r.parent&&(p===Ol.Parent||r.parent.id===p),y=m?r.parent:nn(p)?p===Ol.Internal?r:r.children.get(p)||$u.get(p):K4(p)?p:void 0;if(!y){if(!m)throw new Error("Unable to send event to child '".concat(p,"' from service '").concat(r.id,"'."));return}if("machine"in y){if(r.status!==Kn.Stopped||r.parent!==y||r.state.done){var v=Xe(Xe({},l),{name:l.name===O4?"".concat(Wu(r.id)):l.name,origin:r.sessionId});!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([y,v]):y.send(v)}}else!h&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([y,l.data]):y.send(l.data)},this._exec=function(l,p,h,m){m===void 0&&(m=r.machine.options.actions);var y=l.exec||Ev(l.type,m),v=en(y)?y:y?y.exec:l.exec;if(v)try{return v(p,h.data,r.machine.config.predictableActionArguments?{action:l,_event:h}:{action:l,state:r.state,_event:h})}catch(N){throw r.parent&&r.parent.send({type:"xstate.error",data:N}),N}switch(l.type){case kc:{var b=l;r.defer(b);break}case $f:var w=l;if(typeof w.delay=="number"){r.defer(w);return}else w.to?r.sendTo(w._event,w.to,h===Tl):r.send(w._event);break;case sx:r.cancel(l.sendId);break;case xv:{if(r.status!==Kn.Running)return;var x=l.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[x.id||x.type])break;if(x.type===fn.Invoke){var _=hx(x.src),C=r.machine.options.services?r.machine.options.services[_.type]:void 0,T=x.id,R=x.data,M="autoForward"in x?x.autoForward:!!x.forward;if(!C)return;var W=R?sf(R,p,h):void 0;if(typeof C=="string")return;var P=en(C)?C(p,h.data,{data:W,src:_,meta:x.meta}):C;if(!P)return;var z=void 0;Ml(P)&&(P=W?P.withContext(W):P,z={autoForward:M}),r.spawn(P,T,z)}else r.spawnActivity(x);break}case Dy:{r.stopChild(l.activity.id);break}case ox:var F=l,O=F.label,U=F.value;O?r.logger(O,U):r.logger(U);break}};var a=Xe(Xe({},t.defaultOptions),n),s=a.clock,o=a.logger,i=a.parent,c=a.id,d=c!==void 0?c:e.id;this.id=d,this.logger=o,this.clock=s,this.parent=i,this.options=a,this.scheduler=new j2({deferEvents:this.options.deferEvents}),this.sessionId=$u.bookId()}return Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this;return this._initialState?this._initialState:kl(this,function(){return e._initialState=e.machine.initialState,e._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(e,n){var r,a;try{for(var s=Lt(e.actions),o=s.next();!o.done;o=s.next()){var i=o.value;this.exec(i,e,n)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(a=s.return)&&a.call(s)}finally{if(r)throw r.error}}},t.prototype.update=function(e,n){var r,a,s,o,i,c,d,l,p=this;if(e._sessionid=this.sessionId,this._state=e,(!this.machine.config.predictableActionArguments||n===Tl)&&this.options.execute)this.execute(this.state);else for(var h=void 0;h=this._outgoingQueue.shift();)h[0].send(h[1]);if(this.children.forEach(function(P){p.state.children[P.id]=P}),this.devTools&&this.devTools.send(n.data,e),e.event)try{for(var m=Lt(this.eventListeners),y=m.next();!y.done;y=m.next()){var v=y.value;v(e.event)}}catch(P){r={error:P}}finally{try{y&&!y.done&&(a=m.return)&&a.call(m)}finally{if(r)throw r.error}}try{for(var b=Lt(this.listeners),w=b.next();!w.done;w=b.next()){var v=w.value;v(e,e.event)}}catch(P){s={error:P}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}try{for(var x=Lt(this.contextListeners),_=x.next();!_.done;_=x.next()){var C=_.value;C(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(P){i={error:P}}finally{try{_&&!_.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}if(this.state.done){var T=e.configuration.find(function(P){return P.type==="final"&&P.parent===p.machine}),R=T&&T.doneData?sf(T.doneData,e.context,n):void 0;this._doneEvent=jd(this.id,R);try{for(var M=Lt(this.doneListeners),W=M.next();!W.done;W=M.next()){var v=W.value;v(this._doneEvent)}}catch(P){d={error:P}}finally{try{W&&!W.done&&(l=M.return)&&l.call(M)}finally{if(d)throw d.error}}this._stop(),this._stopChildren(),$u.free(this.sessionId)}},t.prototype.onTransition=function(e){return this.listeners.add(e),this.status===Kn.Running&&e(this.state,this.state.event),this},t.prototype.subscribe=function(e,n,r){var a=this,s=Yu(e,n,r);this.listeners.add(s.next),this.status!==Kn.NotStarted&&s.next(this.state);var o=function(){a.doneListeners.delete(o),a.stopListeners.delete(o),s.complete()};return this.status===Kn.Stopped?s.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){a.listeners.delete(s.next),a.doneListeners.delete(o),a.stopListeners.delete(o)}}},t.prototype.onEvent=function(e){return this.eventListeners.add(e),this},t.prototype.onSend=function(e){return this.sendListeners.add(e),this},t.prototype.onChange=function(e){return this.contextListeners.add(e),this},t.prototype.onStop=function(e){return this.stopListeners.add(e),this},t.prototype.onDone=function(e){return this.status===Kn.Stopped&&this._doneEvent?e(this._doneEvent):this.doneListeners.add(e),this},t.prototype.off=function(e){return this.listeners.delete(e),this.eventListeners.delete(e),this.sendListeners.delete(e),this.stopListeners.delete(e),this.doneListeners.delete(e),this.contextListeners.delete(e),this},t.prototype.start=function(e){var n=this;if(this.status===Kn.Running)return this;this.machine._init(),$u.register(this.sessionId,this),this.initialized=!0,this.status=Kn.Running;var r=e===void 0?this.initialState:kl(this,function(){return pT(e)?n.machine.resolveState(e):n.machine.resolveState(Za.from(e,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Tl)}),this},t.prototype._stopChildren=function(){this.children.forEach(function(e){en(e.stop)&&e.stop()}),this.children.clear()},t.prototype._stop=function(){var e,n,r,a,s,o,i,c,d,l;try{for(var p=Lt(this.listeners),h=p.next();!h.done;h=p.next()){var m=h.value;this.listeners.delete(m)}}catch(M){e={error:M}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}try{for(var y=Lt(this.stopListeners),v=y.next();!v.done;v=y.next()){var m=v.value;m(),this.stopListeners.delete(m)}}catch(M){r={error:M}}finally{try{v&&!v.done&&(a=y.return)&&a.call(y)}finally{if(r)throw r.error}}try{for(var b=Lt(this.contextListeners),w=b.next();!w.done;w=b.next()){var m=w.value;this.contextListeners.delete(m)}}catch(M){s={error:M}}finally{try{w&&!w.done&&(o=b.return)&&o.call(b)}finally{if(s)throw s.error}}try{for(var x=Lt(this.doneListeners),_=x.next();!_.done;_=x.next()){var m=_.value;this.doneListeners.delete(m)}}catch(M){i={error:M}}finally{try{_&&!_.done&&(c=x.return)&&c.call(x)}finally{if(i)throw i.error}}if(!this.initialized)return this;this.initialized=!1,this.status=Kn.Stopped,this._initialState=void 0;try{for(var C=Lt(Object.keys(this.delayedEventsMap)),T=C.next();!T.done;T=C.next()){var R=T.value;this.clock.clearTimeout(this.delayedEventsMap[R])}}catch(M){d={error:M}}finally{try{T&&!T.done&&(l=C.return)&&l.call(C)}finally{if(d)throw d.error}}this.scheduler.clear(),this.scheduler=new j2({deferEvents:this.options.deferEvents})},t.prototype.stop=function(){var e=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r;if(!(!((r=e._state)===null||r===void 0)&&r.done)){var a=wr({type:"xstate.stop"}),s=kl(e,function(){var o=An(xn([],Zt(e.state.configuration),!1).sort(function(p,h){return h.order-p.order}).map(function(p){return Eo(p.onExit,e.machine.options.actions)})),i=Zt(of(e.machine,e.state,e.state.context,a,[{type:"exit",actions:o}],e.machine.config.predictableActionArguments?e._exec:void 0,e.machine.config.predictableActionArguments||e.machine.config.preserveActionOrder),2),c=i[0],d=i[1],l=new Za({value:e.state.value,context:d,_event:a,_sessionid:e.sessionId,historyValue:void 0,history:e.state,actions:c.filter(function(p){return!Cv(p)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:e.state.done,tags:e.state.tags,machine:e.machine});return l.changed=!0,l});e.update(s,a),e._stopChildren(),$u.free(e.sessionId)}}),this},t.prototype.batch=function(e){var n=this;if(!(this.status===Kn.NotStarted&&this.options.deferEvents)){if(this.status!==Kn.Running)throw new Error("".concat(e.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(e.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var a,s,o=n.state,i=!1,c=[],d=function(m){var y=wr(m);n.forward(y),o=kl(n,function(){return n.machine.transition(o,y,void 0,r||void 0)}),c.push.apply(c,xn([],Zt(n.machine.config.predictableActionArguments?o.actions:o.actions.map(function(v){return hT(v,o)})),!1)),i=i||!!o.changed};try{for(var l=Lt(e),p=l.next();!p.done;p=l.next()){var h=p.value;d(h)}}catch(m){a={error:m}}finally{try{p&&!p.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}o.changed=i,o.actions=c,n.update(o,wr(e[e.length-1]))})}},t.prototype.sender=function(e){return this.send.bind(this,e)},t.prototype._nextState=function(e,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var a=wr(e);if(a.name.indexOf(M2)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(M2)===0}))throw a.data.data;var s=kl(this,function(){return r.machine.transition(r.state,a,void 0,n||void 0)});return s},t.prototype.nextState=function(e){return this._nextState(e,!1)},t.prototype.forward=function(e){var n,r;try{for(var a=Lt(this.forwardTo),s=a.next();!s.done;s=a.next()){var o=s.value,i=this.children.get(o);if(!i)throw new Error("Unable to forward event '".concat(e,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));i.send(e)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}},t.prototype.defer=function(e){var n=this,r=this.clock.setTimeout(function(){"to"in e&&e.to?n.sendTo(e._event,e.to,!0):n.send(e._event)},e.delay);e.id&&(this.delayedEventsMap[e.id]=r)},t.prototype.cancel=function(e){this.clock.clearTimeout(this.delayedEventsMap[e]),delete this.delayedEventsMap[e]},t.prototype.exec=function(e,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(e,n.context,n._event,r)},t.prototype.removeChild=function(e){var n;this.children.delete(e),this.forwardTo.delete(e),(n=this.state)===null||n===void 0||delete n.children[e]},t.prototype.stopChild=function(e){var n=this.children.get(e);n&&(this.removeChild(e),en(n.stop)&&n.stop())},t.prototype.spawn=function(e,n,r){if(this.status!==Kn.Running)return gx(e,n);if(z2(e))return this.spawnPromise(Promise.resolve(e),n);if(en(e))return this.spawnCallback(e,n);if(lT(e))return this.spawnActor(e,n);if(q4(e))return this.spawnObservable(e,n);if(Ml(e))return this.spawnMachine(e,Xe(Xe({},r),{id:n}));if(V4(e))return this.spawnBehavior(e,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof e,'".'))},t.prototype.spawnMachine=function(e,n){var r=this;n===void 0&&(n={});var a=new t(e,Xe(Xe({},this.options),{parent:this,id:n.id||e.id})),s=Xe(Xe({},wT),n);s.sync&&a.onTransition(function(i){r.send(ix,{state:i,id:a.id})});var o=a;return this.children.set(a.id,o),s.autoForward&&this.forwardTo.add(a.id),a.onDone(function(i){r.removeChild(a.id),r.send(wr(i,{origin:a.id}))}).start(),o},t.prototype.spawnBehavior=function(e,n){var r=bT(e,{id:n,parent:this});return this.children.set(n,r),r},t.prototype.spawnPromise=function(e,n){var r,a=this,s=!1,o;e.then(function(c){s||(o=c,a.removeChild(n),a.send(wr(jd(n,c),{origin:n})))},function(c){if(!s){a.removeChild(n);var d=Wu(n,c);try{a.send(wr(d,{origin:n}))}catch{a.devTools&&a.devTools.send(d,a.state),a.machine.strict&&a.stop()}}});var i=(r={id:n,send:function(){},subscribe:function(c,d,l){var p=Yu(c,d,l),h=!1;return e.then(function(m){h||(p.next(m),!h&&p.complete())},function(m){h||p.error(m)}),{unsubscribe:function(){return h=!0}}},stop:function(){s=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return o}},r[Co]=function(){return this},r);return this.children.set(n,i),i},t.prototype.spawnCallback=function(e,n){var r,a=this,s=!1,o=new Set,i=new Set,c,d=function(h){c=h,i.forEach(function(m){return m(h)}),!s&&a.send(wr(h,{origin:n}))},l;try{l=e(d,function(h){o.add(h)})}catch(h){this.send(Wu(n,h))}if(z2(l))return this.spawnPromise(l,n);var p=(r={id:n,send:function(h){return o.forEach(function(m){return m(h)})},subscribe:function(h){var m=Yu(h);return i.add(m.next),{unsubscribe:function(){i.delete(m.next)}}},stop:function(){s=!0,en(l)&&l()},toJSON:function(){return{id:n}},getSnapshot:function(){return c}},r[Co]=function(){return this},r);return this.children.set(n,p),p},t.prototype.spawnObservable=function(e,n){var r,a=this,s,o=e.subscribe(function(c){s=c,a.send(wr(c,{origin:n}))},function(c){a.removeChild(n),a.send(wr(Wu(n,c),{origin:n}))},function(){a.removeChild(n),a.send(wr(jd(n),{origin:n}))}),i=(r={id:n,send:function(){},subscribe:function(c,d,l){return e.subscribe(c,d,l)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:n}}},r[Co]=function(){return this},r);return this.children.set(n,i),i},t.prototype.spawnActor=function(e,n){return this.children.set(n,e),e},t.prototype.spawnActivity=function(e){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[e.type]:void 0;if(n){var r=n(this.state.context,e);this.spawnEffect(e.id,r)}},t.prototype.spawnEffect=function(e,n){var r;this.children.set(e,(r={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:e}}},r[Co]=function(){return this},r))},t.prototype.attachDev=function(){var e=Oy();if(this.options.devTools&&e){if(e.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=e.__REDUX_DEVTOOLS_EXTENSION__.connect(Xe(Xe({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:Xe({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}yT(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[Co]=function(){return this},t.prototype.getSnapshot=function(){return this.status===Kn.NotStarted?this.initialState:this._state},t.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(e,n){return setTimeout(e,n)},clearTimeout:function(e){return clearTimeout(e)}},logger:console.log.bind(console),devTools:!1},t.interpret=Sx,t}();function Sx(t,e){var n=new ST(t,e);return n}function xT(t){if(typeof t=="string"){var e={type:t};return e.toString=function(){return t},e}return t}function Ad(t){return Xe(Xe({type:kv},t),{toJSON:function(){t.onDone,t.onError;var e=Ay(t,["onDone","onError"]);return Xe(Xe({},e),{type:kv,src:xT(t.src)})}})}var Dd="",Nv="#",Fg="*",wl={},Sl=function(t){return t[0]===Nv},kT=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},_T=function(){function t(e,n,r,a){r===void 0&&(r="context"in e?e.context:void 0);var s=this,o;this.config=e,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(kT(),n),this.parent=a==null?void 0:a.parent,this.key=this.config.key||(a==null?void 0:a.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:lx),this.id=this.config.id||xn([this.machine.key],Zt(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Lu(this.config.states,function(d,l){var p,h=new t(d,{},void 0,{parent:s,key:l});return Object.assign(s.idMap,Xe((p={},p[h.id]=h,p),h.idMap)),h}):wl;var i=0;function c(d){var l,p;d.order=i++;try{for(var h=Lt(vx(d)),m=h.next();!m.done;m=h.next()){var y=m.value;c(y)}}catch(v){l={error:v}}finally{try{m&&!m.done&&(p=h.return)&&p.call(h)}finally{if(l)throw l.error}}}c(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(d){var l=d.event;return l===Dd}):Dd in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=Ya(this.config.entry||this.config.onEntry).map(function(d){return nc(d)}),this.onExit=Ya(this.config.exit||this.config.onExit).map(function(d){return nc(d)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=Ya(this.config.invoke).map(function(d,l){var p,h;if(Ml(d)){var m=Td(s.id,l);return s.machine.options.services=Xe((p={},p[m]=d,p),s.machine.options.services),Ad({src:m,id:m})}else if(nn(d.src)){var m=d.id||Td(s.id,l);return Ad(Xe(Xe({},d),{id:m,src:d.src}))}else if(Ml(d.src)||en(d.src)){var m=d.id||Td(s.id,l);return s.machine.options.services=Xe((h={},h[m]=d.src,h),s.machine.options.services),Ad(Xe(Xe({id:m},d),{src:m}))}else{var y=d.src;return Ad(Xe(Xe({id:Td(s.id,l)},d),{src:y}))}}),this.activities=Ya(this.config.activities).concat(this.invoke).map(function(d){return $y(d)}),this.transition=this.transition.bind(this),this.tags=Ya(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||yx(this).forEach(function(e){return e.on})},t.prototype.withConfig=function(e,n){var r=this.options,a=r.actions,s=r.activities,o=r.guards,i=r.services,c=r.delays;return new t(this.config,{actions:Xe(Xe({},a),e.actions),activities:Xe(Xe({},s),e.activities),guards:Xe(Xe({},o),e.guards),services:Xe(Xe({},i),e.services),delays:Xe(Xe({},c),e.delays)},n??this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return en(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Lu(this.states,function(e){return e.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var e=this.transitions;return this.__cache.on=e.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(e){if(this.__cache.candidates[e])return this.__cache.candidates[e];var n=e===Dd,r=this.transitions.filter(function(a){var s=a.eventType===e;return n?s:s||a.eventType===Fg});return this.__cache.candidates[e]=r,r},t.prototype.getDelayedTransitions=function(){var e=this,n=this.config.after;if(!n)return[];var r=function(s,o){var i=en(s)?"".concat(e.id,":delay[").concat(o,"]"):s,c=aT(i,e.id);return e.onEntry.push(Ld(c,{delay:s})),e.onExit.push(Wd(c)),c},a=Gl(n)?n.map(function(s,o){var i=r(s.delay,o);return Xe(Xe({},s),{event:i})}):An(Object.keys(n).map(function(s,o){var i=n[s],c=nn(i)?{target:i}:i,d=isNaN(+s)?s:+s,l=r(d,o);return Ya(c).map(function(p){return Xe(Xe({},p),{event:l,delay:d})})}));return a.map(function(s){var o=s.delay;return Xe(Xe({},e.formatTransition(s)),{delay:o})})},t.prototype.getStateNodes=function(e){var n,r=this;if(!e)return[];var a=e instanceof Za?e.value:Xu(e,this.delimiter);if(nn(a)){var s=this.getStateNode(a).initial;return s!==void 0?this.getStateNodes((n={},n[a]=s,n)):[this,this.states[a]]}var o=Object.keys(a),i=[this];return i.push.apply(i,xn([],Zt(An(o.map(function(c){return r.getStateNode(c).getStateNodes(a[c])}))),!1)),i},t.prototype.handles=function(e){var n=ux(e);return this.events.includes(n)},t.prototype.resolveState=function(e){var n=e instanceof Za?e:Za.create(e),r=Array.from(ju([],this.getStateNodes(n.value)));return new Za(Xe(Xe({},n),{value:this.resolve(n.value),configuration:r,done:Vd(r,this),tags:W2(r),machine:this.machine}))},t.prototype.transitionLeafNode=function(e,n,r){var a=this.getStateNode(e),s=a.next(n,r);return!s||!s.transitions.length?this.next(n,r):s},t.prototype.transitionCompoundNode=function(e,n,r){var a=Object.keys(e),s=this.getStateNode(a[0]),o=s._transition(e[a[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},t.prototype.transitionParallelNode=function(e,n,r){var a,s,o={};try{for(var i=Lt(Object.keys(e)),c=i.next();!c.done;c=i.next()){var d=c.value,l=e[d];if(l){var p=this.getStateNode(d),h=p._transition(l,n,r);h&&(o[d]=h)}}}catch(w){a={error:w}}finally{try{c&&!c.done&&(s=i.return)&&s.call(i)}finally{if(a)throw a.error}}var m=Object.keys(o).map(function(w){return o[w]}),y=An(m.map(function(w){return w.transitions})),v=m.some(function(w){return w.transitions.length>0});if(!v)return this.next(n,r);var b=An(Object.keys(o).map(function(w){return o[w].configuration}));return{transitions:y,exitSet:An(m.map(function(w){return w.exitSet})),configuration:b,source:n,actions:An(Object.keys(o).map(function(w){return o[w].actions}))}},t.prototype._transition=function(e,n,r){return nn(e)?this.transitionLeafNode(e,n,r):Object.keys(e).length===1?this.transitionCompoundNode(e,n,r):this.transitionParallelNode(e,n,r)},t.prototype.getTransitionData=function(e,n){return this._transition(e.value,e,wr(n))},t.prototype.next=function(e,n){var r,a,s=this,o=n.name,i=[],c=[],d;try{for(var l=Lt(this.getCandidates(o)),p=l.next();!p.done;p=l.next()){var h=p.value,m=h.cond,y=h.in,v=e.context,b=y?nn(y)&&Sl(y)?e.matches(Xu(this.getStateNodeById(y).path,this.delimiter)):Ry(Xu(y,this.delimiter),L4(this.path.slice(0,-2))(e.value)):!0,w=!1;try{w=!m||px(this.machine,m,v,n,e)}catch(C){throw new Error("Unable to evaluate guard '".concat(m.name||m.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(C.message))}if(w&&b){h.target!==void 0&&(c=h.target),i.push.apply(i,xn([],Zt(h.actions),!1)),d=h;break}}}catch(C){r={error:C}}finally{try{p&&!p.done&&(a=l.return)&&a.call(l)}finally{if(r)throw r.error}}if(d){if(!c.length)return{transitions:[d],exitSet:[],configuration:e.value?[this]:[],source:e,actions:i};var x=An(c.map(function(C){return s.getRelativeStateNodes(C,e.historyValue)})),_=!!d.internal;return{transitions:[d],exitSet:_?[]:An(c.map(function(C){return s.getPotentiallyReenteringNodes(C)})),configuration:x,source:e,actions:i}}},t.prototype.getPotentiallyReenteringNodes=function(e){if(this.order<e.order)return[this];for(var n=[],r=this,a=e;r&&r!==a;)n.push(r),r=r.parent;return r!==a?[]:(n.push(a),n)},t.prototype.getActions=function(e,n,r,a,s,o,i){var c,d,l,p,h=this,m=o?ju([],this.getStateNodes(o.value)):[],y=new Set;try{for(var v=Lt(Array.from(e).sort(function(F,O){return F.order-O.order})),b=v.next();!b.done;b=v.next()){var w=b.value;(!Vu(m,w)||Vu(r.exitSet,w)||w.parent&&y.has(w.parent))&&y.add(w)}}catch(F){c={error:F}}finally{try{b&&!b.done&&(d=v.return)&&d.call(v)}finally{if(c)throw c.error}}try{for(var x=Lt(m),_=x.next();!_.done;_=x.next()){var w=_.value;(!Vu(e,w)||Vu(r.exitSet,w.parent))&&r.exitSet.push(w)}}catch(F){l={error:F}}finally{try{_&&!_.done&&(p=x.return)&&p.call(x)}finally{if(l)throw l.error}}r.exitSet.sort(function(F,O){return O.order-F.order});var C=Array.from(y).sort(function(F,O){return F.order-O.order}),T=new Set(r.exitSet),R=An(C.map(function(F){var O=[];if(F.type!=="final")return O;var U=F.parent;if(!U.parent)return O;O.push(Nd(F.id,F.doneData),Nd(U.id,F.doneData?sf(F.doneData,a,s):void 0));var N=U.parent;return N.type==="parallel"&&rc(N).every(function(q){return Vd(r.configuration,q)})&&O.push(Nd(N.id)),O})),M=C.map(function(F){var O=F.onEntry,U=F.activities.map(function(N){return eT(N)});return{type:"entry",actions:Eo(i?xn(xn([],Zt(O),!1),Zt(U),!1):xn(xn([],Zt(U),!1),Zt(O),!1),h.machine.options.actions)}}).concat({type:"state_done",actions:R.map(function(F){return Y4(F)})}),W=Array.from(T).map(function(F){return{type:"exit",actions:Eo(xn(xn([],Zt(F.onExit),!1),Zt(F.activities.map(function(O){return tT(O)})),!1),h.machine.options.actions)}}),P=W.concat({type:"transition",actions:Eo(r.actions,this.machine.options.actions)}).concat(M);if(n){var z=Eo(An(xn([],Zt(e),!1).sort(function(F,O){return O.order-F.order}).map(function(F){return F.onExit})),this.machine.options.actions).filter(function(F){return!Cv(F)});return P.concat({type:"stop",actions:z})}return P},t.prototype.transition=function(e,n,r,a){e===void 0&&(e=this.initialState);var s=wr(n),o;if(e instanceof Za)o=r===void 0?e:this.resolveState(Za.from(e,r));else{var i=nn(e)?this.resolve(af(this.getResolvedPath(e))):this.resolve(e),c=r??this.machine.context;o=this.resolveState(Za.from(i,c))}if(this.strict&&!this.events.includes(s.name)&&!j4(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var d=this._transition(o.value,o,s)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},l=ju([],this.getStateNodes(o.value)),p=d.configuration.length?ju(l,d.configuration):l;return d.configuration=xn([],Zt(p),!1),this.resolveTransition(d,o,o.context,a,s)},t.prototype.resolveRaisedTransition=function(e,n,r,a){var s,o=e.actions;return e=this.transition(e,n,void 0,a),e._event=r,e.event=r.data,(s=e.actions).unshift.apply(s,xn([],Zt(o),!1)),e},t.prototype.resolveTransition=function(e,n,r,a,s){var o,i,c,d,l=this;s===void 0&&(s=Tl);var p=e.configuration,h=!n||e.transitions.length>0,m=h?e.configuration:n?n.configuration:[],y=Vd(m,this),v=h?cT(this.machine,p):void 0,b=n?n.historyValue?n.historyValue:e.source?this.machine.historyValue(n.value):void 0:void 0,w=this.getActions(new Set(m),y,e,r,s,n,a),x=n?Xe({},n.activities):{};try{for(var _=Lt(w),C=_.next();!C.done;C=_.next()){var T=C.value;try{for(var R=(c=void 0,Lt(T.actions)),M=R.next();!M.done;M=R.next()){var W=M.value;W.type===xv?x[W.activity.id||W.activity.type]=W:W.type===Dy&&(x[W.activity.id||W.activity.type]=!1)}}catch(ue){c={error:ue}}finally{try{M&&!M.done&&(d=R.return)&&d.call(R)}finally{if(c)throw c.error}}}}catch(ue){o={error:ue}}finally{try{C&&!C.done&&(i=_.return)&&i.call(_)}finally{if(o)throw o.error}}var P=Zt(of(this,n,r,s,w,a,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),z=P[0],F=P[1],O=Zt(U4(z,Cv),2),U=O[0],N=O[1],q=z.filter(function(ue){var le;return ue.type===xv&&((le=ue.activity)===null||le===void 0?void 0:le.type)===kv}),ae=q.reduce(function(ue,le){return ue[le.activity.id]=oT(le.activity,l.machine,F,s),ue},n?Xe({},n.children):{}),J=new Za({value:v||n.value,context:F,_event:s,_sessionid:n?n._sessionid:null,historyValue:v?b?H4(b,v):void 0:n?n.historyValue:void 0,history:!v||e.source?n:void 0,actions:v?N:[],activities:v?x:n?n.activities:{},events:[],configuration:m,transitions:e.transitions,children:ae,done:y,tags:W2(m),machine:this}),Z=r!==F;J.changed=s.name===ix||Z;var Y=J.history;Y&&delete Y.history;var te=!y&&(this._transient||p.some(function(ue){return ue._transient}));if(!h&&(!te||s.name===Dd))return J;var B=J;if(!y)for(te&&(B=this.resolveRaisedTransition(B,{type:R4},s,a));U.length;){var V=U.shift();B=this.resolveRaisedTransition(B,V._event,s,a)}var oe=B.changed||(Y?!!B.actions.length||Z||typeof Y.value!=typeof B.value||!wx(B.value,Y.value):void 0);return B.changed=oe,B.history=Y,B},t.prototype.getStateNode=function(e){if(Sl(e))return this.machine.getStateNodeById(e);if(!this.states)throw new Error("Unable to retrieve child state '".concat(e,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[e];if(!n)throw new Error("Child state '".concat(e,"' does not exist on '").concat(this.id,"'"));return n},t.prototype.getStateNodeById=function(e){var n=Sl(e)?e.slice(Nv.length):e;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},t.prototype.getStateNodeByPath=function(e){if(typeof e=="string"&&Sl(e))try{return this.getStateNodeById(e.slice(1))}catch{}for(var n=Iv(e,this.delimiter).slice(),r=this;n.length;){var a=n.shift();if(!a.length)break;r=r.getStateNode(a)}return r},t.prototype.resolve=function(e){var n,r=this;if(!e)return this.initialStateValue||wl;switch(this.type){case"parallel":return Lu(this.initialStateValue,function(s,o){return s?r.getStateNode(o).resolve(e[o]||s):wl});case"compound":if(nn(e)){var a=this.getStateNode(e);return a.type==="parallel"||a.type==="compound"?(n={},n[e]=a.initialStateValue,n):e}return Object.keys(e).length?Lu(e,function(s,o){return s?r.getStateNode(o).resolve(s):wl}):this.initialStateValue||{};default:return e||wl}},t.prototype.getResolvedPath=function(e){if(Sl(e)){var n=this.machine.idMap[e.slice(Nv.length)];if(!n)throw new Error("Unable to find state node '".concat(e,"'"));return n.path}return Iv(e,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=B2(this.states,function(r){return r.initialStateValue||wl},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=lf(this.states[this.initial])?this.initial:(e={},e[this.initial]=this.states[this.initial].initialStateValue,e)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(e,n){this._init();var r=this.getStateNodes(e);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var e=this.initialStateValue;if(!e)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var e;if(this.type==="history"){var n=this.config;nn(n.target)?e=Sl(n.target)?af(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:e=n.target}return e},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(e,n,r){return r===void 0&&(r=!0),r?e.type==="history"?e.resolveHistory(n):e.initialStateNodes:[e]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var e=this;if(lf(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=zd(this.initialStateValue);return An(n.map(function(r){return e.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(e){if(!e.length)return[this];var n=Zt(e),r=n[0],a=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var s=this.getStateNode(r);if(s.type==="history")return s.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(a)},t.prototype.historyValue=function(e){if(Object.keys(this.states).length)return{current:e||this.initialStateValue,states:B2(this.states,function(n,r){if(!e)return n.historyValue();var a=nn(e)?void 0:e[r];return n.historyValue(a||n.initialStateValue)},function(n){return!n.history})}},t.prototype.resolveHistory=function(e){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!e){var a=this.target;return a?An(zd(a).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var s=W4(r.path,"states")(e).current;return nn(s)?[r.getStateNode(s)]:An(zd(s).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var e=this,n=An(Object.keys(this.states).map(function(r){return e.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var e,n,r,a;if(this.__cache.events)return this.__cache.events;var s=this.states,o=new Set(this.ownEvents);if(s)try{for(var i=Lt(Object.keys(s)),c=i.next();!c.done;c=i.next()){var d=c.value,l=s[d];if(l.states)try{for(var p=(r=void 0,Lt(l.events)),h=p.next();!h.done;h=p.next()){var m=h.value;o.add("".concat(m))}}catch(y){r={error:y}}finally{try{h&&!h.done&&(a=p.return)&&a.call(p)}finally{if(r)throw r.error}}}}catch(y){e={error:y}}finally{try{c&&!c.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var e=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(e)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(e){var n=this;if(e!==void 0)return e.map(function(r){if(!nn(r))return r;var a=r[0]===n.delimiter;if(a&&!n.parent)return n.getStateNodeByPath(r.slice(1));var s=a?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(s);return o}catch(i){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(i.message))}else return n.getStateNodeByPath(s)})},t.prototype.formatTransition=function(e){var n=this,r=X4(e.target),a="internal"in e?e.internal:r?r.some(function(c){return nn(c)&&c[0]===n.delimiter}):!0,s=this.machine.options.guards,o=this.resolveTarget(r),i=Xe(Xe({},e),{actions:Eo(Ya(e.actions)),cond:fx(e.cond,s),target:o,source:this,internal:a,eventType:e.event,toJSON:function(){return Xe(Xe({},i),{target:i.target?i.target.map(function(c){return"#".concat(c.id)}):void 0,source:"#".concat(n.id)})}});return i},t.prototype.formatTransitions=function(){var e,n,r=this,a;if(!this.config.on)a=[];else if(Array.isArray(this.config.on))a=this.config.on;else{var s=this.config.on,o=Fg,i=s[o],c=i===void 0?[]:i,d=Ay(s,[typeof o=="symbol"?o:o+""]);a=An(Object.keys(d).map(function(x){var _=bl(x,d[x]);return _}).concat(bl(Fg,c)))}var l=this.config.always?bl("",this.config.always):[],p=this.config.onDone?bl(String(Nd(this.id)),this.config.onDone):[],h=An(this.invoke.map(function(x){var _=[];return x.onDone&&_.push.apply(_,xn([],Zt(bl(String(jd(x.id)),x.onDone)),!1)),x.onError&&_.push.apply(_,xn([],Zt(bl(String(Wu(x.id)),x.onError)),!1)),_})),m=this.after,y=An(xn(xn(xn(xn([],Zt(p),!1),Zt(h),!1),Zt(a),!1),Zt(l),!1).map(function(x){return Ya(x).map(function(_){return r.formatTransition(_)})}));try{for(var v=Lt(m),b=v.next();!b.done;b=v.next()){var w=b.value;y.push(w)}}catch(x){e={error:x}}finally{try{b&&!b.done&&(n=v.return)&&n.call(v)}finally{if(e)throw e.error}}return y},t}();function IT(t,e){return new _T(t,e)}var cn=rT,xx=Oe.useLayoutEffect;function Av(t){var e=Oe.useRef();return e.current||(e.current={v:t()}),e.current.v}var uf=function(){return uf=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a])}return t},uf.apply(this,arguments)},CT=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n},ET=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),a,s=[],o;try{for(;(e===void 0||e-- >0)&&!(a=r.next()).done;)s.push(a.value)}catch(i){o={error:i}}finally{try{a&&!a.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function TT(t,e){var n=Av(function(){return typeof t=="function"?t():t}),r=e.context,a=e.guards,s=e.actions,o=e.activities,i=e.services,c=e.delays;e.state;var d=CT(e,["context","guards","actions","activities","services","delays","state"]),l=Av(function(){var p={context:r,guards:a,actions:s,activities:o,services:i,delays:c},h=n.withConfig(p,function(){return uf(uf({},n.context),r)});return Sx(h,d)});return xx(function(){Object.assign(l.machine.options.actions,s),Object.assign(l.machine.options.guards,a),Object.assign(l.machine.options.activities,o),Object.assign(l.machine.options.services,i),Object.assign(l.machine.options.delays,c)},[s,a,o,i,c]),l}function NT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ET(e,2),a=r[0],s=a===void 0?{}:a,o=r[1],i=TT(t,s);return Oe.useEffect(function(){if(o){var c=i.subscribe(Yu(o));return function(){c.unsubscribe()}}},[o]),Oe.useEffect(function(){var c=s.state;return i.start(c?Za.create(c):void 0),function(){i.stop(),i.status=Kn.NotStarted}},[]),i}function kx(t){return t.status!==0?t.getSnapshot():t.machine.initialState}function My(t){return"state"in t&&"machine"in t}function AT(t,e,n){if(t.status===Kn.NotStarted)return!0;var r=n.changed===void 0&&(Object.keys(n.children).length>0||typeof e.changed=="boolean");return!(n.changed||r)}function DT(t){return t}function _x(t){return"state"in t}function FT(t){return"deferred"in t}function RT(t){return"getSnapshot"in t?My(t)?kx(t):t.getSnapshot():_x(t)?t.state:void 0}function $T(t,e){e===void 0&&(e=RT);var n=Oe.useRef(t),r=Oe.useRef([]),a=Oe.useCallback(function(d){var l=t.subscribe(d).unsubscribe;return l},[t]),s=Oe.useCallback(function(){return e(t)},[t,e]),o=Oe.useCallback(function(d,l){return My(t)?AT(t,d,l):d===l},[t]),i=ax.useSyncExternalStoreWithSelector(a,s,s,DT,o),c=Av(function(){return function(){for(var d=[],l=0;l<arguments.length;l++)d[l]=arguments[l];var p=d[0],h=n.current;FT(h)&&h.deferred?r.current.push(p):h.send(p)}});return xx(function(){for(n.current=t;r.current.length>0;){var d=r.current.shift();t.send(d)}},[t]),[i,c]}var OT=function(t,e){return t===e},MT=function(t,e){if(My(t)){if(t.status===0&&e.current)return e.current;var n=kx(t);return e.current=t.status===0?n:null,n}return _x(t)?t.state:void 0};function PT(t,e,n,r){n===void 0&&(n=OT);var a=Oe.useRef(null),s=Oe.useCallback(function(c){var d=t.subscribe(c).unsubscribe;return d},[t]),o=Oe.useCallback(function(){return MT(t,a)},[t,r]),i=ax.useSyncExternalStoreWithSelector(s,o,o,e,n);return i}let V2=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");class BT{constructor(){Et(this,"modelLoadingPromise")}triggerModelLoading(){this.modelLoadingPromise=this.loadModels()}}var No=(t=>(t.DARK="dark",t.BRIGHT="bright",t.NORMAL="normal",t))(No||{}),Jt=(t=>(t.MATCHED="MATCHED",t.TOO_FAR="TOO FAR",t.CANT_IDENTIFY="CANNOT IDENTIFY",t.FACE_IDENTIFIED="ONE FACE IDENTIFIED",t.TOO_MANY="TOO MANY FACES",t.OFF_CENTER="OFF CENTER",t))(Jt||{});const yn={CONNECTION_TIMEOUT:"CONNECTION_TIMEOUT",TIMEOUT:"TIMEOUT",RUNTIME_ERROR:"RUNTIME_ERROR",SERVER_ERROR:"SERVER_ERROR",CAMERA_FRAMERATE_ERROR:"CAMERA_FRAMERATE_ERROR",CAMERA_ACCESS_ERROR:"CAMERA_ACCESS_ERROR",FACE_DISTANCE_ERROR:"FACE_DISTANCE_ERROR",MOBILE_LANDSCAPE_ERROR:"MOBILE_LANDSCAPE_ERROR",MULTIPLE_FACES_ERROR:"MULTIPLE_FACES_ERROR"},zT=.32,LT=.4,WT=.37,Dv=2,Ix=1.8,jT=0,VT=1,UT=.25,HT=.75,Ou={DEFAULT_ERROR_CODE:4e3,FACE_FIT_TIMEOUT:4001,USER_CANCEL:4003,RUNTIME_ERROR:4005,USER_ERROR_DURING_CONNECTION:4007};function U2(t,e,n){return t*(n-e)+e}function Cx(t){const e=t.flippedCenterX-t.width/2,n=t.flippedCenterX+t.width/2,r=t.centerY-t.height/2,a=t.centerY+t.height/2;return{ovalBoundingBox:{left:e,top:r,right:n,bottom:a},minOvalX:e,maxOvalX:n,minOvalY:r,maxOvalY:a}}function Ex(t,e){const n=Math.max(t.left,e.left),r=Math.max(t.top,e.top),a=Math.min(t.right,e.right),s=Math.min(t.bottom,e.bottom),o=Math.abs(Math.max(0,a-n)*Math.max(0,s-r));if(o===0)return 0;const i=Math.abs((t.right-t.left)*(t.bottom-t.top)),c=Math.abs((e.right-e.left)*(e.bottom-e.top));return o/(i+c-o)}function GT({sessionInformation:t,videoWidth:e}){var r,a;const n=(a=(r=t==null?void 0:t.Challenge)==null?void 0:r.FaceMovementAndLightChallenge)==null?void 0:a.OvalParameters;if(!n||!n.CenterX||!n.CenterY||!n.Width||!n.Height)throw new Error("Oval parameters not returned from session information.");return{flippedCenterX:e-n.CenterX,centerX:n.CenterX,centerY:n.CenterY,width:n.Width,height:n.Height}}function Fv({width:t,height:e,widthSeed:n=1,centerXSeed:r=.5,centerYSeed:a=.5,ratioMultiplier:s=.8}){const o=e;let i=t;const c=n*s,d=Math.floor(7*t/16),l=Math.floor(9*t/16),p=Math.floor(7*e/16),h=Math.floor(9*e/16),m=U2(r,d,l),y=U2(a,p,h);t>=e&&(i=3/4*o);const v=c*i,b=1.618*v;return{flippedCenterX:Math.floor(i-m),centerX:Math.floor(m),centerY:Math.floor(y),width:Math.floor(v),height:Math.floor(b)}}function Tx({canvas:t,oval:e,scaleFactor:n,videoEl:r,isStartScreen:a}){const{flippedCenterX:s,centerY:o,width:i,height:c}=e,{width:d,height:l}=t.getBoundingClientRect(),p=t.getContext("2d");if(p){p.restore(),p.clearRect(0,0,d,l),p.fillStyle=a?getComputedStyle(t).getPropertyValue("--amplify-colors-background-primary"):"#fff",p.fillRect(0,0,d,l);const h={width:r.videoWidth,height:r.videoHeight},m={x:(d-h.width*n)/2,y:(l-h.height*n)/2};p.setTransform(n,0,0,n,m.x,m.y),p.beginPath(),p.ellipse(s,o,i/2,c/2,0,0,2*Math.PI),p.strokeStyle=getComputedStyle(t).getPropertyValue("--amplify-colors-border-secondary"),p.lineWidth=3,p.stroke(),p.save(),p.clip(),p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,d,l)}else throw new Error("Cannot find Canvas.")}function Rv(t,e,n){const{width:r,height:a}=n.getTracks()[0].getSettings(),{width:s,height:o}=e.getBoundingClientRect();t.width=Math.ceil(s),t.height=Math.ceil(o);const i=Fv({width:r,height:a,ratioMultiplier:.5});i.flippedCenterX=r-i.centerX;const c=s/e.videoWidth;Tx({canvas:t,oval:i,scaleFactor:c,videoEl:e,isStartScreen:!0})}function qT({canvas:t}){const e=t.getContext("2d");if(e)e.restore(),e.clearRect(0,0,Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);else throw new Error("Cannot find Canvas.")}function Nx(t){const{leftEye:e,rightEye:n,mouth:r}=t,a=[];a[0]=(e[0]+n[0])/2,a[1]=(e[1]+n[1])/2;const s=Math.sqrt((e[0]-n[0])**2+(e[1]-n[1])**2),o=Math.sqrt((a[0]-r[0])**2+(a[1]-r[1])**2);return{pupilDistance:s,faceHeight:o}}function $v(t,e,n){const{leftEye:r,rightEye:a,nose:s,leftEar:o,rightEar:i}=t,{height:c,centerY:d}=e,l=d-c/2,p=[];p[0]=(r[0]+a[0])/2,p[1]=(r[1]+a[1])/2;const{pupilDistance:h,faceHeight:m}=Nx(t),y=(Dv*h+Ix*m)/2;let v,b;p[1]<=(l+c)/2?(v=(p[0]+s[0])/2,b=(p[1]+s[1])/2):(v=p[0],b=p[1]);const x=1.68*y,_=Math.max(b-x/2,0),C=Math.min(b+x/2,n),T=Math.min(v-y/2,i[0]),R=Math.max(v+y/2,o[0]);return{bottom:C,left:T,right:R,top:_}}function H2(t){const e=document.createElement("canvas");e.width=t.videoWidth,e.height=t.videoHeight;const n=e.getContext("2d");if(n){n.drawImage(t,0,0,e.width,e.height);const r=n.getImageData(0,0,e.width,e.height).data,a=8,s=new Array(a).fill(0);for(let c=0;c<r.length;c++){const d=Math.round(r[c++]*.2126+r[c++]*.7152+r[c++]*.0722);s[d%32]++}let o=-1,i=0;for(let c=0;c<a;c++)s[c]>i&&(i=s[c],o=c);return e.remove(),o===0?No.DARK:o===a?No.BRIGHT:No.NORMAL}else throw new Error("Cannot find Video Element.")}function KT(t){return t.label.toLowerCase().includes("virtual")}const XT=.9,YT=.75;function Rg({ctx:t,prevColor:e,nextColor:n,fraction:r}){const a=t.canvas.width,s=t.canvas.height;t.fillStyle=n,t.fillRect(0,0,a,s*r),r!==1&&(t.fillStyle=e,t.fillRect(0,s*r,a,s*(1-r)))}function ZT({overlayCanvas:t,prevColor:e,nextColor:n,videoEl:r,ovalDetails:a,heightFraction:s,scaleFactor:o}){const{x:i,y:c}=r.getBoundingClientRect(),{flippedCenterX:d,centerY:l,width:p,height:h}=a,m=d*o+i,y=l*o+c,v=t.width,b=t.height,w=t.getContext("2d");if(w)w.canvas.width=window.innerWidth,w.canvas.height=window.innerHeight,w.clearRect(0,0,v,b),Rg({ctx:w,prevColor:e,nextColor:n,fraction:s}),w.save(),w.beginPath(),w.rect(0,0,v,b),w.clip(),w.clearRect(0,0,v,b),w.globalAlpha=XT,Rg({ctx:w,prevColor:e,nextColor:n,fraction:s}),w.beginPath(),w.ellipse(m,y,p*o/2,h*o/2,0,0,2*Math.PI),w.strokeStyle="white",w.lineWidth=8,w.stroke(),w.clip(),w.clearRect(0,0,v,b),w.globalAlpha=YT,Rg({ctx:w,prevColor:e,nextColor:n,fraction:s}),w.restore();else throw new Error("Cannot find Overlay Canvas.")}const QT=t=>!!t;function JT(t){return(t.Challenge.FaceMovementAndLightChallenge.ColorSequences??[]).map(({FreshnessColor:r,DownscrollDuration:a,FlatDisplayDuration:s})=>{const o=r.RGB,i=`rgb(${o[0]},${o[1]},${o[2]})`;return typeof i<"u"&&typeof a<"u"&&typeof s<"u"?{color:i,downscrollDuration:a,flatDisplayDuration:s}:void 0}).filter(QT)}function G2(t){return t.slice(t.indexOf("(")+1,t.indexOf(")")).split(",").map(e=>parseInt(e))}async function eN(t,e){const n=await t.detectFaces(e);let r;switch(n.length){case 0:{r=Jt.CANT_IDENTIFY;break}case 1:{r=Jt.FACE_IDENTIFIED;break}default:{r=Jt.TOO_MANY;break}}return r}async function q2({faceDetector:t,videoEl:e,ovalDetails:n,reduceThreshold:r=!1,isMobile:a=!1}){const s=await t.detectFaces(e);let o,i=!1,c;switch(s.length){case 0:{c=yn.FACE_DISTANCE_ERROR;break}case 1:{o=s[0];const{width:d}=n,{pupilDistance:l,faceHeight:p}=Nx(o),h=(Dv*l+Ix*p)/2/Dv;d&&(i=h/d<(r?a?WT:LT:zT),i||(c=yn.FACE_DISTANCE_ERROR));break}default:{c=yn.MULTIPLE_FACES_ERROR;break}}return{isDistanceBelowThreshold:i,error:c}}function $g({deviceHeight:t,deviceWidth:e,height:n,width:r,top:a,left:s}){return{Height:n/t,Width:r/e,Top:a/t,Left:s/e}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tN=1e-7,nN=1e-4;class Ax{constructor(e,n){this.backend=e,this.dataMover=n,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,n){this.dataIdsCount++,this.data.set(e,n)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class Py{refCount(e){return sa("refCount")}incRef(e){return sa("incRef")}timerAvailable(){return!0}time(e){return sa("time")}read(e){return sa("read")}readSync(e){return sa("readSync")}readToGPU(e,n){return sa("readToGPU")}numDataIds(){return sa("numDataIds")}disposeData(e,n){return sa("disposeData")}write(e,n,r){return sa("write")}move(e,n,r,a,s){return sa("move")}createTensorFromGPUData(e,n,r){return sa("createTensorFromGPUData")}memory(){return sa("memory")}floatPrecision(){return sa("floatPrecision")}epsilon(){return this.floatPrecision()===32?tN:nN}dispose(){return sa("dispose")}}function sa(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function By(t,e,n){return Math.max(t,Math.min(e,n))}function Mu(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function X(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function la(t,e,n=""){X(Ma(t,e),()=>n+` Shapes ${t} and ${e} must match`)}function ql(t){X(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Ce(t){if(t.length===0)return 1;let e=t[0];for(let n=1;n<t.length;n++)e*=t[n];return e}function rN(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==null&&e[n]!==null&&t[n]!==e[n])return!1;return!0}function Ma(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function ac(t){return t%1===0}function Ud(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function Dx(t,e){let n=1,r=-1;for(let s=0;s<t.length;++s)if(t[s]>=0)n*=t[s];else if(t[s]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${s}`);r=s}else if(t[s]<0)throw Error(`Shapes can not be < 0. Found ${t[s]} at dim ${s}`);if(r===-1){if(e>0&&e!==n)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(n===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${n}`);const a=t.slice();return a[r]=e/n,a}function En(t,e){const n=e.length;return t=t==null?e.map((r,a)=>a):[].concat(t),X(t.every(r=>r>=-n&&r<n),()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${t}`),X(t.every(r=>ac(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?n+r:r)}function aN(t,e){const n=[],r=[],a=e!=null&&Array.isArray(e)&&e.length===0,s=e==null||a?null:En(e,t).sort();let o=0;for(let i=0;i<t.length;++i){if(s!=null){if(s[o]===i&&t[i]!==1)throw new Error(`Can't squeeze axis ${i} since its dim '${t[i]}' is not 1`);(s[o]==null||s[o]>i)&&t[i]===1&&(n.push(t[i]),r.push(i)),s[o]<=i&&o++}t[i]!==1&&(n.push(t[i]),r.push(i))}return{newShape:n,keptDims:r}}function Mr(t,e){return Vn(t,e)}function Vn(t,e){let n=null;if(t==null||t==="float32")n=new Float32Array(e);else if(t==="int32")n=new Int32Array(e);else if(t==="bool")n=new Uint8Array(e);else if(t==="string")n=new Array(e);else throw new Error(`Unknown data type ${t}`);return n}function sN(t,e){for(let n=0;n<t.length;n++){const r=t[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function oN(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function iN(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function sc(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function lN(t){if(t==null)return 0;let e=0;return t.forEach(n=>e+=n.length),e}function Mf(t){return typeof t=="string"||t instanceof String}function uN(t){return typeof t=="boolean"}function cN(t){return typeof t=="number"}function _c(t){return Array.isArray(t)?_c(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":cN(t)?"float32":Mf(t)?"string":uN(t)?"bool":"float32"}function Ov(t){return!!(t&&t.constructor&&t.call&&t.apply)}function ot(t){const e=t.length;if(e<2)return[];const n=new Array(e-1);n[e-2]=t[e-1];for(let r=e-3;r>=0;--r)n[r]=n[r+1]*t[r+1];return n}function Fx(t,e,n,r=!1){const a=new Array;if(e.length===1){const s=e[0]*(r?2:1);for(let o=0;o<s;o++)a[o]=n[t+o]}else{const s=e[0],o=e.slice(1),i=o.reduce((c,d)=>c*d)*(r?2:1);for(let c=0;c<s;c++)a[c]=Fx(t+c*i,o,n,r)}return a}function Oa(t,e,n=!1){if(t.length===0)return e[0];const r=t.reduce((a,s)=>a*s)*(n?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${n?" for a complex tensor":""}.`);return Fx(0,t,e,n)}function dN(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function zy(t,e){const n=xr(t,e);for(let r=0;r<n.length;r++)n[r]=1;return n}function xr(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function Rx(t,e){const n=t.reduce((r,a)=>r*a,1);if(e==null||e==="float32")return Oa(t,new Float32Array(n));if(e==="int32")return Oa(t,new Int32Array(n));if(e==="bool")return Oa(t,new Uint8Array(n));throw new Error(`Unknown data type ${e}`)}function wa(t){t.forEach(e=>{X(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function xs(t,e,n){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let a=0;a<t.length-1;++a)r+=n[a]*t[a];return r}function Kl(t,e,n){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let a=0;a<r.length-1;++a)r[a]=Math.floor(t/n[a]),t-=r[a]*n[a];return r[r.length-1]=t,r}function Ai(t){return t&&t.then&&typeof t.then=="function"}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const K2="tfjsflags";class fN{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=pN,this.populateURLFlags()}setPlatform(e,n){this.platform!=null&&(At().getBool("IS_TEST")||At().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=n}registerFlag(e,n,r){if(this.flagRegistry[e]={evaluationFn:n,setHook:r},this.urlFlags[e]!=null){const a=this.urlFlags[e];At().getBool("IS_TEST")||At().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${a}.`),this.set(e,a)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const n=this.evaluateFlag(e);if(Ai(n))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=n,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,n){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=n,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(n)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);K2 in e&&e[K2].split(",").forEach(r=>{const[a,s]=r.split(":");this.urlFlags[a]=mN(a,s)})}}function pN(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(n,...r)=>(hN(e,r[0],r[1]),r.join("="))),e}function hN(t,e,n){t[decodeURIComponent(e)]=decodeURIComponent(n||"")}function mN(t,e){const n=e.toLowerCase();return n==="true"||n==="false"?n==="true":`${+n}`===n?+n:e}function At(){return $x}let $x=null;function gN(t){$x=t}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Og;function Ox(){if(Og==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Og=t}return Og}function vN(){const t=Ox();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Ly(t,e){const n=vN();if(n.has(t))return n.get(t);{const r=e();return n.set(t,r),n.get(t)}}const Wy="Abs",Pf="Acos",Bf="Acosh",Ic="Add",zf="AddN",Lf="All",Wf="Any",jy="ArgMax",Vy="ArgMin",jf="Asin",Vf="Asinh",Uf="Atan",Hf="Atanh",Gf="Atan2",qf="AvgPool",Mx="AvgPoolGrad",Uy="AvgPool3D",Px="AvgPool3DGrad",Kf="BatchMatMul",Hy="BatchToSpaceND",Xf="Bincount",Yf="BitwiseAnd",Gy="BroadcastArgs",Zf="Cast",Qf="Ceil",Cc="ClipByValue",Bx="Complex",zx="ComplexAbs",qy="Concat",Jf="Conv2D",Lx="Conv2DBackpropFilter",ep="Conv2DBackpropInput",tp="Conv3D",Ky="Conv3DBackpropFilterV2",np="Conv3DBackpropInputV2",rp="Cos",ap="Cosh",sp="Cumprod",op="Cumsum",ip="CropAndResize",Xy="DenseBincount",lp="DepthToSpace",up="DepthwiseConv2dNative",Wx="DepthwiseConv2dNativeBackpropFilter",jx="DepthwiseConv2dNativeBackpropInput",Yy="Diag",cp="Dilation2D",cf="Dilation2DBackpropInput",df="Dilation2DBackpropFilter",yN="Draw",dp="RealDiv",Vx="Einsum",fp="Elu",Zy="EluGrad",pp="Erf",hp="Equal",mp="Exp",Qy="ExpandDims",gp="Expm1",Ux="FFT",Jy="Fill",vp="FlipLeftRight",yp="Floor",bp="FloorDiv",wp="FusedBatchNorm",e0="GatherV2",Sp="GatherNd",xp="Greater",kp="GreaterEqual",_p="Identity",Hx="IFFT",Gx="Imag",Ip="IsFinite",Cp="IsInf",Ep="IsNan",Tp="LeakyRelu",Np="Less",Ap="LessEqual",Dp="LinSpace",Fp="Log",Rp="Log1p",$p="LogicalAnd",Op="LogicalNot",Mp="LogicalOr",bN="LogicalXor",Pp="LRN",t0="LRNGrad",Bp="Max",zp="Maximum",Lp="MaxPool",qx="MaxPoolGrad",n0="MaxPool3D",Kx="MaxPool3DGrad",r0="MaxPoolWithArgmax",Wp="Mean",jp="Min",Vp="Minimum",Up="MirrorPad",Hp="Mod",Gp="Multinomial",qp="Multiply",a0="Neg",Kp="NotEqual",Xp="NonMaxSuppressionV3",Yp="NonMaxSuppressionV4",Zp="NonMaxSuppressionV5",s0="OnesLike",Qp="OneHot",o0="Pack",Jp="PadV2",eh="Pow",th="Prelu",nh="Prod",Xx="RaggedGather",Yx="RaggedRange",Zx="RaggedTensorToTensor",i0="Range",Qx="Real",rh="Reciprocal",ah="Relu",l0="Reshape",sh="ResizeNearestNeighbor",u0="ResizeNearestNeighborGrad",oh="ResizeBilinear",c0="ResizeBilinearGrad",ih="Relu6",lh="Reverse",uh="Round",ch="Rsqrt",dh="ScatterNd",fh="TensorScatterUpdate",ph="SearchSorted",d0="Select",hh="Selu",f0="Slice",mh="Sin",gh="Sinh",vh="Sign",yh="Sigmoid",bh="Softplus",wh="Sqrt",Sh="Sum",p0="SpaceToBatchND",h0="SplitV",xh="Softmax",m0="SparseFillEmptyRows",kh="SparseReshape",g0="SparseSegmentMean",v0="SparseSegmentSum",_h="SparseToDense",Ih="SquaredDifference",Jx="Square",y0="StaticRegexReplace",Ch="StridedSlice",b0="StringNGrams",w0="StringSplit",S0="StringToHashBucketFast",Eh="Sub",Th="Tan",Nh="Tanh",Ec="Tile",Ah="TopK",Dh="Transform",Nl="Transpose",x0="Unique",k0="Unpack",e3="UnsortedSegmentSum",_0="ZerosLike",Tc="Step",X2="FromPixels",Fh="RotateWithOffset",oc="_FusedMatMul",ic="FusedConv2D",lc="FusedDepthwiseConv2D";/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yi(...t){At().getBool("IS_TEST")||At().getBool("PROD")||console.warn(...t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ff=Ly("kernelRegistry",()=>new Map),wN=Ly("gradRegistry",()=>new Map);function Mv(t,e){const n=n3(t,e);return ff.get(n)}function Y2(t){return wN.get(t)}function Z2(t){const e=ff.entries(),n=[];for(;;){const{done:r,value:a}=e.next();if(r)break;const[s,o]=a,[i]=s.split("_");i===t&&n.push(o)}return n}function t3(t){const{kernelName:e,backendName:n}=t,r=n3(e,n);ff.has(r)&&yi(`The kernel '${e}' for backend '${n}' is already registered`),ff.set(r,t)}function n3(t,e){return`${e}_${t}`}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r3(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var Mg,Q2;function SN(){if(Q2)return Mg;Q2=1,Mg=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(z,F,O){this.low=z|0,this.high=F|0,this.unsigned=!!O}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function n(z){return(z&&z.__isLong__)===!0}e.isLong=n;var r={},a={};function s(z,F){var O,U,N;return F?(z>>>=0,(N=0<=z&&z<256)&&(U=a[z],U)?U:(O=i(z,(z|0)<0?-1:0,!0),N&&(a[z]=O),O)):(z|=0,(N=-128<=z&&z<128)&&(U=r[z],U)?U:(O=i(z,z<0?-1:0,!1),N&&(r[z]=O),O))}e.fromInt=s;function o(z,F){if(isNaN(z))return F?x:w;if(F){if(z<0)return x;if(z>=y)return M}else{if(z<=-9223372036854776e3)return W;if(z+1>=v)return R}return z<0?o(-z,F).neg():i(z%m|0,z/m|0,F)}e.fromNumber=o;function i(z,F,O){return new e(z,F,O)}e.fromBits=i;var c=Math.pow;function d(z,F,O){if(z.length===0)throw Error("empty string");if(z==="NaN"||z==="Infinity"||z==="+Infinity"||z==="-Infinity")return w;if(typeof F=="number"?(O=F,F=!1):F=!!F,O=O||10,O<2||36<O)throw RangeError("radix");var U;if((U=z.indexOf("-"))>0)throw Error("interior hyphen");if(U===0)return d(z.substring(1),F,O).neg();for(var N=o(c(O,8)),q=w,ae=0;ae<z.length;ae+=8){var J=Math.min(8,z.length-ae),Z=parseInt(z.substring(ae,ae+J),O);if(J<8){var Y=o(c(O,J));q=q.mul(Y).add(o(Z))}else q=q.mul(N),q=q.add(o(Z))}return q.unsigned=F,q}e.fromString=d;function l(z,F){return typeof z=="number"?o(z,F):typeof z=="string"?d(z,F):i(z.low,z.high,typeof F=="boolean"?F:z.unsigned)}e.fromValue=l;var p=65536,h=1<<24,m=p*p,y=m*m,v=y/2,b=s(h),w=s(0);e.ZERO=w;var x=s(0,!0);e.UZERO=x;var _=s(1);e.ONE=_;var C=s(1,!0);e.UONE=C;var T=s(-1);e.NEG_ONE=T;var R=i(-1,2147483647,!1);e.MAX_VALUE=R;var M=i(-1,-1,!0);e.MAX_UNSIGNED_VALUE=M;var W=i(0,-2147483648,!1);e.MIN_VALUE=W;var P=e.prototype;return P.toInt=function(){return this.unsigned?this.low>>>0:this.low},P.toNumber=function(){return this.unsigned?(this.high>>>0)*m+(this.low>>>0):this.high*m+(this.low>>>0)},P.toString=function(F){if(F=F||10,F<2||36<F)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(W)){var O=o(F),U=this.div(O),N=U.mul(O).sub(this);return U.toString(F)+N.toInt().toString(F)}else return"-"+this.neg().toString(F);for(var q=o(c(F,6),this.unsigned),ae=this,J="";;){var Z=ae.div(q),Y=ae.sub(Z.mul(q)).toInt()>>>0,te=Y.toString(F);if(ae=Z,ae.isZero())return te+J;for(;te.length<6;)te="0"+te;J=""+te+J}},P.getHighBits=function(){return this.high},P.getHighBitsUnsigned=function(){return this.high>>>0},P.getLowBits=function(){return this.low},P.getLowBitsUnsigned=function(){return this.low>>>0},P.getNumBitsAbs=function(){if(this.isNegative())return this.eq(W)?64:this.neg().getNumBitsAbs();for(var F=this.high!=0?this.high:this.low,O=31;O>0&&!(F&1<<O);O--);return this.high!=0?O+33:O+1},P.isZero=function(){return this.high===0&&this.low===0},P.eqz=P.isZero,P.isNegative=function(){return!this.unsigned&&this.high<0},P.isPositive=function(){return this.unsigned||this.high>=0},P.isOdd=function(){return(this.low&1)===1},P.isEven=function(){return(this.low&1)===0},P.equals=function(F){return n(F)||(F=l(F)),this.unsigned!==F.unsigned&&this.high>>>31===1&&F.high>>>31===1?!1:this.high===F.high&&this.low===F.low},P.eq=P.equals,P.notEquals=function(F){return!this.eq(F)},P.neq=P.notEquals,P.ne=P.notEquals,P.lessThan=function(F){return this.comp(F)<0},P.lt=P.lessThan,P.lessThanOrEqual=function(F){return this.comp(F)<=0},P.lte=P.lessThanOrEqual,P.le=P.lessThanOrEqual,P.greaterThan=function(F){return this.comp(F)>0},P.gt=P.greaterThan,P.greaterThanOrEqual=function(F){return this.comp(F)>=0},P.gte=P.greaterThanOrEqual,P.ge=P.greaterThanOrEqual,P.compare=function(F){if(n(F)||(F=l(F)),this.eq(F))return 0;var O=this.isNegative(),U=F.isNegative();return O&&!U?-1:!O&&U?1:this.unsigned?F.high>>>0>this.high>>>0||F.high===this.high&&F.low>>>0>this.low>>>0?-1:1:this.sub(F).isNegative()?-1:1},P.comp=P.compare,P.negate=function(){return!this.unsigned&&this.eq(W)?W:this.not().add(_)},P.neg=P.negate,P.add=function(F){n(F)||(F=l(F));var O=this.high>>>16,U=this.high&65535,N=this.low>>>16,q=this.low&65535,ae=F.high>>>16,J=F.high&65535,Z=F.low>>>16,Y=F.low&65535,te=0,B=0,V=0,oe=0;return oe+=q+Y,V+=oe>>>16,oe&=65535,V+=N+Z,B+=V>>>16,V&=65535,B+=U+J,te+=B>>>16,B&=65535,te+=O+ae,te&=65535,i(V<<16|oe,te<<16|B,this.unsigned)},P.subtract=function(F){return n(F)||(F=l(F)),this.add(F.neg())},P.sub=P.subtract,P.multiply=function(F){if(this.isZero())return w;if(n(F)||(F=l(F)),t){var O=t.mul(this.low,this.high,F.low,F.high);return i(O,t.get_high(),this.unsigned)}if(F.isZero())return w;if(this.eq(W))return F.isOdd()?W:w;if(F.eq(W))return this.isOdd()?W:w;if(this.isNegative())return F.isNegative()?this.neg().mul(F.neg()):this.neg().mul(F).neg();if(F.isNegative())return this.mul(F.neg()).neg();if(this.lt(b)&&F.lt(b))return o(this.toNumber()*F.toNumber(),this.unsigned);var U=this.high>>>16,N=this.high&65535,q=this.low>>>16,ae=this.low&65535,J=F.high>>>16,Z=F.high&65535,Y=F.low>>>16,te=F.low&65535,B=0,V=0,oe=0,ue=0;return ue+=ae*te,oe+=ue>>>16,ue&=65535,oe+=q*te,V+=oe>>>16,oe&=65535,oe+=ae*Y,V+=oe>>>16,oe&=65535,V+=N*te,B+=V>>>16,V&=65535,V+=q*Y,B+=V>>>16,V&=65535,V+=ae*Z,B+=V>>>16,V&=65535,B+=U*te+N*Y+q*Z+ae*J,B&=65535,i(oe<<16|ue,B<<16|V,this.unsigned)},P.mul=P.multiply,P.divide=function(F){if(n(F)||(F=l(F)),F.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&F.low===-1&&F.high===-1)return this;var O=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,F.low,F.high);return i(O,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?x:w;var U,N,q;if(this.unsigned){if(F.unsigned||(F=F.toUnsigned()),F.gt(this))return x;if(F.gt(this.shru(1)))return C;q=x}else{if(this.eq(W)){if(F.eq(_)||F.eq(T))return W;if(F.eq(W))return _;var ae=this.shr(1);return U=ae.div(F).shl(1),U.eq(w)?F.isNegative()?_:T:(N=this.sub(F.mul(U)),q=U.add(N.div(F)),q)}else if(F.eq(W))return this.unsigned?x:w;if(this.isNegative())return F.isNegative()?this.neg().div(F.neg()):this.neg().div(F).neg();if(F.isNegative())return this.div(F.neg()).neg();q=w}for(N=this;N.gte(F);){U=Math.max(1,Math.floor(N.toNumber()/F.toNumber()));for(var J=Math.ceil(Math.log(U)/Math.LN2),Z=J<=48?1:c(2,J-48),Y=o(U),te=Y.mul(F);te.isNegative()||te.gt(N);)U-=Z,Y=o(U,this.unsigned),te=Y.mul(F);Y.isZero()&&(Y=_),q=q.add(Y),N=N.sub(te)}return q},P.div=P.divide,P.modulo=function(F){if(n(F)||(F=l(F)),t){var O=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,F.low,F.high);return i(O,t.get_high(),this.unsigned)}return this.sub(this.div(F).mul(F))},P.mod=P.modulo,P.rem=P.modulo,P.not=function(){return i(~this.low,~this.high,this.unsigned)},P.and=function(F){return n(F)||(F=l(F)),i(this.low&F.low,this.high&F.high,this.unsigned)},P.or=function(F){return n(F)||(F=l(F)),i(this.low|F.low,this.high|F.high,this.unsigned)},P.xor=function(F){return n(F)||(F=l(F)),i(this.low^F.low,this.high^F.high,this.unsigned)},P.shiftLeft=function(F){return n(F)&&(F=F.toInt()),(F&=63)===0?this:F<32?i(this.low<<F,this.high<<F|this.low>>>32-F,this.unsigned):i(0,this.low<<F-32,this.unsigned)},P.shl=P.shiftLeft,P.shiftRight=function(F){return n(F)&&(F=F.toInt()),(F&=63)===0?this:F<32?i(this.low>>>F|this.high<<32-F,this.high>>F,this.unsigned):i(this.high>>F-32,this.high>=0?0:-1,this.unsigned)},P.shr=P.shiftRight,P.shiftRightUnsigned=function(F){if(n(F)&&(F=F.toInt()),F&=63,F===0)return this;var O=this.high;if(F<32){var U=this.low;return i(U>>>F|O<<32-F,O>>>F,this.unsigned)}else return F===32?i(O,0,this.unsigned):i(O>>>F-32,0,this.unsigned)},P.shru=P.shiftRightUnsigned,P.shr_u=P.shiftRightUnsigned,P.toSigned=function(){return this.unsigned?i(this.low,this.high,!1):this},P.toUnsigned=function(){return this.unsigned?this:i(this.low,this.high,!0)},P.toBytes=function(F){return F?this.toBytesLE():this.toBytesBE()},P.toBytesLE=function(){var F=this.high,O=this.low;return[O&255,O>>>8&255,O>>>16&255,O>>>24,F&255,F>>>8&255,F>>>16&255,F>>>24]},P.toBytesBE=function(){var F=this.high,O=this.low;return[F>>>24,F>>>16&255,F>>>8&255,F&255,O>>>24,O>>>16&255,O>>>8&255,O&255]},e.fromBytes=function(F,O,U){return U?e.fromBytesLE(F,O):e.fromBytesBE(F,O)},e.fromBytesLE=function(F,O){return new e(F[0]|F[1]<<8|F[2]<<16|F[3]<<24,F[4]|F[5]<<8|F[6]<<16|F[7]<<24,O)},e.fromBytesBE=function(F,O){return new e(F[4]<<24|F[5]<<16|F[6]<<8|F[7],F[0]<<24|F[1]<<16|F[2]<<8|F[3],O)},Mg}var a3=SN();const s3=Hl(a3),xN=Rf({__proto__:null,default:s3},[a3]);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bi=s3||xN;function Rh(t){return bi.fromString(t,!0,16)}const o3=Rh("c3a5c85c97cb3127"),vi=Rh("b492b66fbe98f273"),Or=Rh("9ae16a3b2f90404f");function Pv(t){return t.xor(t.shru(47))}function i3(t,e,n){const r=t.slice(e,e+n);return bi.fromBytes(Array.from(r),!0,!0)}function pn(t,e){return i3(t,e,8)}function J2(t,e){return i3(t,e,4)}function ar(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Do(t,e,n=Rh("9ddfea08eb382d69")){let r=t.xor(e).mul(n);r=r.xor(r.shru(47));let a=e.xor(r).mul(n);return a=a.xor(a.shru(47)),a=a.mul(n),a}function kN(t,e,n,r,a,s){a=a.add(t),s=ar(s.add(a).add(r),21);const o=a;return a=a.add(e),a=a.add(n),s=s.add(ar(a,44)),[a.add(r),s.add(o)]}function Fd(t,e,n,r){return kN(pn(t,e),pn(t,e+8),pn(t,e+16),pn(t,e+24),n,r)}function _N(t,e=t.length){if(e>=8){const n=Or.add(e*2),r=pn(t,0).add(Or),a=pn(t,e-8),s=ar(a,37).mul(n).add(r),o=ar(r,25).add(a).mul(n);return Do(s,o,n)}if(e>=4){const n=Or.add(e*2),r=J2(t,0);return Do(r.shl(3).add(e),J2(t,e-4),n)}if(e>0){const n=t[0],r=t[e>>1],a=t[e-1],s=n+(r<<8),o=e+(a<<2);return Pv(Or.mul(s).xor(o3.mul(o))).mul(Or)}return Or}function IN(t,e=t.length){const n=Or.add(e*2),r=pn(t,0).mul(vi),a=pn(t,8),s=pn(t,e-8).mul(n),o=pn(t,e-16).mul(Or);return Do(ar(r.add(a),43).add(ar(s,30)).add(o),r.add(ar(a.add(Or),18)).add(s),n)}function CN(t,e=t.length){const n=Or.add(e*2),r=pn(t,0).mul(Or),a=pn(t,8),s=pn(t,e-8).mul(n),o=pn(t,e-16).mul(Or),i=ar(r.add(a),43).add(ar(s,30)).add(o),c=Do(i,r.add(ar(a.add(Or),18)).add(s),n),d=pn(t,16).mul(n),l=pn(t,24),p=i.add(pn(t,e-32)).mul(n),h=c.add(pn(t,e-24)).mul(n);return Do(ar(d.add(l),43).add(ar(p,30)).add(h),d.add(ar(l.add(r),18)).add(p),n)}function EN(t,e=t.length){const n=bi.fromNumber(81,!0);if(e<=32)return e<=16?_N(t,e):IN(t,e);if(e<=64)return CN(t,e);let r=n,a=n.mul(vi).add(113),s=Pv(a.mul(Or).add(113)).mul(Or),o=[bi.UZERO,bi.UZERO],i=[bi.UZERO,bi.UZERO];r=r.mul(Or).add(pn(t,0));let c=0;const d=(e-1>>6)*64,l=d+(e-1&63)-63;do r=ar(r.add(a).add(o[0]).add(pn(t,c+8)),37).mul(vi),a=ar(a.add(o[1]).add(pn(t,c+48)),42).mul(vi),r=r.xor(i[1]),a=a.add(o[0]).add(pn(t,c+40)),s=ar(s.add(i[0]),33).mul(vi),o=Fd(t,c,o[1].mul(vi),r.add(i[0])),i=Fd(t,c+32,s.add(i[1]),a.add(pn(t,c+16))),[s,r]=[r,s],c+=64;while(c!==d);const p=vi.add(s.and(255).shl(1));return c=l,i[0]=i[0].add(e-1&63),o[0]=o[0].add(i[0]),i[0]=i[0].add(o[0]),r=ar(r.add(a).add(o[0]).add(pn(t,c+8)),37).mul(p),a=ar(a.add(o[1]).add(pn(t,c+48)),42).mul(p),r=r.xor(i[1].mul(9)),a=a.add(o[0].mul(9).add(pn(t,c+40))),s=ar(s.add(i[0]),33).mul(p),o=Fd(t,c,o[1].mul(p),r.add(i[0])),i=Fd(t,c+32,s.add(i[1]),a.add(pn(t,c+16))),[s,r]=[r,s],Do(Do(o[0],i[0],p).add(Pv(a).mul(o3)).add(s),Do(o[1],i[1],p).add(r),p)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I0(t,e){return e==="string"?_i(t):zi([t],e)}function TN(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function zi(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=cc(t)),At().getBool("DEBUG")&&sN(t,e),TN(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const n=new Uint8Array(t.length);for(let r=0;r<n.length;++r)Math.round(t[r])!==0&&(n[r]=1);return n}else throw new Error(`Unknown data type ${e}`)}function $o(){return At().platform.now()}function NN(t,e){return At().platform.fetch(t,e)}function _i(t,e="utf-8"){return e=e||"utf-8",At().platform.encode(t,e)}function uc(t,e="utf-8"){return e=e||"utf-8",At().platform.decode(t,e)}function Pa(t){return At().platform.isTypedArray!=null?At().platform.isTypedArray(t):r3(t)}function cc(t,e=[],n=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Ai(t)||t==null||Pa(t)&&n)e.push(t);else if(Array.isArray(t)||Pa(t))for(let r=0;r<t.length;++r)cc(t[r],e,n);else{let r=-1;for(const a of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(a)&&(r=Math.max(r,Number(a)));for(let a=0;a<=r;a++)cc(t[a],e,n)}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class AN{constructor(e,n){this.backendTimer=e,this.logger=n,n==null&&(this.logger=new FN)}profileKernel(e,n,r){let a;const s=()=>{a=r()};let o;const i=$o();if(this.backendTimer.timerAvailable())o=this.backendTimer.time(s);else{s();for(const d of a)d.dataSync();o=Promise.resolve({kernelMs:$o()-i})}if(At().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let d=0;d<a.length;d++){const l=a[d];l.data().then(p=>{DN(p,l.dtype,e)})}return{kernelName:e,outputs:a,inputs:n,timeMs:o.then(d=>d.kernelMs),extraInfo:o.then(d=>d.getExtraProfileInfo!=null?d.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:n,outputs:r,timeMs:a,inputs:s,extraInfo:o}=e;r.forEach(i=>{Promise.all([i.data(),a,o]).then(c=>{this.logger.logKernelProfile(n,i,c[0],c[1],s,c[2])})})}}function DN(t,e,n){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const a=t[r];if(isNaN(a)||!isFinite(a))return console.warn(`Found ${a} in the result of '${n}'`),!0}return!1}class FN{logKernelProfile(e,n,r,a,s,o){const i=typeof a=="number"?Ud(`${a}ms`,9):a.error,c=Ud(e,25),d=n.rank,l=n.size,p=Ud(n.shape.toString(),14);let h="";for(const m in s){const y=s[m];if(y!=null){const v=y.shape||n.shape,b=v.length;h+=`${m}: ${b}D ${b>0?v:""} `}}console.log(`%c${c}	%c${i}	%c${d}D ${p}	%c${l}	%c${h}	%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RN(t,e,n){const r={},a={};for(let c=0;c<e.length;c++)r[e[c].id]=!0;for(let c=0;c<t.length;c++){const d=t[c],l=d.inputs;for(const p in l){const h=l[p];let m=!1;for(let y=0;y<e.length;y++)if(r[h.id]){d.outputs.forEach(v=>r[v.id]=!0),m=!0,a[d.id]=!0;break}if(m)break}}const s={};s[n.id]=!0;const o={};for(let c=t.length-1;c>=0;c--){const d=t[c],l=d.inputs;for(let p=0;p<d.outputs.length;p++)if(s[d.outputs[p].id]){for(const h in l)s[l[h].id]=!0,o[d.id]=!0;break}}const i=[];for(let c=0;c<t.length;c++){const d=t[c];if(a[d.id]&&o[d.id]){const l={};for(const h in d.inputs){const m=d.inputs[h];r[m.id]&&(l[h]=m)}const p=Object.assign({},d);p.inputs=l,p.outputs=d.outputs,i.push(p)}}return i}function $N(t,e,n,r){for(let a=e.length-1;a>=0;a--){const s=e[a],o=[];if(s.outputs.forEach(c=>{const d=t[c.id];d!=null?o.push(d):o.push(null)}),s.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${s.kernelName}.`);const i=s.gradient(o);for(const c in s.inputs){if(!(c in i))throw new Error(`Cannot backprop through input ${c}. Available gradients found: ${Object.keys(i)}.`);const d=n(()=>i[c]());if(d.dtype!=="float32")throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input ${c} must have 'float32' dtype, but has '${d.dtype}'`);const l=s.inputs[c];if(!Ma(d.shape,l.shape))throw new Error(`Error in gradient for op ${s.kernelName}. The gradient of input '${c}' has shape '${d.shape}', which does not match the shape of the input '${l.shape}'`);if(t[l.id]==null)t[l.id]=d;else{const p=t[l.id];t[l.id]=r(p,d),p.dispose()}}}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ew=20,Pu=3,Pg=7;function ON(t,e,n,r){const a=ot(e),s=MN(t,e,n,a),o=e.length,i=Hd(t,e,n,a,s),c=["Tensor"];return r&&(c.push(`  dtype: ${n}`),c.push(`  rank: ${o}`),c.push(`  shape: [${e}]`),c.push("  values:")),c.push(i.map(d=>"    "+d).join(`
`)),c.join(`
`)}function MN(t,e,n,r){const a=Ce(e),s=r[r.length-1],o=new Array(s).fill(0),i=e.length,c=n==="complex64"?Hu(t):t;if(i>1)for(let d=0;d<a/s;d++){const l=d*s;for(let p=0;p<s;p++)o[p]=Math.max(o[p],Uu(c[l+p],0,n).length)}return o}function Uu(t,e,n){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(Pg))} + ${parseFloat(t[1].toFixed(Pg))}j`:Mf(t)?r=`'${t}'`:n==="bool"?r=l3(t):r=parseFloat(t.toFixed(Pg)).toString(),Ud(r,e)}function l3(t){return t===0?"false":"true"}function Hd(t,e,n,r,a,s=!0){const o=n==="complex64"?2:1,i=e[0],c=e.length;if(c===0){if(n==="complex64"){const v=Hu(t);return[Uu(v[0],0,n)]}return n==="bool"?[l3(t[0])]:[t[0].toString()]}if(c===1){if(i>ew){const b=Pu*o;let w=Array.from(t.slice(0,b)),x=Array.from(t.slice((i-Pu)*o,i*o));return n==="complex64"&&(w=Hu(w),x=Hu(x)),["["+w.map((_,C)=>Uu(_,a[C],n)).join(", ")+", ..., "+x.map((_,C)=>Uu(_,a[i-Pu+C],n)).join(", ")+"]"]}return["["+(n==="complex64"?Hu(t):Array.from(t)).map((b,w)=>Uu(b,a[w],n)).join(", ")+"]"]}const d=e.slice(1),l=r.slice(1),p=r[0]*o,h=[];if(i>ew){for(let v=0;v<Pu;v++){const b=v*p,w=b+p;h.push(...Hd(t.slice(b,w),d,n,l,a,!1))}h.push("...");for(let v=i-Pu;v<i;v++){const b=v*p,w=b+p;h.push(...Hd(t.slice(b,w),d,n,l,a,v===i-1))}}else for(let v=0;v<i;v++){const b=v*p,w=b+p;h.push(...Hd(t.slice(b,w),d,n,l,a,v===i-1))}const m=c===2?",":"";h[0]="["+(i>0?h[0]+m:"");for(let v=1;v<h.length-1;v++)h[v]=" "+h[v]+m;let y=`,
`;for(let v=2;v<c;v++)y+=`
`;return h[h.length-1]=" "+h[h.length-1]+"]"+(s?"":y),h}function Hu(t){const e=[];for(let n=0;n<t.length;n+=2)e.push([t[n],t[n+1]]);return e}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Yn{constructor(e,n,r){if(this.dtype=n,this.shape=e.slice(),this.size=Ce(e),r!=null){const a=r.length;X(a===this.size,()=>`Length of values '${a}' does not match the size inferred by the shape '${this.size}'.`)}if(n==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Vn(n,this.size),this.strides=ot(e)}set(e,...n){n.length===0&&(n=[0]),X(n.length===this.rank,()=>`The number of provided coordinates (${n.length}) must match the rank (${this.rank})`);const r=this.locToIndex(n);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let n=0;for(const a of e){if(a<0||a>=this.shape[n]){const s=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(s)}n++}let r=e[e.length-1];for(let a=0;a<e.length-1;++a)r+=this.strides[a]*e[a];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return n}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const n=new Array(this.shape.length);for(let r=0;r<n.length-1;++r)n[r]=Math.floor(e/this.strides[r]),e-=n[r]*this.strides[r];return n[n.length-1]=e,n}get rank(){return this.shape.length}toTensor(){return Qa().makeTensor(this.values,this.shape,this.dtype)}}let Qa=null,_l=null;function PN(t){Qa=t}function BN(t){_l=t}class jn{constructor(e,n,r,a){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=n||"float32",this.size=Ce(e),this.strides=ot(e),this.dataId=r,this.id=a,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return _l.buffer(this.shape,this.dtype,e)}bufferSync(){return _l.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return Oa(this.shape,e,this.dtype==="complex64")}arraySync(){return Oa(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=Qa().read(this.dataId);if(this.dtype==="string"){const n=await e;try{return n.map(r=>uc(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),Qa().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=Qa().readSync(this.dataId);if(this.dtype==="string")try{return e.map(n=>uc(n))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await Qa().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),Qa().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return _l.print(this,e)}clone(){return this.throwIfDisposed(),_l.clone(this)}toString(e=!1){const n=this.dataSync();return ON(n,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),_l.cast(this,e)}variable(e=!0,n,r){return this.throwIfDisposed(),Qa().makeVariable(this,e,n,r)}}Object.defineProperty(jn,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function zN(){return Ly("Tensor",()=>jn)}zN();class pf extends jn{constructor(e,n,r,a){super(e.shape,e.dtype,e.dataId,a),this.trainable=n,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!Ma(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);Qa().disposeTensor(this),this.dataId=e.dataId,Qa().incRef(this,null)}dispose(){Qa().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(pf,Symbol.hasInstance,{value:t=>t instanceof jn&&t.assign!=null&&t.assign instanceof Function});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var tw;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(tw||(tw={}));var Bv;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(Bv||(Bv={}));var zv;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(zv||(zv={}));var Lv;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(Lv||(Lv={}));var Wv;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(Wv||(Wv={}));const LN={float32:Lv,int32:Bv,bool:zv,complex64:Wv};function Xl(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return LN[t][e]}function u3(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function c3(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dn(t,e){if(t.dtype===e.dtype)return[t,e];const n=Xl(t.dtype,e.dtype);return[t.cast(n),e.cast(n)]}function WN(t,e){X(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function d3(t){const e=[];return f3(t,e,new Set),e}function f3(t,e,n){if(t==null)return;if(t instanceof jn){e.push(t);return}if(!jN(t))return;const r=t;for(const a in r){const s=r[a];n.has(s)||(n.add(s),f3(s,e,n))}}function jN(t){return Array.isArray(t)||typeof t=="object"}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bg(t){return t.kernelName!=null}class nw{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Pl{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new nw}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:n}=this.initializeBackendsAndReturnBest();if(n)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:n}=this.initializeBackend(e);if(n)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,n,r=1){return e in this.registryFactory?(yi(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:n,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:n,asyncInit:r}=this.initializeBackend(e);if(!(r?await n:n))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new AN(this.backendInstance),!0}setupRegisteredKernels(){Z2(this.backendName).forEach(n=>{n.setupFunc!=null&&n.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){Z2(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const n=this.registryFactory[e];if(n==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=n.factory();if(r&&!(r instanceof Py)&&typeof r.then=="function"){const a=++this.pendingBackendInitId,s=r.then(o=>a<this.pendingBackendInitId?!1:(this.registry[e]=o,this.pendingBackendInit=null,!0)).catch(o=>(a<this.pendingBackendInitId||(this.pendingBackendInit=null,yi(`Initialization of backend ${e} failed`),yi(o.stack||o.message)),!1));return this.pendingBackendInit=s,{success:s,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return yi(`Initialization of backend ${e} failed`),yi(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,n)=>this.registryFactory[n].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let n=0;n<e.length;n++){const r=e[n],{success:a,asyncInit:s}=this.initializeBackend(r);if(s||a)return{name:r,asyncInit:s}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,n){const r=this.state.tensorInfo.get(n),a=r.backend,s=this.readSync(n),o=a.refCount(n);a.disposeData(n,!0),r.backend=e,e.move(n,s,r.shape,r.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,n){let r=null;if(n==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");n=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof n!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let a;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(a),()=>(a=n(),a instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),a))}scopedRun(e,n,r){e();try{const a=r();return n(),a}catch(a){throw n(),a}}nextTensorId(){return Pl.nextTensorId++}nextVariableId(){return Pl.nextVariableId++}clone(e){const n=de.runKernel(_p,{x:e}),r={x:e},a=o=>({x:()=>{const i="float32",c={x:o},d={dtype:i};return de.runKernel(Zf,c,d)}}),s=[];return this.addTapeNode(this.state.activeScope.name,r,[n],a,s,{}),n}runKernel(e,n,r){if(this.backendName==null&&this.backend,!(Mv(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:n,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,n,r){const a=this.backend.numDataIds();let s=0;r.forEach(c=>{s+=c.dtype==="complex64"?3:1});const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],i=a-n-s-o;if(i>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${i} data ids) after running '${e}'`)}runKernelFunc(e){let n,r=[];const a=this.isTapeOn(),s=this.state.numBytes,o=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let i;this.backendName==null&&this.backend;let c;const d=Bg(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Bg(e)){const{kernelName:y,inputs:v,attrs:b}=e;this.backendName==null&&this.backend;const w=Mv(y,this.backendName);X(w!=null,()=>`Cannot find registered kernel '${y}' for backend '${this.backendName}'`),i=()=>{const x=this.backend.numDataIds();c=w.kernelFunc({inputs:v,attrs:b,backend:this.backend});const _=Array.isArray(c)?c:[c];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(y,x,_);const C=_.map(T=>T.rank!=null?T:this.makeTensorFromTensorInfo(T));if(a){const T=this.getTensorsForGradient(y,v,C);r=this.saveTensorsForBackwardMode(T)}return C}}else{const{forwardFunc:y}=e,v=b=>{a&&(r=b.map(w=>this.keep(this.clone(w))))};i=()=>{const b=this.backend.numDataIds();c=this.tidy(()=>y(this.backend,v));const w=Array.isArray(c)?c:[c];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(d,b,w),w}}const{inputs:l,attrs:p}=e,h=Bg(e)?null:e.backwardsFunc;let m;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?n=i():(m=this.profiler.profileKernel(d,l,()=>i()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(m),n=m.outputs)}),a&&this.addTapeNode(d,l,n,h,r,p),this.state.profiling&&this.state.activeProfile.kernels.push({name:d,bytesAdded:this.state.numBytes-s,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(l).map(y=>l[y]!=null?l[y].shape:null),outputShapes:n.map(y=>y.shape),kernelTimeMs:m.timeMs,extraInfo:m.extraInfo}),Array.isArray(c)?n:n[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,n,r){const a=Y2(e);if(a!=null){const s=a.inputsToSave||[],o=a.outputsToSave||[];let i;a.saveAllInputs?(X(Array.isArray(n),()=>"saveAllInputs is true, expected inputs to be an array."),i=Object.keys(n).map(d=>n[d])):i=s.map(d=>n[d]);const c=r.filter((d,l)=>o[l]);return i.concat(c)}return[]}makeTensor(e,n,r,a){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",a=a||this.backend;let s=e;r==="string"&&Mf(e[0])&&(s=e.map(c=>_i(c)));const o=a.write(s,n,r),i=new jn(n,r,o,this.nextTensorId());if(this.trackTensor(i,a),r==="string"){const c=this.state.tensorInfo.get(o),d=lN(s);this.state.numBytes+=d-c.bytes,c.bytes=d}return i}makeTensorFromDataId(e,n,r,a){r=r||"float32";const s={dataId:e,shape:n,dtype:r};return this.makeTensorFromTensorInfo(s,a)}makeTensorFromTensorInfo(e,n){const{dataId:r,shape:a,dtype:s}=e,o=new jn(a,s,r,this.nextTensorId());return this.trackTensor(o,n),o}makeVariable(e,n=!0,r,a){r=r||this.nextVariableId().toString(),a!=null&&a!==e.dtype&&(e=e.cast(a));const s=new pf(e,n,r,this.nextTensorId());if(this.state.registeredVariables[s.name]!=null)throw new Error(`Variable with name ${s.name} was already registered`);return this.state.registeredVariables[s.name]=s,this.incRef(s,this.backend),s}trackTensor(e,n){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*sc(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:n||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof pf||this.track(e)}incRef(e,n){this.trackTensor(e,n),this.backend.incRef(e.dataId)}removeDataId(e,n){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===n&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const n=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=n.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*sc(e.dtype);this.state.numBytes-=r}n.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,n.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const n=this.state.registeredVariables[e];this.disposeVariable(n)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const n=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(a=>a.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-n,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const a of this.state.activeProfile.kernels)a.kernelTimeMs=await a.kernelTimeMs,a.extraInfo=await a.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,n,r,a,s,o){const i={id:this.state.nextTapeNodeId++,kernelName:e,inputs:n,outputs:r,saved:s},c=Y2(e);c!=null&&(a=c.gradFunc),a!=null&&(i.gradient=d=>(d=d.map((l,p)=>{if(l==null){const h=r[p],m=xr(h.size,h.dtype);return this.makeTensor(m,h.shape,h.dtype)}return l}),a(d.length>1?d:d[0],s,o))),this.state.activeTape.push(i)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const n={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(n.name=e),this.state.scopeStack.push(n),this.state.activeScope=n}endScope(e){const n=d3(e),r=new Set(n.map(s=>s.id));for(let s=0;s<this.state.activeScope.track.length;s++){const o=this.state.activeScope.track[s];!o.kept&&!r.has(o.id)&&o.dispose()}const a=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],n.forEach(s=>{!s.kept&&s.scopeId===a.id&&this.track(s)})}gradients(e,n,r,a=!1){if(X(n.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const s=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));X(s instanceof jn,()=>"The result y returned by f() must be a tensor.");const o=RN(this.state.activeTape,n,s);if(!a&&o.length===0&&n.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const i={};i[s.id]=r??VN(s.shape),$N(i,o,d=>this.tidy(d),UN);const c=n.map(d=>i[d.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(d=>{for(const l of d.saved)l.dispose()}),this.state.activeTape=null),{value:s,grads:c}})}customGrad(e){return X(Ov(e),()=>"The f passed in customGrad(f) must be a function."),(...n)=>{X(n.every(i=>i instanceof jn),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const a={};n.forEach((i,c)=>{a[c]=i});const s=(i,c)=>(r=e(...n,c),X(r.value instanceof jn,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),X(Ov(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),o=(i,c)=>{const d=r.gradFunc(i,c),l=Array.isArray(d)?d:[d];X(l.length===n.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),X(l.every(h=>h instanceof jn),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const p={};return l.forEach((h,m)=>{p[m]=()=>h}),p};return this.runKernelFunc({forwardFunc:s,backwardsFunc:o,inputs:a})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,n){return this.state.tensorInfo.get(e).backend.readToGPU(e,n)}async time(e){const n=$o(),r=await this.backend.time(e);return r.wallMs=$o()-n,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new nw;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Pl.nextTensorId=0;Pl.nextVariableId=0;function VN(t){const e=zy(Ce(t),"float32");return de.makeTensor(e,t,"float32")}function p3(){const t=Ox();if(t._tfengine==null){const e=new fN(t);t._tfengine=new Pl(e)}return gN(t._tfengine.ENV),PN(()=>t._tfengine),t._tfengine}const de=p3();function UN(t,e){const n={a:t,b:e};return de.runKernel(Ic,n)}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HN(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gr=At();Gr.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});Gr.registerFlag("IS_BROWSER",()=>HN());Gr.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");Gr.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));Gr.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));Gr.registerFlag("PROD",()=>!1);Gr.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>Gr.getBool("DEBUG"));Gr.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);Gr.registerFlag("IS_TEST",()=>!1);Gr.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>Gr.getBool("DEBUG"));Gr.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);Gr.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);Gr.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wo(t,e){let n=t;if(Pa(t))return e==="string"?[]:[t.length];if(u3(t)){const a=t.channels||"RGBA";return[t.height,t.width*a.length]}else if(c3(t))return[t.buffer.size/(e==null?4:sc(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(n)||Pa(n)&&e!=="string";)r.push(n.length),n=n[0];return Array.isArray(t)&&At().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&h3(t,r,[]),r}function h3(t,e,n){if(n=n||[],!Array.isArray(t)&&!Pa(t)){X(e.length===0,()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}X(e.length>0,()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${t.length} elements`),X(t.length===e[0],()=>`Element arr[${n.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let a=0;a<t.length;++a)h3(t[a],r,n.concat(a))}function rw(t,e,n,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${n}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function G(t,e,n,r="numeric"){if(t instanceof jn)return rw(r,t.dtype,e,n),t;let a=_c(t);if(a!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(a=r),rw(r,a,e,n),t==null||!Pa(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const c=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${n}' must be a Tensor or TensorLike, but got '${c}'`)}const s=Wo(t,a);!Pa(t)&&!Array.isArray(t)&&(t=[t]);const i=a!=="string"?zi(t,a):cc(t,[],!0);return de.makeTensor(i,s,a)}function hf(t,e,n,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((s,o)=>G(s,`${e}[${o}]`,n,r))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const m3="__op";function se(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let n=e[0];const r=t[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n=n+m3;const a=(...s)=>{de.startScope(n);try{const o=r(...s);return Ai(o)&&console.error("Cannot return a Promise inside of tidy."),de.endScope(o),o}catch(o){throw de.endScope(null),o}};return Object.defineProperty(a,"name",{value:n,configurable:!0}),a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GN(t,e){const n=G(t,"real","complex"),r=G(e,"imag","complex");la(n.shape,r.shape,`real and imag shapes, ${n.shape} and ${r.shape}, must match in call to tf.complex().`);const a={real:n,imag:r};return de.runKernel(Bx,a)}const Oo=se({complex_:GN});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jo(t,e,n,r){if(r==null)r=_c(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(c3(t)||u3(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return de.backend.createTensorFromGPUData(t,e||n,r)}if(!Pa(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){wa(e);const a=Ce(e),s=Ce(n);X(a===s,()=>`Based on the provided shape, [${e}], the tensor should have ${a} values but has ${s}`);for(let o=0;o<n.length;++o){const i=n[o],c=o===n.length-1?i!==Ce(e.slice(o)):!0;X(n[o]===e[o]||!c,()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${e}). `)}}return!Pa(t)&&!Array.isArray(t)&&(t=[t]),e=e||n,t=r!=="string"?zi(t,r):cc(t,[],!0),de.makeTensor(t,e,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ja(t,e,n){const r=Wo(t,n);return jo(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jv={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class ns{static join(e){return new ns(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>Pa(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let n=0;for(let r=0;r<e.length;r++){const a=e[r];r!==e.length-1&&a.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const s=n+a.byteLength;this.shards.push({buffer:a,start:n,end:s}),n=s}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,n=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,n=isNaN(Number(n))?0:n,e=Math.max(0,e),n=Math.min(this.byteLength,n),n<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const a=n-e,s=new ArrayBuffer(a),o=new Uint8Array(s);let i=0;for(let c=r;c<this.shards.length;c++){const d=this.shards[c],p=e+i-d.start,h=i,y=Math.min(n,d.end)-d.start,v=new Uint8Array(d.buffer,p,y-p);if(o.set(v,h),i+=v.length,n<d.end)break}return s}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function n(a){return e<a.start?-1:e>=a.end?1:0}if(n(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=qN(this.shards,n);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function qN(t,e){let n=0,r=t.length;for(;n<=r;){const a=Math.floor((r-n)/2)+n,s=e(t[a]);if(s===0)return a;s<0?r=a:n=a+1}return-1}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mf=4;async function KN(t,e){const n=[],r=[],a=Array.isArray(t)?t.map(o=>o.name):Object.keys(t);for(let o=0;o<a.length;++o){const i=a[o],c=Array.isArray(t)?t[o].tensor:t[i];if(c.dtype!=="float32"&&c.dtype!=="int32"&&c.dtype!=="bool"&&c.dtype!=="string"&&c.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${i}': ${c.dtype}`);const d={name:i,shape:c.shape,dtype:c.dtype};if(c.dtype==="string"){const l=new Promise(async p=>{const h=await c.bytes(),m=h.reduce((b,w)=>b+w.length,0)+mf*h.length,y=new Uint8Array(m);let v=0;for(let b=0;b<h.length;b++){const w=h[b],x=new Uint8Array(new Uint32Array([w.length]).buffer);y.set(x,v),v+=mf,y.set(w,v),v+=w.length}p(y)});r.push(l)}else r.push(c.data());e!=null&&(d.group=e),n.push(d)}const s=await Promise.all(r);return{data:XN(s),specs:n}}function g3(t,e){const n=new ns(t),r={};let a,s=0;for(const o of e){const i=o.name,c=o.dtype,d=o.shape,l=Ce(d);let p;if("quantization"in o){const h=o.quantization;if(h.dtype==="uint8"||h.dtype==="uint16"){if(!("min"in h&&"scale"in h))throw new Error(`Weight ${o.name} with quantization ${h.dtype} doesn't have corresponding metadata min and scale.`)}else if(h.dtype==="float16"){if(c!=="float32")throw new Error(`Weight ${o.name} is quantized with ${h.dtype} which only supports weights of type float32 not ${c}.`)}else throw new Error(`Weight ${o.name} has unknown quantization dtype ${h.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const m=jv[h.dtype],y=n.slice(s,s+l*m),v=h.dtype==="uint8"?new Uint8Array(y):new Uint16Array(y);if(c==="float32")if(h.dtype==="uint8"||h.dtype==="uint16"){p=new Float32Array(v.length);for(let b=0;b<v.length;b++){const w=v[b];p[b]=w*h.scale+h.min}}else if(h.dtype==="float16")a===void 0&&(a=nA()),p=a(v);else throw new Error(`Unsupported quantization type ${h.dtype} for weight type float32.`);else if(c==="int32"){if(h.dtype!=="uint8"&&h.dtype!=="uint16")throw new Error(`Unsupported quantization type ${h.dtype} for weight type int32.`);p=new Int32Array(v.length);for(let b=0;b<v.length;b++){const w=v[b];p[b]=Math.round(w*h.scale+h.min)}}else throw new Error(`Unsupported dtype in weight '${i}': ${c}`);s+=l*m}else if(c==="string"){const h=Ce(o.shape);p=[];for(let m=0;m<h;m++){const y=new Uint32Array(n.slice(s,s+mf))[0];s+=mf;const v=new Uint8Array(n.slice(s,s+y));p.push(v),s+=y}}else{const h=jv[c],m=n.slice(s,s+l*h);if(c==="float32")p=new Float32Array(m);else if(c==="int32")p=new Int32Array(m);else if(c==="bool")p=new Uint8Array(m);else if(c==="complex64"){p=new Float32Array(m);const y=new Float32Array(p.length/2),v=new Float32Array(p.length/2);for(let x=0;x<y.length;x++)y[x]=p[x*2],v[x]=p[x*2+1];const b=Ja(y,d,"float32"),w=Ja(v,d,"float32");r[i]=Oo(b,w),b.dispose(),w.dispose()}else throw new Error(`Unsupported dtype in weight '${i}': ${c}`);s+=l*h}c!=="complex64"&&(r[i]=Ja(p,d,c))}return r}function XN(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const n=[];t.forEach(s=>{if(e+=s.byteLength,n.push(s.byteLength===s.buffer.byteLength?s:new s.constructor(s)),!(s instanceof Float32Array||s instanceof Int32Array||s instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${s.constructor.name}`)});const r=new Uint8Array(e);let a=0;return n.forEach(s=>{r.set(new Uint8Array(s.buffer),a),a+=s.byteLength}),r.buffer}const C0=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function aw(t){return C0?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function YN(t){if(C0)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let n="";for(let r=0,a=e.length;r<a;r++)n+=String.fromCharCode(e[r]);return btoa(n)}function ZN(t){if(C0){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;++r)n.set([e.charCodeAt(r)],r);return n.buffer}function QN(t){return ns.join(t)}function sw(t){const e="/";for(t=t.trim();t.endsWith(e);)t=t.slice(0,t.length-1);const n=t.split(e);return n[n.length-1]}function v3(t,e){const n={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(n.signature=t.signature),t.userDefinedMetadata!=null&&(n.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(n.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(n.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(n.trainingConfig=t.trainingConfig),n}function y3(t,e,n){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!n)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=n}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function E0(t,e){let n,r;return t.weightsManifest!=null&&([n,r]=await e(t.weightsManifest)),y3(t,n,r)}function Nc(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:aw(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:aw(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new ns(t.weightData).byteLength}}function b3(t){const e=[];for(const n of t)e.push(...n.weights);return e}function JN(){const t=n=>{let r=n<<13,a=0;for(;!(r&8388608);)a-=8388608,r<<=1;return r&=-8388609,a+=947912704,r|a},e=new Uint32Array(2048);e[0]=0;for(let n=1;n<1024;n++)e[n]=t(n);for(let n=1024;n<2048;n++)e[n]=939524096+(n-1024<<13);return e}function eA(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function tA(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function nA(){const t=JN(),e=eA(),n=tA();return r=>{const a=new ArrayBuffer(4*r.length),s=new Uint32Array(a);for(let o=0;o<r.length;o++){const i=r[o],c=t[n[i>>10]+(i&1023)]+e[i>>10];s[o]=c}return new Float32Array(a)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _n{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return _n.instance==null&&(_n.instance=new _n),_n.instance}static registerSaveRouter(e){_n.getInstance().saveRouters.push(e)}static registerLoadRouter(e){_n.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return _n.getHandlers(e,"save")}static getLoadHandlers(e,n){return _n.getHandlers(e,"load",n)}static getHandlers(e,n,r){const a=[];return(n==="load"?_n.getInstance().loadRouters:_n.getInstance().saveRouters).forEach(o=>{const i=o(e,r);i!==null&&a.push(i)}),a}}const rA=t=>_n.registerSaveRouter(t),aA=t=>_n.registerLoadRouter(t),sA=t=>_n.getSaveHandlers(t),oA=(t,e)=>_n.getLoadHandlers(t,e);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Vv="tensorflowjs",Uv=1,xi="models_store",Ao="model_info_store";function w3(){if(!At().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Hv(t){const e=t.result;e.createObjectStore(xi,{keyPath:"modelPath"}),e.createObjectStore(Ao,{keyPath:"modelPath"})}class Di{constructor(e){if(this.indexedDB=w3(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,n){return new Promise((r,a)=>{const s=this.indexedDB.open(Vv,Uv);s.onupgradeneeded=()=>Hv(s),s.onsuccess=()=>{const o=s.result;if(n==null){const i=o.transaction(xi,"readonly"),d=i.objectStore(xi).get(this.modelPath);d.onsuccess=()=>{if(d.result==null)return o.close(),a(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(d.result.modelArtifacts)},d.onerror=l=>(o.close(),a(d.error)),i.oncomplete=()=>o.close()}else{n.weightData=ns.join(n.weightData);const i=Nc(n),c=o.transaction(Ao,"readwrite");let d=c.objectStore(Ao),l;try{l=d.put({modelPath:this.modelPath,modelArtifactsInfo:i})}catch(h){return a(h)}let p;l.onsuccess=()=>{p=o.transaction(xi,"readwrite");const h=p.objectStore(xi);let m;try{m=h.put({modelPath:this.modelPath,modelArtifacts:n,modelArtifactsInfo:i})}catch(y){return a(y)}m.onsuccess=()=>r({modelArtifactsInfo:i}),m.onerror=y=>{d=c.objectStore(Ao);const v=d.delete(this.modelPath);v.onsuccess=()=>(o.close(),a(m.error)),v.onerror=b=>(o.close(),a(m.error))}},l.onerror=h=>(o.close(),a(l.error)),c.oncomplete=()=>{p==null?o.close():p.oncomplete=()=>o.close()}}},s.onerror=o=>a(s.error)})}}Di.URL_SCHEME="indexeddb://";const S3=t=>At().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Di.URL_SCHEME)?iA(t.slice(Di.URL_SCHEME.length)):null;_n.registerSaveRouter(S3);_n.registerLoadRouter(S3);function iA(t){return new Di(t)}function lA(t){return t.startsWith(Di.URL_SCHEME)?t.slice(Di.URL_SCHEME.length):t}class uA{constructor(){this.indexedDB=w3()}async listModels(){return new Promise((e,n)=>{const r=this.indexedDB.open(Vv,Uv);r.onupgradeneeded=()=>Hv(r),r.onsuccess=()=>{const a=r.result,s=a.transaction(Ao,"readonly"),i=s.objectStore(Ao).getAll();i.onsuccess=()=>{const c={};for(const d of i.result)c[d.modelPath]=d.modelArtifactsInfo;e(c)},i.onerror=c=>(a.close(),n(i.error)),s.oncomplete=()=>a.close()},r.onerror=a=>n(r.error)})}async removeModel(e){return e=lA(e),new Promise((n,r)=>{const a=this.indexedDB.open(Vv,Uv);a.onupgradeneeded=()=>Hv(a),a.onsuccess=()=>{const s=a.result,o=s.transaction(Ao,"readwrite"),i=o.objectStore(Ao),c=i.get(e);let d;c.onsuccess=()=>{if(c.result==null)return s.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const l=i.delete(e),p=()=>{d=s.transaction(xi,"readwrite");const m=d.objectStore(xi).delete(e);m.onsuccess=()=>n(c.result.modelArtifactsInfo),m.onerror=y=>r(c.error)};l.onsuccess=p,l.onerror=h=>(p(),s.close(),r(c.error))}},c.onerror=l=>(s.close(),r(c.error)),o.oncomplete=()=>{d==null?s.close():d.oncomplete=()=>s.close()}},a.onerror=s=>r(a.error)})}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Zs="/",Il="tensorflowjs_models",x3="info",cA="model_topology",dA="weight_specs",fA="weight_data",pA="model_metadata";function k3(t){return{info:[Il,t,x3].join(Zs),topology:[Il,t,cA].join(Zs),weightSpecs:[Il,t,dA].join(Zs),weightData:[Il,t,fA].join(Zs),modelMetadata:[Il,t,pA].join(Zs)}}function _3(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function hA(t){const e=t.split(Zs);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(Zs)}function mA(t){return t.startsWith(Fi.URL_SCHEME)?t.slice(Fi.URL_SCHEME.length):t}class Fi{constructor(e){if(!At().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=k3(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),a=Nc(e),s=ns.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(a)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,YN(s));const o={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(o)),{modelArtifactsInfo:a}}catch{throw _3(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${a.modelTopologyBytes}, weightSpecsBytes=${a.weightSpecsBytes}, weightDataBytes=${a.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const n={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);n.modelTopology=r;const a=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(a==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);n.weightSpecs=a;const s=this.LS.getItem(this.keys.modelMetadata);if(s!=null){const i=JSON.parse(s);n.format=i.format,n.generatedBy=i.generatedBy,n.convertedBy=i.convertedBy,i.signature!=null&&(n.signature=i.signature),i.userDefinedMetadata!=null&&(n.userDefinedMetadata=i.userDefinedMetadata),i.modelInitializer!=null&&(n.modelInitializer=i.modelInitializer),i.initializerSignature!=null&&(n.initializerSignature=i.initializerSignature),i.trainingConfig!=null&&(n.trainingConfig=i.trainingConfig)}const o=this.LS.getItem(this.keys.weightData);if(o==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return n.weightData=ZN(o),n}}Fi.URL_SCHEME="localstorage://";const I3=t=>At().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Fi.URL_SCHEME)?gA(t.slice(Fi.URL_SCHEME.length)):null;_n.registerSaveRouter(I3);_n.registerLoadRouter(I3);function gA(t){return new Fi(t)}class vA{constructor(){X(At().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),X(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},n=Il+Zs,r=Zs+x3;for(let a=0;a<this.LS.length;++a){const s=this.LS.key(a);if(s.startsWith(n)&&s.endsWith(r)){const o=hA(s);e[o]=JSON.parse(this.LS.getItem(s))}}return e}async removeModel(e){e=mA(e);const n=k3(e);if(this.LS.getItem(n.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return _3(n),r}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Al="://";class $r{constructor(){this.managers={}}static getInstance(){return $r.instance==null&&($r.instance=new $r),$r.instance}static registerManager(e,n){X(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Al)&&(e=e.slice(0,e.indexOf(Al))),X(e.length>0,()=>"scheme must not be an empty string.");const r=$r.getInstance();X(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=n}static getManager(e){const n=$r.getInstance().managers[e];if(n==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return n}static getSchemes(){return Object.keys($r.getInstance().managers)}}function Gd(t){if(t.indexOf(Al)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${$r.getSchemes().join(",")}`);return{scheme:t.split(Al)[0],path:t.split(Al)[1]}}async function C3(t,e,n=!1){X(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=_n.getLoadHandlers(t);X(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),X(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const a=r[0],s=_n.getSaveHandlers(e);X(s.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),X(s.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const o=s[0],i=Gd(t).scheme,c=Gd(t).path,d=i===Gd(t).scheme,l=await a.load();n&&d&&await $r.getManager(i).removeModel(c);const p=await o.save(l);return n&&!d&&await $r.getManager(i).removeModel(c),p.modelArtifactsInfo}async function yA(){const t=$r.getSchemes(),e={};for(const n of t){const r=await $r.getManager(n).listModels();for(const a in r){const s=n+Al+a;e[s]=r[a]}}return e}async function bA(t){const e=Gd(t);return $r.getManager(e.scheme).removeModel(e.path)}async function wA(t,e){return C3(t,e,!1)}async function SA(t,e){return C3(t,e,!0)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class xA{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,n){return fetch(e,n)}now(){return performance.now()}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${n}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,n){return new TextDecoder(n).decode(e)}setTimeoutCustom(e,n){if(typeof window>"u"||!At().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,n);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},n),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const a=this.functionRefs[r.data.index];a(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return r3(e)}}if(At().get("IS_BROWSER")){At().setPlatform("browser",new xA);try{$r.registerManager(Fi.URL_SCHEME,new vA)}catch{}try{$r.registerManager(Di.URL_SCHEME,new uA)}catch{}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kA={importFetch:()=>require("node-fetch")};let zg;class _A{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,n){return At().global.fetch!=null?At().global.fetch(e,n):(zg==null&&(zg=kA.importFetch()),zg(e,n))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,n){if(n!=="utf-8"&&n!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${n}`);return this.textEncoder.encode(e)}decode(e,n){return e.length===0?"":new this.util.TextDecoder(n).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}At().get("IS_NODE")&&!At().get("IS_BROWSER")&&At().setPlatform("node",new _A);/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ot(t,e="float32",n){return e=e||"float32",wa(t),new Yn(t,e,n)}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IA(t,e){const n=G(t,"x","cast");if(!oN(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&n.dtype!=="string"||e!=="string"&&n.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:n},a={dtype:e};return de.runKernel(Zf,r,a)}const Cn=se({cast_:IA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CA(t){const n={x:G(t,"x","clone","string_or_numeric")};return de.runKernel(_p,n)}const Fo=se({clone_:CA});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E3(t,e=!1){console.log(t.toString(e))}/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */p3();const EA={buffer:Ot,cast:Cn,clone:Fo,print:E3};BN(EA);/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gv(){return de}function $t(t,e){return de.tidy(t,e)}function Zn(t){d3(t).forEach(n=>n.dispose())}function Ss(t){return de.keep(t)}function ow(t){return de.setBackend(t)}function TA(){return de.ready()}function T3(t,e,n=1){return de.registerBackend(t,e,n)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NA(t,e){let n=G(t,"a","add"),r=G(e,"b","add");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(Ic,a)}const ht=se({add_:NA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AA(t,e){let n=G(t,"a","floorDiv"),r=G(e,"b","floorDiv");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(bp,a)}const N3=se({floorDiv_:AA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DA(t,e){let n=G(t,"a","div"),r=G(e,"b","div");if([n,r]=Dn(n,r),n.dtype==="int32"&&r.dtype==="int32")return N3(n,r);const a={a:n,b:r},s={};return de.runKernel(dp,a,s)}const Rt=se({div_:DA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FA(t,e){let n=G(t,"a","mul"),r=G(e,"b","mul");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(qp,a)}const Ge=se({mul_:FA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RA(t){const e=G(t,"x","abs");if(e.dtype==="complex64"){const n={x:e};return de.runKernel(zx,n)}else{const n={x:e};return de.runKernel(Wy,n)}}const va=se({abs_:RA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $A(t){const n={x:G(t,"x","acos")};return de.runKernel(Pf,n)}const OA=se({acos_:$A});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MA(t){const n={x:G(t,"x","acosh")};return de.runKernel(Bf,n)}const PA=se({acosh_:MA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BA(t){X(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),X(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((a,s)=>G(a,`tensors${s}`,"addN")),n=e[0];e.forEach(a=>{if(a.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(a=>{if(!Ma(a.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return de.runKernel(zf,r)}const zA=se({addN_:BA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LA(t,e=null,n=!1){const a={x:G(t,"x","all","bool")},s={axis:e,keepDims:n};return de.runKernel(Lf,a,s)}const WA=se({all_:LA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jA(t,e=null,n=!1){const a={x:G(t,"x","any","bool")},s={axis:e,keepDims:n};return de.runKernel(Wf,a,s)}const VA=se({any_:jA});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UA(t,e=0){const r={x:G(t,"x","argMax")},a={axis:e};return de.runKernel(jy,r,a)}const HA=se({argMax_:UA});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GA(t,e=0){const r={x:G(t,"x","argMin")},a={axis:e};return de.runKernel(Vy,r,a)}const qA=se({argMin_:GA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KA(t){const n={x:G(t,"x","asin")};return de.runKernel(jf,n)}const XA=se({asin_:KA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YA(t){const n={x:G(t,"x","asinh")};return de.runKernel(Vf,n)}const ZA=se({asinh_:YA});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QA(t){const n={x:G(t,"x","atan")};return de.runKernel(Uf,n)}const JA=se({atan_:QA});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e6(t,e){let n=G(t,"a","atan2"),r=G(e,"b","atan2");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(Gf,a)}const t6=se({atan2_:e6});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function n6(t){const n={x:G(t,"x","atanh")};return de.runKernel(Hf,n)}const r6=se({atanh_:n6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Yl(t,e,n,r,a="NHWC",s){const o=t[3],i=[...e,o],c=Zl(a);return Xr(t,i,n,s,r,null,null,c)}function rs(t,e,n,r,a,s,o="channelsLast"){const[i,c]=dc(e);let d;if(o==="channelsLast")d=[i,c,t[3],t[3]];else if(o==="channelsFirst")d=[i,c,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Xr(t,d,n,r,a,s,!1,o)}function Vo(t,e,n,r,a,s,o="NDHWC"){const[i,c,d]=qv(e);let l,p;if(o==="NDHWC")p="channelsLast",l=[i,c,d,t[4],t[4]];else if(o==="NCDHW")p="channelsFirst",l=[i,c,d,t[1],t[1]];else throw new Error(`Unknown dataFormat ${o}`);return Li(t,l,n,r,a,!1,p,s)}function Xr(t,e,n,r,a,s,o=!1,i="channelsLast"){let[c,d,l,p]=[-1,-1,-1,-1];if(i==="channelsLast")[c,d,l,p]=t;else if(i==="channelsFirst")[c,p,d,l]=t;else throw new Error(`Unknown dataFormat ${i}`);const[h,m,,y]=e,[v,b]=dc(n),[w,x]=dc(r),_=Dl(h,w),C=Dl(m,x),{padInfo:T,outHeight:R,outWidth:M}=o6(a,d,l,v,b,_,C,s,i),W=o?y*p:y;let P;return i==="channelsFirst"?P=[c,W,R,M]:i==="channelsLast"&&(P=[c,R,M,W]),{batchSize:c,dataFormat:i,inHeight:d,inWidth:l,inChannels:p,outHeight:R,outWidth:M,outChannels:W,padInfo:T,strideHeight:v,strideWidth:b,filterHeight:h,filterWidth:m,effectiveFilterHeight:_,effectiveFilterWidth:C,dilationHeight:w,dilationWidth:x,inShape:t,outShape:P,filterShape:e}}function Li(t,e,n,r,a,s=!1,o="channelsLast",i){let[c,d,l,p,h]=[-1,-1,-1,-1,-1];if(o==="channelsLast")[c,d,l,p,h]=t;else if(o==="channelsFirst")[c,h,d,l,p]=t;else throw new Error(`Unknown dataFormat ${o}`);const[m,y,v,,b]=e,[w,x,_]=qv(n),[C,T,R]=qv(r),M=Dl(m,C),W=Dl(y,T),P=Dl(v,R),{padInfo:z,outDepth:F,outHeight:O,outWidth:U}=i6(a,d,l,p,w,x,_,M,W,P,i),N=s?b*h:b;let q;return o==="channelsFirst"?q=[c,N,F,O,U]:o==="channelsLast"&&(q=[c,F,O,U,N]),{batchSize:c,dataFormat:o,inDepth:d,inHeight:l,inWidth:p,inChannels:h,outDepth:F,outHeight:O,outWidth:U,outChannels:N,padInfo:z,strideDepth:w,strideHeight:x,strideWidth:_,filterDepth:m,filterHeight:y,filterWidth:v,effectiveFilterDepth:M,effectiveFilterHeight:W,effectiveFilterWidth:P,dilationDepth:C,dilationHeight:T,dilationWidth:R,inShape:t,outShape:q,filterShape:e}}function a6(t,e,n,r,a){r==null&&(r=A3(t,e,n));const s=t[0],o=t[1],i=fc((s-e+2*r)/n+1,a),c=fc((o-e+2*r)/n+1,a);return[i,c]}function s6(t,e,n,r,a,s){a==null&&(a=A3(t,e[0],r[0]));const o=[0,0,0,n];for(let i=0;i<3;i++)t[i]+2*a>=e[i]&&(o[i]=fc((t[i]-e[i]+2*a)/r[i]+1,s));return o}function A3(t,e,n,r=1){const a=Dl(e,r);return Math.floor((t[0]*(n-1)-n+a)/2)}function dc(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function qv(t){return typeof t=="number"?[t,t,t]:t}function Dl(t,e){return e<=1?t:t+(t-1)*(e-1)}function o6(t,e,n,r,a,s,o,i,c){let d,l,p;if(typeof t=="number"){d={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const m=a6([e,n],s,r,t,i);l=m[0],p=m[1]}else if(t==="same"){l=Math.ceil(e/r),p=Math.ceil(n/a);const h=Math.max(0,(l-1)*r+s-e),m=Math.max(0,(p-1)*a+o-n),y=Math.floor(h/2),v=h-y,b=Math.floor(m/2),w=m-b;d={top:y,bottom:v,left:b,right:w,type:"SAME"}}else if(t==="valid")d={top:0,bottom:0,left:0,right:0,type:"VALID"},l=Math.ceil((e-s+1)/r),p=Math.ceil((n-o+1)/a);else if(typeof t=="object"){const h=c==="channelsLast"?t[1][0]:t[2][0],m=c==="channelsLast"?t[1][1]:t[2][1],y=c==="channelsLast"?t[2][0]:t[3][0],v=c==="channelsLast"?t[2][1]:t[3][1];d={top:h,bottom:m,left:y,right:v,type:h===0&&m===0&&y===0&&v===0?"VALID":"EXPLICIT"},l=fc((e-s+h+m)/r+1,i),p=fc((n-o+y+v)/a+1,i)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:d,outHeight:l,outWidth:p}}function i6(t,e,n,r,a,s,o,i,c,d,l){let p,h,m,y;if(t==="valid"&&(t=0),typeof t=="number"){p={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const b=s6([e,n,r,1],[i,c,d],1,[a,s,o],t,l);h=b[0],m=b[1],y=b[2]}else if(t==="same"){h=Math.ceil(e/a),m=Math.ceil(n/s),y=Math.ceil(r/o);const v=(h-1)*a+i-e,b=(m-1)*s+c-n,w=(y-1)*o+d-r,x=Math.floor(v/2),_=v-x,C=Math.floor(b/2),T=b-C,R=Math.floor(w/2),M=w-R;p={top:C,bottom:T,left:R,right:M,front:x,back:_,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:p,outDepth:h,outHeight:m,outWidth:y}}function fc(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function gf(t){const[e,n,r]=dc(t);return e===1&&n===1&&r===1}function Ba(t,e){return gf(t)||gf(e)}function Bl(t){return dc(t).every(e=>e>0)}function Zl(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function as(t,e,n){if(n!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);if(typeof e=="number")X(ac(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(a=>{X(ac(a),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${n} but got pad ${a}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function l6(t,e){const r={x:G(t,"x","reshape","string_or_numeric")},a={shape:e};return de.runKernel(l0,r,a)}const De=se({reshape_:l6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u6(t,e,n,r,a){const s=G(t,"x","avgPool","float32"),o=1;X(Ba(n,o),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`);let i=s,c=!1;s.rank===3&&(c=!0,i=De(s,[1,s.shape[0],s.shape[1],s.shape[2]])),X(i.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${i.rank}.`),as("avgPool",r,a);const d={x:i},l={filterSize:e,strides:n,pad:r,dimRoundingMode:a};let p=de.runKernel(qf,d,l);return p=Cn(p,s.dtype),c?De(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const D3=se({avgPool_:u6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function c6(t,e,n,r,a,s="NDHWC"){const o=G(t,"x","avgPool3d","float32");let i=o,c=!1;o.rank===4&&(c=!0,i=De(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),X(i.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${i.rank}.`),X(s==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),X(typeof n=="number"&&n>0||Array.isArray(n)&&n[0]>0&&n[1]>0&&n[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${n}'`),as("avgPool3d",r,a);const d={x:i},l={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:s};let p=de.runKernel(Uy,d,l);return p=Cn(p,i.dtype),c?De(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const d6=se({avgPool3d_:c6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f6(t,e=0){X(t.length>=1,()=>"Pass at least one tensor to concat");const n=hf(t,"tensors","concat","string_or_numeric");if(n[0].dtype==="complex64"&&n.forEach(s=>{if(s.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${s.dtype}. `)}),n.length===1)return Fo(n[0]);const r=n,a={axis:e};return de.runKernel(qy,r,a)}const hr=se({concat_:f6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p6(t,e,n=!1,r=!1){let a=G(t,"a","matMul"),s=G(e,"b","matMul");[a,s]=Dn(a,s);const o={a,b:s},i={transposeA:n,transposeB:r};return de.runKernel(Kf,o,i)}const ln=se({matMul_:p6});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h6(t){const n={x:G(t,"x","sigmoid","float32")};return de.runKernel(yh,n)}const Ii=se({sigmoid_:h6});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m6(t,e,n){const r=G(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const a={x:r},s={begin:e,size:n};return de.runKernel(f0,a,s)}const Tt=se({slice_:m6});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function g6(t){const n={x:G(t,"x","tanh","float32")};return de.runKernel(Nh,n)}const Kv=se({tanh_:g6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v6(t,e,n,r,a,s){const o=G(t,"forgetBias","basicLSTMCell"),i=G(e,"lstmKernel","basicLSTMCell"),c=G(n,"lstmBias","basicLSTMCell"),d=G(r,"data","basicLSTMCell"),l=G(a,"c","basicLSTMCell"),p=G(s,"h","basicLSTMCell"),h=hr([d,p],1),m=ln(h,i),y=ht(m,c),v=y.shape[0],b=y.shape[1]/4,w=[v,b],x=Tt(y,[0,0],w),_=Tt(y,[0,b],w),C=Tt(y,[0,b*2],w),T=Tt(y,[0,b*3],w),R=ht(Ge(Ii(x),Kv(_)),Ge(l,Ii(ht(o,C)))),M=Ge(Kv(R),Ii(T));return[R,M]}const y6=se({basicLSTMCell_:v6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b6(t,e,n){const r=G(t,"x","batchToSpaceND"),a=e.reduce((i,c)=>i*c);X(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),X(n.length===e.length,()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${e.length}`),X(r.shape[0]%a===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${a}`);const s={x:r},o={blockShape:e,crops:n};return de.runKernel(Hy,s,o)}const F3=se({batchToSpaceND_:b6});function w6(t){let e;return t.rank===0||t.rank===1?e=De(t,[1,1,1,t.size]):t.rank===2?e=De(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=De(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function S6(t,e,n,r,a,s){s==null&&(s=.001);const o=G(t,"x","batchNorm"),i=G(e,"mean","batchNorm"),c=G(n,"variance","batchNorm");let d;a!=null&&(d=G(a,"scale","batchNorm"));let l;r!=null&&(l=G(r,"offset","batchNorm")),X(i.rank===c.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),X(l==null||i.rank===l.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),X(d==null||i.rank===d.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const h={x:w6(o),scale:d,offset:l,mean:i,variance:c},m={varianceEpsilon:s},y=de.runKernel(wp,h,m);return De(y,o.shape)}const $h=se({batchNorm_:S6});function x6(t,e,n,r,a,s){const o=G(t,"x","batchNorm"),i=G(e,"mean","batchNorm"),c=G(n,"variance","batchNorm");let d;a!=null&&(d=G(a,"scale","batchNorm"));let l;return r!=null&&(l=G(r,"offset","batchNorm")),X(o.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${o.rank}.`),X(i.rank===2||i.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${i.rank}.`),X(c.rank===2||c.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${c.rank}.`),d!=null&&X(d.rank===2||d.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${d.rank}.`),l!=null&&X(l.rank===2||l.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${l.rank}.`),$h(o,i,c,l,d,s)}const k6=se({batchNorm2d_:x6});function _6(t,e,n,r,a,s){const o=G(t,"x","batchNorm"),i=G(e,"mean","batchNorm"),c=G(n,"variance","batchNorm");let d;a!=null&&(d=G(a,"scale","batchNorm"));let l;return r!=null&&(l=G(r,"offset","batchNorm")),X(o.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${o.rank}.`),X(i.rank===3||i.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${i.rank}.`),X(c.rank===3||c.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${c.rank}.`),d!=null&&X(d.rank===3||d.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${d.rank}.`),l!=null&&X(l.rank===3||l.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${l.rank}.`),$h(o,i,c,l,d,s)}const I6=se({batchNorm3d_:_6});function C6(t,e,n,r,a,s){const o=G(t,"x","batchNorm"),i=G(e,"mean","batchNorm"),c=G(n,"variance","batchNorm");let d;a!=null&&(d=G(a,"scale","batchNorm"));let l;return r!=null&&(l=G(r,"offset","batchNorm")),X(o.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${o.rank}.`),X(i.rank===4||i.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${i.rank}.`),X(c.rank===4||c.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${c.rank}.`),d!=null&&X(d.rank===4||d.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${d.rank}.`),l!=null&&X(l.rank===4||l.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${l.rank}.`),$h(o,i,c,l,d,s)}const E6=se({batchNorm4d_:C6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T6(t,e,n){const r=G(t,"x","bincount"),a=G(e,"weights","bincount");X(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),X(n>=0,()=>`size must be non-negative, but got ${n}.`),X(a.size===r.size||a.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${a.shape}.`);const s={x:r,weights:a},o={size:n};return de.runKernel(Xf,s,o)}const R3=se({bincount_:T6});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N6(t,e){const n=G(t,"x","bitwiseAnd"),r=G(e,"y","bitwiseAnd");if(!Ma(n.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${n.shape}, y: ${r.shape}`);if(n.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${n.dtype} and type of y: ${r.dtype}`);const a={a:n,b:r};return de.runKernel(Yf,a)}const A6=se({bitwiseAnd_:N6});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function D6(t,e){const n=G(t,"s0","broadcastArgs","int32"),r=G(e,"s1","broadcastArgs","int32");if(n.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const a={s0:n,s1:r};return de.runKernel(Gy,a)}const F6=se({broadcastArgs_:D6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R6(t,e){let n=G(t,"broadcastTo","x");const r=n.shape;if(wa(e),e.length<n.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${n.rank}.`);if(e.length>n.rank){const d=n.shape.slice();for(;d.length<e.length;)d.unshift(1);n=De(n,d)}const a=n.shape,s=Array.from(e);for(let d=e.length-1;d>=0;d--)if(a[d]===e[d])s[d]=1;else if(n.shape[d]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(s.map((d,l)=>d>1?l:-1).filter(d=>d>=0).length===0)return Fo(n);const i={x:n},c={reps:s};return de.runKernel(Ec,i,c)}const Zu=se({broadcastTo_:R6});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $6(t){const n={x:G(t,"x","ceil","float32")};return de.runKernel(Qf,n)}const O6=se({ceil_:$6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ac(t,e,n){wa(t),n=n||_c(e);const r={shape:t,value:e,dtype:n};return de.runKernel(Jy,{},r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M6(t,e,n){const r=G(t,"x","clipByValue");if(X(e<=n,()=>`Error in clip: min (${e}) must be less than or equal to max (${n}).`),e===n)return Ac(r.shape,e,r.dtype);const a={x:r},s={clipValueMin:e,clipValueMax:n};return de.runKernel(Cc,a,s)}const $3=se({clipByValue_:M6});function P6(t){return hr(t,0)}const B6=se({concat1d_:P6});function z6(t,e){return hr(t,e)}const L6=se({concat2d_:z6});function W6(t,e){return hr(t,e)}const j6=se({concat3d_:W6});function V6(t,e){return hr(t,e)}const U6=se({concat4d_:V6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H6(t,e,n,r,a="NHWC",s=[1,1],o){const i=G(t,"x","conv2d","float32"),c=G(e,"filter","conv2d","float32");let d=i,l=!1;i.rank===3&&(l=!0,d=De(i,[1,i.shape[0],i.shape[1],i.shape[2]])),X(d.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${d.rank}.`),X(c.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${c.rank}.`),as("conv2d",r,o);const p=a==="NHWC"?d.shape[3]:d.shape[1];X(p===c.shape[2],()=>`Error in conv2d: depth of input (${p}) must match input depth for filter ${c.shape[2]}.`),X(Ba(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),X(Bl(s),()=>"Error in conv2D: Dilated rates should be larger than 0."),X(Bl(n),()=>"Error in conv2D: Strides should be larger than 0.");const h={x:d,filter:c},m={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},y=de.runKernel(Jf,h,m);return l?De(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const Oh=se({conv2d_:H6});function G6(t,e,n,r,a="NWC",s=1,o){const i=G(t,"x","conv1d"),c=G(e,"filter","conv1d");let d=i,l=!1;i.rank===2&&(l=!0,d=De(i,[1,i.shape[0],i.shape[1]])),X(d.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${d.rank}.`),X(c.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${c.rank}.`),as("conv1d",r,o),X(d.shape[2]===c.shape[1],()=>`Error in conv1d: depth of input (${d.shape[2]}) must match input depth for filter ${c.shape[1]}.`),X(Ba(n,s),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${s}'`),X(Bl(s),()=>"Error in conv1D: Dilated rates should be larger than 0."),X(Bl(n),()=>"Error in conv1D: Stride should be larger than 0."),X(a==="NWC",()=>`Error in conv1d: got dataFormat of ${a} but only NWC is currently supported.`);const p=De(c,[1,c.shape[0],c.shape[1],c.shape[2]]),h=De(d,[d.shape[0],1,d.shape[1],d.shape[2]]),b=Oh(h,p,[1,n],r,"NHWC",[1,s],o);return l?De(b,[b.shape[2],b.shape[3]]):De(b,[b.shape[0],b.shape[2],b.shape[3]])}const q6=se({conv1d_:G6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function K6(t,e,n,r,a,s="NHWC",o){X(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let i=t,c=e,d=!1;e.rank===3&&(d=!0,c=De(e,[1,e.shape[0],e.shape[1],e.shape[2]]),i=[1,t[0],t[1],t[2]]),X(i.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${i.length}.`),X(c.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${c.rank}`),X(n.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`);const l=s==="NHWC"?i[3]:i[1],p=s==="NHWC"?c.shape[3]:c.shape[1];X(l===n.shape[2],()=>`Error in conv2dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[2]}.`),X(p===n.shape[3],()=>`Error in conv2dDerInput: depth of output (${p}) must match output depth for filter ${n.shape[3]}.`),as("conv2dDerInput",a,o);const h={dy:c,filter:n},m={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,inputShape:i},y=de.runKernel(ep,h,m);return d?De(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const O3=se({conv2DBackpropInput_:K6});function X6(t,e,n,r,a,s){const o=G(t,"x","conv2dTranspose"),i=G(e,"filter","conv2dTranspose");return O3(n,o,i,r,a,"NHWC",s)}const Y6=se({conv2dTranspose_:X6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z6(t,e,n,r,a="NDHWC",s=[1,1,1]){const o=G(t,"x","conv3d"),i=G(e,"filter","conv3d");let c=o,d=!1;o.rank===4&&(d=!0,c=De(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),X(c.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${c.rank}.`),X(i.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${i.rank}.`),X(c.shape[4]===i.shape[3],()=>`Error in conv3d: depth of input (${c.shape[4]}) must match input depth for filter ${i.shape[3]}.`),X(Ba(n,s),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),X(a==="NDHWC",()=>`Error in conv3d: got dataFormat of ${a} but only NDHWC is currently supported.`),X(Bl(s),()=>"Error in conv3D: Dilated rates should be larger than 0."),X(Bl(n),()=>"Error in conv3D: Strides should be larger than 0.");const l={x:c,filter:i},p={strides:n,pad:r,dataFormat:a,dilations:s},h=de.runKernel(tp,l,p);return d?De(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const Q6=se({conv3d_:Z6});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J6(t,e,n,r,a){X(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let s=t,o=e,i=!1;e.rank===4&&(i=!0,o=De(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),s=[1,t[0],t[1],t[2],t[3]]);const c=s[4],d=o.shape[4];X(s.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${s.length}.`),X(o.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${o.rank}`),X(n.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`),X(c===n.shape[3],()=>`Error in conv3dDerInput: depth of input (${c}) must match input depth for filter ${n.shape[3]}.`),X(d===n.shape[4],()=>`Error in conv3dDerInput: depth of output (${d}) must match output depth for filter ${n.shape[4]}.`);const l={dy:o,filter:n},p={pad:a,strides:r,inputShape:s},h=de.runKernel(np,l,p);return i?De(h,[h.shape[1],h.shape[2],h.shape[3],h.shape[4]]):h}const eD=se({conv3DBackpropInput_:J6});function tD(t,e,n,r,a){const s=G(t,"x","conv3dTranspose"),o=G(e,"filter","conv3dTranspose");return eD(n,s,o,r,a)}const nD=se({conv3dTranspose_:tD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rD(t){const n={x:G(t,"x","cos","float32")};return de.runKernel(rp,n)}const aD=se({cos_:rD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sD(t){const n={x:G(t,"x","cosh","float32")};return de.runKernel(ap,n)}const oD=se({cosh_:sD});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iD(t,e=0,n=!1,r=!1){const s={x:G(t,"x","cumprod")},o={axis:e,exclusive:n,reverse:r};return de.runKernel(sp,s,o)}const lD=se({cumprod_:iD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uD(t,e=0,n=!1,r=!1){const s={x:G(t,"x","cumsum")},o={axis:e,exclusive:n,reverse:r};return de.runKernel(op,s,o)}const cD=se({cumsum_:uD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dD(t,e,n,r=!1){const a=G(t,"x","denseBincount"),s=G(e,"weights","denseBincount");X(a.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${a.dtype}`),X(a.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${a.rank}.`),X(n>=0,()=>`size must be non-negative, but got ${n}.`),X(s.size===a.size||s.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${a.shape}, weights shape: ${s.shape}.`);const o={x:a,weights:s},i={size:n,binaryOutput:r};return de.runKernel(Xy,o,i)}const fD=se({denseBincount_:dD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pD(t,e,n="NHWC"){const r=G(t,"x","depthToSpace","float32"),a=n==="NHWC"?r.shape[1]:r.shape[2],s=n==="NHWC"?r.shape[2]:r.shape[3],o=n==="NHWC"?r.shape[3]:r.shape[1];X(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),X(a*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${a} and ${e}  for depthToSpace with input shape
    ${r.shape}`),X(s*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${s} and ${e} for depthToSpace with input shape
        ${r.shape}`),X(o%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${o} for depthToSpace with input shape ${r.shape}`);const i={x:r},c={blockSize:e,dataFormat:n};return de.runKernel(lp,i,c)}const hD=se({depthToSpace_:pD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mD(t,e,n,r,a="NHWC",s=[1,1],o){const i=G(t,"x","depthwiseConv2d","float32"),c=G(e,"filter","depthwiseConv2d","float32");let d=i,l=!1;i.rank===3&&(l=!0,d=De(i,[1,i.shape[0],i.shape[1],i.shape[2]])),X(d.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${d.rank}.`),X(c.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${c.rank}.`);const p=a==="NHWC"?d.shape[3]:d.shape[1];X(p===c.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${p}) must match the inChannels dimension in filter ${c.shape[2]}.`),as("depthwiseConv2d",r,o);const h={x:d,filter:c},m={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o},y=de.runKernel(up,h,m);return l?De(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const T0=se({depthwiseConv2d_:mD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gD(t){const n={x:G(t,"x","diag")};return de.runKernel(Yy,n)}const vD=se({diag_:gD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yD(t,e,n,r,a=[1,1],s="NHWC"){const o=G(t,"x","dilation2d"),i=G(e,"filter","dilation2d");X(o.rank===3||o.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${o.rank}.`),X(i.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${i.rank}.`),X(s==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${s}`);let c=o,d=!1;o.rank===3&&(c=De(o,[1,o.shape[0],o.shape[1],o.shape[2]]),d=!0),X(c.shape[3]===i.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${c.shape[3]} vs ${i.shape[2]}`);const l={x:c,filter:i},p={strides:n,pad:r,dilations:a},h=de.runKernel(cp,l,p);return d?De(h,[h.shape[1],h.shape[2],h.shape[3]]):h}const bD=se({dilation2d_:yD});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vf(t,e){const n=t.length,r=[];for(let a=0;a<n;a++){const s=n-1-a,o=t[s]||1;(e[e.length-1-a]||1)>1&&o===1&&r.unshift(s)}return r}function wD(t,e){const n=[];for(let r=0;r<e.length;r++){const a=t[t.length-r-1],s=e.length-r-1,o=e[s];(a==null||a===1&&o>1)&&n.unshift(s)}return n}function hn(t,e){const n=Math.max(t.length,e.length),r=new Array(n);for(let a=0;a<n;a++){let s=t[t.length-a-1];s==null&&(s=1);let o=e[e.length-a-1];if(o==null&&(o=1),s===1)r[n-a-1]=o;else if(o===1)r[n-a-1]=s;else if(s!==o){const i=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(i)}else r[n-a-1]=s}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SD(t,e){let n=G(t,"a","equal","string_or_numeric"),r=G(e,"b","equal","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(hp,a)}const M3=se({equal_:SD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xD(t,e,n){const r=G(e,"a","where"),a=G(n,"b","where"),s=G(t,"condition","where","bool"),o=hn(hn(s.shape,r.shape),a.shape),i=Zu(s,o),c=Zu(r,o),d=Zu(a,o),l={condition:i,t:c,e:d};return de.runKernel(d0,l)}const Ro=se({where_:xD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kD(t){const n={x:G(t,"x","zerosLike")};return de.runKernel(_0,n)}const ba=se({zerosLike_:kD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _D(t,e){let n=G(t,"a","div"),r=G(e,"b","div");[n,r]=Dn(n,r);const a=Rt(n,r),s=ba(a),o=M3(r,s);return Ro(o,s,a)}const ID=se({divNoNan_:_D});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CD(t,e){const n=G(t,"t1","dot"),r=G(e,"t2","dot");X((n.rank===1||n.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`);const a=n.rank===1?n.size:n.shape[1],s=r.rank===1?r.size:r.shape[0];if(X(a===s,()=>`Error in dot: inner dimensions of inputs must match, but got ${a} and ${s}.`),n.rank===1&&r.rank===1){const o=De(n,[1,-1]),i=De(r,[-1,1]),c=ln(o,i);return De(c,[])}else if(n.rank===1&&r.rank===2){const o=De(n,[1,-1]),i=De(r,[r.shape[0],r.shape[1]]),c=ln(o,i);return De(c,[c.size])}else if(n.rank===2&&r.rank===1){const o=De(r,[-1,1]),i=ln(n,o);return De(i,[i.size])}else{const o=De(r,[r.shape[0],r.shape[1]]);return ln(n,o)}}const ED=se({dot_:CD});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TD(t,...e){const n=e.map((a,s)=>G(a,`tensors${s}`,"einsum")),r={equation:t};return de.runKernel(Vx,n,r)}const Cl=se({einsum_:TD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ND(t){const n={x:G(t,"x","elu","float32")};return de.runKernel(fp,n)}const P3=se({elu_:ND});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AD(t,e){const n=G(t,"x","ensureShape","string_or_numeric");if(!rN(n.shape,e))throw new Error(`EnsureShape: Shape of tensor ${n.shape} is not compatible with expected shape ${e}`);return t}const DD=se({ensureShape_:AD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FD(t){let e=G(t,"x","erf");X(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=Cn(e,"float32"));const n={x:e};return de.runKernel(pp,n)}const RD=se({erf_:FD});/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B3(t,e){for(let n=0;n<t.length;++n)if(t[t.length-n-1]!==e-1-n)return!1;return!0}function $D(t,e,n){const r=t.length+e.length,a=[];let s=0,o=0;for(let i=0;i<r;i++)n.indexOf(i)===-1?a.push(t[s++]):a.push(e[o++]);return a}function Pr(t,e){const n=[],r=t.length;for(let s=0;s<r;s++)e.indexOf(s)===-1&&n.push(t[s]);const a=e.map(s=>t[s]);return[n,a]}function mr(t,e){const n=e.map(r=>1);return $D(t,n,e)}function Br(t,e,n){X(B3(e,n),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${n} input.`)}function Sa(t,e){if(B3(t,e))return null;const n=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&n.push(r);return t.forEach(r=>n.push(r)),n}function Mh(t){return t.map((e,n)=>[n,e]).sort((e,n)=>e[1]-n[1]).map(e=>e[0])}function zr(t,e){const n=[];for(let r=e-t;r<e;++r)n.push(r);return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OD(t,e=null,n=!1){const a={x:G(t,"x","max")},s={reductionIndices:e,keepDims:n};return de.runKernel(Bp,a,s)}const Fl=se({max_:OD});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MD(t,e=null,n=!1){const a={x:G(t,"x","min")},s={axis:e,keepDims:n};return de.runKernel(jp,a,s)}const Xv=se({min_:MD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PD(t,e){let n=G(t,"base","pow"),r=G(e,"exp","pow");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(eh,a)}const pc=se({pow_:PD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Wt(t,e){if((Pa(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&Pa(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return jo(t,[],[],e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BD(t){const n={x:G(t,"x","sqrt","float32")};return de.runKernel(wh,n)}const Qs=se({sqrt_:BD});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zD(t){const e=G(t,"x","square"),n={};return de.runKernel("Square",{x:e},n)}const es=se({square_:zD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LD(t,e=null,n=!1){let r=G(t,"x","sum");r.dtype==="bool"&&(r=Cn(r,"int32"));const a={x:r},s={axis:e,keepDims:n};return de.runKernel(Sh,a,s)}const bn=se({sum_:LD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WD(t,e="euclidean",n=null,r=!1){t=G(t,"x","norm");const a=z3(t,e,n);let s=a.shape;if(r){const o=En(n,t.shape);s=mr(a.shape,o)}return De(a,s)}function z3(t,e,n=null){if(t.rank===0)return va(t);if(t.rank!==1&&n===null)return z3(De(t,[-1]),e,n);if(t.rank===1||typeof n=="number"||Array.isArray(n)&&n.length===1){if(e===1)return bn(va(t),n);if(e===1/0)return Fl(va(t),n);if(e===-1/0)return Xv(va(t),n);if(e==="euclidean"||e===2)return Qs(bn(pc(va(t),Wt(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(n)&&n.length===2){if(e===1)return Fl(bn(va(t),n[0]),n[1]-1);if(e===1/0)return Fl(bn(va(t),n[1]),n[0]);if(e===-1/0)return Xv(bn(va(t),n[1]),n[0]);if(e==="fro"||e==="euclidean")return Qs(bn(es(t),n));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const Ph=se({norm_:WD});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jD(t,e=null,n=!1){return Ph(t,"euclidean",e,n)}const VD=se({euclideanNorm_:jD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UD(t){const n={x:G(t,"x","exp")};return de.runKernel(mp,n)}const Js=se({exp_:UD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HD(t,e=0){const n=G(t,"x","expandDims","string_or_numeric");X(e<=n.rank,()=>"Axis must be <= rank of the tensor");const r={input:n},a={dim:e};return de.runKernel(Qy,r,a)}const bs=se({expandDims_:HD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GD(t){const n={x:G(t,"x","expm1")};return de.runKernel(gp,n)}const qD=se({expm1_:GD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KD(t,e){const n=G(t,"x","tile","string_or_numeric");X(n.rank===e.length,()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${e}.`);const r={x:n},a={reps:e};return de.runKernel(Ec,r,a)}const Qu=se({tile_:KD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XD(t,e,n,r="float32"){e==null&&(e=t);const a=Ot([t,e],r),s=t<=e?t:e;for(let i=0;i<s;++i)a.set(1,i,i);const o=De(a.toTensor(),[t,e]);if(n==null)return o;if(n.length===1)return Qu(bs(o,0),[n[0],1,1]);if(n.length===2)return Qu(bs(bs(o,0),0),[n[0],n[1],1,1]);if(n.length===3)return Qu(bs(bs(bs(o,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}const L3=se({eye_:XD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YD(t){const n={x:G(t,"x","floor","float32")};return de.runKernel(yp,n)}const W3=se({floor_:YD});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZD(t,e,n=0,r=0){const a=G(t,"x","gather"),s=G(e,"indices","gather","int32"),o={x:a,indices:s},i={axis:n,batchDims:r};return de.runKernel(e0,o,i)}const j3=se({gather_:ZD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QD(t,e){let n=G(t,"a","greater","string_or_numeric"),r=G(e,"b","greater","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(xp,a)}const Bh=se({greater_:QD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JD(t,e){let n=G(t,"a","greaterEqual","string_or_numeric"),r=G(e,"b","greaterEqual","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(kp,a)}const V3=se({greaterEqual_:JD});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eF(t){const n={input:G(t,"input","imag")};return de.runKernel(Gx,n)}const zh=se({imag_:eF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tF(t){const n={x:G(t,"x","isFinite")};return de.runKernel(Ip,n)}const nF=se({isFinite_:tF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rF(t){const n={x:G(t,"x","isInf")};return de.runKernel(Cp,n)}const aF=se({isInf_:rF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sF(t){const n={x:G(t,"x","isNaN")};return de.runKernel(Ep,n)}const oF=se({isNaN_:sF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iF(t,e=.2){const r={x:G(t,"x","leakyRelu")},a={alpha:e};return de.runKernel(Tp,r,a)}const U3=se({leakyRelu_:iF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lF(t,e){let n=G(t,"a","less","string_or_numeric"),r=G(e,"b","less","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(Np,a)}const Yv=se({less_:lF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uF(t,e){let n=G(t,"a","lessEqual","string_or_numeric"),r=G(e,"b","lessEqual","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(Ap,a)}const N0=se({lessEqual_:uF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cF(t,e,n){if(n<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:n};return de.runKernel(Dp,{},r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dF(t,e=5,n=1,r=1,a=.5){const s=G(t,"x","localResponseNormalization");X(s.rank===4||s.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${s.rank}.`),X(ac(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let o=s,i=!1;s.rank===3&&(i=!0,o=De(s,[1,s.shape[0],s.shape[1],s.shape[2]]));const c={x:o},d={depthRadius:e,bias:n,alpha:r,beta:a},l=de.runKernel(Pp,c,d);return i?De(l,[l.shape[1],l.shape[2],l.shape[3]]):l}const fF=se({localResponseNormalization_:dF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pF(t){const n={x:G(t,"x","log","float32")};return de.runKernel(Fp,n)}const hc=se({log_:pF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hF(t){const n={x:G(t,"x","log1p")};return de.runKernel(Rp,n)}const H3=se({log1p_:hF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mF(t,e){X(Ov(t),()=>"The f passed in variableGrads(f) must be a function"),X(e==null||Array.isArray(e)&&e.every(d=>d instanceof pf),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const n=e!=null;if(!n){e=[];for(const d in de.registeredVariables)e.push(de.registeredVariables[d])}const r=n?e.filter(d=>!d.trainable):null,a=e.length;e=e.filter(d=>d.trainable),X(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${a} variables is trainable.`);const s=!0,{value:o,grads:i}=de.gradients(t,e,null,s);X(i.some(d=>d!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),X(o.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${o.rank} tensor`);const c={};return e.forEach((d,l)=>{i[l]!=null&&(c[d.name]=i[l])}),r!=null&&r.forEach(d=>c[d.name]=null),{value:o,grads:c}}function eo(t){return de.customGrad(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gF(t){const n={x:G(t,"x","neg")};return de.runKernel(a0,n)}const ks=se({neg_:gF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vF(t){const n={x:G(t,"x","softplus")};return de.runKernel(bh,n)}const G3=se({softplus_:vF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yF(t){const e=G(t,"x","logSigmoid");return eo(r=>({value:ks(G3(ks(r))),gradFunc:o=>Ge(o,Ii(ks(r)))}))(e)}const bF=se({logSigmoid_:yF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wF(t,e){let n=G(t,"a","sub"),r=G(e,"b","sub");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(Eh,a)}const Nt=se({sub_:wF});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SF(t,e=-1){const n=G(t,"logits","logSoftmax");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${e}`);return eo((a,s)=>{const i=Fl(a,e,!0),c=Nt(a,i),d=Nt(Cn(c,"float32"),hc(bn(Js(c),e,!0)));return s([d]),{value:d,gradFunc:(p,h)=>{const[m]=h,y=!0,v=Js(m);return Nt(p,Ge(bn(p,e,y),v))}}})(n)}const xF=se({logSoftmax_:SF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kF(t,e=null,n=!1){const r=G(t,"x","logSumExp"),a=En(e,r.shape),s=Fl(r,a,!0),o=Nt(r,s),i=Js(o),c=bn(i,a),d=hc(c),l=ht(De(s,d.shape),d);if(n){const p=mr(l.shape,a);return De(l,p)}return l}const q3=se({logSumExp_:kF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _F(t,e){const n=G(t,"a","logicalAnd","bool"),r=G(e,"b","logicalAnd","bool");hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel($p,a)}const yf=se({logicalAnd_:_F});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IF(t){const n={x:G(t,"x","logicalNot","bool")};return de.runKernel(Op,n)}const K3=se({logicalNot_:IF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CF(t,e){const n=G(t,"a","logicalOr","bool"),r=G(e,"b","logicalOr","bool");hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(Mp,a)}const X3=se({logicalOr_:CF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EF(t,e){const n=G(t,"a","logicalXor","bool"),r=G(e,"b","logicalXor","bool");return hn(n.shape,r.shape),yf(X3(t,e),K3(yf(t,e)))}const TF=se({logicalXor_:EF});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rd=2147483648;function NF(t,e,n="left"){const r=G(t,"sortedSequence","searchSorted"),a=G(e,"values","searchSorted"),s=r.shape[r.shape.length-1],o=a.shape[a.shape.length-1],i=De(r,[-1,s]),c=De(a,[-1,o]);if(i.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(i.shape[0]!==c.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Ce(c.shape)>=Rd)throw new Error(`values tensor size must less than ${Rd}`);if(i.shape[1]>=Rd)throw new Error(`trailing dim_size must less than ${Rd} for int32 output type, was ${i.shape[1]}`);const d={sortedSequence:i,values:c},l={side:n};return de.runKernel(ph,d,l)}const A0=se({searchSorted_:NF});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AF(t,e){return A0(t,e,"left")}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DF(t,e,n,r,a){const s=G(t,"x","maxPool"),o=1;let i=s,c=!1;s.rank===3&&(c=!0,i=De(s,[1,s.shape[0],s.shape[1],s.shape[2]])),X(i.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${i.rank}.`),X(Ba(n,o),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '${o}'`),as("maxPool",r,a);const d={x:i},l={filterSize:e,strides:n,pad:r,dimRoundingMode:a},p=de.runKernel(Lp,d,l);return c?De(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const Y3=se({maxPool_:DF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FF(t,e=[1,1,1],n,r,a,s="NDHWC"){const o=G(t,"x","maxPool3d");let i=o,c=!1;o.rank===4&&(c=!0,i=De(o,[1,o.shape[0],o.shape[1],o.shape[2],o.shape[3]])),X(i.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${i.rank}.`),X(s==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${s}`),as("maxPool3d",r,a);const d={x:i},l={filterSize:e,strides:n,pad:r,dimRoundingMode:a,dataFormat:s},p=de.runKernel(n0,d,l);return c?De(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}const RF=se({maxPool3d_:FF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $F(t,e,n,r,a=!1){const o={x:G(t,"x","maxPoolWithArgmax")},i={filterSize:e,strides:n,pad:r,includeBatchInIndex:a},c=de.runKernel(r0,o,i);return{result:c[0],indexes:c[1]}}const OF=se({maxPoolWithArgmax_:$F});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MF(t,e){let n=G(t,"a","maximum"),r=G(e,"b","maximum");[n,r]=Dn(n,r),n.dtype==="bool"&&(n=Cn(n,"int32"),r=Cn(r,"int32")),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(zp,a)}const Z3=se({maximum_:MF});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PF(t,e=null,n=!1){const a={x:G(t,"x","mean")},s={axis:e,keepDims:n};return de.runKernel(Wp,a,s)}const bf=se({mean_:PF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zl(t,e="float32"){if(wa(t),e==="complex64"){const r=zl(t,"float32"),a=zl(t,"float32");return Oo(r,a)}const n=xr(Ce(t),e);return de.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ki(t,e="float32"){if(wa(t),e==="complex64"){const r=ki(t,"float32"),a=zl(t,"float32");return Oo(r,a)}const n=zy(Ce(t),e);return de.makeTensor(n,t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BF(t,e,{indexing:n="xy"}={}){if(n!=="xy"&&n!=="ij")throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=G(t,"x","meshgrid",t instanceof jn?t.dtype:"float32");if(e===void 0)return[r];let a=G(e,"y","meshgrid",e instanceof jn?e.dtype:"float32");const s=Ce(r.shape),o=Ce(a.shape);return n==="xy"?(r=De(r,[1,-1]),a=De(a,[-1,1]),[ln(ki([o,1],r.dtype),r),ln(a,ki([1,s],a.dtype))]):(r=De(r,[-1,1]),a=De(a,[1,-1]),[ln(r,ki([1,o],r.dtype)),ln(ki([s,1],a.dtype),a)])}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zF(t,e){let n=G(t,"a","minimum"),r=G(e,"b","minimum");[n,r]=Dn(n,r),n.dtype==="bool"&&(n=Cn(n,"int32"),r=Cn(r,"int32")),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(Vp,a)}const wf=se({minimum_:zF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LF(t,e,n){X(n==="reflect"||n==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`);const r=G(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");X(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const a=n==="reflect"?1:0;for(let i=0;i<r.rank;i++)X(e[i].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),X(e[i][0]>=0&&e[i][0]<=r.shape[i]-a&&e[i][1]>=0&&e[i][1]<=r.shape[i]-a,()=>`Padding in dimension ${i} cannot be greater than or equal to ${r.shape[i]-a} or less than 0 for input of shape ${r.shape}`);const s={paddings:e,mode:n},o={x:r};return de.runKernel(Up,o,s)}const WF=se({mirrorPad_:LF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jF(t,e){let n=G(t,"a","mod"),r=G(e,"b","mod");[n,r]=Dn(n,r);const a={a:n,b:r};return de.runKernel(Hp,a)}const VF=se({mod_:jF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UF(t,e=null,n=!1){t=G(t,"x","moments");const r=En(e,t.shape),a=bf(t,r,n);let s=a.shape;n||(s=mr(a.shape,r));const o=es(Nt(Cn(t,"float32"),De(a,s))),i=bf(o,r,n);return{mean:a,variance:i}}const HF=se({moments_:UF});function GF(t,e,n,r){const a=G(e,"data","multiRNNCell"),s=hf(n,"c","multiRNNCell"),o=hf(r,"h","multiRNNCell");let i=a;const c=[];for(let p=0;p<t.length;p++){const h=t[p](i,s[p],o[p]);c.push(h[0]),c.push(h[1]),i=h[1]}const d=[],l=[];for(let p=0;p<c.length;p+=2)d.push(c[p]),l.push(c[p+1]);return[d,l]}const qF=se({multiRNNCell_:GF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KF(t,e,n,r=!1){const a=G(t,"logits","multinomial"),s=a.size,o=a.rank;if(s<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${s}.`);if(o>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${o}`);n=n||Math.random();const c={logits:o===1?De(a,[1,-1]):a},d={numSamples:e,seed:n,normalized:r},l=de.runKernel(Gp,c,d);return o===1?De(l,[l.size]):l}const XF=se({multinomial_:KF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YF(t,e){let n=G(t,"a","notEqual","string_or_numeric"),r=G(e,"b","notEqual","string_or_numeric");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r};return de.runKernel(Kp,a)}const Q3=se({notEqual_:YF});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZF(t,e,n=1,r=0,a="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const o={indices:G(t,"indices","oneHot","int32")},i={dtype:a,depth:e,onValue:n,offValue:r};return de.runKernel(Qp,o,i)}const QF=se({oneHot_:ZF});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JF(t){const n={x:G(t,"x","onesLike")};return de.runKernel(s0,n)}const e5=se({onesLike_:JF});function t5(t,e){const n=G(t,"v1","outerProduct"),r=G(e,"v2","outerProduct");X(n.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`);const a=De(n,[-1,1]),s=De(r,[1,-1]);return ln(a,s)}const n5=se({outerProduct_:t5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r5(t,e,n=0){const r=G(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const a={paddings:e,constantValue:n},s={x:r};return de.runKernel(Jp,s,a)}const Dc=se({pad_:r5});function a5(t,e,n=0){return X(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Dc(t,[e],n)}const s5=se({pad1d_:a5});function o5(t,e,n=0){return X(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Dc(t,e,n)}const i5=se({pad2d_:o5});function l5(t,e,n=0){return X(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Dc(t,e,n)}const u5=se({pad3d_:l5});function c5(t,e,n=0){return X(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Dc(t,e,n)}const d5=se({pad4d_:c5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f5(t,e,n){const r=G(t,"x","spaceToBatchND");X(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),X(n.length===e.length,()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${e.length}`),X(r.shape.reduce((o,i,c)=>c>0&&c<=e.length?o&&(i+n[c-1][0]+n[c-1][1])%e[c-1]===0:o,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${e.toString()}`);const a={x:r},s={blockShape:e,paddings:n};return de.runKernel(p0,a,s)}const J3=se({spaceToBatchND_:f5});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p5(t,e,n,r,a,s,o){a==null&&(a=[1,1]),s==null&&(s=1),r===0&&(r="valid");const i=G(t,"x","maxPool");let c=i,d=!1;i.rank===3&&(d=!0,c=De(i,[1,i.shape[0],i.shape[1],i.shape[2]])),X(Ba(s,a),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${s} and dilations '${a}'`);const l=rs(c.shape,e,s,a,r),p=[l.dilationHeight,l.dilationWidth];let h;r==="same"?h=m5([l.filterHeight,l.filterWidth],p):h=[[0,0],[0,0]];const m=p[0]===1&&p[1]===1,[y,v]=h5([l.inHeight,l.inWidth],p,h),b=m?r:"valid",w=m?c:J3(c,p,y),_=(n==="avg"?()=>D3(w,e,s,b,o):()=>Y3(w,e,s,b,o))(),C=m?_:F3(_,p,v);return d?De(C,[C.shape[1],C.shape[2],C.shape[3]]):C}function h5(t,e,n){const r=n.map(l=>l[0]),a=n.map(l=>l[1]),s=t.concat(r,a),o=e.map((l,p)=>(l-s[p]%l)%l),i=a.map((l,p)=>l+o[p]),c=e.map((l,p)=>[r[p],i[p]]),d=e.map((l,p)=>[0,o[p]]);return[c,d]}function m5(t,e){const r=t.map((o,i)=>o+(o-1)*(e[i]-1)).map(o=>o-1),a=r.map(o=>Math.floor(o/2)),s=r.map((o,i)=>o-a[i]);return r.map((o,i)=>[a[i],s[i]])}const g5=se({pool_:p5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v5(t,e){const n=G(t,"x","prelu"),r=G(e,"alpha","prelu"),a={x:n,alpha:r};return de.runKernel(th,a)}const ek=se({prelu_:v5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y5(t,e=null,n=!1){let r=G(t,"x","prod");r.dtype==="bool"&&(r=Cn(r,"int32"));const a={x:r},s={axis:e,keepDims:n};return de.runKernel(nh,a,s)}const b5=se({prod_:y5});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w5(t,e,n,r){const a=t.map((l,p)=>G(l,`tensors${p}`,"raggedGather","int32")),s=G(e,"paramsDenseValues","raggedGather"),o=G(n,"indices","raggedGather","int32"),i={paramsNestedSplits:a,paramsDenseValues:s,indices:o},c={outputRaggedRank:r},d=de.runKernel(Xx,i,c);return{outputNestedSplits:d.slice(0,d.length-1),outputDenseValues:d[d.length-1]}}const S5=se({raggedGather_:w5});/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x5(t,e,n){const r=G(t,"starts","raggedRange"),a=G(e,"limits","raggedRange",r.dtype),s=G(n,"deltas","raggedRange",r.dtype),o={starts:r,limits:a,deltas:s},i=de.runKernel(Yx,o);return{rtNestedSplits:i[0],rtDenseValues:i[1]}}const k5=se({raggedRange_:x5});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _5(t,e,n,r,a){const s=G(t,"shape","raggedTensorToTensor","int32"),o=G(e,"values","raggedTensorToTensor"),i=G(n,"defaultValue","raggedTensorToTensor",o.dtype),c=r.map((p,h)=>G(p,`tensors${h}`,"raggedTensorToTensor","int32")),d={shape:s,values:o,defaultValue:i,rowPartitionTensors:c},l={rowPartitionTypes:a};return de.runKernel(Zx,d,l)}const I5=se({raggedTensorToTensor_:_5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C5(t,e,n){wa(t);const r=Ce(t);let a=null;if(n==null||n==="float32")a=new Float32Array(r);else if(n==="int32")a=new Int32Array(r);else if(n==="bool")a=new Uint8Array(r);else throw new Error(`Unknown data type ${n}`);for(let s=0;s<r;s++)a[s]=e();return de.makeTensor(a,t,n)}const E5=se({rand_:C5});var qd={exports:{}},T5=qd.exports,iw;function N5(){return iw||(iw=1,function(t){(function(e,n,r){function a(c){var d=this,l=i();d.next=function(){var p=2091639*d.s0+d.c*23283064365386963e-26;return d.s0=d.s1,d.s1=d.s2,d.s2=p-(d.c=p|0)},d.c=1,d.s0=l(" "),d.s1=l(" "),d.s2=l(" "),d.s0-=l(c),d.s0<0&&(d.s0+=1),d.s1-=l(c),d.s1<0&&(d.s1+=1),d.s2-=l(c),d.s2<0&&(d.s2+=1),l=null}function s(c,d){return d.c=c.c,d.s0=c.s0,d.s1=c.s1,d.s2=c.s2,d}function o(c,d){var l=new a(c),p=d&&d.state,h=l.next;return h.int32=function(){return l.next()*4294967296|0},h.double=function(){return h()+(h()*2097152|0)*11102230246251565e-32},h.quick=h,p&&(typeof p=="object"&&s(p,l),h.state=function(){return s(l,{})}),h}function i(){var c=4022871197,d=function(l){l=String(l);for(var p=0;p<l.length;p++){c+=l.charCodeAt(p);var h=.02519603282416938*c;c=h>>>0,h-=c,h*=c,c=h>>>0,h-=c,c+=h*4294967296}return(c>>>0)*23283064365386963e-26};return d}n&&n.exports?n.exports=o:this.alea=o})(T5,t)}(qd)),qd.exports}var Kd={exports:{}},A5=Kd.exports,lw;function D5(){return lw||(lw=1,function(t){(function(e,n,r){function a(i){var c=this,d="";c.x=0,c.y=0,c.z=0,c.w=0,c.next=function(){var p=c.x^c.x<<11;return c.x=c.y,c.y=c.z,c.z=c.w,c.w^=c.w>>>19^p^p>>>8},i===(i|0)?c.x=i:d+=i;for(var l=0;l<d.length+64;l++)c.x^=d.charCodeAt(l)|0,c.next()}function s(i,c){return c.x=i.x,c.y=i.y,c.z=i.z,c.w=i.w,c}function o(i,c){var d=new a(i),l=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var h=d.next()>>>11,m=(d.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},p.int32=d.next,p.quick=p,l&&(typeof l=="object"&&s(l,d),p.state=function(){return s(d,{})}),p}n&&n.exports?n.exports=o:this.xor128=o})(A5,t)}(Kd)),Kd.exports}var Xd={exports:{}},F5=Xd.exports,uw;function R5(){return uw||(uw=1,function(t){(function(e,n,r){function a(i){var c=this,d="";c.next=function(){var p=c.x^c.x>>>2;return c.x=c.y,c.y=c.z,c.z=c.w,c.w=c.v,(c.d=c.d+362437|0)+(c.v=c.v^c.v<<4^(p^p<<1))|0},c.x=0,c.y=0,c.z=0,c.w=0,c.v=0,i===(i|0)?c.x=i:d+=i;for(var l=0;l<d.length+64;l++)c.x^=d.charCodeAt(l)|0,l==d.length&&(c.d=c.x<<10^c.x>>>4),c.next()}function s(i,c){return c.x=i.x,c.y=i.y,c.z=i.z,c.w=i.w,c.v=i.v,c.d=i.d,c}function o(i,c){var d=new a(i),l=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var h=d.next()>>>11,m=(d.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},p.int32=d.next,p.quick=p,l&&(typeof l=="object"&&s(l,d),p.state=function(){return s(d,{})}),p}n&&n.exports?n.exports=o:this.xorwow=o})(F5,t)}(Xd)),Xd.exports}var Yd={exports:{}},$5=Yd.exports,cw;function O5(){return cw||(cw=1,function(t){(function(e,n,r){function a(i){var c=this;c.next=function(){var l=c.x,p=c.i,h,m;return h=l[p],h^=h>>>7,m=h^h<<24,h=l[p+1&7],m^=h^h>>>10,h=l[p+3&7],m^=h^h>>>3,h=l[p+4&7],m^=h^h<<7,h=l[p+7&7],h=h^h<<13,m^=h^h<<9,l[p]=m,c.i=p+1&7,m};function d(l,p){var h,m=[];if(p===(p|0))m[0]=p;else for(p=""+p,h=0;h<p.length;++h)m[h&7]=m[h&7]<<15^p.charCodeAt(h)+m[h+1&7]<<13;for(;m.length<8;)m.push(0);for(h=0;h<8&&m[h]===0;++h);for(h==8?m[7]=-1:m[h],l.x=m,l.i=0,h=256;h>0;--h)l.next()}d(c,i)}function s(i,c){return c.x=i.x.slice(),c.i=i.i,c}function o(i,c){i==null&&(i=+new Date);var d=new a(i),l=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var h=d.next()>>>11,m=(d.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},p.int32=d.next,p.quick=p,l&&(l.x&&s(l,d),p.state=function(){return s(d,{})}),p}n&&n.exports?n.exports=o:this.xorshift7=o})($5,t)}(Yd)),Yd.exports}var Zd={exports:{}},M5=Zd.exports,dw;function P5(){return dw||(dw=1,function(t){(function(e,n,r){function a(i){var c=this;c.next=function(){var l=c.w,p=c.X,h=c.i,m,y;return c.w=l=l+1640531527|0,y=p[h+34&127],m=p[h=h+1&127],y^=y<<13,m^=m<<17,y^=y>>>15,m^=m>>>12,y=p[h]=y^m,c.i=h,y+(l^l>>>16)|0};function d(l,p){var h,m,y,v,b,w=[],x=128;for(p===(p|0)?(m=p,p=null):(p=p+"\0",m=0,x=Math.max(x,p.length)),y=0,v=-32;v<x;++v)p&&(m^=p.charCodeAt((v+32)%p.length)),v===0&&(b=m),m^=m<<10,m^=m>>>15,m^=m<<4,m^=m>>>13,v>=0&&(b=b+1640531527|0,h=w[v&127]^=m+b,y=h==0?y+1:0);for(y>=128&&(w[(p&&p.length||0)&127]=-1),y=127,v=4*128;v>0;--v)m=w[y+34&127],h=w[y=y+1&127],m^=m<<13,h^=h<<17,m^=m>>>15,h^=h>>>12,w[y]=m^h;l.w=b,l.X=w,l.i=y}d(c,i)}function s(i,c){return c.i=i.i,c.w=i.w,c.X=i.X.slice(),c}function o(i,c){i==null&&(i=+new Date);var d=new a(i),l=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var h=d.next()>>>11,m=(d.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},p.int32=d.next,p.quick=p,l&&(l.X&&s(l,d),p.state=function(){return s(d,{})}),p}n&&n.exports?n.exports=o:this.xor4096=o})(M5,t)}(Zd)),Zd.exports}var Qd={exports:{}},B5=Qd.exports,fw;function z5(){return fw||(fw=1,function(t){(function(e,n,r){function a(i){var c=this,d="";c.next=function(){var p=c.b,h=c.c,m=c.d,y=c.a;return p=p<<25^p>>>7^h,h=h-m|0,m=m<<24^m>>>8^y,y=y-p|0,c.b=p=p<<20^p>>>12^h,c.c=h=h-m|0,c.d=m<<16^h>>>16^y,c.a=y-p|0},c.a=0,c.b=0,c.c=-1640531527,c.d=1367130551,i===Math.floor(i)?(c.a=i/4294967296|0,c.b=i|0):d+=i;for(var l=0;l<d.length+20;l++)c.b^=d.charCodeAt(l)|0,c.next()}function s(i,c){return c.a=i.a,c.b=i.b,c.c=i.c,c.d=i.d,c}function o(i,c){var d=new a(i),l=c&&c.state,p=function(){return(d.next()>>>0)/4294967296};return p.double=function(){do var h=d.next()>>>11,m=(d.next()>>>0)/4294967296,y=(h+m)/(1<<21);while(y===0);return y},p.int32=d.next,p.quick=p,l&&(typeof l=="object"&&s(l,d),p.state=function(){return s(d,{})}),p}n&&n.exports?n.exports=o:this.tychei=o})(B5,t)}(Qd)),Qd.exports}var Jd={exports:{}};const L5={},W5=Object.freeze(Object.defineProperty({__proto__:null,default:L5},Symbol.toStringTag,{value:"Module"})),To=y4(W5);var j5=Jd.exports,pw;function V5(){return pw||(pw=1,function(t){(function(e,n,r){var a=256,s=6,o=52,i="random",c=r.pow(a,s),d=r.pow(2,o),l=d*2,p=a-1,h;function m(C,T,R){var M=[];T=T==!0?{entropy:!0}:T||{};var W=w(b(T.entropy?[C,_(n)]:C??x(),3),M),P=new y(M),z=function(){for(var F=P.g(s),O=c,U=0;F<d;)F=(F+U)*a,O*=a,U=P.g(1);for(;F>=l;)F/=2,O/=2,U>>>=1;return(F+U)/O};return z.int32=function(){return P.g(4)|0},z.quick=function(){return P.g(4)/4294967296},z.double=z,w(_(P.S),n),(T.pass||R||function(F,O,U,N){return N&&(N.S&&v(N,P),F.state=function(){return v(P,{})}),U?(r[i]=F,O):F})(z,W,"global"in T?T.global:this==r,T.state)}function y(C){var T,R=C.length,M=this,W=0,P=M.i=M.j=0,z=M.S=[];for(R||(C=[R++]);W<a;)z[W]=W++;for(W=0;W<a;W++)z[W]=z[P=p&P+C[W%R]+(T=z[W])],z[P]=T;(M.g=function(F){for(var O,U=0,N=M.i,q=M.j,ae=M.S;F--;)O=ae[N=p&N+1],U=U*a+ae[p&(ae[N]=ae[q=p&q+O])+(ae[q]=O)];return M.i=N,M.j=q,U})(a)}function v(C,T){return T.i=C.i,T.j=C.j,T.S=C.S.slice(),T}function b(C,T){var R=[],M=typeof C,W;if(T&&M=="object")for(W in C)try{R.push(b(C[W],T-1))}catch{}return R.length?R:M=="string"?C:C+"\0"}function w(C,T){for(var R=C+"",M,W=0;W<R.length;)T[p&W]=p&(M^=T[p&W]*19)+R.charCodeAt(W++);return _(T)}function x(){try{var C;return h&&(C=h.randomBytes)?C=C(a):(C=new Uint8Array(a),(e.crypto||e.msCrypto).getRandomValues(C)),_(C)}catch{var T=e.navigator,R=T&&T.plugins;return[+new Date,e,R,e.screen,_(n)]}}function _(C){return String.fromCharCode.apply(0,C)}if(w(r.random(),n),t.exports){t.exports=m;try{h=To}catch{}}else r["seed"+i]=m})(typeof self<"u"?self:j5,[],Math)}(Jd)),Jd.exports}var Lg,hw;function U5(){if(hw)return Lg;hw=1;var t=N5(),e=D5(),n=R5(),r=O5(),a=P5(),s=z5(),o=V5();return o.alea=t,o.xor128=e,o.xorwow=n,o.xorshift7=r,o.xor4096=a,o.tychei=s,Lg=o,Lg}var Lh=U5();/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class D0{constructor(e,n,r,a,s){this.mean=e,this.stdDev=n,this.dtype=r,this.nextVal=NaN,this.truncated=a,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const o=s||Math.random();this.random=Lh.alea(o.toString())}nextValue(){if(!isNaN(this.nextVal)){const a=this.nextVal;return this.nextVal=NaN,a}let e,n,r=!1;for(;!r;){let a,s,o;do a=2*this.random()-1,s=2*this.random()-1,o=a*a+s*s;while(o>=1||o===0);const i=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*a*i,n=this.mean+this.stdDev*s*i,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(n))&&(this.nextVal=this.convertValue(n)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class H5{constructor(e,n,r,a){this.alpha=e,this.beta=1/n,this.dtype=r;const s=a||Math.random();this.randu=Lh.alea(s.toString()),this.randn=new D0(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,n,r,a,s,o;for(;;){do a=this.randn.nextValue(),o=1+this.c*a;while(o<=0);if(o*=o*o,e=a*a,n=1-.331*e*e,r=.5*e+this.d*(1-o+Math.log(o)),s=this.randu(),s<n||Math.log(s)<r)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class G5{constructor(e=0,n=1,r,a){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=n-e,this.dtype=r,a==null&&(a=Math.random()),typeof a=="number"&&(a=a.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${n} <= 1 and dtype is not float`);this.random=Lh.alea(a)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q5(t,e,n=1,r="float32",a){if(wa(t),n==null&&(n=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const s=new H5(e,n,r,a),o=Ot(t,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}const K5=se({randomGamma_:q5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X5(t,e=0,n=1,r,a){if(wa(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const s=new D0(e,n,r,!1,a),o=Ot(t,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}const tk=se({randomNormal_:X5});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y5(t,e,n){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return tk(t,0,1,e,n)}const Z5=se({randomStandardNormal_:Y5});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Q5(t,e=0,n=1,r="float32",a){wa(t);const s=Ot(t,r),o=new G5(e,n,null,a);for(let i=0;i<s.values.length;i++)s.values[i]=o.nextValue();return s.toTensor()}const F0=se({randomUniform_:Q5});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J5(t,e,n,r){return F0(t,e,n,"int32",r)}const eR=se({randomUniformInt_:J5});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mc(t,e,n=1,r="float32"){if(n===0)throw new Error("Cannot have a step of zero");const a={start:t,stop:e,step:n,dtype:r};return de.runKernel(i0,{},a)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tR(t){const n={input:G(t,"input","real")};return de.runKernel(Qx,n)}const gc=se({real_:tR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function nR(t){const n={x:G(t,"x","reciprocal")};return de.runKernel(rh,n)}const rR=se({reciprocal_:nR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aR(t){const n={x:G(t,"x","relu")};return de.runKernel(ah,n)}const Wh=se({relu_:aR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sR(t){const n={x:G(t,"x","relu6")};return de.runKernel(ih,n)}const nk=se({relu6_:sR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oR(t,e){const r={x:G(t,"x","reverse")},a={dims:e};return de.runKernel(lh,r,a)}const Ri=se({reverse_:oR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iR(t){const e=G(t,"x","reverse");return X(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),Ri(e,0)}const lR=se({reverse1d_:iR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uR(t,e){const n=G(t,"x","reverse");return X(n.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`),Ri(n,e)}const cR=se({reverse2d_:uR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dR(t,e){const n=G(t,"x","reverse");return X(n.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`),Ri(n,e)}const fR=se({reverse3d_:dR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pR(t,e){const n=G(t,"x","reverse");return X(n.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`),Ri(n,e)}const hR=se({reverse4d_:pR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mR(t){const n={x:G(t,"x","round")};return de.runKernel(uh,n)}const rk=se({round_:mR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gR(t){const n={x:G(t,"x","rsqrt","float32")};return de.runKernel(ch,n)}const vR=se({rsqrt_:gR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yR(t){const n={x:G(t,"x","selu")};return de.runKernel(hh,n)}const bR=se({selu_:yR});function wR(t,e,n,r,a,s=[1,1],o="NHWC"){const i=G(t,"x","separableConv2d"),c=G(e,"depthwiseFilter","separableConv2d"),d=G(n,"pointwiseFilter","separableConv2d");let l=i,p=!1;if(i.rank===3&&(p=!0,l=De(i,[1,i.shape[0],i.shape[1],i.shape[2]])),o==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");X(l.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${l.rank}.`),X(c.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${c.rank}.`),X(d.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${c.rank}.`),X(d.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${d.shape[0]}.`),X(d.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${d.shape[1]}.`);const h=c.shape[2],m=c.shape[3];X(d.shape[2]===h*m,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${h*m}, but got ${d.shape[2]}.`);const y=T0(l,c,r,a,o,s),b=Oh(y,d,1,"valid",o);return p?De(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const SR=se({separableConv2d_:wR});/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function xR(t,e){const n=G(t,"x","setdiff1d"),r=G(e,"y","setdiff1d");X(n.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${r.dtype}).`),X(n.rank===1,()=>`x should be 1D tensor, but got x (${n.shape}).`),X(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const a=await n.data(),s=await r.data(),o=new Set(s);let i=0;for(let l=0;l<a.length;l++)o.has(a[l])||i++;const c=new Yn([i],n.dtype),d=new Yn([i],"int32");for(let l=0,p=0;l<a.length;l++)o.has(a[l])||(c.values[p]=a[l],d.values[p]=l,p++);return[c.toTensor(),d.toTensor()]}const kR=xR;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _R(t){const n={x:G(t,"x","sign")};return de.runKernel(vh,n)}const IR=se({sign_:_R});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CR(t){const n={x:G(t,"x","sin","float32")};return de.runKernel(mh,n)}const ER=se({sin_:CR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TR(t){const n={x:G(t,"x","sinh")};return de.runKernel(gh,n)}const NR=se({sinh_:TR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AR(t,e,n){const r=G(t,"x","slice1d");return X(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Tt(r,[e],[n])}const DR=se({slice1d_:AR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FR(t,e,n){const r=G(t,"x","slice2d");return X(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Tt(r,e,n)}const RR=se({slice2d_:FR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $R(t,e,n){const r=G(t,"x","slice3d");return X(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Tt(r,e,n)}const OR=se({slice3d_:$R});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MR(t,e,n){const r=G(t,"x","slice4d");return X(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Tt(r,e,n)}const PR=se({slice4d_:MR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BR(t,e=-1){const n=G(t,"logits","softmax","float32");if(e===-1&&(e=n.rank-1),e!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${e}`);const r={logits:n},a={dim:e};return de.runKernel(xh,r,a)}const zR=se({softmax_:BR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LR(t){X(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return de.runKernel(Ux,e)}const R0=se({fft_:LR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WR(t){X(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return de.runKernel(Hx,e)}const Sf=se({ifft_:WR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jR(t){const e=t.shape[t.shape.length-1],n=t.size/e;let r;if(e<=2){const a=De(t,[n,e]);r=Sf(a)}else{const a=[n,2*(e-1)],s=De(gc(t),[n,e]),o=De(zh(t),[n,e]),i=Ri(Tt(s,[0,1],[n,e-2]),1),c=Ge(Ri(Tt(o,[0,1],[n,e-2]),1),Wt(-1)),d=hr([s,i],1),l=hr([o,c],1),p=De(Oo(d,l),[a[0],a[1]]);r=Sf(p)}if(r=gc(r),t.rank===3&&t.shape[0]!==0){const a=r,s=t.shape[0];r=De(r,[s,r.shape[0]/s,r.shape[1]]),a.dispose()}return r}const ak=se({irfft_:jR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VR(t,e,n=0){const a={x:G(t,"x","split")},s={numOrSizeSplits:e,axis:n};return de.runKernel(h0,a,s)}const vc=se({split_:VR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UR(t,e){X(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let n=t.shape[t.shape.length-1];const r=t.size/n;let a;if(e!=null&&e<n){const y=t.shape.map(b=>0),v=t.shape.map(b=>b);v[t.shape.length-1]=e,a=Tt(t,y,v),n=e}else if(e!=null&&e>n){const y=t.shape.map(v=>v);y[t.shape.length-1]=e-n,a=hr([t,zl(y)],t.shape.length-1),n=e}else a=t;const s=ba(a),o=De(Oo(a,s),[r,n]),i=R0(o),c=Math.floor(n/2)+1,d=gc(i),l=zh(i),p=vc(d,[c,n-c],d.shape.length-1),h=vc(l,[c,n-c],l.shape.length-1),m=a.shape.slice();return m[a.shape.length-1]=c,De(Oo(p[0],h[0]),m)}const $0=se({rfft_:UR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HR(t,e){let n=G(t,"a","squaredDifference"),r=G(e,"b","squaredDifference");[n,r]=Dn(n,r),hn(n.shape,r.shape);const a={a:n,b:r},s={};return de.runKernel(Ih,a,s)}const sk=se({squaredDifference_:HR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GR(t,e){const n=G(t,"x","squeeze","string_or_numeric");return De(n,aN(n.shape,e).newShape)}const fr=se({squeeze_:GR});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qR(t,e=0){const n=hf(t,"tensors","stack","string_or_numeric");X(n.length>=1,()=>"Pass at least one tensor to tf.stack"),n.length>0&&X(e<=n[0].rank,()=>"Axis must be <= rank of the tensor");const r=n,a={axis:e};return de.runKernel(o0,r,a)}const to=se({stack_:qR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KR(t,e=0){const r={x:G(t,"x","step")},a={alpha:e};return de.runKernel(Tc,r,a)}const ok=se({step_:KR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XR(t,e,n,r,a=0,s=0,o=0,i=0,c=0){const l={x:G(t,"x","stridedSlice","string_or_numeric")},p={begin:e,end:n,strides:r,beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:c};return de.runKernel(Ch,l,p)}const YR=se({stridedSlice_:XR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZR(t){const n={x:G(t,"x","tan","float32")};return de.runKernel(Th,n)}const QR=se({tan_:ZR});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Sr(t,e){ql(t);const n=Wo(t,e);if(n.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return jo(t,null,n,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ci(t,e,n){if(ql(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Wo(t,n);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return jo(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ik(t,e,n){if(ql(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Wo(t,n);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return jo(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JR(t,e,n){if(ql(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Wo(t,n);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return jo(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e$(t,e,n){if(ql(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Wo(t,n);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return jo(t,e,r,n)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function t$(t,e,n){if(ql(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Wo(t,n);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,jo(t,e,r,n)}function n$(t,e,n){const r=e.rank>1?e.shape[e.rank-1]:1,a=e.rank>1?e.rank-1:1,s=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${a}.`;if(n.rank<a)throw new Error(s+` update.rank < ${a}. `);if(t.length<r+(n.rank-a))throw new Error(s+` Output shape length < ${r+(n.rank-a)}`);if(n.rank!==a+t.length-r)throw new Error(s+` update.rank != ${a+t.length-r}`);for(let o=0;o<a;++o)if(n.shape[o]!==e.shape[o])throw new Error(s+` updates.shape[${o}] (${n.shape[o]}) != indices.shape[${o}] (${e.shape[o]}).`);for(let o=0;o<n.rank-a;++o)if(n.shape[o+a]!==t[o+r])throw new Error(s+` updates.shape[${o+a}] (${n.shape[o+a]}) != shape[${o+a}] (${t[o+a]})`)}function lk(t,e,n){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(n.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}n$(n,e,t)}function Ql(t,e,n){const r=e.shape.length,a=r>1?e.shape[r-1]:1,s=n.length;let o=1;for(let p=a;p<s;++p)o*=n[p];const i=a<1?1:a,c=Ce(e.shape)/i,d=[...ot(n.slice(0,a)),1],l=Ce(n);return{sliceRank:a,numUpdates:c,sliceSize:o,strides:d,outputSize:l}}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function r$(t,e,n){const r=G(t,"tensor","tensorScatterupdate"),a=G(e,"indices","tensorScatterupdate","int32"),s=G(n,"updates","tensorScatterupdate");if(lk(s,a,r.shape),r.dtype!==s.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${s.dtype}.`);const o={tensor:r,indices:a,updates:s},i={};return de.runKernel(fh,o,i)}const a$=se({tensorScatterUpdate_:r$});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function s$(t,e=1,n=!0){const r=G(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const a=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>a)throw new Error(`'k' passed to topk() must be <= the last dimension (${a}) but got ${e}`);const s={x:r},o={k:e,sorted:n},[i,c]=de.runKernel(Ah,s,o);return{values:i,indices:c}}const o$=se({topk_:s$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function i$(t,e=0,n=1,r,a){if(wa(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const s=new D0(e,n,r,!0,a),o=Ot(t,r);for(let i=0;i<o.values.length;i++)o.values[i]=s.nextValue();return o.toTensor()}const l$=se({truncatedNormal_:i$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function u$(t,e=0){const n=G(t,"x","unique","string_or_numeric");X(n.rank>0,()=>"The input tensor must be at least 1D");const r={x:n},a={axis:e},[s,o]=de.runKernel(x0,r,a);return{values:s,indices:o}}const c$=se({unique_:u$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function d$(t,e,n){const r=G(t,"x","unsortedSegmentSum"),a=G(e,"segmentIds","unsortedSegmentSum","int32");X(ac(n),()=>"numSegments must be of dtype int");const s={x:r,segmentIds:a},o={numSegments:n};return de.runKernel(e3,s,o)}const f$=se({unsortedSegmentSum_:d$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p$(t,e=0){const n=G(t,"x","unstack","string_or_numeric");X(e>=-n.shape.length&&e<n.shape.length,()=>`Axis = ${e} is not in [-${n.shape.length}, ${n.shape.length})`);const r={value:n},a={axis:e};return de.runKernel(k0,r,a)}const Wi=se({unstack_:p$});/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function h$(t,e){return A0(t,e,"right")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function m$(t,e=!0,n,r){return de.makeVariable(t,e,n,r)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uk(t,e){const n=[];for(let s=0;s<e.length;s++)e[s]&&n.push(s);const r=Ot(t,"int32"),a=Ot([n.length,t.length],"int32");for(let s=0;s<n.length;s++){const o=r.indexToLoc(n[s]),i=s*t.length;a.values.set(o,i)}return a.toTensor()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function g$(t){const e=G(t,"condition","whereAsync","bool"),n=await e.data(),r=uk(e.shape,n);return t!==e&&e.dispose(),r}const ck=g$;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function v$(t,e,n){const r=G(t,"tensor","boolMask"),a=G(e,"mask","boolMask","bool"),s=n??0,o=a.rank,i=r.shape;X(o>0,()=>"mask cannot be scalar"),la(i.slice(s,s+o),a.shape,"mask's shape must match the first K dimensions of tensor's shape,");let c=1;for(let v=s;v<s+o;v++)c*=i[v];const d=i.slice(0,s).concat([c],i.slice(s+o)),l=De(r,d),p=De(a,[-1]),h=await ck(p),m=fr(h,[1]),y=j3(l,m,s);return t!==r&&r.dispose(),e!==a&&a.dispose(),m.dispose(),l.dispose(),p.dispose(),h.dispose(),y}const y$=v$;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function b$(t,e,n){const r=G(t,"x","transpose");if(e==null&&(e=r.shape.map((o,i)=>i).reverse()),X(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(o=>{X(o>=0&&o<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const a={x:r},s={perm:e};return r.dtype==="complex64"?$t(()=>{let o=gc(r),i=zh(r);return o=de.runKernel(Nl,{x:o},s),i=de.runKernel(Nl,{x:i},s),n&&(i=ks(i)),Oo(o,i)}):de.runKernel(Nl,a,s)}const Zv=se({transpose_:b$});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w$(t,e,n,r,a=!0){const s=G(t,"v","movingAverage"),o=G(e,"x","movingAverage"),i=G(n,"decay","movingAverage");WN(s,o),X(Ma(s.shape,o.shape),()=>"Shape mismatch in v and x");const c=Wt(1),d=Nt(c,i);let l=Ge(Nt(o,s),d);if(a){X(r!=null,()=>"When using zeroDebias: true, step is required.");const p=G(r,"step","movingAverage");l=Rt(l,Nt(c,pc(i,p)))}return ht(s,l)}const S$=se({movingAverage_:w$});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function x$(t,e,n){wa(n);const r=G(t,"indices","scatterND","int32"),a=G(e,"updates","scatterND");lk(a,r,n);const s={indices:r,updates:a},o={shape:n};return de.runKernel(dh,s,o)}const k$=se({scatterND_:x$});function _$(t,e,n,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const a=t.rank>0?t.shape[0]:1,s=t.rank>1?t.shape[1]:1;if(n.length!==s)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${s}.`);const o=e.size;if(!(e.rank===0||e.rank===1&&o===a))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${a}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I$(t,e,n,r=0){wa(n);const a=G(t,"sparseIndices","sparseToDense","int32"),s=G(e,"sparseValues","sparseToDense","string_or_numeric"),o=G(r,"defaultValue","sparseToDense",s.dtype);_$(a,s,n,o);const i={sparseIndices:a,sparseValues:s,defaultValue:o},c={outputShape:n};return de.runKernel(_h,i,c)}const C$=se({sparseToDense_:I$});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function E$(t,e){const n=G(e,"indices","gatherND","int32"),a={params:G(t,"x","gatherND","string_or_numeric"),indices:n};return de.runKernel(Sp,a)}const T$=se({gatherND_:E$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function N$(t,e){if(e==null)return t.shape.slice();if(Ma(t.shape,e))return e;if(t.shape.length===e.length){const n=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?n.push(t.shape[r]):n.push(e[r]);return n}return e}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A$(t,e,n,r){const a=G(t,"x","dropout");if(X(a.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${a.dtype} tensor instead.`),X(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof jn?a.clone():a;const s=N$(a,n),o=1-e,i=Rt(W3(ht(F0(s,0,1,"float32",r),o)),o);return Ge(a,i)}const D$=se({dropout_:A$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dk(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function O0(t,e,n){const r=1-t%2,a=new Float32Array(t);for(let s=0;s<t;++s){const o=2*Math.PI*s/(t+r-1);a[s]=e-n*Math.cos(o)}return Sr(a,"float32")}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function F$(t,e,n=1){const r=G(t,"predictions","inTopK"),a=G(e,"targets","inTopK");X(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),X(r.rank-1===a.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${a.rank}`),la(r.shape.slice(0,r.shape.length-1),a.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const s=r.shape[r.shape.length-1];X(n>0&&n<=s,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${s}), but got ${n}`);const o=await r.data(),i=await a.data(),[c,d]=[o.length/s,s],l=Mr("bool",c);for(let p=0;p<c;p++){const h=p*d,m=o.subarray(h,h+d),y=[];for(let v=0;v<m.length;v++)y.push({value:m[v],index:v});y.sort((v,b)=>b.value-v.value),l[p]=0;for(let v=0;v<n;v++)if(y[v].index===i[p]){l[p]=1;break}}return t!==r&&r.dispose(),e!==a&&a.dispose(),Ja(l,a.shape,"bool")}const R$=F$;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $$(t,e,n,r,a,s="NHWC",o){let i=t;t.rank===3&&(i=De(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=De(e,[1,e.shape[0],e.shape[1],e.shape[2]])),X(i.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${i.shape}.`),X(c.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${c.shape}.`),X(n.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`);const d=s==="NHWC"?i.shape[3]:i.shape[1],l=s==="NHWC"?c.shape[3]:c.shape[1];X(d===n[2],()=>`Error in conv2dDerFilter: depth of input ${d}) must match input depth in filter (${n[2]}.`),X(l===n[3],()=>`Error in conv2dDerFilter: depth of dy (${l}) must match output depth for filter (${n[3]}).`),as("conv2dDerFilter",a,o);const p={x:i,dy:c},h={strides:r,pad:a,dataFormat:s,dimRoundingMode:o,filterShape:n};return de.runKernel(Lx,p,h)}const O$=se({conv2DBackpropFilter_:$$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M0(t,e,n){if(n==null||n==="linear")return t;if(n==="relu")return Ge(t,ok(e));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function P0(t,e){let n=e;const r=wD(t.shape,e.shape);return r.length>0&&(n=bn(n,r)),De(n,t.shape)}function B0(t,e,n,r){if(e==="linear")return t;if(e==="relu")return Wh(t);if(e==="elu")return P3(t);if(e==="relu6")return nk(t);if(e==="prelu")return ek(t,n);if(e==="leakyrelu")return U3(t,r);if(e==="sigmoid")return Ii(t);throw new Error(`Unknown fused activation ${e}.`)}const z0=(t,e)=>!(t>0)||e==="linear";/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M$({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:c="linear",preluActivationWeights:d,leakyreluAlpha:l}){if(c=c||"linear",z0(de.state.gradientDepth,c)===!1){X(a==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${a} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let R=Oh(t,e,n,r,a,s,o);return i!=null&&(R=ht(R,i)),B0(R,c,d,l)}const p=G(t,"x","conv2d","float32"),h=G(e,"filter","conv2d","float32");let m=p,y=!1;p.rank===3&&(y=!0,m=De(p,[1,p.shape[0],p.shape[1],p.shape[2]])),X(m.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${m.rank}.`),X(h.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${h.rank}.`),as("fused conv2d",r,o);const v=a==="NHWC"?m.shape[3]:m.shape[1];X(h.shape[2]===v,()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${h.shape[2]}.`),X(Ba(n,s),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`);const b=Xr(m.shape,h.shape,n,s,r,o);let w;i!=null&&(w=G(i,"bias","fused conv2d"),[w]=Dn(w,p),a==="NHWC"?hn(b.outShape,w.shape):(X(w.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${w.shape.length}.`),X(w.shape.length===0||w.shape[0]===b.outChannels||w.shape[0]===1,()=>`Error in fused conv2d: bias shape (${w.shape}) is not compatible with the number of output channels (${b.outChannels})`)));let x;if(d!=null){const R=d.shape;if(X(R.length<=1||R.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${R.length}.`),R.length===1)X(R[0]===1||R[0]===b.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${R}) is not compatible with the number of output channels (${b.outChannels}).`);else if(R.length===3)try{hn(R,b.outShape)}catch{const W=`Error in fused conv2d: PReLU activation weights (${R}) is not compatible with the output shape of the conv2d (${b.outShape}).`;throw Error(W)}x=G(d,"prelu weights","fused conv2d")}const _=(R,M)=>{X(a==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${a} but only NHWC is currently supported.`);const[W,P,z,F]=M,O=M0(R,z,c);X(gf(s),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${s}'`);const U=O3(P.shape,O,W,n,r),N=O$(P,O,W.shape,n,r),q=[U,N];if(F!=null){const ae=P0(F,O);q.push(ae)}return q},C={x:m,filter:h,bias:w,preluActivationWeights:x},T={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:c,leakyreluAlpha:l};return i==null?eo((M,W,P)=>{let z=de.runKernel(ic,C,T);return P([W,M,z]),y&&(z=De(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:_}})(m,h):eo((M,W,P,z)=>{let F=de.runKernel(ic,C,T);return z([W,M,F,P]),y&&(F=De(F,[F.shape[1],F.shape[2],F.shape[3]])),{value:F,gradFunc:_}})(m,h,w)}const P$=se({fusedConv2d_:M$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function B$(t,e,n,r,a,s=[1,1],o){let i=t;t.rank===3&&(i=De(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let c=e;c.rank===3&&(c=De(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const d={x:i,dy:c},l={strides:r,pad:a,dimRoundingMode:o,dilations:s,filterShape:n};return de.runKernel(Wx,d,l)}const z$=se({depthwiseConv2dNativeBackpropFilter_:B$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function L$(t,e,n,r,a,s=[1,1],o){let i=e,c=!1;e.rank===3&&(c=!0,i=De(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const d={dy:i,filter:n},l={strides:r,pad:a,dimRoundingMode:o,dilations:s,inputShape:t},p=de.runKernel(jx,d,l);return c?De(p,[p.shape[1],p.shape[2],p.shape[3]]):p}const W$=se({depthwiseConv2dNativeBackpropInput_:L$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function j$({x:t,filter:e,strides:n,pad:r,dataFormat:a="NHWC",dilations:s=[1,1],dimRoundingMode:o,bias:i,activation:c="linear",preluActivationWeights:d,leakyreluAlpha:l}){if(z0(de.state.gradientDepth,c)===!1){let T=T0(t,e,n,r,a,s,o);return i!=null&&(T=ht(T,i)),B0(T,c,d,l)}const p=G(t,"x","depthwiseConv2d","float32"),h=G(e,"filter","depthwiseConv2d","float32");let m=p,y=!1;p.rank===3&&(y=!0,m=De(p,[1,p.shape[0],p.shape[1],p.shape[2]])),X(m.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),X(h.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`),X(m.shape[3]===h.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`),s==null&&(s=[1,1]),X(Ba(n,s),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${s}'`),as("fused depthwiseConv2d",r,o);const v=Xr(m.shape,h.shape,n,s,r,o,!0);let b;i!=null&&(b=G(i,"bias","fused conv2d"),[b]=Dn(b,p),hn(v.outShape,b.shape));let w;d!=null&&(w=G(d,"prelu weights","fused depthwiseConv2d"));const x=(T,R)=>{X(gf(s),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${s}'`);const[M,W,P,z]=R,F=M0(T,P,c),O=W$(W.shape,F,M,n,r,s,o),U=z$(W,F,M.shape,n,r,s,o);if(z!=null){const N=P0(b,F);return[O,U,N]}return[O,U]},_={x:m,filter:h,bias:b,preluActivationWeights:w},C={strides:n,pad:r,dataFormat:a,dilations:s,dimRoundingMode:o,activation:c,leakyreluAlpha:l};return i==null?eo((R,M,W)=>{let P=de.runKernel(lc,_,C);return W([M,R,P]),y&&(P=De(P,[P.shape[1],P.shape[2],P.shape[3]])),{value:P,gradFunc:x}})(m,h):eo((R,M,W,P)=>{let z=de.runKernel(lc,_,C);return P([M,R,z,W]),y&&(z=De(z,[z.shape[1],z.shape[2],z.shape[3]])),{value:z,gradFunc:x}})(m,h,b)}const V$=se({fusedDepthwiseConv2d_:j$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function U$({a:t,b:e,transposeA:n=!1,transposeB:r=!1,bias:a,activation:s="linear",preluActivationWeights:o,leakyreluAlpha:i=.2}){if(z0(de.state.gradientDepth,s)===!1){let F=ln(t,e,n,r);return a!=null&&(F=ht(F,a)),B0(F,s,o,i)}let c=G(t,"a","fused matMul"),d=G(e,"b","fused matMul");[c,d]=Dn(c,d);const l=n?c.shape[c.rank-2]:c.shape[c.rank-1],p=r?d.shape[d.rank-1]:d.shape[d.rank-2],h=n?c.shape[c.rank-1]:c.shape[c.rank-2],m=r?d.shape[d.rank-2]:d.shape[d.rank-1],y=c.shape.slice(0,-2),v=d.shape.slice(0,-2),b=Ce(y),w=Ce(v);X(l===p,()=>`Error in fused matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${c.shape} and ${d.shape} and transposeA=${n} and transposeB=${r} must match.`);const _=hn(c.shape.slice(0,-2),d.shape.slice(0,-2)).concat([h,m]),C=n?De(c,[b,l,h]):De(c,[b,h,l]),T=r?De(d,[w,m,p]):De(d,[w,p,m]);let R;a!=null&&(R=G(a,"bias","fused matMul"),[R]=Dn(R,c),hn(_,R.shape));let M;o!=null&&(M=G(o,"prelu weights","fused matMul"));const W=(F,O)=>{const[U,N,q,ae]=O,J=M0(De(F,q.shape),q,s);let Z,Y;if(!n&&!r?(Z=ln(J,N,!1,!0),Y=ln(U,J,!0,!1)):!n&&r?(Z=ln(J,N,!1,!1),Y=ln(J,U,!0,!1)):n&&!r?(Z=ln(N,J,!1,!0),Y=ln(U,J,!1,!1)):(Z=ln(N,J,!0,!0),Y=ln(J,U,!0,!0)),a!=null){const te=P0(ae,J);return[Z,Y,te]}else return[Z,Y]},P={a:C,b:T,bias:R,preluActivationWeights:M},z={transposeA:n,transposeB:r,activation:s,leakyreluAlpha:i};return a==null?eo((O,U,N)=>{const q=de.runKernel(oc,P,z);return N([O,U,q]),{value:De(q,_),gradFunc:W}})(C,T):eo((O,U,N,q)=>{const ae=de.runKernel(oc,P,z);return q([O,U,ae,N]),{value:De(ae,_),gradFunc:W}})(C,T,R)}const H$=se({fusedMatMul_:U$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const G$=Object.freeze(Object.defineProperty({__proto__:null,conv2d:P$,depthwiseConv2d:V$,matMul:H$},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q$(t){return O0(t,.54,.46)}const K$=se({hammingWindow_:q$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X$(t){return O0(t,.5,.5)}const fk=se({hannWindow_:X$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y$(t,e,n,r=!1,a=0){let s=0;const o=[];for(;s+e<=t.size;)o.push(Tt(t,s,e)),s+=n;if(r)for(;s<t.size;){const i=s+e-t.size,c=hr([Tt(t,s,e-i),Ac([i],a)]);o.push(c),s+=n}return o.length===0?Ci([],[0,e]):De(hr(o),[o.length,e])}const pk=se({frame_:Y$});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z$(t,e,n,r,a=fk){r==null&&(r=dk(e));const s=pk(t,e,n),o=Ge(s,a(e));return $0(o,r)}const Q$=se({stft_:Z$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function J$(t,e,n,r,a="bilinear",s=0){const o=G(t,"image","cropAndResize"),i=G(e,"boxes","cropAndResize","float32"),c=G(n,"boxInd","cropAndResize","int32"),d=i.shape[0];X(o.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${o.rank}.`),X(i.rank===2&&i.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${d},4] but had shape ${i.shape}.`),X(c.rank===1&&c.shape[0]===d,()=>`Error in cropAndResize: boxInd must be have size [${d}] but had shape ${i.shape}.`),X(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),X(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),X(a==="bilinear"||a==="nearest",()=>`method must be bilinear or nearest, but was ${a}`);const l={image:o,boxes:i,boxInd:c},p={method:a,extrapolationValue:s,cropSize:r};return de.runKernel(ip,l,p)}const eO=se({cropAndResize_:J$});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tO(t){const e=G(t,"image","flipLeftRight","float32");X(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const n={image:e};return de.runKernel(vp,n,{})}const nO=se({flipLeftRight_:tO});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rO(t){const e=G(t,"image","grayscaleToRGB"),n=e.rank-1,r=e.shape[n];X(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),X(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const a=new Array(e.rank);return a.fill(1,0,n),a[n]=3,Qu(e,a)}const aO=se({grayscaleToRGB_:rO});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sO(t){const e=G(t,"image","RGBToGrayscale"),n=e.rank-1,r=e.shape[n];X(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),X(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const a=e.dtype,s=Cn(e,"float32"),o=Sr([.2989,.587,.114]);let i;switch(e.rank){case 2:i=Cl("ij,j->i",s,o);break;case 3:i=Cl("ijk,k->ij",s,o);break;case 4:i=Cl("ijkl,l->ijk",s,o);break;case 5:i=Cl("ijklm,m->ijkl",s,o);break;case 6:i=Cl("ijklmn,n->ijklm",s,o);break;default:throw new Error("Not a valid tensor rank.")}return i=bs(i,-1),Cn(i,a)}const oO=se({rgbToGrayscale_:sO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iO(t,e,n=0,r=.5){const a=G(t,"image","rotateWithOffset","float32");X(a.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${a.rank}.`);const s={image:a},o={radians:e,fillValue:n,center:r};return de.runKernel(Fh,s,o)}const lO=se({rotateWithOffset_:iO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jl(t,e,n,r,a,s){r==null&&(r=.5),a==null&&(a=Number.NEGATIVE_INFINITY),s==null&&(s=0);const o=t.shape[0];return n=Math.min(n,o),X(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),X(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),X(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),X(e.rank===1,()=>"scores must be a 1D tensor"),X(e.shape[0]===o,()=>`scores has incompatible shape with boxes. Expected ${o}, but was ${e.shape[0]}`),X(0<=s&&s<=1,()=>`softNmsSigma must be in [0, 1], but was '${s}'`),{maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=G(t,"boxes","nonMaxSuppression","float32"),o=G(e,"scores","nonMaxSuppression","float32"),i=Jl(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const c={maxOutputSize:n,iouThreshold:r,scoreThreshold:a};return de.runKernel(Xp,{boxes:s,scores:o},c)}const cO=se({nonMaxSuppression_:uO});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dO(t,e,n){const r=fO(t,e,n),a=r<0?-(r+1):r;t.splice(a,0,e)}function fO(t,e,n){return hO(t,e,n||pO)}function pO(t,e){return t>e?1:t<e?-1:0}function hO(t,e,n){let r=0,a=t.length,s=0,o=!1;for(;r<a;){s=r+(a-r>>>1);const i=n(e,t[s]);i>0?r=s+1:(a=s,o=!i)}return o?r:-r-1}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hk(t,e,n,r,a){return L0(t,e,n,r,a,0)}function mk(t,e,n,r,a,s){return L0(t,e,n,r,a,0,!1,s,!0)}function gk(t,e,n,r,a,s){return L0(t,e,n,r,a,s,!0)}function L0(t,e,n,r,a,s,o=!1,i=!1,c=!1){const d=[];for(let b=0;b<e.length;b++)e[b]>a&&d.push({score:e[b],boxIndex:b,suppressBeginIndex:0});d.sort(mw);const l=s>0?-.5/s:0,p=[],h=[];for(;p.length<n&&d.length>0;){const b=d.pop(),{score:w,boxIndex:x,suppressBeginIndex:_}=b;if(w<a)break;let C=!1;for(let T=p.length-1;T>=_;--T){const R=mO(t,x,p[T]);if(R>=r){C=!0;break}if(b.score=b.score*gO(r,l,R),b.score<=a)break}b.suppressBeginIndex=p.length,C||(b.score===w?(p.push(x),h.push(b.score)):b.score>a&&dO(d,b,mw))}const m=p.length,y=n-m;i&&y>0&&(p.push(...new Array(y).fill(0)),h.push(...new Array(y).fill(0)));const v={selectedIndices:p};return o&&(v.selectedScores=h),c&&(v.validOutputs=m),v}function mO(t,e,n){const r=t.subarray(e*4,e*4+4),a=t.subarray(n*4,n*4+4),s=Math.min(r[0],r[2]),o=Math.min(r[1],r[3]),i=Math.max(r[0],r[2]),c=Math.max(r[1],r[3]),d=Math.min(a[0],a[2]),l=Math.min(a[1],a[3]),p=Math.max(a[0],a[2]),h=Math.max(a[1],a[3]),m=(i-s)*(c-o),y=(p-d)*(h-l);if(m<=0||y<=0)return 0;const v=Math.max(s,d),b=Math.max(o,l),w=Math.min(i,p),x=Math.min(c,h),_=Math.max(w-v,0)*Math.max(x-b,0);return _/(m+y-_)}function gO(t,e,n){const r=Math.exp(e*n*n);return n<=t?r:0}function mw(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function vO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY){const s=G(t,"boxes","nonMaxSuppressionAsync"),o=G(e,"scores","nonMaxSuppressionAsync"),i=Jl(s,o,n,r,a);n=i.maxOutputSize,r=i.iouThreshold,a=i.scoreThreshold;const c=await Promise.all([s.data(),o.data()]),d=c[0],l=c[1],{selectedIndices:p}=hk(d,l,n,r,a);return s!==t&&s.dispose(),o!==e&&o.dispose(),Sr(p,"int32")}const yO=vO;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=G(t,"boxes","nonMaxSuppression"),i=G(e,"scores","nonMaxSuppression"),c=Jl(o,i,n,r,a,s);n=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,s=c.softNmsSigma;const d={boxes:o,scores:i},l={maxOutputSize:n,iouThreshold:r,scoreThreshold:a,softNmsSigma:s},p=de.runKernel(Zp,d,l);return{selectedIndices:p[0],selectedScores:p[1]}}const wO=se({nonMaxSuppressionWithScore_:bO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function SO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,s=0){const o=G(t,"boxes","nonMaxSuppressionAsync"),i=G(e,"scores","nonMaxSuppressionAsync"),c=Jl(o,i,n,r,a,s);n=c.maxOutputSize,r=c.iouThreshold,a=c.scoreThreshold,s=c.softNmsSigma;const d=await Promise.all([o.data(),i.data()]),l=d[0],p=d[1],{selectedIndices:h,selectedScores:m}=gk(l,p,n,r,a,s);return o!==t&&o.dispose(),i!==e&&i.dispose(),{selectedIndices:Sr(h,"int32"),selectedScores:Sr(m)}}const xO=SO;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=G(t,"boxes","nonMaxSuppression"),i=G(e,"scores","nonMaxSuppression"),c=Jl(o,i,n,r,a,null),d=c.maxOutputSize,l=c.iouThreshold,p=c.scoreThreshold,h={boxes:o,scores:i},m={maxOutputSize:d,iouThreshold:l,scoreThreshold:p,padToMaxOutputSize:s},y=de.runKernel(Yp,h,m);return{selectedIndices:y[0],validOutputs:y[1]}}const _O=se({nonMaxSuppressionPadded_:kO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function IO(t,e,n,r=.5,a=Number.NEGATIVE_INFINITY,s=!1){const o=G(t,"boxes","nonMaxSuppressionAsync"),i=G(e,"scores","nonMaxSuppressionAsync"),c=Jl(o,i,n,r,a,null),d=c.maxOutputSize,l=c.iouThreshold,p=c.scoreThreshold,[h,m]=await Promise.all([o.data(),i.data()]),{selectedIndices:y,validOutputs:v}=mk(h,m,d,l,p,s);return o!==t&&o.dispose(),i!==e&&i.dispose(),{selectedIndices:Sr(y,"int32"),validOutputs:Wt(v,"int32")}}const CO=IO;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EO(t,e,n=!1,r=!1){const a=G(t,"images","resizeBilinear");X(a.rank===3||a.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${a.rank}.`),X(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),X(r===!1||n===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let s=a,o=!1;a.rank===3&&(o=!0,s=De(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const i={images:s},c={alignCorners:n,halfPixelCenters:r,size:e},d=de.runKernel(oh,i,c);return o?De(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const TO=se({resizeBilinear_:EO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NO(t,e,n=!1,r=!1){const a=G(t,"images","resizeNearestNeighbor");X(a.rank===3||a.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${a.rank}.`),X(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),X(a.dtype==="float32"||a.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),X(r===!1||n===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let s=a,o=!1;a.rank===3&&(o=!0,s=De(a,[1,a.shape[0],a.shape[1],a.shape[2]]));const i={images:s},c={alignCorners:n,halfPixelCenters:r,size:e},d=de.runKernel(sh,i,c);return o?De(d,[d.shape[1],d.shape[2],d.shape[3]]):d}const AO=se({resizeNearestNeighbor_:NO});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DO(t,e="binary",n=!1,r=.5){const a=G(t,"image","threshold"),s=.2989,o=.587,i=.114,c=a.shape[0]*a.shape[1];let d=Ge(Sr([r]),255),l,p,h,m;if(X(a.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${a.rank}.`),X(a.shape[2]===3||a.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${a.shape[2]}.`),X(a.dtype==="int32"||a.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${a.dtype}.`),X(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),a.shape[2]===3){[l,p,h]=vc(a,[1,1,1],-1);const b=Ge(l,s),w=Ge(p,o),x=Ge(h,i);m=ht(ht(b,w),x)}else m=t;if(e==="otsu"){const b=R3(Cn(rk(m),"int32"),Ja([]),256);d=FO(b,c)}const y=n?N0(m,d):Bh(m,d);return Cn(Ge(y,255),"int32")}function FO(t,e){let n=Sr([-1]),r=Sr([0]),a=Sr([0]),s,o,i,c,d,l;for(let p=0;p<t.size-1;p++){s=Tt(t,0,p+1),o=Tt(t,p+1),d=Rt(bn(s),e),l=Rt(bn(o),e);const h=bn(Ge(s,mc(0,s.size)));i=Rt(h,bn(s));const m=Ac(o.shape,s.size),y=ht(mc(0,o.size),m),v=Ge(o,y);c=Rt(bn(v),bn(o));const b=Nt(i,c),w=Nt(i,c),x=Ge(d,l);a=Ge(Ge(x,b),w);const _=Bh(a,r);r=Ro(_,a,r),n=Ro(_,Sr([p]),n)}return n}const RO=se({threshold_:DO});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $O(t,e,n="nearest",r="constant",a=0,s){const o=G(t,"image","transform","float32"),i=G(e,"transforms","transform","float32");X(o.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${o.rank}.`),X(i.rank===2&&(i.shape[0]===o.shape[0]||i.shape[0]===1)&&i.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),X(s==null||s.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${s}.`);const c={image:o,transforms:i},d={interpolation:n,fillMode:r,fillValue:a,outputShape:s};return de.runKernel(Dh,c,d)}const OO=se({transform_:$O});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MO(t,e,n){const r=G(t,"a","bandPart");X(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const a=r.shape,[s,o]=r.shape.slice(-2);let i,c;typeof e=="number"?(X(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),X(e<=s,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${s}).`),i=G(e<0?s:e,"numLower","bandPart")):(X(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),i=Ro(Yv(e,0),s,wf(e,s))),typeof n=="number"?(X(n%1===0,()=>`bandPart(): numUpper must be an integer, got ${n}.`),X(n<=o,()=>`bandPart(): numUpper (${n}) must not be greater than the number of columns (${o}).`),c=G(n<0?o:n,"numUpper","bandPart")):(X(n.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),c=Ro(Yv(n,0),o,wf(n,o)));const d=De(mc(0,s,1,"int32"),[-1,1]),l=mc(0,o,1,"int32"),p=Nt(d,l),h=yf(N0(p,i),V3(p,ks(c))),m=zl([s,o],r.dtype);return De(to(Wi(De(r,[-1,s,o])).map(y=>Ro(h,y,m))),a)}const PO=se({bandPart_:MO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BO(t){let e;if(Array.isArray(t)){e=!1,X(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const a=t[0].shape[0];for(let s=1;s<t.length;++s)X(t[s].shape[0]===a,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[s].shape[0]} vs. ${a})`)}else e=!0,t=vc(t,t.shape[0],0).map(a=>fr(a,[0]));X(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const n=[],r=t;for(let a=0;a<t.length;++a)n.push(de.tidy(()=>{let s=r[a];if(a>0)for(let o=0;o<a;++o){const i=Ge(bn(Ge(n[o],s)),n[o]);s=Nt(s,i)}return Rt(s,Ph(s,"euclidean"))}));return e?to(n,0):n}const zO=se({gramSchmidt_:BO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LO(t,e=!1){if(X(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return gw(t,e);{const n=t.shape.slice(0,t.shape.length-2).reduce((c,d)=>c*d),r=Wi(De(t,[n,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),a=[],s=[];r.forEach(c=>{const[d,l]=gw(c,e);a.push(d),s.push(l)});const o=De(to(a,0),t.shape),i=De(to(s,0),t.shape);return[o,i]}}function gw(t,e=!1){return de.tidy(()=>{X(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const n=t.shape[0],r=t.shape[1];let a=L3(n),s=Fo(t);const o=Ci([[1]],[1,1]);let i=Fo(o);const c=n>=r?r:n;for(let d=0;d<c;++d){const l=s,p=i,h=a;[i,s,a]=de.tidy(()=>{const m=Tt(s,[d,d],[n-d,1]),y=Ph(m),v=Tt(s,[d,d],[1,1]),b=Ro(Bh(v,0),Ci([[-1]]),Ci([[1]])),w=Nt(v,Ge(b,y)),x=Rt(m,w);x.shape[0]===1?i=Fo(o):i=hr([o,Tt(x,[1,0],[x.shape[0]-1,x.shape[1]])],0);const _=ks(Rt(ln(b,w),y)),C=Tt(s,[d,0],[n-d,r]),T=Ge(_,i),R=Zv(i);if(d===0)s=Nt(C,ln(T,ln(R,C)));else{const P=Nt(C,ln(T,ln(R,C)));s=hr([Tt(s,[0,0],[d,r]),P],0)}const M=Zv(T),W=Tt(a,[0,d],[n,a.shape[1]-d]);if(d===0)a=Nt(W,ln(ln(W,i),M));else{const P=Nt(W,ln(ln(W,i),M));a=hr([Tt(a,[0,0],[n,d]),P],1)}return[i,s,a]}),Zn([l,p,h])}return!e&&n>r&&(a=Tt(a,[0,0],[n,r]),s=Tt(s,[0,0],[r,r])),[a,s]})}const WO=se({qr_:LO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ur;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Ur||(Ur={}));function jO(t,e,n=Ur.SUM_BY_NONZERO_WEIGHTS){const r=G(t,"losses","computeWeightedLoss");let a=null;e!=null&&(a=G(e,"weights","computeWeightedLoss"));const s=a==null?r:Ge(r,a);if(n===Ur.NONE)return s;if(n===Ur.SUM)return bn(s);if(n===Ur.MEAN){if(a==null)return bf(s);{const o=r.size/a.size,i=Rt(bn(s),bn(a));return o>1?Rt(i,Wt(o)):i}}if(n===Ur.SUM_BY_NONZERO_WEIGHTS){if(a==null)return Rt(bn(s),Wt(r.size));{const o=Ge(a,ki(r.shape)),i=Cn(bn(Q3(o,Wt(0))),"float32");return Rt(bn(s),i)}}throw Error(`Unknown reduction: ${n}`)}const so=se({computeWeightedLoss_:jO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VO(t,e,n,r=Ur.SUM_BY_NONZERO_WEIGHTS){const a=G(t,"labels","absoluteDifference"),s=G(e,"predictions","absoluteDifference");let o=null;n!=null&&(o=G(n,"weights","absoluteDifference")),la(a.shape,s.shape,"Error in absoluteDifference: ");const i=va(Nt(a,s));return so(i,o,r)}const UO=se({absoluteDifference_:VO});function HO(t,e,n,r,a=Ur.SUM_BY_NONZERO_WEIGHTS){const s=G(t,"labels","cosineDistance"),o=G(e,"predictions","cosineDistance");let i=null;r!=null&&(i=G(r,"weights","cosineDistance")),la(s.shape,o.shape,"Error in cosineDistance: ");const c=Wt(1),d=Nt(c,bn(Ge(s,o),n,!0));return so(d,i,a)}const GO=se({cosineDistance_:HO});function qO(t,e,n,r=Ur.SUM_BY_NONZERO_WEIGHTS){let a=G(t,"labels","hingeLoss");const s=G(e,"predictions","hingeLoss");let o=null;n!=null&&(o=G(n,"weights","hingeLoss")),la(a.shape,s.shape,"Error in hingeLoss: ");const i=Wt(1);a=Nt(Ge(Wt(2),a),i);const c=Wh(Nt(i,Ge(a,s)));return so(c,o,r)}const KO=se({hingeLoss_:qO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XO(t,e,n,r=1,a=Ur.SUM_BY_NONZERO_WEIGHTS){const s=G(t,"labels","huberLoss"),o=G(e,"predictions","huberLoss");let i=null;n!=null&&(i=G(n,"weights","huberLoss")),la(s.shape,o.shape,"Error in huberLoss: ");const c=Wt(r),d=va(Nt(o,s)),l=wf(d,c),p=Nt(d,l),h=ht(Ge(Wt(.5),es(l)),Ge(c,p));return so(h,i,a)}const YO=se({huberLoss_:XO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZO(t,e,n,r=1e-7,a=Ur.SUM_BY_NONZERO_WEIGHTS){const s=G(t,"labels","logLoss"),o=G(e,"predictions","logLoss");let i=null;n!=null&&(i=G(n,"weights","logLoss")),la(s.shape,o.shape,"Error in logLoss: ");const c=Wt(1),d=Wt(r),l=ks(Ge(s,hc(ht(o,d)))),p=Ge(Nt(c,s),hc(ht(Nt(c,o),d))),h=Nt(l,p);return so(h,i,a)}const QO=se({logLoss_:ZO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JO(t,e,n,r=Ur.SUM_BY_NONZERO_WEIGHTS){const a=G(t,"labels","meanSquaredError"),s=G(e,"predictions","meanSquaredError");let o=null;n!=null&&(o=G(n,"weights","meanSquaredError")),la(a.shape,s.shape,"Error in meanSquaredError: ");const i=sk(a,s);return so(i,o,r)}const eM=se({meanSquaredError_:JO});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tM(t,e){const n=G(t,"labels","sigmoidCrossEntropyWithLogits"),r=G(e,"logits","sigmoidCrossEntropyWithLogits");la(n.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const a=Wh(r),s=Ge(r,n),o=H3(Js(ks(va(r))));return ht(Nt(a,s),o)}function nM(t,e,n,r=0,a=Ur.SUM_BY_NONZERO_WEIGHTS){let s=G(t,"multiClassLabels","sigmoidCrossEntropy");const o=G(e,"logits","sigmoidCrossEntropy");let i=null;if(n!=null&&(i=G(n,"weights","sigmoidCrossEntropy")),la(s.shape,o.shape,"Error in sigmoidCrossEntropy: "),r>0){const d=Wt(r),l=Wt(1),p=Wt(.5);s=ht(Ge(s,Nt(l,d)),Ge(p,d))}const c=tM(s,o);return so(c,i,a)}const rM=se({sigmoidCrossEntropy_:nM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aM(t,e,n=-1){if(n===-1&&(n=e.rank-1),n!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${n}`);return eo((a,s,o)=>{const c=q3(s,[n],!0),d=Nt(Cn(s,"float32"),c);o([a,d]);const l=ks(Ge(d,a));return{value:bn(l,[n]),gradFunc:(m,y)=>{const[v,b]=y,w=mr(m.shape,[n]);return[Ge(De(m,w),Nt(Cn(v,"float32"),Js(b))),Ge(De(m,w),Nt(Js(b),Cn(v,"float32")))]}}})(t,e)}function sM(t,e,n,r=0,a=Ur.SUM_BY_NONZERO_WEIGHTS){let s=G(t,"onehotLabels","softmaxCrossEntropy");const o=G(e,"logits","softmaxCrossEntropy");let i=null;if(n!=null&&(i=G(n,"weights","softmaxCrossEntropy")),la(s.shape,o.shape,"Error in softmaxCrossEntropy: "),r>0){const d=Wt(r),l=Wt(1),p=Wt(s.shape[1]);s=ht(Ge(s,Nt(l,d)),Rt(d,p))}const c=aM(s,o);return so(c,i,a)}const oM=se({softmaxCrossEntropy_:sM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iM(t,e,n,r){const a=G(t,"indices","sparseFillEmptyRows","int32"),s=G(e,"values","sparseFillEmptyRows"),o=G(n,"denseShape","sparseFillEmptyRows","int32"),i=G(r,"defaultValue","sparseFillEmptyRows",s.dtype);if(a.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${a.shape}`);if(s.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${s.shape}`);if(o.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${o.shape}`);if(i.rank!==0)throw new Error(`Default value should be a scalar but received shape ${i.shape}`);const c={indices:a,values:s,denseShape:o,defaultValue:i},d=de.runKernel(m0,c);return{outputIndices:d[0],outputValues:d[1],emptyRowIndicator:d[2],reverseIndexMap:d[3]}}const lM=se({sparseFillEmptyRows_:iM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uM(t,e,n){const r=G(t,"inputIndices","sparseReshape","int32"),a=G(e,"inputShape","sparseReshape","int32"),s=G(n,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(a.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${a.shape}`);if(s.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${s.shape}`);const o={inputIndices:r,inputShape:a,newShape:s},i=de.runKernel(kh,o);return{outputIndices:i[0],outputShape:i[1]}}const cM=se({sparseReshape_:uM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dM(t,e,n){const r=G(t,"data","sparseSegmentMean"),a=G(e,"indices","sparseSegmentMean","int32"),s=G(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${a.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return de.runKernel(g0,o)}const fM=se({sparseSegmentMean_:dM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pM(t,e,n){const r=G(t,"data","sparseSegmentSum"),a=G(e,"indices","sparseSegmentSum","int32"),s=G(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${a.shape}`);if(s.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${s.shape}`);const o={data:r,indices:a,segmentIds:s};return de.runKernel(v0,o)}const hM=se({sparseSegmentSum_:pM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mM(t,e,n,r,a,s,o,i){const c=G(t,"data","stringNGrams","string");if(c.dtype!=="string")throw new Error("Data must be of datatype string");if(c.shape.length!==1)throw new Error(`Data must be a vector, saw: ${c.shape}`);const d=G(e,"dataSplits","stringNGrams");if(d.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const l={separator:n,nGramWidths:r,leftPad:a,rightPad:s,padWidth:o,preserveShortSequences:i},p={data:c,dataSplits:d},h=de.runKernel(b0,p,l);return{nGrams:h[0],nGramsSplits:h[1]}}const gM=se({stringNGrams_:mM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function vM(t,e,n=!0){const r=G(t,"input","stringSplit","string"),a=G(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(a.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${a.shape}`);const s={skipEmpty:n},o={input:r,delimiter:a},i=de.runKernel(w0,o,s);return{indices:i[0],values:i[1],shape:i[2]}}const yM=se({stringSplit_:vM});/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bM(t,e){const n=G(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const a={input:n};return de.runKernel(S0,a,r)}const wM=se({stringToHashBucketFast_:bM});/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SM(t,e,n,r=!0){const a=G(t,"input","staticRegexReplace","string"),s={pattern:e,rewrite:n,replaceGlobal:r};return de.runKernel(y0,{x:a},s)}const xM=se({staticRegexReplace_:SM});/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kM={fft:R0,ifft:Sf,rfft:$0,irfft:ak},_M={hammingWindow:K$,hannWindow:fk,frame:pk,stft:Q$},jh={flipLeftRight:nO,grayscaleToRGB:aO,resizeNearestNeighbor:AO,resizeBilinear:TO,rgbToGrayscale:oO,rotateWithOffset:lO,cropAndResize:eO,nonMaxSuppression:cO,nonMaxSuppressionAsync:yO,nonMaxSuppressionWithScore:wO,nonMaxSuppressionWithScoreAsync:xO,nonMaxSuppressionPadded:_O,nonMaxSuppressionPaddedAsync:CO,threshold:RO,transform:OO},IM={bandPart:PO,gramSchmidt:zO,qr:WO},CM={absoluteDifference:UO,computeWeightedLoss:so,cosineDistance:GO,hingeLoss:KO,huberLoss:YO,logLoss:QO,meanSquaredError:eM,sigmoidCrossEntropy:rM,softmaxCrossEntropy:oM},EM={sparseFillEmptyRows:lM,sparseReshape:cM,sparseSegmentMean:fM,sparseSegmentSum:hM},TM={stringNGrams:gM,stringSplit:yM,stringToHashBucketFast:wM,staticRegexReplace:xM};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NM=new Map,AM=new Map;class DM{getClassName(){return this.constructor.className}static fromConfig(e,n){return new e(n)}}class wi{constructor(){this.classNameMap={}}static getMap(){return wi.instance==null&&(wi.instance=new wi),wi.instance}static register(e){wi.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function FM(t,e,n){X(t.className!=null,()=>"Class being registered does not have the static className property defined."),X(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),X(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof n>"u"&&(n=t.className);const r=n,a=e+">"+r;return wi.register(t),NM.set(a,t),AM.set(t,a),t}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class ji extends DM{minimize(e,n=!1,r){const{value:a,grads:s}=this.computeGradients(e,r);if(r!=null){const o=r.map(i=>({name:i.name,tensor:s[i.name]}));this.applyGradients(o)}else this.applyGradients(s);return Zn(s),n?a:(a.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,n){return mF(e,n)}dispose(){this.iterations_!=null&&Zn(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:Wt(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(ji,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class RM extends ji{static get className(){return"Adadelta"}constructor(e,n,r=null){super(),this.learningRate=e,this.rho=n,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const s=de.registeredVariables[r],o=!1;this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accum_grad`,variable:$t(()=>ba(s).variable(o))}),this.accumulatedUpdates[a]==null&&(this.accumulatedUpdates[a]={originalName:`${r}/accum_var`,variable:$t(()=>ba(s).variable(o))});const i=Array.isArray(e)?e[a].tensor:e[r];if(i==null)return;const c=this.accumulatedGrads[a].variable,d=this.accumulatedUpdates[a].variable;$t(()=>{const l=ht(Ge(c,this.rho),Ge(es(i),1-this.rho)),p=Ge(Rt(Qs(ht(d,this.epsilon)),Qs(ht(c,this.epsilon))),i),h=ht(Ge(d,this.rho),Ge(es(p),1-this.rho));c.assign(l),d.assign(h);const m=ht(Ge(p,-this.learningRate),s);s.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(Zn(this.accumulatedGrads.map(e=>e.variable)),Zn(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedUpdates=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.rho,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class $M extends ji{static get className(){return"Adagrad"}constructor(e,n=.1){super(),this.learningRate=e,this.initialAccumulatorValue=n,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const s=de.registeredVariables[r];this.accumulatedGrads[a]==null&&(this.accumulatedGrads[a]={originalName:`${r}/accumulator`,variable:$t(()=>Ac(s.shape,this.initialAccumulatorValue).variable(!1))});const o=Array.isArray(e)?e[a].tensor:e[r];if(o==null)return;const i=this.accumulatedGrads[a].variable;$t(()=>{const c=ht(i,es(o));i.assign(c);const d=ht(Ge(Rt(o,Qs(ht(c,de.backend.epsilon()))),-this.learningRate),s);s.assign(d)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&Zn(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,n){return new e(n.learningRate,n.initialAccumulatorValue)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class OM extends ji{static get className(){return"Adam"}constructor(e,n,r,a=null){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],$t(()=>{this.accBeta1=Wt(n).variable(),this.accBeta2=Wt(r).variable()}),a==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);$t(()=>{const r=Nt(1,this.accBeta1),a=Nt(1,this.accBeta2);n.forEach((s,o)=>{const i=de.registeredVariables[s],c=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${s}/m`,variable:$t(()=>ba(i).variable(c))}),this.accumulatedSecondMoment[o]==null&&(this.accumulatedSecondMoment[o]={originalName:`${s}/v`,variable:$t(()=>ba(i).variable(c))});const d=Array.isArray(e)?e[o].tensor:e[s];if(d==null)return;const l=this.accumulatedFirstMoment[o].variable,p=this.accumulatedSecondMoment[o].variable,h=ht(Ge(l,this.beta1),Ge(d,1-this.beta1)),m=ht(Ge(p,this.beta2),Ge(es(d),1-this.beta2)),y=Rt(h,r),v=Rt(m,a);l.assign(h),p.assign(m);const b=ht(Ge(Rt(y,ht(Qs(v),this.epsilon)),-this.learningRate),i);i.assign(b)}),this.accBeta1.assign(Ge(this.accBeta1,this.beta1)),this.accBeta2.assign(Ge(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&Zn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&Zn(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e),$t(()=>{this.accBeta1.assign(pc(this.beta1,this.iterations_+1)),this.accBeta2.assign(pc(this.beta2,this.iterations_+1))});const n=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class MM extends ji{static get className(){return"Adamax"}constructor(e,n,r,a=null,s=0){super(),this.learningRate=e,this.beta1=n,this.beta2=r,this.epsilon=a,this.decay=s,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],$t(()=>{this.iteration=Wt(0).variable(),this.accBeta1=Wt(n).variable()}),a==null&&(this.epsilon=de.backend.epsilon())}applyGradients(e){const n=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);$t(()=>{const r=Nt(1,this.accBeta1),a=Rt(-this.learningRate,ht(Ge(this.iteration,this.decay),1));n.forEach((s,o)=>{const i=de.registeredVariables[s],c=!1;this.accumulatedFirstMoment[o]==null&&(this.accumulatedFirstMoment[o]={originalName:`${s}/m`,variable:ba(i).variable(c)}),this.accumulatedWeightedInfNorm[o]==null&&(this.accumulatedWeightedInfNorm[o]={originalName:`${s}/v`,variable:ba(i).variable(c)});const d=Array.isArray(e)?e[o].tensor:e[s];if(d==null)return;const l=this.accumulatedFirstMoment[o].variable,p=this.accumulatedWeightedInfNorm[o].variable,h=ht(Ge(l,this.beta1),Ge(d,1-this.beta1)),m=Ge(p,this.beta2),y=va(d),v=Z3(m,y);l.assign(h),p.assign(v);const b=ht(Ge(Rt(a,r),Rt(h,ht(v,this.epsilon))),i);i.assign(b)}),this.iteration.assign(ht(this.iteration,1)),this.accBeta1.assign(Ge(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&Zn(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&Zn(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,n){return new e(n.learningRate,n.beta1,n.beta2,n.epsilon,n.decay)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class vk extends ji{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const s=Array.isArray(e)?e[a].tensor:e[r];if(s==null)return;const o=de.registeredVariables[r];$t(()=>{const i=ht(Ge(this.c,s),o);o.assign(i)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=Ss(Wt(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,n){return new e(n.learningRate)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class PM extends vk{static get className(){return"Momentum"}constructor(e,n,r=!1){super(e),this.learningRate=e,this.momentum=n,this.useNesterov=r,this.accumulations=[],this.m=Wt(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const s=de.registeredVariables[r];this.accumulations[a]==null&&(this.accumulations[a]={originalName:`${r}/momentum`,variable:$t(()=>ba(s).variable(!1))});const o=this.accumulations[a].variable,i=Array.isArray(e)?e[a].tensor:e[r];i!=null&&$t(()=>{let c;const d=ht(Ge(this.m,o),i);this.useNesterov?c=ht(Ge(this.c,ht(i,Ge(d,this.m))),s):c=ht(Ge(this.c,d),s),o.assign(d),s.assign(c)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&Zn(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(n)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,n){return new e(n.learningRate,n.momentum,n.useNesterov)}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BM extends ji{static get className(){return"RMSProp"}constructor(e,n=.9,r=0,a=null,s=!1){if(super(),this.learningRate=e,this.decay=n,this.momentum=r,this.epsilon=a,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=s,a==null&&(this.epsilon=de.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,a)=>{const s=de.registeredVariables[r],o=!1;this.accumulatedMeanSquares[a]==null&&(this.accumulatedMeanSquares[a]={originalName:`${r}/rms`,variable:$t(()=>ba(s).variable(o))}),this.accumulatedMoments[a]==null&&(this.accumulatedMoments[a]={originalName:`${r}/momentum`,variable:$t(()=>ba(s).variable(o))}),this.accumulatedMeanGrads[a]==null&&this.centered&&(this.accumulatedMeanGrads[a]={originalName:`${r}/mg`,variable:$t(()=>ba(s).variable(o))});const i=Array.isArray(e)?e[a].tensor:e[r];if(i==null)return;const c=this.accumulatedMeanSquares[a].variable,d=this.accumulatedMoments[a].variable;$t(()=>{const l=ht(Ge(c,this.decay),Ge(es(i),1-this.decay));if(this.centered){const p=this.accumulatedMeanGrads[a].variable,h=ht(Ge(p,this.decay),Ge(i,1-this.decay)),m=Rt(Ge(i,this.learningRate),Qs(Nt(l,ht(es(h),this.epsilon)))),y=ht(Ge(d,this.momentum),m);c.assign(l),p.assign(h),d.assign(y);const v=Nt(s,y);s.assign(v)}else{const p=ht(Ge(c,this.decay),Ge(es(i),1-this.decay)),h=ht(Ge(d,this.momentum),Rt(Ge(i,this.learningRate),Qs(ht(p,this.epsilon))));c.assign(p),d.assign(h);const m=Nt(s,h);s.assign(m)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&Zn(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&Zn(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&Zn(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(n=>({name:n.originalName,tensor:n.variable})))}async setWeights(e){e=await this.extractIterations(e);const n=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,n).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.accumulatedMoments=e.slice(n,n*2).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(n*2,n*3).map(a=>({originalName:a.name,variable:a.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,n){return new e(n.learningRate,n.decay,n.momentum,n.epsilon,n.centered)}}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zM=[RM,$M,OM,MM,PM,BM,vk];function LM(){for(const t of zM)FM(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WM="model",jM=".json",VM=".weights.bin";function vw(t){return new Promise(e=>setTimeout(e)).then(t)}class $i{constructor(e){if(!At().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith($i.URL_SCHEME)&&(e=e.slice($i.URL_SCHEME.length)),(e==null||e.length===0)&&(e=WM),this.modelJsonFileName=e+jM,this.weightDataFileName=e+VM}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const n=ns.join(e.weightData),r=window.URL.createObjectURL(new Blob([n],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const a=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],s=v3(e,a),o=window.URL.createObjectURL(new Blob([JSON.stringify(s)],{type:"application/json"})),i=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(i.download=this.modelJsonFileName,i.href=o,await vw(()=>i.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const c=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;c.download=this.weightDataFileName,c.href=r,await vw(()=>c.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:Nc(e)}}}}$i.URL_SCHEME="downloads://";class UM{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,n)=>{const r=new FileReader;r.onload=a=>{const s=JSON.parse(a.target.result),o=s.modelTopology;if(o==null){n(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(s.weightsManifest==null){n(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:o});return}const c=E0(s,d=>this.loadWeights(d));e(c)},r.onerror=a=>n(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const n=[],r=[];for(const o of e)n.push(...o.weights),r.push(...o.paths);const a=this.checkManifestAndWeightFiles(e),s=r.map(o=>this.loadWeightsFile(o,a[o]));return Promise.all(s).then(o=>[n,o])}loadWeightsFile(e,n){return new Promise((r,a)=>{const s=new FileReader;s.onload=o=>{const i=o.target.result;r(i)},s.onerror=o=>a(`Failed to weights data from file of path '${e}'.`),s.readAsArrayBuffer(n)})}checkManifestAndWeightFiles(e){const n=[],r=this.weightsFiles.map(s=>sw(s.name)),a={};for(const s of e)s.paths.forEach(o=>{const i=sw(o);if(n.indexOf(i)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(n.push(i),r.indexOf(i)===-1)throw new Error(`Weight file with basename '${i}' is not provided.`);a[o]=this.weightsFiles[r.indexOf(i)]});if(n.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${n.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return a}}const HM=t=>At().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith($i.URL_SCHEME)?GM(t.slice($i.URL_SCHEME.length)):null;_n.registerSaveRouter(HM);function GM(t="model"){return new $i(t)}function qM(t){return new UM(t)}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yw(t,e,n,r){o(t),n=n??0,r=r??1,i(n,r);let a=0;const s=c=>(c.then(d=>{const l=n+ ++a/t.length*(r-n);return e(l),d}),c);function o(c){X(c!=null&&Array.isArray(c)&&c.length>0,()=>"promises must be a none empty array")}function i(c,d){X(c>=0&&c<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${c}`),X(d>=0&&d<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${d}`),X(d>=c,()=>`startFraction must be no more than endFraction, but got startFraction ${c} and endFraction ${d}`)}return Promise.all(t.map(s))}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */async function yk(t,e){e==null&&(e={});const n=e.fetchFunc==null?At().platform.fetch:e.fetchFunc,r=t.map(p=>n(p,e.requestInit,{isBinary:!0})),i=(e.onProgress==null?await Promise.all(r):await yw(r,e.onProgress,0,.5)).map(p=>p.arrayBuffer());return e.onProgress==null?await Promise.all(i):await yw(i,e.onProgress,.5,1)}async function KM(t,e="",n,r){return bk(o=>yk(o,{requestInit:r}))(t,e,n)}function bk(t){return async(e,n="",r)=>{const a=e.map(()=>!1),s={},o=r!=null?r.map(()=>!1):[],i=[];if(e.forEach((m,y)=>{let v=0;m.weights.forEach(b=>{const w="quantization"in b?b.quantization.dtype:b.dtype,x=jv[w]*Ce(b.shape),_=()=>{a[y]=!0,s[y]==null&&(s[y]=[]),s[y].push({manifestEntry:b,groupOffset:v,sizeBytes:x})};r!=null?r.forEach((C,T)=>{C===b.name&&(_(),o[T]=!0)}):_(),i.push(b.name),v+=x})}),!o.every(m=>m)){const m=r.filter((y,v)=>!o[v]);throw new Error(`Could not find weights in manifest with names: ${m.join(", ")}. 
Manifest JSON has weights with names: ${i.join(", ")}.`)}const c=a.reduce((m,y,v)=>(y&&m.push(v),m),[]),d=[];c.forEach(m=>{e[m].paths.forEach(y=>{const v=n+(n.endsWith("/")?"":"/")+y;d.push(v)})});const l=await t(d),p={};let h=0;return c.forEach(m=>{const y=e[m].paths.length,v=new ns(l.slice(h,h+y));s[m].forEach(w=>{const x=v.slice(w.groupOffset,w.groupOffset+w.sizeBytes),_=g3(x,[w.manifestEntry]);for(const C in _)p[C]=_[C]}),h+=y}),p}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XM="application/octet-stream",YM="application/json";class W0{constructor(e,n){if(this.DEFAULT_METHOD="POST",n==null&&(n={}),this.weightPathPrefix=n.weightPathPrefix,this.onProgress=n.onProgress,this.weightUrlConverter=n.weightUrlConverter,n.fetchFunc!=null?(X(typeof n.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=n.fetchFunc):this.fetch=At().platform.fetch,X(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&X(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,n.requestInit!=null&&n.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=n.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const n=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);n.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],a=v3(e,r);if(n.body.append("model.json",new Blob([JSON.stringify(a)],{type:YM}),"model.json"),e.weightData!=null){const o=ns.join(e.weightData);n.body.append("model.weights.bin",new Blob([o],{type:XM}),"model.weights.bin")}const s=await this.fetch(this.path,n);if(s.ok)return{modelArtifactsInfo:Nc(e),responses:[s]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${s.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let n;try{n=await e.json()}catch{let o=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?o+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":o+=" Please make sure the server is serving valid JSON for this request.",new Error(o)}const r=n.modelTopology,a=n.weightsManifest;if(r==null&&a==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return E0(n,s=>this.loadWeights(s))}async loadWeights(e){const n=Array.isArray(this.path)?this.path[1]:this.path,[r,a]=ZM(n),s=this.weightPathPrefix||r,o=b3(e),i=[],c=[];for(const l of e)for(const p of l.paths)this.weightUrlConverter!=null?c.push(this.weightUrlConverter(p)):i.push(s+p+a);this.weightUrlConverter&&i.push(...await Promise.all(c));const d=await yk(i,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,d]}}W0.URL_SCHEME_REGEX=/^https?:\/\//;function ZM(t){const e=t.lastIndexOf("/"),n=t.lastIndexOf("?"),r=t.substring(0,e),a=n>e?t.substring(n):"";return[r+"/",a]}function Qv(t){return t.match(W0.URL_SCHEME_REGEX)!=null}const wk=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let n=!0;if(Array.isArray(t)?n=t.every(r=>Qv(r)):n=Qv(t),n)return j0(t,e)}return null};_n.registerSaveRouter(wk);_n.registerLoadRouter(wk);function j0(t,e){return new W0(t,e)}function QM(t,e){return j0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Wg{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class Sk{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class JM{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=n=>Promise.resolve(e.save(n)))}}function e8(t,e,n,r){const a=arguments;return new JM(xk(...a))}function xk(t,e,n,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new Wg(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Wg({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new Wg({modelTopology:t,weightSpecs:e,weightData:n,trainingConfig:r}))}function t8(t){return new Sk(t)}function n8(t){return new Sk(t)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kk=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:ns,browserFiles:qM,browserHTTPRequest:QM,concatenateArrayBuffers:QN,copyModel:wA,decodeWeights:g3,encodeWeights:KN,fromMemory:e8,fromMemorySync:xk,getLoadHandlers:oA,getModelArtifactsForJSON:E0,getModelArtifactsForJSONSync:y3,getModelArtifactsInfoForJSON:Nc,getSaveHandlers:sA,getWeightSpecs:b3,http:j0,isHTTPScheme:Qv,listModels:yA,loadWeights:KM,moveModel:SA,registerLoadRouter:aA,registerSaveRouter:rA,removeModel:bA,weightsLoaderFactory:bk,withSaveHandler:t8,withSaveHandlerSync:n8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mi;function r8(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,a=!1,s=!1,o=!1,i=!1;if(t.data instanceof Uint8Array)n=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)a=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)s=!0;else if(t.getContext!=null)o=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)i=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(Mv(X2,de.backendName)!=null){const y={pixels:t},v={numChannels:e};return de.runKernel(X2,y,v)}const[d,l]=a?[t.videoWidth,t.videoHeight]:[t.width,t.height];let p;if(o)p=t.getContext("2d").getImageData(0,0,d,l).data;else if(r||n)p=t.data;else if(s||a||i){if(mi==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")mi=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else mi=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});mi.canvas.width=d,mi.canvas.height=l,mi.drawImage(t,0,0,d,l),p=mi.getImageData(0,0,d,l).data}let h;if(e===4)h=new Int32Array(p);else{const y=d*l;h=new Int32Array(y*e);for(let v=0;v<y;v++)for(let b=0;b<e;++b)h[v*e+b]=p[v*4+b]}return ik(h,[l,d,e],"int32")}function a8(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}async function s8(t,e){let n=G(t,"img","toPixels");if(!(t instanceof jn)){const d=n;n=Cn(d,"int32"),d.dispose()}a8(n);const[r,a]=n.shape.slice(0,2),s=n.rank===2?1:n.shape[2],o=await n.data(),i=n.dtype==="float32"?255:1,c=new Uint8ClampedArray(a*r*4);for(let d=0;d<r*a;++d){const l=[0,0,0,255];for(let h=0;h<s;h++){const m=o[d*s+h];if(n.dtype==="float32"){if(m<0||m>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${m}.`)}else if(n.dtype==="int32"&&(m<0||m>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${m}.`);s===1?(l[0]=m*i,l[1]=m*i,l[2]=m*i):l[h]=m*i}const p=d*4;c[p+0]=Math.round(l[0]),c[p+1]=Math.round(l[1]),c[p+2]=Math.round(l[2]),c[p+3]=Math.round(l[3])}return n!==t&&n.dispose(),c}const o8=se({fromPixels_:r8});function _k(t,e){const n=t.shape.length,r=e.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${n}`);if(Ce(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const a=e.shape,s=a[a.length-1];let o=1;for(let p=0;p<a.length-1;++p)o*=a[p];const i=t.shape,c=a.slice();c.pop();let d=1;for(let p=s;p<n;++p)d*=i[p],c.push(i[p]);const l=[...ot(t.shape).map(p=>p/d),1].slice(0,s);return[c,o,d,l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Jv=-2,i8=-1;function l8(t,e,n){const r=t.shape.length;X(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),X(r===n.length,()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`);for(let a=0;a<r;++a)X(e[a]+n[a]<=t.shape[a],()=>`Error in slice${r}D: begin[${a}] + size[${a}] (${e[a]+n[a]}) would overflow input.shape[${a}] (${t.shape[a]})`)}function Ik(t,e,n){const r=[];for(let a=0;a<t.length;a++)r[a]=Math.ceil((e[a]-t[a])/n[a]);return r}function Ck(t,e,n){let r=n.length;for(let a=0;a<n.length;a++)if(n[a]>1){r=a;break}for(let a=r+1;a<n.length;a++)if(e[a]>0||n[a]!==t[a])return!1;return!0}function Ek(t,e){let n=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)n+=t[r]*e[r];return n}function Tk(t,e,n){let r;const a=t.shape.length;typeof e=="number"?r=[e,...new Array(a-1).fill(0)]:e.length<a?r=e.concat(new Array(a-e.length).fill(0)):r=e.slice(),r.forEach(o=>{X(o!==-1,()=>"slice() does not support negative begin indexing.")});let s;return n==null?s=new Array(a).fill(-1):typeof n=="number"?s=[n,...new Array(a-1).fill(-1)]:n.length<a?s=n.concat(new Array(a-n.length).fill(-1)):s=n,s=s.map((o,i)=>o>=0?o:(X(o===-1,()=>`Negative size values should be exactly -1 but got ${o} for the slice() size at index ${i}.`),t.shape[i]-r[i])),[r,s]}function Nk(t,e,n,r,a,s,o,i,c){let d;if(r==null?(d=new Array(e.length),d.fill(1)):d=r,o!=null&&o&o-1)throw new Error("Multiple ellipses in slice is not allowed.");let l=!1;const p={dims:d.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:n.slice(),strides:d.slice(),beginMask:a,endMask:s,ellipsisMask:o,newAxisMask:i,shrinkAxisMask:c};for(let _=0;_<p.dims;_++)l&&1<<_&i&&p.numAddAxisAfterEllipsis++,1<<_&o&&(l=!0);l||(p.ellipsisMask|=1<<p.dims,p.dims++);const h={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};u8(p,h);let m=!0,y=!0,v=!0;const b=[],w=[];for(let _=0;_<t.length;++_){if(h.strides[_]===0)throw Error(`strides[${_}] must be non-zero`);const C=!!(h.shrinkAxisMask&1<<_),T=t[_];if(T===-1){b.push(C?1:-1);continue}const R=[h.beginMask&1<<_,h.endMask&1<<_],M=[h.strides[_]>0?0:-1,h.strides[_]>0?T:T-1];if(C&&h.strides[_]<=0)throw Error("only stride 1 allowed on non-range indexing.");v=v&&h.strides[_]===1;const W=!!(h.beginMask&1<<_&&h.endMask&1<<_);if(h.beginValid&&h.endValid){if(C){const O=h.begin[_]<0?T+h.begin[_]:h.begin[_];if(h.begin[_]=O,h.end[_]=h.begin[_]+1,O<0||O>=T)throw Error(`slice index ${h.begin[_]} of dimension ${_} out of bounds.`)}else h.begin[_]=bw(h.begin[_],0,h.strides[_],T,R,M),h.end[_]=bw(h.end[_],1,h.strides[_],T,R,M);const F=h.strides[_]===1&&h.begin[_]===0&&h.end[_]===T;m=m&&F,y=y&&(_===0&&h.strides[_]===1||F)}else m=m&&h.strides[_]===1&&W,y=y&&(_===0&&h.strides[_]===1||W);let P,z=!1;if(h.beginValid&&h.endValid?(P=h.end[_]-h.begin[_],z=!0):C?(P=1,z=!0):W&&T>=0&&(h.strides[_]<0?P=-T:P=T,z=!0),z){let F;P===0||P<0!=h.strides[_]<0?F=0:F=Math.trunc(P/h.strides[_])+(P%h.strides[_]!==0?1:0),b.push(F)}else b.push(-1)}for(let _=0;_<h.finalShapeGatherIndices.length;++_){const C=h.finalShapeGatherIndices[_];C>=0?w.push(b[C]):C===Jv&&w.push(1)}return{finalShapeSparse:w.filter((_,C)=>h.finalShapeGatherIndices[C]!==Jv),finalShape:w,isIdentity:m,sliceDim0:y,isSimpleSlice:v,begin:h.begin,end:h.end,strides:h.strides}}function u8(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let n=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const a=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;n<a;n++)e.begin[n]=0,e.end[n]=0,e.strides[n]=1,e.beginMask|=1<<n,e.endMask|=1<<n,e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(Jv),e.finalShapeGatherIndicesSparse.push(-1);else{if(n===e.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[n]=t.begin[r]),t.end!=null&&(e.end[n]=t.end[r]),e.strides[n]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<n),t.endMask&1<<r&&(e.endMask|=1<<n),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(i8),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<n):(e.finalShapeGatherIndices.push(n),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[n]=r,n++}}function bw(t,e,n,r,a,s){if(a[e])return n>0?s[e]:s[e+1&1];{const o=t<0?r+t:t;return o<s[0]?s[0]:o>s[1]?s[1]:o}}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ak(t,e){const n=t[0].length;t.forEach((a,s)=>{X(a.length===n,()=>`Error in concat${n}D: rank of tensors[${s}] must be the same as the rank of the rest (${n})`)}),X(e>=0&&e<n,()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`);const r=t[0];t.forEach((a,s)=>{for(let o=0;o<n;o++)X(o===e||a[o]===r[o],()=>`Error in concat${n}D: Shape of tensors[${s}] (${a}) does not match the shape of the rest (${r}) along the non-concatenated axis ${s}.`)})}function Rl(t,e){const n=t[0].slice();for(let r=1;r<t.length;r++)n[e]+=t[r][e];return n}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var ws;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(ws||(ws={}));function c8(t,e,n){let r=new Array;if(n==null&&e==null)return r;if(e==null)for(;r.length<t+n.length;)r.push(-1);else r=e.slice();if(n==null)return r;if(t+n.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+n.length}, but shape.rank = ${r.length}`);for(let a=1;a<n.length;++a){const s=n[a],o=r[r.length-n.length+a],i=r[o];if(s>=0)if(i>=0){if(i!==s)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${a+t}] = ${s} but shape[${a+t}] = ${i}`)}else r[o]=s}return r}function d8(t){const e={FIRST_DIM_SIZE:ws.FIRST_DIM_SIZE,VALUE_ROWIDS:ws.VALUE_ROWIDS,ROW_LENGTHS:ws.ROW_LENGTHS,ROW_SPLITS:ws.ROW_SPLITS,ROW_LIMITS:ws.ROW_LIMITS,ROW_STARTS:ws.ROW_STARTS},n=[];for(const r of t)if(r in e)n.push(e[r]);else break;return n}function f8(t){return t.length===0?0:t[0]===ws.FIRST_DIM_SIZE?t.length-1:t.length}function p8(t,e){if(t==null||e==null)return;const n=t.length,r=e.length;if(n>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${n} must be less than ragged tensor input flatValues.rank = ${r})`);for(let a=0;a<Math.min(n,r-1);++a){const s=t[a],o=e[a+1];if(s>=0&&o>=0&&s!==1&&s!==o)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${a-t.length}] = ${s} but ragged tensor input.flatValues.shape[${a-t.length}] = ${o}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dk(t,e,n){const r=n*(typeof t=="number"?t:t[0]),a=e*(typeof t=="number"?t:t[1]);return[r,a]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vh(t,e,n,r=!0){let a=[];if(r)a=a.concat(e.slice(0)),a.push(t[0]/n),a=a.concat(t.slice(1));else{a=a.concat(t[0]);const s=e.length;for(let o=0;o<s;++o)a=a.concat([t[o+1]/e[o],e[o]]);a=a.concat(t.slice(s+1))}return a}function Uh(t,e,n=!0){const r=[];if(n){r.push(e);for(let a=e+1;a<t;++a)a<=2*e?(r.push(a),r.push(a-(e+1))):r.push(a)}else{const a=[],s=[];for(let o=1;o<t;++o)o>=e*2+1||o%2===1?s.push(o):a.push(o);r.push(...a),r.push(0),r.push(...s)}return r}function Hh(t,e,n,r=!0){const a=[];r?a.push(t[0]/n):a.push(t[0]*n);for(let s=1;s<t.length;++s)s<=e.length?r?a.push(e[s-1]*t[s]):a.push(t[s]/e[s-1]):a.push(t[s]);return a}function Fk(t,e){const n=[0];for(let r=0;r<e;++r)n.push(t[r][0]);return n}function Rk(t,e,n){const r=t.slice(0,1);for(let a=0;a<n;++a)r.push(t[a+1]-e[a][0]-e[a][1]);return r}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h8=1.7580993408473768,m8=1.0507009873554805;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g8=.3275911,v8=.254829592,y8=-.284496736,b8=1.421413741,w8=-1.453152027,S8=1.061405429;/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ll(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const n=new Float32Array(t.length*2);for(let r=0;r<n.length;r+=2)n[r]=t[r/2],n[r+1]=e[r/2];return n}function x8(t){const e=new Float32Array(t.length/2),n=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],n[r/2]=t[r+1];return{real:e,imag:n}}function k8(t){const e=Math.ceil(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=0;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function _8(t){const e=Math.floor(t.length/4),n=new Float32Array(e),r=new Float32Array(e);for(let a=2;a<t.length;a+=4)n[Math.floor(a/4)]=t[a],r[Math.floor(a/4)]=t[a+1];return{real:n,imag:r}}function $k(t,e){const n=t[e*2],r=t[e*2+1];return{real:n,imag:r}}function I8(t,e,n,r){t[r*2]=e,t[r*2+1]=n}function C8(t,e){const n=new Float32Array(t/2),r=new Float32Array(t/2);for(let a=0;a<Math.ceil(t/2);a++){const s=(e?2:-2)*Math.PI*(a/t);n[a]=Math.cos(s),r[a]=Math.sin(s)}return{real:n,imag:r}}function E8(t,e,n){const r=(n?2:-2)*Math.PI*(t/e),a=Math.cos(r),s=Math.sin(r);return{real:a,imag:s}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jg="->",T8=/->/g,ww=",",Sw="...";function N8(t,e){t=t.replace(/\s/g,"");const n=(t.length-t.replace(T8,"").length)/jg.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error(`Equation must contain exactly one arrow ("${jg}").`);const[r,a]=t.split(jg);X(r.indexOf(Sw)===-1,()=>`The ellipsis notation ("${Sw}") is not supported yet.`);const s=r.split(ww),o=s.length;if(e!==o)throw new Error(`Expected ${o} input tensors, received ${e}`);if(o>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const i=[];for(let h=0;h<a.length;++h){const m=a[h];if(!s.some(y=>y.indexOf(m)!==-1))throw new Error(`Output subscripts contain the label ${m} not present in the input subscripts.`);i.indexOf(m)===-1&&i.push(m)}for(let h=0;h<r.length;++h){const m=r[h];i.indexOf(m)===-1&&m!==ww&&i.push(m)}const c=new Array(s.length);for(let h=0;h<o;++h){if(new Set(s[h].split("")).size!==s[h].length)throw new Error(`Found duplicate axes in input component ${s[h]}. Support for duplicate axes in input is not implemented yet.`);c[h]=[];for(let m=0;m<s[h].length;++m)c[h].push(i.indexOf(s[h][m]))}const d=i.length,l=a.length,p=[];for(let h=l;h<d;++h)p.push(h);return{allDims:i,summedDims:p,idDims:c}}function A8(t,e){let n=new Array(t);n.fill(-1);for(let a=0;a<e.length;++a)n[e[a]]=a;const r=[];for(let a=0;a<t;++a)n[a]===-1&&r.push(a);return n=n.filter(a=>a!==-1),{permutationIndices:n,expandDims:r}}function D8(t,e,n){const r=new Array(t);for(let a=0;a<n.length;++a){const s=n[a].shape;for(let o=0;o<e[a].length;++o)r[e[a][o]]===void 0?r[e[a][o]]=s[o]:X(r[e[a][o]]===s[o],()=>`Expected dimension ${r[e[a][o]]} at axis ${o} of input shaped ${JSON.stringify(s)}, but got dimension ${s[o]}`)}}function F8(t,e){const n=t,r=[];let a=0;t.length===0&&n.push(-1),a=t.length+1;for(let o=0;o<a;++o)r.push([]);const s=[];for(let o=0;o<n.length;++o){const i=n[o],c=$8(e,i);for(const d of c)s.indexOf(d)===-1&&(r[o].push(d),s.push(d))}return{path:n,steps:r}}function R8(t){return t.every((e,n)=>e===n)}function $8(t,e){const n=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&n.push(r);return n}function Ok(t,e,n=0){let r=[];if(typeof e=="number")X(t.shape[n]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[n]/e);else{const a=e.reduce((o,i)=>(i===-1&&(o+=1),o),0);X(a<=1,()=>"There should be only one negative value in split array.");const s=e.indexOf(-1);if(s!==-1){const o=e.reduce((i,c)=>c>0?i+c:i);e[s]=t.shape[n]-o}X(t.shape[n]===e.reduce((o,i)=>o+i),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mk(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function Pk(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function Bk(t,e,n){return`indices(${t}, 0) is invalid: ${e} >= ${n}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zk(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function Lk(t,e){return`size ${t} must be non-negative, not ${e}`}function Wk(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function jk(t,e){const n=Ce(t),r=Ce(e);return`Input to reshape is a SparseTensor with ${n}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function Vk(t,e){const n=Ce(t),r=Ce(e);return`Input to reshape is a tensor with ${n} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xf(){return"segment ids must be >= 0"}function Uk(){return"segment ids are not increasing"}function Hk(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function Gk(t,e,n){return`Bad: indices[${t}] == ${e} out of range [0, ${n})`}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qk(t,e,n,r){const a=e.shape.length,s=t.shape.length;if(r!==0&&(r<-a||r>a))throw new Error(`Expect batchDims in the range of [-${a}, ${a}], but got ${r}`);if(r<0&&(r+=a),r>s)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${s}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let p=0;p<r;++p)if(t.shape[p]!==e.shape[p])throw new Error(`x.shape[${p}]: ${t.shape[p]} should be equal to indices.shape[${p}]: ${e.shape[p]}.`);const o=t.shape[n],i=[];let c=1,d=1,l=1;for(let p=0;p<r;++p)i.push(t.shape[p]),c*=t.shape[p];for(let p=r;p<n;p++)i.push(t.shape[p]),d*=t.shape[p];for(let p=r;p<a;p++)i.push(e.shape[p]);for(let p=n+1;p<s;p++)i.push(t.shape[p]),l*=t.shape[p];return{batchSize:c,sliceSize:l,outerSize:d,dimSize:o,outputShape:i}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yc(t){try{return t.map(e=>uc(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function Kk(t){return t.map(e=>_i(e))}/**
 * @license
 * Copyright 2017 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */LM();var Vg={},xw;function O8(){return xw||(xw=1,(function(){var t;function e(k){var D=0;return function(){return D<k.length?{done:!1,value:k[D++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,D,L){return k==Array.prototype||k==Object.prototype||(k[D]=L.value),k};function r(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof $a=="object"&&$a];for(var D=0;D<k.length;++D){var L=k[D];if(L&&L.Math==Math)return L}throw Error("Cannot find global object")}var a=r(this);function s(k,D){if(D)e:{var L=a;k=k.split(".");for(var H=0;H<k.length-1;H++){var re=k[H];if(!(re in L))break e;L=L[re]}k=k[k.length-1],H=L[k],D=D(H),D!=H&&D!=null&&n(L,k,{configurable:!0,writable:!0,value:D})}}s("Symbol",function(k){function D(me){if(this instanceof D)throw new TypeError("Symbol is not a constructor");return new L(H+(me||"")+"_"+re++,me)}function L(me,ie){this.g=me,n(this,"description",{configurable:!0,writable:!0,value:ie})}if(k)return k;L.prototype.toString=function(){return this.g};var H="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",re=0;return D}),s("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var D="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),L=0;L<D.length;L++){var H=a[D[L]];typeof H=="function"&&typeof H.prototype[k]!="function"&&n(H.prototype,k,{configurable:!0,writable:!0,value:function(){return o(e(this))}})}return k});function o(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function i(k){var D=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return D?D.call(k):{next:e(k)}}function c(k){if(!(k instanceof Array)){k=i(k);for(var D,L=[];!(D=k.next()).done;)L.push(D.value);k=L}return k}var d=typeof Object.create=="function"?Object.create:function(k){function D(){}return D.prototype=k,new D},l;if(typeof Object.setPrototypeOf=="function")l=Object.setPrototypeOf;else{var p;e:{var h={a:!0},m={};try{m.__proto__=h,p=m.a;break e}catch{}p=!1}l=p?function(k,D){if(k.__proto__=D,k.__proto__!==D)throw new TypeError(k+" is not extensible");return k}:null}var y=l;function v(k,D){if(k.prototype=d(D.prototype),k.prototype.constructor=k,y)y(k,D);else for(var L in D)if(L!="prototype")if(Object.defineProperties){var H=Object.getOwnPropertyDescriptor(D,L);H&&Object.defineProperty(k,L,H)}else k[L]=D[L];k.na=D.prototype}function b(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.u=this.o=0,this.j=null}function w(k){if(k.l)throw new TypeError("Generator is already running");k.l=!0}b.prototype.s=function(k){this.h=k};function x(k,D){k.j={da:D,ea:!0},k.g=k.o||k.u}b.prototype.return=function(k){this.j={return:k},this.g=this.u};function _(k,D,L){return k.g=L,{value:D}}function C(k){this.g=new b,this.h=k}function T(k,D){w(k.g);var L=k.g.i;return L?R(k,"return"in L?L.return:function(H){return{value:H,done:!0}},D,k.g.return):(k.g.return(D),M(k))}function R(k,D,L,H){try{var re=D.call(k.g.i,L);if(!(re instanceof Object))throw new TypeError("Iterator result "+re+" is not an object");if(!re.done)return k.g.l=!1,re;var me=re.value}catch(ie){return k.g.i=null,x(k.g,ie),M(k)}return k.g.i=null,H.call(k.g,me),M(k)}function M(k){for(;k.g.g;)try{var D=k.h(k.g);if(D)return k.g.l=!1,{value:D.value,done:!1}}catch(L){k.g.h=void 0,x(k.g,L)}if(k.g.l=!1,k.g.j){if(D=k.g.j,k.g.j=null,D.ea)throw D.da;return{value:D.return,done:!0}}return{value:void 0,done:!0}}function W(k){this.next=function(D){return w(k.g),k.g.i?D=R(k,k.g.i.next,D,k.g.s):(k.g.s(D),D=M(k)),D},this.throw=function(D){return w(k.g),k.g.i?D=R(k,k.g.i.throw,D,k.g.s):(x(k.g,D),D=M(k)),D},this.return=function(D){return T(k,D)},this[Symbol.iterator]=function(){return this}}function P(k){function D(H){return k.next(H)}function L(H){return k.throw(H)}return new Promise(function(H,re){function me(ie){ie.done?H(ie.value):Promise.resolve(ie.value).then(D,L).then(me,re)}me(k.next())})}function z(k){return P(new W(new C(k)))}s("Promise",function(k){function D(ie){this.h=0,this.i=void 0,this.g=[],this.s=!1;var Se=this.j();try{ie(Se.resolve,Se.reject)}catch(Te){Se.reject(Te)}}function L(){this.g=null}function H(ie){return ie instanceof D?ie:new D(function(Se){Se(ie)})}if(k)return k;L.prototype.h=function(ie){if(this.g==null){this.g=[];var Se=this;this.i(function(){Se.l()})}this.g.push(ie)};var re=a.setTimeout;L.prototype.i=function(ie){re(ie,0)},L.prototype.l=function(){for(;this.g&&this.g.length;){var ie=this.g;this.g=[];for(var Se=0;Se<ie.length;++Se){var Te=ie[Se];ie[Se]=null;try{Te()}catch(je){this.j(je)}}}this.g=null},L.prototype.j=function(ie){this.i(function(){throw ie})},D.prototype.j=function(){function ie(je){return function(tt){Te||(Te=!0,je.call(Se,tt))}}var Se=this,Te=!1;return{resolve:ie(this.D),reject:ie(this.l)}},D.prototype.D=function(ie){if(ie===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(ie instanceof D)this.H(ie);else{e:switch(typeof ie){case"object":var Se=ie!=null;break e;case"function":Se=!0;break e;default:Se=!1}Se?this.A(ie):this.o(ie)}},D.prototype.A=function(ie){var Se=void 0;try{Se=ie.then}catch(Te){this.l(Te);return}typeof Se=="function"?this.I(Se,ie):this.o(ie)},D.prototype.l=function(ie){this.u(2,ie)},D.prototype.o=function(ie){this.u(1,ie)},D.prototype.u=function(ie,Se){if(this.h!=0)throw Error("Cannot settle("+ie+", "+Se+"): Promise already settled in state"+this.h);this.h=ie,this.i=Se,this.h===2&&this.G(),this.B()},D.prototype.G=function(){var ie=this;re(function(){if(ie.C()){var Se=a.console;typeof Se<"u"&&Se.error(ie.i)}},1)},D.prototype.C=function(){if(this.s)return!1;var ie=a.CustomEvent,Se=a.Event,Te=a.dispatchEvent;return typeof Te>"u"?!0:(typeof ie=="function"?ie=new ie("unhandledrejection",{cancelable:!0}):typeof Se=="function"?ie=new Se("unhandledrejection",{cancelable:!0}):(ie=a.document.createEvent("CustomEvent"),ie.initCustomEvent("unhandledrejection",!1,!0,ie)),ie.promise=this,ie.reason=this.i,Te(ie))},D.prototype.B=function(){if(this.g!=null){for(var ie=0;ie<this.g.length;++ie)me.h(this.g[ie]);this.g=null}};var me=new L;return D.prototype.H=function(ie){var Se=this.j();ie.M(Se.resolve,Se.reject)},D.prototype.I=function(ie,Se){var Te=this.j();try{ie.call(Se,Te.resolve,Te.reject)}catch(je){Te.reject(je)}},D.prototype.then=function(ie,Se){function Te(xt,ut){return typeof xt=="function"?function(Ct){try{je(xt(Ct))}catch(zt){tt(zt)}}:ut}var je,tt,yt=new D(function(xt,ut){je=xt,tt=ut});return this.M(Te(ie,je),Te(Se,tt)),yt},D.prototype.catch=function(ie){return this.then(void 0,ie)},D.prototype.M=function(ie,Se){function Te(){switch(je.h){case 1:ie(je.i);break;case 2:Se(je.i);break;default:throw Error("Unexpected state: "+je.h)}}var je=this;this.g==null?me.h(Te):this.g.push(Te),this.s=!0},D.resolve=H,D.reject=function(ie){return new D(function(Se,Te){Te(ie)})},D.race=function(ie){return new D(function(Se,Te){for(var je=i(ie),tt=je.next();!tt.done;tt=je.next())H(tt.value).M(Se,Te)})},D.all=function(ie){var Se=i(ie),Te=Se.next();return Te.done?H([]):new D(function(je,tt){function yt(Ct){return function(zt){xt[Ct]=zt,ut--,ut==0&&je(xt)}}var xt=[],ut=0;do xt.push(void 0),ut++,H(Te.value).M(yt(xt.length-1),tt),Te=Se.next();while(!Te.done)})},D});function F(k,D){k instanceof String&&(k+="");var L=0,H=!1,re={next:function(){if(!H&&L<k.length){var me=L++;return{value:D(me,k[me]),done:!1}}return H=!0,{done:!0,value:void 0}}};return re[Symbol.iterator]=function(){return re},re}var O=typeof Object.assign=="function"?Object.assign:function(k,D){for(var L=1;L<arguments.length;L++){var H=arguments[L];if(H)for(var re in H)Object.prototype.hasOwnProperty.call(H,re)&&(k[re]=H[re])}return k};s("Object.assign",function(k){return k||O}),s("Object.is",function(k){return k||function(D,L){return D===L?D!==0||1/D===1/L:D!==D&&L!==L}}),s("Array.prototype.includes",function(k){return k||function(D,L){var H=this;H instanceof String&&(H=String(H));var re=H.length;for(L=L||0,0>L&&(L=Math.max(L+re,0));L<re;L++){var me=H[L];if(me===D||Object.is(me,D))return!0}return!1}}),s("String.prototype.includes",function(k){return k||function(D,L){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(D instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(D,L||0)!==-1}}),s("Array.prototype.keys",function(k){return k||function(){return F(this,function(D){return D})}});var U=this||self;function N(k,D){k=k.split(".");var L=U;k[0]in L||typeof L.execScript>"u"||L.execScript("var "+k[0]);for(var H;k.length&&(H=k.shift());)k.length||D===void 0?L[H]&&L[H]!==Object.prototype[H]?L=L[H]:L=L[H]={}:L[H]=D}function q(){throw Error("Invalid UTF8")}function ae(k,D){return D=String.fromCharCode.apply(null,D),k==null?D:k+D}var J,Z=typeof TextDecoder<"u",Y,te=typeof TextEncoder<"u",B={},V=null;function oe(k){var D;D===void 0&&(D=0),Ee(),D=B[D];for(var L=Array(Math.floor(k.length/3)),H=D[64]||"",re=0,me=0;re<k.length-2;re+=3){var ie=k[re],Se=k[re+1],Te=k[re+2],je=D[ie>>2];ie=D[(ie&3)<<4|Se>>4],Se=D[(Se&15)<<2|Te>>6],Te=D[Te&63],L[me++]=je+ie+Se+Te}switch(je=0,Te=H,k.length-re){case 2:je=k[re+1],Te=D[(je&15)<<2]||H;case 1:k=k[re],L[me]=D[k>>2]+D[(k&3)<<4|je>>4]+Te+H}return L.join("")}function ue(k){var D=k.length,L=3*D/4;L%3?L=Math.floor(L):"=.".indexOf(k[D-1])!=-1&&(L="=.".indexOf(k[D-2])!=-1?L-2:L-1);var H=new Uint8Array(L),re=0;return le(k,function(me){H[re++]=me}),re!==L?H.subarray(0,re):H}function le(k,D){function L(Te){for(;H<k.length;){var je=k.charAt(H++),tt=V[je];if(tt!=null)return tt;if(!/^[\s\xa0]*$/.test(je))throw Error("Unknown base64 encoding at char: "+je)}return Te}Ee();for(var H=0;;){var re=L(-1),me=L(0),ie=L(64),Se=L(64);if(Se===64&&re===-1)break;D(re<<2|me>>4),ie!=64&&(D(me<<4&240|ie>>2),Se!=64&&D(ie<<6&192|Se))}}function Ee(){if(!V){V={};for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),D=["+/=","+/","-_=","-_.","-_"],L=0;5>L;L++){var H=k.concat(D[L].split(""));B[L]=H;for(var re=0;re<H.length;re++){var me=H[re];V[me]===void 0&&(V[me]=re)}}}}var Re=typeof Uint8Array=="function";function xe(k){return Re&&k!=null&&k instanceof Uint8Array}var Ne;function He(k){if(this.L=k,k!==null&&k.length===0)throw Error("ByteString should be constructed with non-empty values")}var Ke=typeof Uint8Array.prototype.slice=="function",et=0,Qe=0;function $(k,D){if(k.constructor===Uint8Array)return k;if(k.constructor===ArrayBuffer)return new Uint8Array(k);if(k.constructor===Array)return new Uint8Array(k);if(k.constructor===String)return ue(k);if(k.constructor===He)return!D&&(D=k.L)&&D.constructor===Uint8Array?D:(D=k.L,D=D==null||xe(D)?D:typeof D=="string"?ue(D):null,(k=k.L=D)?new Uint8Array(k):Ne||(Ne=new Uint8Array(0)));if(k instanceof Uint8Array)return new Uint8Array(k.buffer,k.byteOffset,k.byteLength);throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, or Array of numbers")}function be(k,D){return Error("Invalid wire type: "+k+" (at position "+D+")")}function pe(){return Error("Failed to read varint, encoding is invalid.")}function Q(k,D){D=D===void 0?{}:D,D=D.v===void 0?!1:D.v,this.h=null,this.g=this.i=this.j=0,this.v=D,k&&K(this,k)}function K(k,D){k.h=$(D,k.v),k.j=0,k.i=k.h.length,k.g=k.j}Q.prototype.reset=function(){this.g=this.j};function ce(k){if(k.g>k.i)throw Error("Tried to read past the end of the data "+k.g+" > "+k.i)}function _e(k){var D=k.h,L=D[k.g],H=L&127;if(128>L)return k.g+=1,ce(k),H;if(L=D[k.g+1],H|=(L&127)<<7,128>L)return k.g+=2,ce(k),H;if(L=D[k.g+2],H|=(L&127)<<14,128>L)return k.g+=3,ce(k),H;if(L=D[k.g+3],H|=(L&127)<<21,128>L)return k.g+=4,ce(k),H;if(L=D[k.g+4],k.g+=5,H|=(L&15)<<28,128>L)return ce(k),H;if(128<=D[k.g++]&&128<=D[k.g++]&&128<=D[k.g++]&&128<=D[k.g++]&&128<=D[k.g++])throw pe();return ce(k),H}var Ae=[];function ge(){this.g=[]}ge.prototype.length=function(){return this.g.length},ge.prototype.end=function(){var k=this.g;return this.g=[],k};function $e(k,D){for(;127<D;)k.g.push(D&127|128),D>>>=7;k.g.push(D)}function Ve(k){var D={},L=D.W===void 0?!1:D.W;this.l={v:D.v===void 0?!1:D.v},this.W=L,D=this.l,Ae.length?(L=Ae.pop(),D&&(L.v=D.v),k&&K(L,k),k=L):k=new Q(k,D),this.g=k,this.j=this.g.g,this.h=this.i=-1}Ve.prototype.reset=function(){this.g.reset(),this.j=this.g.g,this.h=this.i=-1};function Me(k){var D=k.g;if(D.g==D.i)return!1;k.j=k.g.g;var L=_e(k.g)>>>0;if(D=L>>>3,L&=7,!(0<=L&&5>=L))throw be(L,k.j);if(1>D)throw Error("Invalid field number: "+D+" (at position "+k.j+")");return k.i=D,k.h=L,!0}function Ze(k){switch(k.h){case 0:if(k.h!=0)Ze(k);else e:{k=k.g;for(var D=k.g,L=D+10;D<L;)if(!(k.h[D++]&128)){k.g=D,ce(k);break e}throw pe()}break;case 1:k=k.g,k.g+=8,ce(k);break;case 2:k.h!=2?Ze(k):(D=_e(k.g)>>>0,k=k.g,k.g+=D,ce(k));break;case 5:k=k.g,k.g+=4,ce(k);break;case 3:D=k.i;do{if(!Me(k))throw Error("Unmatched start-group tag: stream EOF");if(k.h==4){if(k.i!=D)throw Error("Unmatched end-group tag");break}Ze(k)}while(!0);break;default:throw be(k.h,k.j)}}var ft=[];function dt(){this.i=[],this.h=0,this.g=new ge}function qt(k,D){D.length!==0&&(k.i.push(D),k.h+=D.length)}function Bn(k,D){if(D=D.ba){qt(k,k.g.end());for(var L=0;L<D.length;L++)qt(k,D[L])}}var Ht=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol(void 0):void 0;function kr(k,D){Object.isFrozen(k)||(Ht?k[Ht]|=D:k.N!==void 0?k.N|=D:Object.defineProperties(k,{N:{value:D,configurable:!0,writable:!0,enumerable:!1}}))}function Dt(k){var D;return Ht?D=k[Ht]:D=k.N,D??0}function Fn(k){return kr(k,1),k}function tn(k){return Array.isArray(k)?!!(Dt(k)&2):!1}function Rn(k){if(!Array.isArray(k))throw Error("cannot mark non-array as immutable");kr(k,2)}function Yr(k){return k!==null&&typeof k=="object"&&!Array.isArray(k)&&k.constructor===Object}var Lr=Object.freeze(Fn([]));function ua(k){if(tn(k.m))throw Error("Cannot mutate an immutable Message")}var or=typeof Symbol<"u"&&typeof Symbol.hasInstance<"u";function Jn(k){return{value:k,configurable:!1,writable:!1,enumerable:!1}}function an(k,D,L){return D===-1?null:D>=k.i?k.g?k.g[D]:void 0:L!==void 0&&L&&k.g&&(L=k.g[D],L!=null)?L:k.m[D+k.h]}function Pt(k,D,L,H){H=H===void 0?!1:H,ua(k),D<k.i&&!H?k.m[D+k.h]=L:(k.g||(k.g=k.m[k.i+k.h]={}))[D]=L}function ca(k,D,L,H){L=L===void 0?!0:L,H=H===void 0?!1:H;var re=an(k,D,H);return re==null&&(re=Lr),tn(k.m)?L&&(Rn(re),Object.freeze(re)):(re===Lr||tn(re))&&(re=Fn(re.slice()),Pt(k,D,re,H)),re}function ir(k,D,L){return k=an(k,D),k=k==null?k:+k,k??(L===void 0?0:L)}function Ie(k,D,L,H){k.j||(k.j={});var re=tn(k.m),me=k.j[L];if(!me){H=ca(k,L,!0,H===void 0?!1:H),me=[],re=re||tn(H);for(var ie=0;ie<H.length;ie++)me[ie]=new D(H[ie]),re&&Rn(me[ie].m);re&&(Rn(me),Object.freeze(me)),k.j[L]=me}return me}function Le(k,D,L,H,re){var me=me===void 0?!1:me;return ua(k),me=Ie(k,L,D,me),L=H||new L,k=ca(k,D),re!=null?(me.splice(re,0,L),k.splice(re,0,L.m)):(me.push(L),k.push(L.m)),L}function it(k,D){return k=an(k,D),k??0}function qe(k,D){return k=an(k,D),k??""}function Bt(k){switch(typeof k){case"number":return isFinite(k)?k:String(k);case"object":if(k&&!Array.isArray(k)){if(xe(k))return oe(k);if(k instanceof He){var D=k.L;return D=D==null||typeof D=="string"?D:Re&&D instanceof Uint8Array?oe(D):null,(k.L=D)||""}}}return k}function Kt(k){var D=sn;return D=D===void 0?Hn:D,kt(k,D)}function St(k,D){if(k!=null){if(Array.isArray(k))k=kt(k,D);else if(Yr(k)){var L={},H;for(H in k)L[H]=St(k[H],D);k=L}else k=D(k);return k}}function kt(k,D){for(var L=k.slice(),H=0;H<L.length;H++)L[H]=St(L[H],D);return Array.isArray(k)&&Dt(k)&1&&Fn(L),L}function sn(k){return k&&typeof k=="object"&&k.toJSON?k.toJSON():(k=Bt(k),Array.isArray(k)?Kt(k):k)}function Hn(k){return xe(k)?new Uint8Array(k):k}function er(k,D,L){k||(k=za),za=null;var H=this.constructor.h;k||(k=H?[H]:[]),this.h=(H?0:-1)-(this.constructor.g||0),this.j=void 0,this.m=k;e:{if(H=this.m.length,k=H-1,H&&(H=this.m[k],Yr(H))){this.i=k-this.h,this.g=H;break e}D!==void 0&&-1<D?(this.i=Math.max(D,k+1-this.h),this.g=void 0):this.i=Number.MAX_VALUE}if(L)for(D=0;D<L.length;D++)if(k=L[D],k<this.i)k+=this.h,(H=this.m[k])?Array.isArray(H)&&Fn(H):this.m[k]=Lr;else{H=this.g||(this.g=this.m[this.i+this.h]={});var re=H[k];re?Array.isArray(re)&&Fn(re):H[k]=Lr}}er.prototype.toJSON=function(){return Kt(this.m)},er.prototype.toString=function(){return this.m.toString()};var za;function xa(){er.apply(this,arguments)}if(v(xa,er),or){var Ns={};Object.defineProperties(xa,(Ns[Symbol.hasInstance]=Jn(function(){throw Error("Cannot perform instanceof checks for MutableMessage")}),Ns))}function $n(k,D,L){if(L){var H={},re;for(re in L){var me=L[re],ie=me.ha;ie||(H.F=me.la||me.fa.P,me.aa?(H.U=La(me.aa),ie=function(Se){return function(Te,je,tt){return Se.F(Te,je,tt,Se.U)}}(H)):me.ca?(H.T=Hi(me.X.g,me.ca),ie=function(Se){return function(Te,je,tt){return Se.F(Te,je,tt,Se.T)}}(H)):ie=H.F,me.ha=ie),ie(D,k,me.X),H={F:H.F,U:H.U,T:H.T}}}Bn(D,k)}var zn=Symbol();function ss(k,D,L){return k[zn]||(k[zn]=function(H,re){return D(H,re,L)})}function Zo(k){var D=k[zn];if(!D){var L=_r(k);D=function(H,re){return Xi(H,re,L)},k[zn]=D}return D}function Qo(k){var D=k.aa;if(D)return Zo(D);if(D=k.ka)return ss(k.X.g,D,k.ca)}function Ui(k){var D=Qo(k),L=k.X,H=k.fa.O;return D?function(re,me){return H(re,me,L,D)}:function(re,me){return H(re,me,L)}}function Jo(k,D,L,H,re,me){k=k();var ie=0;for(k.length&&typeof k[0]!="number"&&(L(D,k[0]),ie++);ie<k.length;){L=k[ie++];for(var Se=ie+1;Se<k.length&&typeof k[Se]!="number";)Se++;var Te=k[ie++];switch(Se-=ie,Se){case 0:H(D,L,Te);break;case 1:H(D,L,Te,k[ie++]);break;case 2:re(D,L,Te,k[ie++],k[ie++]);break;case 3:Se=k[ie++];var je=k[ie++],tt=k[ie++];Array.isArray(tt)?re(D,L,Te,Se,je,tt):me(D,L,Te,Se,je,tt);break;case 4:me(D,L,Te,k[ie++],k[ie++],k[ie++],k[ie++]);break;default:throw Error("unexpected number of binary field arguments: "+Se)}}return D}var As=Symbol();function La(k){var D=k[As];if(!D){var L=Fs(k);D=function(H,re){return ei(H,re,L)},k[As]=D}return D}function Hi(k,D){var L=k[As];return L||(L=function(H,re){return $n(H,re,D)},k[As]=L),L}var Gi=Symbol();function gn(k,D){k.push(D)}function nu(k,D,L){k.push(D,L.P)}function Ds(k,D,L,H,re){var me=La(re),ie=L.P;k.push(D,function(Se,Te,je){return ie(Se,Te,je,H,me)})}function qi(k,D,L,H,re,me){var ie=Hi(H,me),Se=L.P;k.push(D,function(Te,je,tt){return Se(Te,je,tt,H,ie)})}function Fs(k){var D=k[Gi];return D||Jo(k,k[Gi]=[],gn,nu,Ds,qi)}var Ki=Symbol();function Wa(k,D){k[0]=D}function os(k,D,L,H){var re=L.O;k[D]=H?function(me,ie,Se){return re(me,ie,Se,H)}:re}function Zr(k,D,L,H,re,me){var ie=L.O,Se=Zo(re);k[D]=function(Te,je,tt){return ie(Te,je,tt,H,Se,me)}}function ru(k,D,L,H,re,me,ie){var Se=L.O,Te=ss(H,re,me);k[D]=function(je,tt,yt){return Se(je,tt,yt,H,Te,ie)}}function _r(k){var D=k[Ki];return D||Jo(k,k[Ki]={},Wa,os,Zr,ru)}function Xi(k,D,L){for(;Me(D)&&D.h!=4;){var H=D.i,re=L[H];if(!re){var me=L[0];me&&(me=me[H])&&(re=L[H]=Ui(me))}if((!re||!re(D,k,H))&&(re=D,H=k,me=re.j,Ze(re),!re.W)){var ie=re.g.h;re=re.g.g,re=me===re?Ne||(Ne=new Uint8Array(0)):Ke?ie.slice(me,re):new Uint8Array(ie.subarray(me,re)),(me=H.ba)?me.push(re):H.ba=[re]}}return k}function oo(k,D,L){if(ft.length){var H=ft.pop();k&&(K(H.g,k),H.i=-1,H.h=-1),k=H}else k=new Ve(k);try{return Xi(new D,k,_r(L))}finally{D=k.g,D.h=null,D.j=0,D.i=0,D.g=0,D.v=!1,k.i=-1,k.h=-1,100>ft.length&&ft.push(k)}}function ei(k,D,L){for(var H=L.length,re=H%2==1,me=re?1:0;me<H;me+=2)(0,L[me+1])(D,k,L[me]);$n(k,D,re?L[0]:void 0)}function is(k,D){var L=new dt;ei(k,L,Fs(D)),qt(L,L.g.end()),k=new Uint8Array(L.h),D=L.i;for(var H=D.length,re=0,me=0;me<H;me++){var ie=D[me];k.set(ie,re),re+=ie.length}return L.i=[k],k}function ka(k,D){return{O:k,P:D}}var Gn=ka(function(k,D,L){if(k.h!==5)return!1;k=k.g;var H=k.h[k.g],re=k.h[k.g+1],me=k.h[k.g+2],ie=k.h[k.g+3];return k.g+=4,ce(k),re=(H<<0|re<<8|me<<16|ie<<24)>>>0,k=2*(re>>31)+1,H=re>>>23&255,re&=8388607,Pt(D,L,H==255?re?NaN:1/0*k:H==0?k*Math.pow(2,-149)*re:k*Math.pow(2,H-150)*(re+Math.pow(2,23))),!0},function(k,D,L){if(D=an(D,L),D!=null){$e(k.g,8*L+5),k=k.g;var H=D;H=(L=0>H?1:0)?-H:H,H===0?0<1/H?et=Qe=0:(Qe=0,et=2147483648):isNaN(H)?(Qe=0,et=2147483647):34028234663852886e22<H?(Qe=0,et=(L<<31|2139095040)>>>0):11754943508222875e-54>H?(H=Math.round(H/Math.pow(2,-149)),Qe=0,et=(L<<31|H)>>>0):(D=Math.floor(Math.log(H)/Math.LN2),H*=Math.pow(2,-D),H=Math.round(8388608*H),16777216<=H&&++D,Qe=0,et=(L<<31|D+127<<23|H&8388607)>>>0),L=et,k.g.push(L>>>0&255),k.g.push(L>>>8&255),k.g.push(L>>>16&255),k.g.push(L>>>24&255)}}),Rs=ka(function(k,D,L){if(k.h!==0)return!1;for(var H=k.g,re=128,me=0,ie=k=0;4>ie&&128<=re;ie++)re=H.h[H.g++],ce(H),me|=(re&127)<<7*ie;if(128<=re&&(re=H.h[H.g++],ce(H),me|=(re&127)<<28,k|=(re&127)>>4),128<=re)for(ie=0;5>ie&&128<=re;ie++)re=H.h[H.g++],ce(H),k|=(re&127)<<7*ie+3;if(128>re)H=me>>>0,re=k>>>0,(k=re&2147483648)&&(H=~H+1>>>0,re=~re>>>0,H==0&&(re=re+1>>>0)),H=4294967296*re+(H>>>0);else throw pe();return Pt(D,L,k?-H:H),!0},function(k,D,L){if(D=an(D,L),D!=null&&D!=null){$e(k.g,8*L),k=k.g;var H=D;for(L=0>H,H=Math.abs(H),D=H>>>0,H=Math.floor((H-D)/4294967296),H>>>=0,L&&(H=~H>>>0,D=(~D>>>0)+1,4294967295<D&&(D=0,H++,4294967295<H&&(H=0))),et=D,Qe=H,L=et,D=Qe;0<D||127<L;)k.g.push(L&127|128),L=(L>>>7|D<<25)>>>0,D>>>=7;k.g.push(L)}}),au=ka(function(k,D,L){return k.h!==0?!1:(Pt(D,L,_e(k.g)),!0)},function(k,D,L){if(D=an(D,L),D!=null&&D!=null)if($e(k.g,8*L),k=k.g,L=D,0<=L)$e(k,L);else{for(D=0;9>D;D++)k.g.push(L&127|128),L>>=7;k.g.push(1)}}),Yi=ka(function(k,D,L){if(k.h!==2)return!1;var H=_e(k.g)>>>0;k=k.g;var re=k.g;k.g+=H,ce(k),k=k.h;var me;if(Z)(me=J)||(me=J=new TextDecoder("utf-8",{fatal:!0})),me=me.decode(k.subarray(re,re+H));else{H=re+H;for(var ie=[],Se=null,Te,je,tt;re<H;)Te=k[re++],128>Te?ie.push(Te):224>Te?re>=H?q():(je=k[re++],194>Te||(je&192)!==128?(re--,q()):ie.push((Te&31)<<6|je&63)):240>Te?re>=H-1?q():(je=k[re++],(je&192)!==128||Te===224&&160>je||Te===237&&160<=je||((me=k[re++])&192)!==128?(re--,q()):ie.push((Te&15)<<12|(je&63)<<6|me&63)):244>=Te?re>=H-2?q():(je=k[re++],(je&192)!==128||(Te<<28)+(je-144)>>30||((me=k[re++])&192)!==128||((tt=k[re++])&192)!==128?(re--,q()):(Te=(Te&7)<<18|(je&63)<<12|(me&63)<<6|tt&63,Te-=65536,ie.push((Te>>10&1023)+55296,(Te&1023)+56320))):q(),8192<=ie.length&&(Se=ae(Se,ie),ie.length=0);me=ae(Se,ie)}return Pt(D,L,me),!0},function(k,D,L){if(D=an(D,L),D!=null){var H=!1;if(H=H===void 0?!1:H,te){if(H&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(D))throw Error("Found an unpaired surrogate");D=(Y||(Y=new TextEncoder)).encode(D)}else{for(var re=0,me=new Uint8Array(3*D.length),ie=0;ie<D.length;ie++){var Se=D.charCodeAt(ie);if(128>Se)me[re++]=Se;else{if(2048>Se)me[re++]=Se>>6|192;else{if(55296<=Se&&57343>=Se){if(56319>=Se&&ie<D.length){var Te=D.charCodeAt(++ie);if(56320<=Te&&57343>=Te){Se=1024*(Se-55296)+Te-56320+65536,me[re++]=Se>>18|240,me[re++]=Se>>12&63|128,me[re++]=Se>>6&63|128,me[re++]=Se&63|128;continue}else ie--}if(H)throw Error("Found an unpaired surrogate");Se=65533}me[re++]=Se>>12|224,me[re++]=Se>>6&63|128}me[re++]=Se&63|128}}D=me.subarray(0,re)}$e(k.g,8*L+2),$e(k.g,D.length),qt(k,k.g.end()),qt(k,D)}}),io=ka(function(k,D,L,H,re){if(k.h!==2)return!1;D=Le(D,L,H),L=k.g.i,H=_e(k.g)>>>0;var me=k.g.g+H,ie=me-L;if(0>=ie&&(k.g.i=me,re(D,k),ie=me-k.g.g),ie)throw Error("Message parsing ended unexpectedly. Expected to read "+(H+" bytes, instead read "+(H-ie)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return k.g.g=me,k.g.i=L,!0},function(k,D,L,H,re){if(D=Ie(D,H,L),D!=null)for(H=0;H<D.length;H++){var me=k;$e(me.g,8*L+2);var ie=me.g.end();qt(me,ie),ie.push(me.h),me=ie,re(D[H],k),ie=k;var Se=me.pop();for(Se=ie.h+ie.g.length()-Se;127<Se;)me.push(Se&127|128),Se>>>=7,ie.h++;me.push(Se),ie.h++}});function vr(){xa.apply(this,arguments)}if(v(vr,xa),or){var $s={};Object.defineProperties(vr,($s[Symbol.hasInstance]=Jn(Object[Symbol.hasInstance]),$s))}function Ir(k){vr.call(this,k)}v(Ir,vr);function ti(){return[1,au,2,Gn,3,Yi,4,Yi]}function ls(k){vr.call(this,k,-1,lo)}v(ls,vr),ls.prototype.addClassification=function(k,D){return Le(this,1,Ir,k,D),this};function jt(){return[1,io,Ir,ti]}var lo=[1];function us(k){vr.call(this,k)}v(us,vr);function Os(){return[1,Gn,2,Gn,3,Gn,4,Gn,5,Gn]}function Ms(k){vr.call(this,k,-1,Bs)}v(Ms,vr);function Ps(){return[1,io,us,Os]}var Bs=[1];function _a(k){vr.call(this,k)}v(_a,vr);function cs(){return[1,Gn,2,Gn,3,Gn,4,Gn,5,Gn,6,Rs]}var Cr=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],Er=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],da=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ee=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ve=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],Be=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],pt=[].concat(c(Cr),c(Er),c(da),c(ee),c(ve),c(Be));function bt(k,D,L){if(L=k.createShader(L===0?k.VERTEX_SHADER:k.FRAGMENT_SHADER),k.shaderSource(L,D),k.compileShader(L),!k.getShaderParameter(L,k.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+k.getShaderInfoLog(L));return L}function vt(k){return Ie(k,Ir,1).map(function(D){return{index:it(D,1),ga:ir(D,2),label:an(D,3)!=null?qe(D,3):void 0,displayName:an(D,4)!=null?qe(D,4):void 0}})}function Ye(k){return{x:ir(k,1),y:ir(k,2),z:ir(k,3),visibility:an(k,4)!=null?ir(k,4):void 0}}function rt(k,D){this.h=k,this.g=D,this.l=0}function Xt(k,D,L){return lr(k,D),typeof k.g.canvas.transferToImageBitmap=="function"?Promise.resolve(k.g.canvas.transferToImageBitmap()):L?Promise.resolve(k.g.canvas):typeof createImageBitmap=="function"?createImageBitmap(k.g.canvas):(k.i===void 0&&(k.i=document.createElement("canvas")),new Promise(function(H){k.i.height=k.g.canvas.height,k.i.width=k.g.canvas.width,k.i.getContext("2d",{}).drawImage(k.g.canvas,0,0,k.g.canvas.width,k.g.canvas.height),H(k.i)}))}function lr(k,D){var L=k.g;if(k.o===void 0){var H=bt(L,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),re=bt(L,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),me=L.createProgram();if(L.attachShader(me,H),L.attachShader(me,re),L.linkProgram(me),!L.getProgramParameter(me,L.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+L.getProgramInfoLog(me));H=k.o=me,L.useProgram(H),re=L.getUniformLocation(H,"sampler0"),k.j={K:L.getAttribLocation(H,"aVertex"),J:L.getAttribLocation(H,"aTex"),ma:re},k.u=L.createBuffer(),L.bindBuffer(L.ARRAY_BUFFER,k.u),L.enableVertexAttribArray(k.j.K),L.vertexAttribPointer(k.j.K,2,L.FLOAT,!1,0,0),L.bufferData(L.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),L.STATIC_DRAW),L.bindBuffer(L.ARRAY_BUFFER,null),k.s=L.createBuffer(),L.bindBuffer(L.ARRAY_BUFFER,k.s),L.enableVertexAttribArray(k.j.J),L.vertexAttribPointer(k.j.J,2,L.FLOAT,!1,0,0),L.bufferData(L.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),L.STATIC_DRAW),L.bindBuffer(L.ARRAY_BUFFER,null),L.uniform1i(re,0)}H=k.j,L.useProgram(k.o),L.canvas.width=D.width,L.canvas.height=D.height,L.viewport(0,0,D.width,D.height),L.activeTexture(L.TEXTURE0),k.h.bindTexture2d(D.glName),L.enableVertexAttribArray(H.K),L.bindBuffer(L.ARRAY_BUFFER,k.u),L.vertexAttribPointer(H.K,2,L.FLOAT,!1,0,0),L.enableVertexAttribArray(H.J),L.bindBuffer(L.ARRAY_BUFFER,k.s),L.vertexAttribPointer(H.J,2,L.FLOAT,!1,0,0),L.bindFramebuffer(L.DRAW_FRAMEBUFFER?L.DRAW_FRAMEBUFFER:L.FRAMEBUFFER,null),L.clearColor(0,0,0,0),L.clear(L.COLOR_BUFFER_BIT),L.colorMask(!0,!0,!0,!0),L.drawArrays(L.TRIANGLE_FAN,0,4),L.disableVertexAttribArray(H.K),L.disableVertexAttribArray(H.J),L.bindBuffer(L.ARRAY_BUFFER,null),k.h.bindTexture2d(0)}function fa(k){this.g=k}var ds=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function ja(k,D){return D+k}function Va(k,D){window[k]=D}function Ln(k){var D=document.createElement("script");return D.setAttribute("src",k),D.setAttribute("crossorigin","anonymous"),new Promise(function(L){D.addEventListener("load",function(){L()},!1),D.addEventListener("error",function(){L()},!1),document.body.appendChild(D)})}function fs(){return z(function(k){switch(k.g){case 1:return k.o=2,_(k,WebAssembly.instantiate(ds),4);case 4:k.g=3,k.o=0;break;case 2:return k.o=0,k.j=null,k.return(!1);case 3:return k.return(!0)}})}function uo(k){if(this.g=k,this.listeners={},this.j={},this.H={},this.o={},this.u={},this.I=this.s=this.Z=!0,this.D=Promise.resolve(),this.Y="",this.C={},this.locateFile=k&&k.locateFile||ja,typeof window=="object")var D=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")D=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.$=D,k.options){D=i(Object.keys(k.options));for(var L=D.next();!L.done;L=D.next()){L=L.value;var H=k.options[L].default;H!==void 0&&(this.j[L]=typeof H=="function"?H():H)}}}t=uo.prototype,t.close=function(){return this.i&&this.i.delete(),Promise.resolve()};function su(k){var D,L,H,re,me,ie,Se,Te,je,tt,yt;return z(function(xt){switch(xt.g){case 1:return k.Z?(D=k.g.files===void 0?[]:typeof k.g.files=="function"?k.g.files(k.j):k.g.files,_(xt,fs(),2)):xt.return();case 2:if(L=xt.h,typeof window=="object")return Va("createMediapipeSolutionsWasm",{locateFile:k.locateFile}),Va("createMediapipeSolutionsPackedAssets",{locateFile:k.locateFile}),ie=D.filter(function(ut){return ut.data!==void 0}),Se=D.filter(function(ut){return ut.data===void 0}),Te=Promise.all(ie.map(function(ut){var Ct=ni(k,ut.url);if(ut.path!==void 0){var zt=ut.path;Ct=Ct.then(function(on){return k.overrideFile(zt,on),Promise.resolve(on)})}return Ct})),je=Promise.all(Se.map(function(ut){return ut.simd===void 0||ut.simd&&L||!ut.simd&&!L?Ln(k.locateFile(ut.url,k.$)):Promise.resolve()})).then(function(){var ut,Ct,zt;return z(function(on){if(on.g==1)return ut=window.createMediapipeSolutionsWasm,Ct=window.createMediapipeSolutionsPackedAssets,zt=k,_(on,ut(Ct),2);zt.h=on.h,on.g=0})}),tt=function(){return z(function(ut){return k.g.graph&&k.g.graph.url?ut=_(ut,ni(k,k.g.graph.url),0):(ut.g=0,ut=void 0),ut})}(),_(xt,Promise.all([je,Te,tt]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return H=D.filter(function(ut){return ut.simd===void 0||ut.simd&&L||!ut.simd&&!L}).map(function(ut){return k.locateFile(ut.url,k.$)}),importScripts.apply(null,c(H)),re=k,_(xt,createMediapipeSolutionsWasm(Module),6);case 6:re.h=xt.h,k.l=new OffscreenCanvas(1,1),k.h.canvas=k.l,me=k.h.GL.createContext(k.l,{antialias:!1,alpha:!1,ja:typeof WebGL2RenderingContext<"u"?2:1}),k.h.GL.makeContextCurrent(me),xt.g=4;break;case 7:if(k.l=document.createElement("canvas"),yt=k.l.getContext("webgl2",{}),!yt&&(yt=k.l.getContext("webgl",{}),!yt))return alert("Failed to create WebGL canvas context when passing video frame."),xt.return();k.G=yt,k.h.canvas=k.l,k.h.createContext(k.l,!0,!0,{});case 4:k.i=new k.h.SolutionWasm,k.Z=!1,xt.g=0}})}function Zi(k){var D,L,H,re,me,ie,Se,Te;return z(function(je){if(je.g==1){if(k.g.graph&&k.g.graph.url&&k.Y===k.g.graph.url)return je.return();if(k.s=!0,!k.g.graph||!k.g.graph.url){je.g=2;return}return k.Y=k.g.graph.url,_(je,ni(k,k.g.graph.url),3)}for(je.g!=2&&(D=je.h,k.i.loadGraph(D)),L=i(Object.keys(k.C)),H=L.next();!H.done;H=L.next())re=H.value,k.i.overrideFile(re,k.C[re]);if(k.C={},k.g.listeners)for(me=i(k.g.listeners),ie=me.next();!ie.done;ie=me.next())Se=ie.value,Qi(k,Se);Te=k.j,k.j={},k.setOptions(Te),je.g=0})}t.reset=function(){var k=this;return z(function(D){k.i&&(k.i.reset(),k.o={},k.u={}),D.g=0})},t.setOptions=function(k,D){var L=this;if(D=D||this.g.options){for(var H=[],re=[],me={},ie=i(Object.keys(k)),Se=ie.next();!Se.done;me={R:me.R,S:me.S},Se=ie.next()){var Te=Se.value;Te in this.j&&this.j[Te]===k[Te]||(this.j[Te]=k[Te],Se=D[Te],Se!==void 0&&(Se.onChange&&(me.R=Se.onChange,me.S=k[Te],H.push(function(je){return function(){var tt;return z(function(yt){if(yt.g==1)return _(yt,je.R(je.S),2);tt=yt.h,tt===!0&&(L.s=!0),yt.g=0})}}(me))),Se.graphOptionXref&&(Te={valueNumber:Se.type===1?k[Te]:0,valueBoolean:Se.type===0?k[Te]:!1,valueString:Se.type===2?k[Te]:""},Se=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),Se.graphOptionXref),Te),re.push(Se))))}(H.length!==0||re.length!==0)&&(this.s=!0,this.B=(this.B===void 0?[]:this.B).concat(re),this.A=(this.A===void 0?[]:this.A).concat(H))}};function ou(k){var D,L,H,re,me,ie,Se;return z(function(Te){switch(Te.g){case 1:if(!k.s)return Te.return();if(!k.A){Te.g=2;break}D=i(k.A),L=D.next();case 3:if(L.done){Te.g=5;break}return H=L.value,_(Te,H(),4);case 4:L=D.next(),Te.g=3;break;case 5:k.A=void 0;case 2:if(k.B){for(re=new k.h.GraphOptionChangeRequestList,me=i(k.B),ie=me.next();!ie.done;ie=me.next())Se=ie.value,re.push_back(Se);k.i.changeOptions(re),re.delete(),k.B=void 0}k.s=!1,Te.g=0}})}t.initialize=function(){var k=this;return z(function(D){return D.g==1?_(D,su(k),2):D.g!=3?_(D,Zi(k),3):_(D,ou(k),0)})};function ni(k,D){var L,H;return z(function(re){return D in k.H?re.return(k.H[D]):(L=k.locateFile(D,""),H=fetch(L).then(function(me){return me.arrayBuffer()}),k.H[D]=H,re.return(H))})}t.overrideFile=function(k,D){this.i?this.i.overrideFile(k,D):this.C[k]=D},t.clearOverriddenFiles=function(){this.C={},this.i&&this.i.clearOverriddenFiles()},t.send=function(k,D){var L=this,H,re,me,ie,Se,Te,je,tt,yt;return z(function(xt){switch(xt.g){case 1:return L.g.inputs?(H=1e3*(D??performance.now()),_(xt,L.D,2)):xt.return();case 2:return _(xt,L.initialize(),3);case 3:for(re=new L.h.PacketDataList,me=i(Object.keys(k)),ie=me.next();!ie.done;ie=me.next())if(Se=ie.value,Te=L.g.inputs[Se]){e:{var ut=k[Se];switch(Te.type){case"video":var Ct=L.o[Te.stream];if(Ct||(Ct=new rt(L.h,L.G),L.o[Te.stream]=Ct),Ct.l===0&&(Ct.l=Ct.h.createTexture()),typeof HTMLVideoElement<"u"&&ut instanceof HTMLVideoElement)var zt=ut.videoWidth,on=ut.videoHeight;else typeof HTMLImageElement<"u"&&ut instanceof HTMLImageElement?(zt=ut.naturalWidth,on=ut.naturalHeight):(zt=ut.width,on=ut.height);on={glName:Ct.l,width:zt,height:on},zt=Ct.g,zt.canvas.width=on.width,zt.canvas.height=on.height,zt.activeTexture(zt.TEXTURE0),Ct.h.bindTexture2d(Ct.l),zt.texImage2D(zt.TEXTURE_2D,0,zt.RGBA,zt.RGBA,zt.UNSIGNED_BYTE,ut),Ct.h.bindTexture2d(0),Ct=on;break e;case"detections":for(Ct=L.o[Te.stream],Ct||(Ct=new fa(L.h),L.o[Te.stream]=Ct),Ct.data||(Ct.data=new Ct.g.DetectionListData),Ct.data.reset(ut.length),on=0;on<ut.length;++on){zt=ut[on];var un=Ct.data,tr=un.setBoundingBox,Qr=on,Tr=zt.boundingBox,Vt=new _a;if(Pt(Vt,1,Tr.xCenter),Pt(Vt,2,Tr.yCenter),Pt(Vt,3,Tr.height),Pt(Vt,4,Tr.width),Pt(Vt,5,Tr.rotation),Pt(Vt,6,Tr.rectId),Tr=is(Vt,cs),tr.call(un,Qr,Tr),zt.landmarks)for(un=0;un<zt.landmarks.length;++un){Vt=zt.landmarks[un];var On=!!Vt.visibility;tr=Ct.data,Qr=tr.addNormalizedLandmark,Tr=on,Vt=Object.assign(Object.assign({},Vt),{visibility:On?Vt.visibility:0}),On=new us,Pt(On,1,Vt.x),Pt(On,2,Vt.y),Pt(On,3,Vt.z),Vt.visibility&&Pt(On,4,Vt.visibility),Vt=is(On,Os),Qr.call(tr,Tr,Vt)}if(zt.V)for(un=0;un<zt.V.length;++un)tr=Ct.data,Qr=tr.addClassification,Tr=on,Vt=zt.V[un],On=new Ir,Pt(On,2,Vt.ga),Vt.index&&Pt(On,1,Vt.index),Vt.label&&Pt(On,3,Vt.label),Vt.displayName&&Pt(On,4,Vt.displayName),Vt=is(On,ti),Qr.call(tr,Tr,Vt)}Ct=Ct.data;break e;default:Ct={}}}switch(je=Ct,tt=Te.stream,Te.type){case"video":re.pushTexture2d(Object.assign(Object.assign({},je),{stream:tt,timestamp:H}));break;case"detections":yt=je,yt.stream=tt,yt.timestamp=H,re.pushDetectionList(yt);break;default:throw Error("Unknown input config type: '"+Te.type+"'")}}return L.i.send(re),_(xt,L.D,4);case 4:re.delete(),xt.g=0}})};function ps(k,D,L){var H,re,me,ie,Se,Te,je,tt,yt,xt,ut,Ct,zt,on;return z(function(un){switch(un.g){case 1:if(!L)return un.return(D);for(H={},re=0,me=i(Object.keys(L)),ie=me.next();!ie.done;ie=me.next())Se=ie.value,Te=L[Se],typeof Te!="string"&&Te.type==="texture"&&D[Te.stream]!==void 0&&++re;1<re&&(k.I=!1),je=i(Object.keys(L)),ie=je.next();case 2:if(ie.done){un.g=4;break}if(tt=ie.value,yt=L[tt],typeof yt=="string")return zt=H,on=tt,_(un,iu(k,tt,D[yt]),14);if(xt=D[yt.stream],yt.type==="detection_list"){if(xt){for(var tr=xt.getRectList(),Qr=xt.getLandmarksList(),Tr=xt.getClassificationsList(),Vt=[],On=0;On<tr.size();++On){var hs=oo(tr.get(On),_a,cs);hs={boundingBox:{xCenter:ir(hs,1),yCenter:ir(hs,2),height:ir(hs,3),width:ir(hs,4),rotation:ir(hs,5,0),rectId:it(hs,6)},landmarks:Ie(oo(Qr.get(On),Ms,Ps),us,1).map(Ye),V:vt(oo(Tr.get(On),ls,jt))},Vt.push(hs)}tr=Vt}else tr=[];H[tt]=tr,un.g=7;break}if(yt.type==="proto_list"){if(xt){for(tr=Array(xt.size()),Qr=0;Qr<xt.size();Qr++)tr[Qr]=xt.get(Qr);xt.delete()}else tr=[];H[tt]=tr,un.g=7;break}if(xt===void 0){un.g=3;break}if(yt.type==="float_list"){H[tt]=xt,un.g=7;break}if(yt.type==="proto"){H[tt]=xt,un.g=7;break}if(yt.type!=="texture")throw Error("Unknown output config type: '"+yt.type+"'");return ut=k.u[tt],ut||(ut=new rt(k.h,k.G),k.u[tt]=ut),_(un,Xt(ut,xt,k.I),13);case 13:Ct=un.h,H[tt]=Ct;case 7:yt.transform&&H[tt]&&(H[tt]=yt.transform(H[tt])),un.g=3;break;case 14:zt[on]=un.h;case 3:ie=je.next(),un.g=2;break;case 4:return un.return(H)}})}function iu(k,D,L){var H;return z(function(re){return typeof L=="number"||L instanceof Uint8Array||L instanceof k.h.Uint8BlobList?re.return(L):L instanceof k.h.Texture2dDataOut?(H=k.u[D],H||(H=new rt(k.h,k.G),k.u[D]=H),re.return(Xt(H,L,k.I))):re.return(void 0)})}function Qi(k,D){for(var L=D.name||"$",H=[].concat(c(D.wants)),re=new k.h.StringList,me=i(D.wants),ie=me.next();!ie.done;ie=me.next())re.push_back(ie.value);me=k.h.PacketListener.implement({onResults:function(Se){for(var Te={},je=0;je<D.wants.length;++je)Te[H[je]]=Se.get(je);var tt=k.listeners[L];tt&&(k.D=ps(k,Te,D.outs).then(function(yt){yt=tt(yt);for(var xt=0;xt<D.wants.length;++xt){var ut=Te[H[xt]];typeof ut=="object"&&ut.hasOwnProperty&&ut.hasOwnProperty("delete")&&ut.delete()}yt&&(k.D=yt)}))}}),k.i.attachMultiListener(re,me),re.delete()}t.onResults=function(k,D){this.listeners[D||"$"]=k},N("Solution",uo),N("OptionType",{BOOL:0,NUMBER:1,ia:2,0:"BOOL",1:"NUMBER",2:"STRING"});function lu(k){var D=this;k=k||{};var L={url:"face_detection_short.binarypb"},H={type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}};this.g=new uo({locateFile:k.locateFile,files:[{data:!0,url:"face_detection_short.binarypb"},{data:!0,url:"face_detection_short_range.tflite"},{simd:!0,url:"face_detection_solution_simd_wasm_bin.js"},{simd:!1,url:"face_detection_solution_wasm_bin.js"}],graph:L,listeners:[{wants:["detections","image_transformed"],outs:{image:"image_transformed",detections:{type:"detection_list",stream:"detections"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},model:{type:0,onChange:function(re){var me,ie,Se,Te,je,tt;return z(function(yt){switch(yt.g){case 1:me=re==="short"?["face_detection_short_range.tflite"]:["face_detection_full_range_sparse.tflite"],ie=i(me),Se=ie.next();case 2:if(Se.done){yt.g=4;break}return Te=Se.value,je="third_party/mediapipe/modules/face_detection/"+Te,_(yt,ni(D.g,Te),5);case 5:tt=yt.h,D.g.overrideFile(je,tt),Se=ie.next(),yt.g=2;break;case 4:return L.url=re==="short"?"face_detection_short.binarypb":"face_detection_full.binarypb",H.graphOptionXref.calculatorName=re==="short"?"facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator":"facedetectionfullrangegpu__facedetectionfullrangecommon__TensorsToDetectionsCalculator",yt.return(!0)}})}},minDetectionConfidence:H}})}t=lu.prototype,t.close=function(){return this.g.close(),Promise.resolve()},t.onResults=function(k){this.g.onResults(k)},t.initialize=function(){var k=this;return z(function(D){return _(D,k.g.initialize(),0)})},t.reset=function(){this.g.reset()},t.send=function(k){var D=this;return z(function(L){return _(L,D.g.send(k),0)})},t.setOptions=function(k){this.g.setOptions(k)},N("FaceDetection",lu),N("FACEDETECTION_LIPS",Cr),N("FACEDETECTION_LEFT_EYE",Er),N("FACEDETECTION_LEFT_EYEBROW",da),N("FACEDETECTION_RIGHT_EYE",ee),N("FACEDETECTION_RIGHT_EYEBROW",ve),N("FACEDETECTION_FACE_OVAL",Be),N("FACEDETECTION_CONTOURS",pt),N("FACEDETECTION_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),N("VERSION","0.4.1646425229")}).call(Vg)),Vg}var M8=O8();/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P8=At();P8.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * =============================================================================
 */var Fa;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Fa||(Fa={}));var kw;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(kw||(kw={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B8={};function Xk(t){return B8[t]}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function A(t,e,n,r,a){const s=e.inputParams[t];if(s&&s.inputIndexStart!==void 0){const i=s.inputIndexStart,c=s.inputIndexEnd===0?void 0:s.inputIndexEnd===void 0?i+1:s.inputIndexEnd,d=i<0?e.inputNames.length+i:i;if(s.type==="tensor")return pr(e.inputNames[d],n,r,a);if(s.type==="tensors"){const h=e.inputs.slice(i,c);return e.inputNames.slice(i,c).filter((y,v)=>{var b;return((b=h[v])===null||b===void 0?void 0:b.op)!=="NoOp"}).map(y=>pr(y,n,r,a))}const l=pr(e.inputNames[d],n,r,a),p=l.dataSync();return s.type==="number"?p[0]:Oa(l.shape,p)}const o=e.attrParams[t];return o&&o.value}function pr(t,e,n,r){const[a,s]=oa(t,n);if(r!=null){const i=r.getHashTableHandleByName(a);if(i!=null)return i}const o=n.currentContextIds.find(i=>!!e[kf(a,i)]);return o!==void 0?e[kf(a,o)][s]:void 0}function _w(t,e,n){return e[kf(t,n.currentContextId)]}function Xs(t,e){const[n,r,a]=oa(t,e);return[kf(n,e&&e.currentContextId),r,a]}function kf(t,e){return e?`${t}-${e}`:t}function oa(t,e){if(t==="")return["",0,void 0];const n=e!=null&&e.parseNodeNameCache!=null;if(n){const s=e.parseNodeNameCache.get(t);if(s!=null)return s}const r=t.split(":");let a;if(r.length===1)a=[t,0,void 0];else{const s=r[0],o=r.length===3?r[1]:void 0,i=Number(r[r.length-1]);a=[s,i,o]}return n&&e.parseNodeNameCache.set(t,a),a}function ef(t,e,n){let r=A("pad",t,e,n);if(r==="explicit"){r=A("explicitPaddings",t,e,n);const a=[[0,0],[0,0],[0,0],[0,0]];for(let s=0;s<4;s++)a[s][0]=r[s*2],a[s][1]=r[s*2+1];return a}return r}function Ys(t){return t.kept?t:Fo(t)}/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const z8=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],L8=Object.freeze(Object.defineProperty({__proto__:null,json:z8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const W8=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],j8=Object.freeze(Object.defineProperty({__proto__:null,json:W8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const V8=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],U8=Object.freeze(Object.defineProperty({__proto__:null,json:V8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H8=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],G8=Object.freeze(Object.defineProperty({__proto__:null,json:H8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const q8=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],K8=Object.freeze(Object.defineProperty({__proto__:null,json:q8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const X8=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],Y8=Object.freeze(Object.defineProperty({__proto__:null,json:X8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Z8=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Q8=Object.freeze(Object.defineProperty({__proto__:null,json:Z8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J8=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],eP=Object.freeze(Object.defineProperty({__proto__:null,json:J8},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tP=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],nP=Object.freeze(Object.defineProperty({__proto__:null,json:tP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rP=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],aP=Object.freeze(Object.defineProperty({__proto__:null,json:rP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sP=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],oP=Object.freeze(Object.defineProperty({__proto__:null,json:sP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iP=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],lP=Object.freeze(Object.defineProperty({__proto__:null,json:iP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uP=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],cP=Object.freeze(Object.defineProperty({__proto__:null,json:uP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dP=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],fP=Object.freeze(Object.defineProperty({__proto__:null,json:dP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pP=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],hP=Object.freeze(Object.defineProperty({__proto__:null,json:pP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mP=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],gP=Object.freeze(Object.defineProperty({__proto__:null,json:mP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vP=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],yP=Object.freeze(Object.defineProperty({__proto__:null,json:vP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bP=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],wP=Object.freeze(Object.defineProperty({__proto__:null,json:bP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SP=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],xP=Object.freeze(Object.defineProperty({__proto__:null,json:SP},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Iw{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[L8,j8,U8,G8,K8,Y8,Q8,eP,nP,aP,oP,lP,cP,fP,hP,gP,yP,wP,xP],n=[].concat(...e.map(r=>r.json));this.opMappers=n.reduce((r,a)=>(r[a.tfOpName]=a,r),{})}transformGraph(e,n={}){const r=e.node,a=[],s=[],o=[],i=r.reduce((v,b)=>(v[b.name]=this.mapNode(b),b.op.startsWith("Placeholder")?a.push(v[b.name]):b.op==="Const"?s.push(v[b.name]):(b.input==null||b.input.length===0)&&o.push(v[b.name]),v),{});let c=[];const d=[];let l={},p={};n!=null&&(l=this.mapSignatureEntries(n.inputs),p=this.mapSignatureEntries(n.outputs));const h=Object.keys(i);h.forEach(v=>{const b=i[v];b.inputNames.forEach((w,x)=>{const[_,,C]=Xs(w),T=i[_];if(T.outputs!=null){const R=T.outputs.indexOf(C);if(R!==-1){const M=`${_}:${R}`;b.inputNames[x]=M}}b.inputs.push(T),T.children.push(b)})}),Object.keys(p).length===0?h.forEach(v=>{const b=i[v];b.children.length===0&&d.push(b)}):Object.keys(p).forEach(v=>{const[b]=Xs(v),w=i[b];w!=null&&(w.signatureKey=p[v],d.push(w))}),Object.keys(l).length>0?Object.keys(l).forEach(v=>{const[b]=Xs(v),w=i[b];w&&(w.signatureKey=l[v],c.push(w))}):c=a;let m={};e.library!=null&&e.library.function!=null&&(m=e.library.function.reduce((v,b)=>(v[b.signature.name]=this.mapFunction(b),v),{}));const y={nodes:i,inputs:c,outputs:d,weights:s,placeholders:a,signature:n,functions:m};return o.length>0&&(y.initNodes=o),y}mapSignatureEntries(e){return Object.keys(e||{}).reduce((n,r)=>(n[e[r].name]=r,n),{})}mapNode(e){const n=Xk(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:n.category,inputNames:(e.input||[]).map(a=>a.startsWith("^")?a.slice(1):a),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:n.outputs};return n.inputs!=null&&(r.inputParams=n.inputs.reduce((a,s)=>(a[s.name]={type:s.type,inputIndexStart:s.start,inputIndexEnd:s.end},a),{})),n.attrs!=null&&(r.attrParams=n.attrs.reduce((a,s)=>{const o=s.type;let i;switch(s.type){case"string":i=ey(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=ey(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"string[]":i=iy(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=iy(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number":i=ny(e.attr,s.tfName,s.defaultValue||0),i===void 0&&s.tfDeprecatedName&&(i=ny(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"number[]":i=oy(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=oy(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool":i=ty(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=ty(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"bool[]":i=uy(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=uy(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape":i=sy(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=sy(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"shape[]":i=ly(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=ly(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype":i=ry(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=ry(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"dtype[]":i=ay(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=ay(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"func":i=Cw(e.attr,s.tfName,s.defaultValue),i===void 0&&s.tfDeprecatedName&&(i=Cw(e.attr,s.tfDeprecatedName,s.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${s.type} for op: ${e.op}`)}return a[s.name]={value:i,type:o},a},{})),r}mapFunction(e){const n=e.nodeDef,r=[],a=[];let s={};n!=null&&(s=n.reduce((p,h)=>(p[h.name]=this.mapNode(h),h.op==="Const"&&a.push(p[h.name]),p),{}));const o=[],i=[];e.signature.inputArg.forEach(p=>{const[h]=Xs(p.name),m={name:h,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:V0(p.type),type:"dtype"}},children:[]};m.signatureKey=p.name,o.push(m),s[h]=m}),Object.keys(s).forEach(p=>{const h=s[p];h.inputNames.forEach((m,y)=>{const[v,,b]=Xs(m),w=s[v];if(w.outputs!=null){const x=w.outputs.indexOf(b);if(x!==-1){const _=`${v}:${x}`;h.inputNames[y]=_}}h.inputs.push(w),w.children.push(h)})});const d=e.ret;e.signature.outputArg.forEach(p=>{const[h,m]=Xs(d[p.name]),y=s[h];y!=null&&(y.defaultOutput=m,i.push(y))});const l=this.mapArgsToSignature(e);return{nodes:s,inputs:o,outputs:i,weights:a,placeholders:r,signature:l}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r),n),{}),outputs:e.signature.outputArg.reduce((n,r)=>(n[r.name]=this.mapArgToTensorInfo(r,e.ret),n),{})}}mapArgToTensorInfo(e,n){let r=e.name;return n!=null&&(r=n[r]),{name:r,dtype:e.type}}}function kP(t){const e=At().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function Yk(t,e){const n=Array.isArray(t)?String.fromCharCode.apply(null,t):kP(t);return e?n:n.toLowerCase()}function ey(t,e,n,r=!1){const a=t[e];return a!=null?Yk(a.s,r):n}function ty(t,e,n){const r=t[e];return r?r.b:n}function ny(t,e,n){const r=t[e]||{},a=r.i!=null?r.i:r.f!=null?r.f:n;return typeof a=="number"?a:parseInt(a,10)}function V0(t){switch(typeof t=="string"&&(t=Fa[t]),t){case Fa.DT_FLOAT:case Fa.DT_HALF:return"float32";case Fa.DT_INT32:case Fa.DT_INT64:case Fa.DT_INT8:case Fa.DT_UINT8:return"int32";case Fa.DT_BOOL:return"bool";case Fa.DT_DOUBLE:return"float32";case Fa.DT_STRING:return"string";default:return null}}function Cw(t,e,n){const r=t[e];return r&&r.func?r.func.name:n}function ry(t,e,n){const r=t[e];return r&&r.type?V0(r.type):n}function ay(t,e,n){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(a=>V0(a)):n}function Zk(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function sy(t,e,n){const r=t[e];return r&&r.shape?Zk(r.shape):n}function oy(t,e,n){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(a=>typeof a=="number"?a:parseInt(a,10)):n}function iy(t,e,n,r=!1){const a=t[e];return a&&a.list&&a.list.s?a.list.s.map(s=>Yk(s,r)):n}function ly(t,e,n){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(a=>Zk(a)):n}function uy(t,e,n){const r=t[e];return r&&r.list&&r.list.b?r.list.b:n}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _P{constructor(e,n,r){this.node=e,this.tensorMap=n,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(a=>this.getInput(a)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((a,s)=>(a[s]=this.getAttr(s),a),{}))}getInput(e){return pr(e,this.tensorMap,this.context)}getAttr(e,n){const r=this.node.rawAttrs[e];if(r.tensor!=null)return pr(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return ny(this.node.rawAttrs,e,n);if(r.s!=null)return ey(this.node.rawAttrs,e,n);if(r.b!=null)return ty(this.node.rawAttrs,e,n);if(r.shape!=null)return sy(this.node.rawAttrs,e,n);if(r.type!=null)return ry(this.node.rawAttrs,e,n);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return oy(this.node.rawAttrs,e,n);if(r.list.s!=null)return iy(this.node.rawAttrs,e,n);if(r.list.shape!=null)return ly(this.node.rawAttrs,e,n);if(r.list.b!=null)return uy(this.node.rawAttrs,e,n);if(r.list.type!=null)return ay(this.node.rawAttrs,e,n)}return n}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gr=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:m3,abs:va,acos:OA,acosh:PA,add:ht,addN:zA,all:WA,any:VA,argMax:HA,argMin:qA,asin:XA,asinh:ZA,atan:JA,atan2:t6,atanh:r6,avgPool:D3,avgPool3d:d6,basicLSTMCell:y6,batchNorm:$h,batchNorm2d:k6,batchNorm3d:I6,batchNorm4d:E6,batchToSpaceND:F3,bincount:R3,bitwiseAnd:A6,booleanMaskAsync:y$,broadcastArgs:F6,broadcastTo:Zu,buffer:Ot,cast:Cn,ceil:O6,clipByValue:$3,clone:Fo,complex:Oo,concat:hr,concat1d:B6,concat2d:L6,concat3d:j6,concat4d:U6,conv1d:q6,conv2d:Oh,conv2dTranspose:Y6,conv3d:Q6,conv3dTranspose:nD,cos:aD,cosh:oD,cosineWindow:O0,cumprod:lD,cumsum:cD,denseBincount:fD,depthToSpace:hD,depthwiseConv2d:T0,diag:vD,dilation2d:bD,div:Rt,divNoNan:ID,dot:ED,dropout:D$,einsum:Cl,elu:P3,enclosingPowerOfTwo:dk,ensureShape:DD,equal:M3,erf:RD,euclideanNorm:VD,exp:Js,expandDims:bs,expm1:qD,eye:L3,fft:R0,fill:Ac,floor:W3,floorDiv:N3,fused:G$,gather:j3,gatherND:T$,greater:Bh,greaterEqual:V3,ifft:Sf,imag:zh,image:jh,inTopKAsync:R$,irfft:ak,isFinite:nF,isInf:aF,isNaN:oF,leakyRelu:U3,less:Yv,lessEqual:N0,linalg:IM,linspace:cF,localResponseNormalization:fF,log:hc,log1p:H3,logSigmoid:bF,logSoftmax:xF,logSumExp:q3,logicalAnd:yf,logicalNot:K3,logicalOr:X3,logicalXor:TF,losses:CM,lowerBound:AF,matMul:ln,max:Fl,maxPool:Y3,maxPool3d:RF,maxPoolWithArgmax:OF,maximum:Z3,mean:bf,meshgrid:BF,min:Xv,minimum:wf,mirrorPad:WF,mod:VF,moments:HF,movingAverage:S$,mul:Ge,multiRNNCell:qF,multinomial:XF,neg:ks,norm:Ph,notEqual:Q3,oneHot:QF,ones:ki,onesLike:e5,op:se,outerProduct:n5,pad:Dc,pad1d:s5,pad2d:i5,pad3d:u5,pad4d:d5,pool:g5,pow:pc,prelu:ek,print:E3,prod:b5,raggedGather:S5,raggedRange:k5,raggedTensorToTensor:I5,rand:E5,randomGamma:K5,randomNormal:tk,randomStandardNormal:Z5,randomUniform:F0,randomUniformInt:eR,range:mc,real:gc,reciprocal:rR,relu:Wh,relu6:nk,reshape:De,reverse:Ri,reverse1d:lR,reverse2d:cR,reverse3d:fR,reverse4d:hR,rfft:$0,round:rk,rsqrt:vR,scalar:Wt,scatterND:k$,searchSorted:A0,selu:bR,separableConv2d:SR,setdiff1dAsync:kR,sigmoid:Ii,sign:IR,signal:_M,sin:ER,sinh:NR,slice:Tt,slice1d:DR,slice2d:RR,slice3d:OR,slice4d:PR,softmax:zR,softplus:G3,spaceToBatchND:J3,sparse:EM,sparseToDense:C$,spectral:kM,split:vc,sqrt:Qs,square:es,squaredDifference:sk,squeeze:fr,stack:to,step:ok,stridedSlice:YR,string:TM,sub:Nt,sum:bn,tan:QR,tanh:Kv,tensor:Ja,tensor1d:Sr,tensor2d:Ci,tensor3d:ik,tensor4d:JR,tensor5d:e$,tensor6d:t$,tensorScatterUpdate:a$,tile:Qu,topk:o$,transpose:Zv,truncatedNormal:l$,unique:c$,unsortedSegmentSum:f$,unstack:Wi,upperBound:h$,variable:m$,where:Ro,whereAsync:ck,zeros:zl,zerosLike:ba},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IP=(t,e,n,r=gr)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(A("a",t,e,n),A("b",t,e,n))];case"AddN":return[r.addN(A("tensors",t,e,n))];case"FloorMod":case"Mod":return[r.mod(A("a",t,e,n),A("b",t,e,n))];case"Mul":return[r.mul(A("a",t,e,n),A("b",t,e,n))];case"RealDiv":case"Div":return[r.div(A("a",t,e,n),A("b",t,e,n))];case"DivNoNan":return[r.divNoNan(A("a",t,e,n),A("b",t,e,n))];case"FloorDiv":return[r.floorDiv(A("a",t,e,n),A("b",t,e,n))];case"Sub":return[r.sub(A("a",t,e,n),A("b",t,e,n))];case"Minimum":return[r.minimum(A("a",t,e,n),A("b",t,e,n))];case"Maximum":return[r.maximum(A("a",t,e,n),A("b",t,e,n))];case"Pow":return[r.pow(A("a",t,e,n),A("b",t,e,n))];case"SquaredDifference":return[r.squaredDifference(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CP=(t,e,n,r=gr)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(A("x",t,e,n))];case"Acos":return[r.acos(A("x",t,e,n))];case"Acosh":return[r.acosh(A("x",t,e,n))];case"Asin":return[r.asin(A("x",t,e,n))];case"Asinh":return[r.asinh(A("x",t,e,n))];case"Atan":return[r.atan(A("x",t,e,n))];case"Atan2":return[r.atan2(A("x",t,e,n),A("y",t,e,n))];case"Atanh":return[r.atanh(A("x",t,e,n))];case"Ceil":return[r.ceil(A("x",t,e,n))];case"Complex":return[r.complex(A("real",t,e,n),A("imag",t,e,n))];case"Cos":return[r.cos(A("x",t,e,n))];case"Cosh":return[r.cosh(A("x",t,e,n))];case"Elu":return[r.elu(A("x",t,e,n))];case"Erf":return[r.erf(A("x",t,e,n))];case"Exp":return[r.exp(A("x",t,e,n))];case"Expm1":return[r.expm1(A("x",t,e,n))];case"Floor":return[r.floor(A("x",t,e,n))];case"Log":return[r.log(A("x",t,e,n))];case"Log1p":return[r.log1p(A("x",t,e,n))];case"Imag":return[r.imag(A("x",t,e,n))];case"Neg":return[r.neg(A("x",t,e,n))];case"Reciprocal":return[r.reciprocal(A("x",t,e,n))];case"Real":return[r.real(A("x",t,e,n))];case"Relu":return[r.relu(A("x",t,e,n))];case"Round":return[r.round(A("x",t,e,n))];case"Selu":return[r.selu(A("x",t,e,n))];case"Sigmoid":return[r.sigmoid(A("x",t,e,n))];case"Sin":return[r.sin(A("x",t,e,n))];case"Sign":return[r.sign(A("x",t,e,n))];case"Sinh":return[r.sinh(A("x",t,e,n))];case"Softplus":return[r.softplus(A("x",t,e,n))];case"Sqrt":return[r.sqrt(A("x",t,e,n))];case"Square":return[r.square(A("x",t,e,n))];case"Tanh":return[r.tanh(A("x",t,e,n))];case"Tan":return[r.tan(A("x",t,e,n))];case"ClipByValue":return[r.clipByValue(A("x",t,e,n),A("clipValueMin",t,e,n),A("clipValueMax",t,e,n))];case"Relu6":return[r.relu6(A("x",t,e,n))];case"Rsqrt":return[r.rsqrt(pr(t.inputNames[0],e,n))];case"LeakyRelu":return[r.leakyRelu(A("x",t,e,n),A("alpha",t,e,n))];case"Prelu":return[r.prelu(A("x",t,e,n),A("alpha",t,e,n))];case"IsNan":return[r.isNaN(pr(t.inputNames[0],e,n))];case"IsInf":return[r.isInf(pr(t.inputNames[0],e,n))];case"IsFinite":return[r.isFinite(pr(t.inputNames[0],e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ra(t,e,n=""){if(!(typeof t=="number"||typeof e=="number")){X(t.length===e.length,()=>n+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const a=t[r],s=e[r];X(a<0||s<0||a===s,()=>n+` Shapes ${t} and ${e} must match`)}}}function Ew(t){return!(typeof t=="number"||t.some(e=>e<0))}function Bu(t,e,n){let r=cy(t,n);const a=!Ew(r);if(a&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(a&&e.forEach(s=>{r=cy(s.shape,r)}),!Ew(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function cy(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const n=[];for(let r=0;r<t.length;++r){const a=t[r],s=e[r];if(a>=0&&s>=0&&a!==s)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);n[r]=a>=0?a:s}return n}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class EP{constructor(e,n,r,a,s,o,i){this.name=e,this.dtype=n,this.maxSize=r,this.elementShape=a,this.identicalElementShapes=s,this.dynamicSize=o,this.clearAfterRead=i,this.tensors=[],this.closed_=!1,this.idTensor=Wt(0),Ss(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.tensor.id))&&n.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const n=this.tensors[e];if(n.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(n.cleared=!0),n.read=!0,n.tensor}readMany(e){return e.map(n=>this.read(n))}write(e,n){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(n.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${n.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=n.shape),Ra(this.elementShape,n.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=n,Ss(n),r.written=!0,this.tensors[e]=r}writeMany(e,n){if(e.length!==n.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${n.length}.`);e.forEach((r,a)=>this.write(r,n[a]))}gather(e,n){if(n&&n!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${n}`);if(e)e=e.slice(0,this.size());else{e=[];for(let a=0;a<this.size();a++)e.push(a)}if(e.length===0)return Ja([],[0].concat(this.elementShape));const r=this.readMany(e);return Ra(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),to(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Ja([],[0].concat(this.elementShape));const n=[];for(let a=0;a<this.size();a++)n.push(a);const r=this.readMany(n);return Ra(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),hr(r,0)}scatter(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);if(e.length!==n.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${n.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,Wi(n,0))}split(e,n){if(n.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${n.dtype}`);let r=0;const a=e.map(c=>(r+=c,r));if(r!==n.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${n.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const s=r===0?0:n.size/r,o=[];$t(()=>{n=De(n,[1,r,s]);for(let c=0;c<e.length;++c){const l=[0,c===0?0:a[c-1],0],p=[1,e[c],s];o[c]=De(Tt(n,l,p),this.elementShape)}return o});const i=[];for(let c=0;c<e.length;c++)i[c]=c;this.writeMany(i,o)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class Oi{get id(){return this.idTensor.id}constructor(e,n,r,a=-1){this.tensors=e,this.elementShape=n,this.elementDtype=r,e!=null&&e.forEach(s=>{if(r!==s.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${s.dtype}`);Ra(n,s.shape,"TensorList shape mismatch: "),Ss(s)}),this.idTensor=Wt(0),this.maxNumElements=a,Ss(this.idTensor)}copy(){return new Oi([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(n=>{(e==null||!e.has(n.id))&&n.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,n,r=-1){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Ra(e,this.elementShape,"TensorList shape mismatch: ");const a=Bu(this.elementShape,this.tensors,e);return $t(()=>{const s=this.tensors.map(o=>De(o,a));return to(s,0)})}popBack(e,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Bu(this.elementShape,this.tensors,e),a=this.tensors.pop();return a.kept=!1,Ra(a.shape,e,"TensorList shape mismatch: "),De(a,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Ra(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");Ss(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const n=new Oi([],this.elementShape,this.elementDtype,this.maxNumElements);n.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)n.tensors[r]=this.tensors[r];return n}getItem(e,n,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Ra(this.tensors[e].shape,n,"TensorList shape mismatch: ");const a=Bu(this.elementShape,this.tensors,n);return De(this.tensors[e],a)}setItem(e,n){if(n.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Ra(this.elementShape,n.shape,"TensorList shape mismatch: "),Ss(n),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=n}gather(e,n,r){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);Ra(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const a=Bu(this.elementShape,this.tensors,r);return e.length===0?Ja([],[0].concat(a)):$t(()=>{const s=e.map(o=>De(this.tensors[o],a));return to(s,0)})}concat(e,n){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Ra(this.elementShape,n,"TensorList shape mismatch: ");const r=Bu(this.elementShape,this.tensors,n);return this.size()===0?Ja([],[0].concat(r)):$t(()=>{const a=this.tensors.map(s=>De(s,r));return hr(a,0)})}}function TP(t,e,n){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==n)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${n}`);const a=t.shape.slice(1);Ra(a,e,"TensorList shape mismatch: ");const s=Wi(t);return new Oi(s,e,r)}function NP(t,e,n,r){return new Oi([],t,e,r)}function AP(t,e,n,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const a=Math.max(...e);if(r!=null&&r!==-1&&a>=r)throw new Error(`Max index must be < array size (${a}  vs. ${r})`);const s=new Oi([],n,t.dtype,r),o=Wi(t,0);return e.forEach((i,c)=>{s.setItem(i,o[c])}),s}function DP(t,e,n){let r=0;const a=e.map(l=>(r+=l,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const s=t.shape.slice(1),o=cy(s,n),i=r===0?0:t.size/r,c=$t(()=>{const l=[];t=De(t,[1,r,i]);for(let p=0;p<e.length;++p){const m=[0,p===0?0:a[p-1],0],y=[1,e[p],i];l[p]=De(Tt(t,m,y),o)}return t.dispose(),l}),d=new Oi([],n,t.dtype,e.length);for(let l=0;l<c.length;l++)d.setItem(l,c[l]);return d}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FP=async(t,e,n)=>{switch(t.op){case"If":case"StatelessIf":{const r=A("thenBranch",t,e,n),a=A("elseBranch",t,e,n),s=A("cond",t,e,n),o=A("args",t,e,n);return(await s.data())[0]?n.functionMap[r].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap):n.functionMap[a].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=A("body",t,e,n),a=A("cond",t,e,n),s=A("args",t,e,n),o=await n.functionMap[a].executeFunctionAsync(s,n.tensorArrayMap,n.tensorListMap),i=s.map(l=>l.id);let c=await o[0].data();o.forEach(l=>{!l.kept&&i.indexOf(l.id)===-1&&l.dispose()});let d=s;for(;c[0];){const l=d;d=await n.functionMap[r].executeFunctionAsync(d,n.tensorArrayMap,n.tensorListMap);const p=d.map(m=>m.id);l.forEach(m=>{!m.kept&&i.indexOf(m.id)===-1&&p.indexOf(m.id)===-1&&m.dispose()});const h=await n.functionMap[a].executeFunctionAsync(d,n.tensorArrayMap,n.tensorListMap);c=await h[0].data(),h.forEach(m=>{!m.kept&&i.indexOf(m.id)===-1&&p.indexOf(m.id)===-1&&m.dispose()})}return d}case"LoopCond":{const r=A("pred",t,e,n);return[Ys(r)]}case"Switch":{const r=A("pred",t,e,n);let a=A("data",t,e,n);return a.kept||(a=Ys(a)),(await r.data())[0]?[void 0,a]:[a,void 0]}case"Merge":{const r=t.inputNames.find(a=>pr(a,e,n)!==void 0);if(r){const a=pr(r,e,n);return[Ys(a)]}return}case"Enter":{const r=A("frameName",t,e,n),a=A("tensor",t,e,n);return n.enterFrame(r),[Ys(a)]}case"Exit":{const r=A("tensor",t,e,n);return n.exitFrame(),[Ys(r)]}case"NextIteration":{const r=A("tensor",t,e,n);return n.nextIteration(),[Ys(r)]}case"TensorArrayV3":{const r=A("size",t,e,n),a=A("dtype",t,e,n),s=A("elementShape",t,e,n),o=A("dynamicSize",t,e,n),i=A("clearAfterRead",t,e,n),c=A("identicalElementShapes",t,e,n),d=A("name",t,e,n),l=new EP(d,a,r,s,c,o,i);return n.addTensorArray(l),[l.idTensor,Wt(1)]}case"TensorArrayWriteV3":{const r=A("tensorArrayId",t,e,n),a=A("index",t,e,n),s=A("tensor",t,e,n),o=n.getTensorArray(r.id);return o.write(a,s),[o.idTensor]}case"TensorArrayReadV3":{const r=A("tensorArrayId",t,e,n),a=A("index",t,e,n);return[n.getTensorArray(r.id).read(a)]}case"TensorArrayGatherV3":{const r=A("tensorArrayId",t,e,n),a=A("indices",t,e,n),s=A("dtype",t,e,n);return[n.getTensorArray(r.id).gather(a,s)]}case"TensorArrayScatterV3":{const r=A("tensorArrayId",t,e,n),a=A("indices",t,e,n),s=A("tensor",t,e,n),o=n.getTensorArray(r.id);return o.scatter(a,s),[o.idTensor]}case"TensorArrayConcatV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id),s=A("dtype",t,e,n);return[a.concat(s)]}case"TensorArraySplitV3":{const r=A("tensorArrayId",t,e,n),a=A("tensor",t,e,n),s=A("lengths",t,e,n),o=n.getTensorArray(r.id);return o.split(s,a),[o.idTensor]}case"TensorArraySizeV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return[Wt(a.size(),"int32")]}case"TensorArrayCloseV3":{const r=A("tensorArrayId",t,e,n),a=n.getTensorArray(r.id);return a.clearAndClose(),[a.idTensor]}case"TensorListSetItem":{const r=A("tensorListId",t,e,n),a=A("index",t,e,n),s=A("tensor",t,e,n),o=n.getTensorList(r.id);return o.setItem(a,s),[o.idTensor]}case"TensorListGetItem":{const r=A("tensorListId",t,e,n),a=A("index",t,e,n),s=A("elementShape",t,e,n),o=A("elementDType",t,e,n);return[n.getTensorList(r.id).getItem(a,s,o)]}case"TensorListScatterV2":case"TensorListScatter":{const r=A("indices",t,e,n),a=A("tensor",t,e,n),s=A("elementShape",t,e,n),o=A("numElements",t,e,n),i=AP(a,r,s,o);return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=A("elementShape",t,e,n),a=A("elementDType",t,e,n);let s;t.op==="TensorListReserve"?s="numElements":s="maxNumElements";const o=A(s,t,e,n),i=t.op==="TensorListReserve"?-1:o,c=NP(r,a,o,i);return n.addTensorList(c),[c.idTensor]}case"TensorListGather":{const r=A("tensorListId",t,e,n),a=A("indices",t,e,n),s=A("elementShape",t,e,n),o=A("elementDType",t,e,n);return[n.getTensorList(r.id).gather(a,o,s)]}case"TensorListStack":{const r=A("tensorListId",t,e,n),a=A("elementShape",t,e,n),s=A("elementDType",t,e,n),o=A("numElements",t,e,n);return[n.getTensorList(r.id).stack(a,s,o)]}case"TensorListFromTensor":{const r=A("tensor",t,e,n),a=A("elementShape",t,e,n),s=A("elementDType",t,e,n),o=TP(r,a,s);return n.addTensorList(o),[o.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=A("tensorListId",t,e,n),a=n.getTensorList(r.id),s=A("dtype",t,e,n),o=A("elementShape",t,e,n);return[a.concat(s,o)]}case"TensorListPushBack":{const r=A("tensorListId",t,e,n),a=A("tensor",t,e,n),s=n.getTensorList(r.id);return s.pushBack(a),[s.idTensor]}case"TensorListPopBack":{const r=A("tensorListId",t,e,n),a=A("elementShape",t,e,n),s=A("elementDType",t,e,n);return[n.getTensorList(r.id).popBack(a,s)]}case"TensorListSplit":{const r=A("tensor",t,e,n),a=A("elementShape",t,e,n),s=A("lengths",t,e,n),o=DP(r,s,a);return n.addTensorList(o),[o.idTensor]}case"TensorListLength":{const r=A("tensorListId",t,e,n),a=n.getTensorList(r.id);return[Wt(a.size(),"int32")]}case"TensorListResize":{const r=A("tensorListId",t,e,n),a=A("size",t,e,n),o=n.getTensorList(r.id).resize(a);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tw(t,e,n){const[r,a]=A("fusedOps",t,e,n),s=r==="biasadd",o=!s,i=a==="prelu",c=r==="fusedbatchnorm",d=A("numArgs",t,e,n);if(s){if(i&&d!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&s&&d!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(c)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const l=A("strides",t,e,n),p=ef(t,e,n),h=A("dataFormat",t,e,n).toUpperCase(),m=A("dilations",t,e,n);let[y,v]=A("args",t,e,n);o&&(v=y,y=void 0);const b=A("leakyreluAlpha",t,e,n);return{stride:l,pad:p,dataFormat:h,dilations:m,biasArg:y,preluArg:v,activationFunc:a,leakyreluAlpha:b}}const RP=(t,e,n,r=gr)=>{switch(t.op){case"Conv1D":{const a=A("stride",t,e,n),s=A("pad",t,e,n),o=A("dataFormat",t,e,n).toUpperCase(),i=A("dilation",t,e,n);return[r.conv1d(A("x",t,e,n),A("filter",t,e,n),a,s,o,i)]}case"Conv2D":{const a=A("strides",t,e,n),s=ef(t,e,n),o=A("dataFormat",t,e,n).toUpperCase(),i=A("dilations",t,e,n);return[r.conv2d(A("x",t,e,n),A("filter",t,e,n),[a[1],a[2]],s,o,[i[1],i[2]])]}case"_FusedConv2D":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:c,preluArg:d,activationFunc:l,leakyreluAlpha:p}=Tw(t,e,n);return[r.fused.conv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:c,activation:l,preluActivationWeights:d,leakyreluAlpha:p})]}case"FusedDepthwiseConv2dNative":{const{stride:a,pad:s,dataFormat:o,dilations:i,biasArg:c,preluArg:d,activationFunc:l,leakyreluAlpha:p}=Tw(t,e,n);return[r.fused.depthwiseConv2d({x:A("x",t,e,n),filter:A("filter",t,e,n),strides:[a[1],a[2]],pad:s,dataFormat:o,dilations:[i[1],i[2]],bias:c,activation:l,preluActivationWeights:d,leakyreluAlpha:p})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const a=A("outputShape",t,e,n),s=A("strides",t,e,n),o=ef(t,e,n);return[r.conv2dTranspose(A("x",t,e,n),A("filter",t,e,n),a,[s[1],s[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const a=A("strides",t,e,n),s=ef(t,e,n),o=A("dilations",t,e,n),i=A("dataFormat",t,e,n).toUpperCase();return[r.depthwiseConv2d(A("input",t,e,n),A("filter",t,e,n),[a[1],a[2]],s,i,[o[1],o[2]])]}case"Conv3D":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("dataFormat",t,e,n).toUpperCase(),i=A("dilations",t,e,n);return[r.conv3d(A("x",t,e,n),A("filter",t,e,n),[a[1],a[2],a[3]],s,o,[i[1],i[2],i[3]])]}case"AvgPool":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("kernelSize",t,e,n);return[r.avgPool(A("x",t,e,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPool":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("kernelSize",t,e,n);return[r.maxPool(A("x",t,e,n),[o[1],o[2]],[a[1],a[2]],s)]}case"MaxPoolWithArgmax":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("kernelSize",t,e,n),i=A("includeBatchInIndex",t,e,n),{result:c,indexes:d}=r.maxPoolWithArgmax(A("x",t,e,n),[o[1],o[2]],[a[1],a[2]],s,i);return[c,d]}case"AvgPool3D":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("kernelSize",t,e,n);return[r.avgPool3d(A("x",t,e,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"MaxPool3D":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("kernelSize",t,e,n);return[r.maxPool3d(A("x",t,e,n),[o[1],o[2],o[3]],[a[1],a[2],a[3]],s)]}case"Dilation2D":{const a=A("strides",t,e,n),s=A("pad",t,e,n),o=A("dilations",t,e,n),i=a[1],c=a[2],d=o[1],l=o[2];return[r.dilation2d(A("x",t,e,n),A("filter",t,e,n),[i,c],s,[d,l],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $P=(t,e,n,r=gr)=>{switch(t.op){case"Fill":{const a=A("shape",t,e,n),s=A("dtype",t,e,n),o=A("value",t,e,n);return[r.fill(a,o,s)]}case"LinSpace":{const a=A("start",t,e,n),s=A("stop",t,e,n),o=A("num",t,e,n);return[r.linspace(a,s,o)]}case"Multinomial":{const a=A("logits",t,e,n),s=A("numSamples",t,e,n),o=A("seed",t,e,n);return[r.multinomial(a,s,o)]}case"OneHot":{const a=A("indices",t,e,n),s=A("depth",t,e,n),o=A("onValue",t,e,n),i=A("offValue",t,e,n),c=A("dtype",t,e,n);return[r.oneHot(a,s,o,i,c)]}case"Ones":return[r.ones(A("shape",t,e,n),A("dtype",t,e,n))];case"OnesLike":return[r.onesLike(A("x",t,e,n))];case"RandomStandardNormal":return[r.randomStandardNormal(A("shape",t,e,n),A("dtype",t,e,n),A("seed",t,e,n))];case"RandomUniform":return[r.randomUniform(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("dtype",t,e,n))];case"RandomUniformInt":return[r.randomUniformInt(A("shape",t,e,n),A("minval",t,e,n),A("maxval",t,e,n),A("seed",t,e,n))];case"Range":{const a=A("start",t,e,n),s=A("stop",t,e,n),o=A("step",t,e,n);return[r.range(a,s,o,A("dtype",t,e,n))]}case"TruncatedNormal":{const a=A("shape",t,e,n),s=A("mean",t,e,n),o=A("stdDev",t,e,n),i=A("seed",t,e,n);return[r.truncatedNormal(a,s,o,A("dtype",t,e,n),i)]}case"Zeros":return[r.zeros(A("shape",t,e,n),A("dtype",t,e,n))];case"ZerosLike":return[r.zerosLike(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ug(t,e,n){const r=A("boxes",t,e,n),a=A("scores",t,e,n),s=A("maxOutputSize",t,e,n),o=A("iouThreshold",t,e,n),i=A("scoreThreshold",t,e,n),c=A("softNmsSigma",t,e,n);return{boxes:r,scores:a,maxOutputSize:s,iouThreshold:o,scoreThreshold:i,softNmsSigma:c}}const OP=async(t,e,n,r,a=gr)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:s,scores:o,maxOutputSize:i,iouThreshold:c,scoreThreshold:d,softNmsSigma:l}=Ug(t,e,n),p=await a.image.nonMaxSuppressionWithScoreAsync(s,o,i,c,d,l);return[p.selectedIndices,p.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:s,scores:o,maxOutputSize:i,iouThreshold:c,scoreThreshold:d}=Ug(t,e,n),l=A("padToMaxOutputSize",t,e,n),p=await a.image.nonMaxSuppressionPaddedAsync(s,o,i,c,d,l);return[p.selectedIndices,p.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:s,scores:o,maxOutputSize:i,iouThreshold:c,scoreThreshold:d}=Ug(t,e,n);return[await a.image.nonMaxSuppressionAsync(s,o,i,c,d)]}case"Where":{const s=a.cast(A("condition",t,e,n),"bool"),o=[await a.whereAsync(s)];return s.dispose(),o}case"ListDiff":return a.setdiff1dAsync(A("x",t,e,n),A("y",t,e,n));default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MP=(t,e,n,r=gr)=>{switch(t.op){case"LowerBound":{const a=A("sortedSequence",t,e,n),s=A("values",t,e,n);return[r.lowerBound(a,s)]}case"TopKV2":{const a=A("x",t,e,n),s=A("k",t,e,n),o=A("sorted",t,e,n),i=r.topk(a,s,o);return[i.values,i.indices]}case"UpperBound":{const a=A("sortedSequence",t,e,n),s=A("values",t,e,n);return[r.upperBound(a,s)]}case"Unique":{const a=A("x",t,e,n),s=r.unique(a);return[s.values,s.indices]}case"UniqueV2":{const a=A("x",t,e,n),s=A("axis",t,e,n),o=r.unique(a,s);return[o.values,o.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PP=(t,e,n,r=gr)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const a=A("default",t,e,n);return[pr(t.name,e,n)||a];case"Placeholder":return[pr(t.name,e,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const l=A("x",t,e,n);return[Ys(l)]}case"IdentityN":return A("x",t,e,n).map(l=>Ys(l));case"Snapshot":const s=A("x",t,e,n);return[Ys(s)];case"Shape":return[r.tensor1d(A("x",t,e,n).shape,"int32")];case"ShapeN":return A("x",t,e,n).map(l=>r.tensor1d(l.shape));case"Size":return[r.scalar(A("x",t,e,n).size,"int32")];case"Rank":return[r.scalar(A("x",t,e,n).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const o=A("x",t,e,n),i=A("data",t,e,n),c=A("message",t,e,n),d=A("summarize",t,e,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(c);for(let l=0;l<i.length;l++)console.log(Array.prototype.slice.call(i[l].dataSync()).slice(0,d));return[o];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class BP{get id(){return this.handle.id}constructor(e,n){this.keyDType=e,this.valueDType=n,this.handle=Wt(0),this.tensorMap=new Map,Ss(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return Wt(this.size(),"int32")}async import(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return this.tensorMap.forEach(a=>a.dispose()),this.tensorMap.clear(),$t(()=>{const a=Wi(n),s=r.length,o=a.length;X(s===o,()=>`The number of elements doesn't match, keys has ${s} elements, the values has ${o} elements.`);for(let i=0;i<s;i++){const c=r[i],d=a[i];Ss(d),this.tensorMap.set(c,d)}return this.handle})}async find(e,n){this.checkKeyAndValueTensor(e,n);const r=await e.data();return $t(()=>{const a=[];for(let s=0;s<r.length;s++){const o=r[s],i=this.findWithDefault(o,n);a.push(i)}return to(a)})}findWithDefault(e,n){const r=this.tensorMap.get(e);return r??n}checkKeyAndValueTensor(e,n){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(n.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${n.dtype}`)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zP=async(t,e,n,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const a=r.getHashTableHandleByName(t.name);if(a!=null)return[a];{const s=A("keyDType",t,e,n),o=A("valueDType",t,e,n),i=new BP(s,o);return r.addHashTable(t.name,i),[i.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const a=A("tableHandle",t,e,n,r),s=A("keys",t,e,n),o=A("values",t,e,n);return[await r.getHashTableById(a.id).import(s,o)]}case"LookupTableFind":case"LookupTableFindV2":{const a=A("tableHandle",t,e,n,r),s=A("keys",t,e,n),o=A("defaultValue",t,e,n);return[await r.getHashTableById(a.id).find(s,o)]}case"LookupTableSize":case"LookupTableSizeV2":{const a=A("tableHandle",t,e,n,r);return[r.getHashTableById(a.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LP=(t,e,n,r=gr)=>{switch(t.op){case"ResizeBilinear":{const a=A("images",t,e,n),s=A("size",t,e,n),o=A("alignCorners",t,e,n),i=A("halfPixelCenters",t,e,n);return[r.image.resizeBilinear(a,[s[0],s[1]],o,i)]}case"ResizeNearestNeighbor":{const a=A("images",t,e,n),s=A("size",t,e,n),o=A("alignCorners",t,e,n),i=A("halfPixelCenters",t,e,n);return[r.image.resizeNearestNeighbor(a,[s[0],s[1]],o,i)]}case"CropAndResize":{const a=A("image",t,e,n),s=A("boxes",t,e,n),o=A("boxInd",t,e,n),i=A("cropSize",t,e,n),c=A("method",t,e,n),d=A("extrapolationValue",t,e,n);return[r.image.cropAndResize(a,s,o,i,c,d)]}case"ImageProjectiveTransformV3":{const a=A("images",t,e,n),s=A("transforms",t,e,n),o=A("outputShape",t,e,n),i=A("fillValue",t,e,n),c=A("interpolation",t,e,n),d=A("fillMode",t,e,n);return[r.image.transform(a,s,c.toLowerCase(),d.toLowerCase(),i,o)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const WP=(t,e,n,r=gr)=>{switch(t.op){case"Equal":return[r.equal(A("a",t,e,n),A("b",t,e,n))];case"NotEqual":return[r.notEqual(A("a",t,e,n),A("b",t,e,n))];case"Greater":return[r.greater(A("a",t,e,n),A("b",t,e,n))];case"GreaterEqual":return[r.greaterEqual(A("a",t,e,n),A("b",t,e,n))];case"Less":return[r.less(A("a",t,e,n),A("b",t,e,n))];case"LessEqual":return[r.lessEqual(A("a",t,e,n),A("b",t,e,n))];case"LogicalAnd":return[r.logicalAnd(A("a",t,e,n),A("b",t,e,n))];case"LogicalNot":return[r.logicalNot(A("a",t,e,n))];case"LogicalOr":return[r.logicalOr(A("a",t,e,n),A("b",t,e,n))];case"Select":case"SelectV2":return[r.where(A("condition",t,e,n),A("a",t,e,n),A("b",t,e,n))];case"BitwiseAnd":return[r.bitwiseAnd(A("a",t,e,n),A("b",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jP=(t,e,n,r=gr)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(A("a",t,e,n),A("b",t,e,n),A("transposeA",t,e,n),A("transposeB",t,e,n))];case"Einsum":return[r.einsum(A("equation",t,e,n),...A("tensors",t,e,n))];case"Transpose":return[r.transpose(A("x",t,e,n),A("perm",t,e,n))];case"_FusedMatMul":const[a,s]=A("fusedOps",t,e,n),o=a==="biasadd",i=s==="prelu",c=A("numArgs",t,e,n),d=A("leakyreluAlpha",t,e,n);if(o){if(i&&c!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!i&&c!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[l,p]=A("args",t,e,n);return[r.fused.matMul({a:A("a",t,e,n),b:A("b",t,e,n),transposeA:A("transposeA",t,e,n),transposeB:A("transposeB",t,e,n),bias:l,activation:s,preluActivationWeights:p,leakyreluAlpha:d})];case"MatrixBandPart":return[r.linalg.bandPart(A("a",t,e,n),A("numLower",t,e,n),A("numUpper",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const VP=(t,e,n,r=gr)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(A("x",t,e,n),A("axis",t,e,n),A("keepDims",t,e,n))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"FusedBatchNormV3":return[r.batchNorm(A("x",t,e,n),A("mean",t,e,n),A("variance",t,e,n),A("offset",t,e,n),A("scale",t,e,n),A("epsilon",t,e,n))];case"LRN":return[r.localResponseNormalization(A("x",t,e,n),A("radius",t,e,n),A("bias",t,e,n),A("alpha",t,e,n),A("beta",t,e,n))];case"Softmax":return[r.softmax(A("x",t,e,n))];case"LogSoftmax":return[r.logSoftmax(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UP=(t,e,n,r=gr)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:a,outputDenseValues:s}=r.raggedGather(A("paramsNestedSplits",t,e,n),A("paramsDenseValues",t,e,n),A("indices",t,e,n),A("outputRaggedRank",t,e,n));return a.concat(s)}case"RaggedRange":{const{rtNestedSplits:a,rtDenseValues:s}=r.raggedRange(A("starts",t,e,n),A("limits",t,e,n),A("splits",t,e,n));return[a,s]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(A("shape",t,e,n),A("values",t,e,n),A("defaultValue",t,e,n),A("rowPartitionTensors",t,e,n),A("rowPartitionTypes",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HP=(t,e,n,r=gr)=>{switch(t.op){case"Max":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.max(A("x",t,e,n),i,c)]}case"Mean":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.mean(A("x",t,e,n),i,c)]}case"Min":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.min(A("x",t,e,n),i,c)]}case"Sum":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.sum(A("x",t,e,n),i,c)]}case"All":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.all(A("x",t,e,n),i,c)]}case"Any":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.any(A("x",t,e,n),i,c)]}case"ArgMax":{const i=A("axis",t,e,n);return[r.argMax(A("x",t,e,n),i)]}case"ArgMin":{const i=A("axis",t,e,n);return[r.argMin(A("x",t,e,n),i)]}case"Prod":{const i=A("axis",t,e,n),c=A("keepDims",t,e,n);return[r.prod(A("x",t,e,n),i,c)]}case"Cumprod":{const i=A("axis",t,e,n),c=A("exclusive",t,e,n),d=A("reverse",t,e,n);return[r.cumprod(A("x",t,e,n),i,c,d)]}case"Cumsum":{const i=A("axis",t,e,n),c=A("exclusive",t,e,n),d=A("reverse",t,e,n);return[r.cumsum(A("x",t,e,n),i,c,d)]}case"Bincount":const a=A("x",t,e,n),s=A("weights",t,e,n),o=A("size",t,e,n);return[r.bincount(a,s,o)];case"DenseBincount":{const i=A("x",t,e,n),c=A("weights",t,e,n),d=A("size",t,e,n),l=A("binaryOutput",t,e,n);return[r.denseBincount(i,c,d,l)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GP=(t,e,n,r=gr)=>{switch(t.op){case"ConcatV2":case"Concat":{const a=A("n",t,e,n),s=A("axis",t,e,n);let o=A("tensors",t,e,n);return o=o.slice(0,a),[r.concat(o,s)]}case"Gather":{const a=A("x",t,e,n),s=A("indices",t,e,n);return[r.gather(a,r.cast(s,"int32"),0)]}case"GatherV2":{const a=A("axis",t,e,n),s=A("batchDims",t,e,n),o=A("x",t,e,n),i=A("indices",t,e,n);return[r.gather(o,r.cast(i,"int32"),a,s)]}case"Reverse":{const a=A("dims",t,e,n),s=[];for(let i=0;i<a.length;i++)a[i]&&s.push(i);const o=A("x",t,e,n);return[r.reverse(o,s)]}case"ReverseV2":{const a=A("axis",t,e,n),s=A("x",t,e,n);return[r.reverse(s,a)]}case"Slice":{const a=A("begin",t,e,n),s=A("size",t,e,n);return[r.slice(A("x",t,e,n),a,s)]}case"StridedSlice":{const a=A("begin",t,e,n),s=A("end",t,e,n),o=A("strides",t,e,n),i=A("beginMask",t,e,n),c=A("endMask",t,e,n),d=A("ellipsisMask",t,e,n),l=A("newAxisMask",t,e,n),p=A("shrinkAxisMask",t,e,n),h=A("x",t,e,n);return[r.stridedSlice(h,a,s,o,i,c,d,l,p)]}case"Pack":return $t(()=>{const a=A("axis",t,e,n),s=A("tensors",t,e,n),o=s[0].shape,i=r.squeeze(s[0]).shape,c=s.map(d=>{const l=Ma(d.shape,o);if(!l&&!Ma(r.squeeze(d).shape,i))throw new Error("the input tensors shape does not match");return l?d:r.reshape(d,o)});return[r.stack(c,a)]});case"Unpack":{const a=A("axis",t,e,n),s=A("tensor",t,e,n);return r.unstack(s,a)}case"Tile":{const a=A("reps",t,e,n);return[r.tile(A("x",t,e,n),a)]}case"Split":case"SplitV":{const a=A("axis",t,e,n),s=A("numOrSizeSplits",t,e,n),o=A("x",t,e,n);return r.split(o,s,a)}case"ScatterNd":{const a=A("indices",t,e,n),s=A("values",t,e,n),o=A("shape",t,e,n);return[r.scatterND(a,s,o)]}case"GatherNd":{const a=A("x",t,e,n),s=A("indices",t,e,n);return[r.gatherND(a,s)]}case"SparseToDense":{const a=A("sparseIndices",t,e,n),s=A("outputShape",t,e,n),o=A("sparseValues",t,e,n),i=A("defaultValue",t,e,n);return[r.sparseToDense(a,o,s,o.dtype===i.dtype?i:r.cast(i,o.dtype))]}case"TensorScatterUpdate":{const a=A("indices",t,e,n),s=A("values",t,e,n),o=A("tensor",t,e,n);return[r.tensorScatterUpdate(o,a,s)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qP=(t,e,n,r=gr)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:a,outputValues:s,emptyRowIndicator:o,reverseIndexMap:i}=r.sparse.sparseFillEmptyRows(A("indices",t,e,n),A("values",t,e,n),A("denseShape",t,e,n),A("defaultValue",t,e,n));return[a,s,o,i]}case"SparseReshape":{const{outputIndices:a,outputShape:s}=r.sparse.sparseReshape(A("inputIndices",t,e,n),A("inputShape",t,e,n),A("newShape",t,e,n));return[a,s]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(A("data",t,e,n),A("indices",t,e,n),A("segmentIds",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const KP=(t,e,n,r=gr)=>{switch(t.op){case"FFT":return[r.fft(A("x",t,e,n))];case"IFFT":return[r.ifft(A("x",t,e,n))];case"RFFT":return[r.rfft(A("x",t,e,n))];case"IRFFT":return[r.irfft(A("x",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XP=(t,e,n,r=gr)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(A("input",t,e,n),A("pattern",t,e,n),A("rewrite",t,e,n),A("replaceGlobal",t,e,n))];case"StringNGrams":{const{nGrams:a,nGramsSplits:s}=r.string.stringNGrams(A("data",t,e,n),A("dataSplits",t,e,n),A("separator",t,e,n),A("nGramWidths",t,e,n),A("leftPad",t,e,n),A("rightPad",t,e,n),A("padWidth",t,e,n),A("preserveShortSequences",t,e,n));return[a,s]}case"StringSplit":{const{indices:a,values:s,shape:o}=r.string.stringSplit(A("input",t,e,n),A("delimiter",t,e,n),A("skipEmpty",t,e,n));return[a,s,o]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(A("input",t,e,n),A("numBuckets",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YP=(t,e,n,r=gr)=>{switch(t.op){case"Cast":return[r.cast(A("x",t,e,n),A("dtype",t,e,n))];case"ExpandDims":{const a=A("axis",t,e,n);return[r.expandDims(A("x",t,e,n),a)]}case"Squeeze":{const a=A("axis",t,e,n);return[r.squeeze(A("x",t,e,n),a)]}case"Reshape":return[r.reshape(A("x",t,e,n),A("shape",t,e,n))];case"EnsureShape":return[r.ensureShape(A("x",t,e,n),A("shape",t,e,n))];case"MirrorPad":return[r.mirrorPad(A("x",t,e,n),A("padding",t,e,n),A("mode",t,e,n))];case"PadV2":case"Pad":return[r.pad(A("x",t,e,n),A("padding",t,e,n),A("constantValue",t,e,n))];case"SpaceToBatchND":{const a=A("blockShape",t,e,n),s=A("paddings",t,e,n);return[r.spaceToBatchND(A("x",t,e,n),a,s)]}case"BatchToSpaceND":{const a=A("blockShape",t,e,n),s=A("crops",t,e,n);return[r.batchToSpaceND(A("x",t,e,n),a,s)]}case"DepthToSpace":{const a=A("blockSize",t,e,n),s=A("dataFormat",t,e,n).toUpperCase();return[r.depthToSpace(A("x",t,e,n),a,s)]}case"BroadcastTo":return[r.broadcastTo(A("x",t,e,n),A("shape",t,e,n))];case"BroadcastArgs":return[r.broadcastArgs(A("s0",t,e,n),A("s1",t,e,n))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nw(t,e,n,r,a=$t){const s=((o,i,c)=>{switch(o.category){case"arithmetic":return a(()=>IP(o,i,c));case"basic_math":return a(()=>CP(o,i,c));case"control":return FP(o,i,c);case"convolution":return a(()=>RP(o,i,c));case"creation":return a(()=>$P(o,i,c));case"dynamic":return OP(o,i,c);case"evaluation":return a(()=>MP(o,i,c));case"image":return a(()=>LP(o,i,c));case"graph":return a(()=>PP(o,i,c));case"logical":return a(()=>WP(o,i,c));case"matrices":return a(()=>jP(o,i,c));case"normalization":return a(()=>VP(o,i,c));case"ragged":return a(()=>UP(o,i,c));case"reduction":return a(()=>HP(o,i,c));case"slice_join":return a(()=>GP(o,i,c));case"sparse":return a(()=>qP(o,i,c));case"spectral":return a(()=>KP(o,i,c));case"string":return a(()=>XP(o,i,c));case"transformation":return a(()=>YP(o,i,c));case"hash_table":return zP(o,i,c,r);case"custom":const d=Xk(o.op);if(d&&d.customExecutor)return d.customExecutor(new _P(o,i,c));throw TypeError(`Custom op ${o.op} is not registered.`);default:throw TypeError(`Unknown op '${o.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,n);return Ai(s)?s.then(o=>[].concat(o)):[].concat(s)}class Aw{constructor(e={},n={},r={},a={},s){this.weightMap=e,this.tensorArrayMap=n,this.tensorListMap=r,this.functionMap=a,this.parseNodeNameCache=s,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,n){return{id:e,frameName:n,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let n=0;n<this.contexts.length-1;n++){const r=this.contexts.slice(0,this.contexts.length-n);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(n=>n.id===0&&n.iterationId===0?"":`${n.frameName}-${n.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const n in this.tensorArrayMap)this.tensorArrayMap[n].clearAndClose(e);for(const n in this.tensorListMap)this.tensorListMap[n].clearAndClose(e)}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dw(t,e,n,r){const a=new Set,s=[];let o=null,i=null;const c=new Set,d=new Set(Object.keys(t).map(h=>oa(h)[0]));r=r||[];const l=new Set(r.map(h=>oa(h.name)[0])),p=[...e];for(;p.length>0;){const h=p.pop();if((Si(h)||a7(h)||s7(h))&&o==null&&(o=h,i=o.children.map(m=>m.name).filter(m=>a.has(m))),a.add(h.name),n[h.name]==null&&!d.has(h.name)&&!l.has(h.name)){if(h.inputs.length===0){s.push(h.name);continue}h.inputs.forEach(m=>{c.has(m.name)||(c.add(m.name),p.push(m))})}}return{inputs:t,outputs:e,usedNodes:a,missingInputs:s,dynamicNode:o,syncInputs:i}}function ZP(t,e){const{usedNodes:n,inputs:r}=e,a=Object.keys(r).map(b=>oa(b)[0]).map(b=>t.nodes[b]),s=t.initNodes||[],o=b=>n.has(typeof b=="string"?b:b.name);function i(b){return[...new Map(b.map(w=>[w.name,w])).values()]}const c=i([...a,...t.weights,...s]).filter(o),d=i([...c,...Object.values(t.nodes)]).filter(o),l=new Map(d.map(b=>[b.name,b])),p={};for(const b of d){p[b.name]=p[b.name]||0;for(const w of b.children)o(w)||(p[w.name]=Number.POSITIVE_INFINITY),p[w.name]=(p[w.name]||0)+1}const h=Object.entries(p).filter(([,b])=>b===0).map(([b])=>b),m=[...h];for(;h.length>0;){const b=h.pop(),w=l.get(b);for(const x of w.children.filter(o))--p[x.name]===0&&(m.push(x.name),h.push(x.name))}const y=m.map(b=>l.get(b)),v=QP(y,c);return JP(v,c),v}function QP(t,e){const n=new Map(t.map(o=>[o.name,o])),r=e.map(o=>o.name),a=new Set(r);for(;r.length>0;){const o=r.pop(),i=n.get(o);for(const c of i.children)!n.has(c.name)||a.has(c.name)||(a.add(c.name),r.push(c.name))}return t.filter(o=>a.has(o.name))}class $d extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function JP(t,e){const n=new Map(t.map((i,c)=>[i.name,c])),r=new Set(e.map(i=>i.name)),a=i=>r.has(typeof i=="string"?i:i.name),s=new Set(t.map(i=>i.name)),o=i=>s.has(typeof i=="string"?i:i.name);for(const i of t){for(const c of i.children.filter(o)){if(!n.has(c.name))throw new $d(`Child ${c.name} of node ${i.name} is unreachable.`);if(n.get(i.name)>n.get(c.name))throw new $d(`Node ${i.name} is scheduled to run after its child ${c.name}.`)}if(!a(i))for(const c of i.inputs){if(!n.has(c.name))throw new $d(`Input ${c.name} of node ${i.name} is unreachable.`);if(n.get(c.name)>n.get(i.name))throw new $d(`Node ${i.name} is scheduled to run before its input ${c.name}.`)}}}function e7(t){const e=new Map(t.map((i,c)=>[i.name,c])),n=Number.MAX_SAFE_INTEGER,r=t.map((i,c)=>Si(i)?n:c),a=i=>{const c=r[e.get(i.name)];return c??-1},s=t.map((i,c)=>i.children.map(a).reduce((d,l)=>Math.max(d,l),r[c])),o=new Map;for(let i=0;i<t.length;++i){const c=s[i];if(c===n)continue;const d=t[i],l=t[c];o.has(l.name)||o.set(l.name,[]),o.get(l.name).push(d)}return o}const t7=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),n7=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),r7=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function Si(t){return t7.has(t.op)}function a7(t){return n7.has(t.op)}function s7(t){return r7.has(t.op)}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class _f{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const n=Object.keys(e).map(r=>e[r].map(a=>a.id));this._weightIds=[].concat(...n),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const n=e.signatureKey||e.name;return e.defaultOutput?`${n}:${e.defaultOutput}`:n})}get functions(){return Object.keys(this._functions).reduce((e,n)=>(e[n]=this._functions[n].signature,e),{})}constructor(e,n){this.graph=e,this.parent=n,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new _f(e.functions[r],this)})}getCompilationKey(e,n){const r=e.map(s=>s.name).sort(),a=n.map(s=>s.name).sort();return r.join(this.SEPARATOR)+"--"+a.join(this.SEPARATOR)}compile(e,n){const r=Dw(e,n,this.weightMap,this._initNodes),{missingInputs:a,dynamicNode:s,syncInputs:o}=r;if(s!=null)throw new Error(`This execution contains the node '${s.name}', which has the dynamic op '${s.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(a.length>0){const d=n.map(p=>p.name),l=Object.keys(e);throw new Error(`Cannot compute the outputs [${d}] from the provided inputs [${l}]. Missing the following inputs: [${a}]`)}const i=ZP(this.graph,r),c=e7(i);return{orderedNodes:i,nodeLiveUntilMap:c}}cloneAndKeepTensor(e){if(e==null)return null;const n=e.clone();return Ss(n),n}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,this.cloneTensorList(r)]))}execute(e,n){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n);const a=r.map(h=>this.graph.nodes[oa(h)[0]]),s=n.map(h=>oa(h)[0]),o=new Set(s);let i=s.map(h=>this.graph.nodes[h]);i.length===0&&(i=this._outputs);const c=this.getCompilationKey(a,i);let d=this.compiledMap.get(c);d==null&&(d=this.compile(e,i),this.compiledMap.set(c,d));try{this.keepIntermediateTensors=At().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const l={},p={};return $t(()=>{const h=new Aw(this.weightMap,l,p,this.functionExecutorMap,this.parseNodeNameCache),m=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(w=>{const[x,_]=oa(w,h),C=[];C[_]=e[w],m[x]=C,this.keepIntermediateTensors&&(this.clonedTensorsMap[x]=this.cloneTensorList(C))});const y=this.getFrozenTensorIds(m),{orderedNodes:v,nodeLiveUntilMap:b}=d;for(const w of v){if(m[w.name])continue;const x=Nw(w,m,h,this._resourceManager);if(Ai(x))throw new Error(`The execution of the op '${w.op}' returned a promise. Please use model.executeAsync() instead.`);m[w.name]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[w.name]=this.cloneTensorList(x)),this.checkTensorForDisposalWithNodeLiveUntilInfo(w,m,h,y,o,b.get(w.name))}return this.parent==null&&h.dispose(y),n.map(w=>pr(w,m,h))})}getFrozenTensorIds(e){const n=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(a=>a.id)));return new Set(n)}checkTensorForDisposal(e,n,r,a,s,o,i){if(!(Si(n)||o.has(e))){for(const c of r[e])c!=null&&(i[c.id]=(i[c.id]||0)+n.children.length);for(const c of n.inputs){if(Si(c))continue;const d=_w(c.name,r,a);if(d!=null)for(const l of d){if(!l||l.kept||s.has(l.id))continue;const p=i[l.id];p===1?(l.dispose(),delete i[l.id]):p!=null&&i[l.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,n,r,a,s,o){function i(c){return Si(c)||s.has(c.name)}if(!(Si(e)||o==null))for(const c of o){if(i(c))continue;const d=_w(c.name,n,r);for(const l of d)!l||l.kept||a.has(l.id)||l.dispose()}}async executeAsync(e,n){return this._executeAsync(e,n)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const n of e)n&&!n.isDisposed&&n.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,n,r=!1,a={},s={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),n=this.mapOutputs(n),this.checkOutputs(n));try{this.keepIntermediateTensors=At().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(h){this.keepIntermediateTensors=!1,console.warn(h.message)}const o=new Aw(this.weightMap,a,s,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const i=await this.executeWithControlFlow(e,o,n,r),c=n.map(h=>pr(h,i,o)),d=c.map(h=>h.id),l=Object.keys(e).map(h=>e[h].id),p=new Set([...d,...l,...this.weightIds]);return Object.values(i).forEach(h=>{h.forEach(m=>{m&&!m.isDisposed&&!p.has(m.id)&&m.dispose()})}),this.parent==null&&o.dispose(p),c}async executeFunctionAsync(e,n,r){const a=e.reduce((s,o,i)=>(s[this.inputs[i].name]=o,s),{});return this._executeAsync(a,this.outputNodes,!0,n,r)}async executeWithControlFlow(e,n,r,a){const s=Object.keys(e),o=s.map(C=>this.graph.nodes[oa(C)[0]]),i=r.map(C=>oa(C)[0]),c=new Set(i);let d=i.map(C=>this.graph.nodes[C]);d.length===0&&(d=this._outputs);const{usedNodes:l,missingInputs:p,dynamicNode:h,syncInputs:m}=Dw(e,d,this.weightMap,this._initNodes),y=[...o,...this.graph.weights,...this._initNodes||[]].map(C=>({node:C,contexts:n.currentContext})),v=Object.assign({},this.weightMap);Object.keys(e).forEach(C=>{const[T,R]=oa(C),M=[];M[R]=e[C],v[T]=M});const b={},w=this.getFrozenTensorIds(v),x={};for(;y.length>0;){const C=this.processStack(o,y,n,v,x,w,c,b,l);await Promise.all(C)}h==null&&!a&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const _=d.filter(C=>!Si(C)&&!pr(C.name,v,n)).map(C=>C.name);if(_.length>0){let C="";throw h!=null&&(C=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${m}]`),new Error(`Cannot compute the outputs [${_}] from the provided inputs [${s}]. Consider providing the following inputs: [${p}]. ${C}`)}return v}processStack(e,n,r,a,s,o,i,c,d){const l=[];for(;n.length>0;){const p=n.pop();r.currentContext=p.contexts;let h="";if(p.node.op==="Enter"&&A("isConstant",p.node,a,r)&&([h]=Xs(p.node.name,r)),a[p.node.name]==null){const m=Nw(p.node,a,r,this._resourceManager);h||([h]=Xs(p.node.name,r));const y=r.currentContext;Ai(m)?l.push(m.then(v=>(a[h]=v,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(v)),r.currentContext=y,this.checkTensorForDisposal(h,p.node,a,r,o,i,c),this.processChildNodes(p.node,n,r,a,s,d),v))):(a[h]=m,this.keepIntermediateTensors&&(this.clonedTensorsMap[h]=this.cloneTensorList(m)),this.checkTensorForDisposal(h,p.node,a,r,o,i,c),this.processChildNodes(p.node,n,r,a,s,d))}else this.processChildNodes(p.node,n,r,a,s,d)}return l}processChildNodes(e,n,r,a,s,o){e.children.forEach(i=>{const[c]=Xs(i.name,r);s[c]||!o.has(i.name)||(i.op==="Merge"?i.inputNames.some(d=>!!pr(d,a,r))&&(s[c]=!0,n.push({contexts:r.currentContext,node:i})):i.inputNames.every(d=>!!pr(d,a,r))&&(s[c]=!0,n.push({contexts:r.currentContext,node:i})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(n=>n.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(n=>{const r=e[n],[a]=oa(n),s=this.graph.nodes[a];if(s.attrParams.shape&&s.attrParams.shape.value){const o=s.attrParams.shape.value,i=o.length===r.shape.length&&r.shape.every((c,d)=>o[d]===-1||o[d]===c);X(i,()=>`The shape of dict['${s.name}'] provided in model.execute(dict) must be [${o}], but was [${r.shape}]`)}s.attrParams.dtype&&s.attrParams.dtype.value&&X(r.dtype===s.attrParams.dtype.value,()=>`The dtype of dict['${s.name}'] provided in model.execute(dict) must be ${s.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var n,r;const a={};for(const s in e){const o=(r=(n=this._signature)===null||n===void 0?void 0:n.inputs)===null||r===void 0?void 0:r[s];o!=null?a[o.name]=e[s]:a[s]=e[s]}return a}checkInputs(e){const n=Object.keys(e).filter(r=>{const[a]=oa(r);return this.graph.nodes[a]==null});if(n.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${n}] that are not part of graph`)}mapOutputs(e){return e.map(n=>{var r,a;const s=(a=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||a===void 0?void 0:a[n];return s!=null?s.name:n},{})}checkOutputs(e){e.forEach(n=>{const[r]=oa(n);if(!this.graph.nodes[r])throw new Error(`The output '${n}' is not found in the graph`)})}}class o7{constructor(e={},n={}){this.hashTableNameToHandle=e,this.hashTableMap=n}addHashTable(e,n){this.hashTableNameToHandle[e]=n.handle,this.hashTableMap[n.id]=n}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}/**
 * @license
 * Copyright 2018 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i7="?tfjs-format=file",l7="model.json";class u7{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,n={},r=kk){this.modelUrl=e,this.loadOptions=n,this.version="n/a",this.io=r,n==null&&(this.loadOptions={}),this.resourceManager=new o7}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const n=this.io.getLoadHandlers(e,this.loadOptions);if(n.length===0)n.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(n.length>1)throw new Error(`Found more than one (${n.length}) load handlers for URL '${[e]}'`);this.handler=n[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Ai(e)?e.then(n=>this.loadSync(n)):this.loadSync(e)}loadSync(e){this.artifacts=e;const n=this.artifacts.modelTopology;let r=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const s=this.artifacts.userDefinedMetadata;s.signature!=null&&(r=s.signature),s.structuredOutputKeys!=null&&(this.structuredOutputKeys=s.structuredOutputKeys)}this.signature=r,this.version=`${n.versions.producer}.${n.versions.minConsumer}`;const a=this.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new _f(Iw.Instance.transformGraph(n,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const s=Iw.Instance.transformGraph(e.modelInitializer);this.initializer=new _f(s),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,n){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const n=e instanceof jn?[e]:e,r={};return n.forEach((a,s)=>r[this.structuredOutputKeys[s]]=a),r}return e}predict(e,n){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,n){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var n;if(!(e instanceof jn)&&!Array.isArray(e)){const s=(n=this.signature)===null||n===void 0?void 0:n.inputs;if(s!=null)for(const o in s){const i=s[o];i.resourceId!=null&&(e[o]=this.resourceIdToCapturedInput[i.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let a=0;return this.inputNodes.reduce((s,o)=>{var i,c,d;const l=(d=(c=(i=this.signature)===null||i===void 0?void 0:i.inputs)===null||c===void 0?void 0:c[o])===null||d===void 0?void 0:d.resourceId;return l!=null?s[o]=this.resourceIdToCapturedInput[l]:s[o]=e[a++],s},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const n=this.initializerSignature.outputs,r=Object.keys(n);for(let a=0;a<r.length;a++){const s=r[a],o=n[s];this.resourceIdToCapturedInput[o.resourceId]=e[a]}}}execute(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=this.executor.execute(e,n);return r.length>1?r:r[0]}async executeAsync(e,n){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),n=this.normalizeOutputs(n);const r=await this.executor.executeAsync(e,n);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((n,r)=>(n[r]=[e[r]],n),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&Zn(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function c7(t,e={},n=kk){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=d7(t));const r=new u7(t,e,n);return await r.load(),r}function d7(t){return t.endsWith("/")||(t=t+"/"),`${t}${l7}${i7}`}/**
    * @license
    * Copyright 2023 Google LLC. All Rights Reserved.
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    * http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    * =============================================================================
    */var Mo=function(){return Mo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},Mo.apply(this,arguments)};function no(t,e,n,r){return new(n||(n=Promise))(function(a,s){function o(d){try{c(r.next(d))}catch(l){s(l)}}function i(d){try{c(r.throw(d))}catch(l){s(l)}}function c(d){var l;d.done?a(d.value):(l=d.value,l instanceof n?l:new n(function(p){p(l)})).then(o,i)}c((r=r.apply(t,[])).next())})}function ro(t,e){var n,r,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function i(c){return function(d){return function(l){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&l[0]?r.return:l[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,l[1])).done)return a;switch(r=0,a&&(l=[2&l[0],a.value]),l[0]){case 0:case 1:a=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,r=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(a=o.trys,!((a=a.length>0&&a[a.length-1])||l[0]!==6&&l[0]!==2)){o=0;continue}if(l[0]===3&&(!a||l[1]>a[0]&&l[1]<a[3])){o.label=l[1];break}if(l[0]===6&&o.label<a[1]){o.label=a[1],a=l;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(l);break}a[2]&&o.ops.pop(),o.trys.pop();continue}l=e.call(t,o)}catch(p){l=[6,p],r=0}finally{n=a=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([c,d])}}}var Qk=["rightEye","leftEye","noseTip","mouthCenter","rightEarTragion","leftEarTragion"],Hg={modelType:"short",runtime:"mediapipe",maxFaces:1},f7=function(){function t(e){var n=this;this.width=0,this.height=0,this.selfieMode=!1,this.faceDetectorSolution=new M8.FaceDetection({locateFile:function(r,a){if(e.solutionPath){var s=e.solutionPath.replace(/\/+$/,"");return"".concat(s,"/").concat(r)}return"".concat(a,"/").concat(r)}}),this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode,model:e.modelType}),this.faceDetectorSolution.onResults(function(r){if(n.height=r.image.height,n.width=r.image.width,n.faces=[],r.detections!==null)for(var a=0,s=r.detections;a<s.length;a++){var o=s[a];n.faces.push(n.normalizedToAbsolute(o.landmarks,(i=o.boundingBox,c=void 0,d=void 0,l=void 0,c=i.xCenter-i.width/2,d=c+i.width,l=i.yCenter-i.height/2,{xMin:c,xMax:d,yMin:l,yMax:l+i.height,width:i.width,height:i.height})))}var i,c,d,l})}return t.prototype.normalizedToAbsolute=function(e,n){var r=this;return{keypoints:e.map(function(a,s){return{x:a.x*r.width,y:a.y*r.height,name:Qk[s]}}),box:{xMin:n.xMin*this.width,yMin:n.yMin*this.height,xMax:n.xMax*this.width,yMax:n.yMax*this.height,width:n.width*this.width,height:n.height*this.height}}},t.prototype.estimateFaces=function(e,n){return no(this,void 0,void 0,function(){var r,a;return ro(this,function(s){switch(s.label){case 0:return n&&n.flipHorizontal&&n.flipHorizontal!==this.selfieMode&&(this.selfieMode=n.flipHorizontal,this.faceDetectorSolution.setOptions({selfieMode:this.selfieMode})),e instanceof jn?(a=ImageData.bind,[4,s8(e)]):[3,2];case 1:return r=new(a.apply(ImageData,[void 0,s.sent(),e.shape[1],e.shape[0]])),[3,3];case 2:r=e,s.label=3;case 3:return e=r,[4,this.faceDetectorSolution.send({image:e})];case 4:return s.sent(),[2,this.faces]}})})},t.prototype.dispose=function(){this.faceDetectorSolution.close()},t.prototype.reset=function(){this.faceDetectorSolution.reset(),this.width=0,this.height=0,this.faces=null,this.selfieMode=!1},t.prototype.initialize=function(){return this.faceDetectorSolution.initialize()},t}();function p7(t){return no(this,void 0,void 0,function(){var e,n;return ro(this,function(r){switch(r.label){case 0:return e=function(a){if(a==null)return Mo({},Hg);var s=Mo({},a);return s.runtime="mediapipe",s.modelType==null&&(s.modelType=Hg.modelType),s.maxFaces==null&&(s.maxFaces=Hg.maxFaces),s}(t),[4,(n=new f7(e)).initialize()];case 1:return r.sent(),[2,n]}})})}function h7(t,e,n,r){var a=t.width,s=t.height,o=1,i=Math.cos(t.rotation),c=Math.sin(t.rotation),d=t.xCenter,l=t.yCenter,p=1/e,h=1/n,m=new Array(16);return m[0]=a*i*o*p,m[1]=-s*c*p,m[2]=0,m[3]=(-.5*a*i*o+.5*s*c+d)*p,m[4]=a*c*o*h,m[5]=s*i*h,m[6]=0,m[7]=(-.5*s*i-.5*a*c*o+l)*h,m[8]=0,m[9]=0,m[10]=a*p,m[11]=0,m[12]=0,m[13]=0,m[14]=0,m[15]=1,function(y){if(y.length!==16)throw new Error("Array length must be 16 but got ".concat(y.length));return[[y[0],y[1],y[2],y[3]],[y[4],y[5],y[6],y[7]],[y[8],y[9],y[10],y[11]],[y[12],y[13],y[14],y[15]]]}(m)}function Jk(t){return t instanceof jn?{height:t.shape[0],width:t.shape[1]}:{height:t.height,width:t.width}}function e_(t){return t instanceof jn?t:o8(t)}function Gg(t,e){X(t.width!==0,function(){return"".concat(e," width cannot be 0.")}),X(t.height!==0,function(){return"".concat(e," height cannot be 0.")})}function m7(t,e){var n=function(r,a,s,o){var i=a-r,c=o-s,d=c/i;return{scale:d,offset:s-r*d}}(0,255,e[0],e[1]);return $t(function(){return ht(Ge(t,n.scale),n.offset)})}function g7(t,e,n){var r=e.outputTensorSize,a=e.keepAspectRatio,s=e.borderMode,o=e.outputTensorFloatRange,i=Jk(t),c=function(h,m){return{xCenter:.5*h.width,yCenter:.5*h.height,width:h.width,height:h.height,rotation:0}}(i),d=function(h,m,y){if(y===void 0&&(y=!1),!y)return{top:0,left:0,right:0,bottom:0};var v=m.height,b=m.width;Gg(m,"targetSize"),Gg(h,"roi");var w,x,_=v/b,C=h.height/h.width,T=0,R=0;return _>C?(w=h.width,x=h.width*_,R=(1-C/_)/2):(w=h.height/_,x=h.height,T=(1-_/C)/2),h.width=w,h.height=x,{top:R,left:T,right:T,bottom:R}}(c,r,a),l=h7(c,i.width,i.height),p=$t(function(){var h=e_(t),m=Ci(function(b,w,x){return Gg(x,"inputResolution"),[1/x.width*b[0][0]*w.width,1/x.height*b[0][1]*w.width,b[0][3]*w.width,1/x.width*b[1][0]*w.height,1/x.height*b[1][1]*w.height,b[1][3]*w.height,0,0]}(l,i,r),[1,8]),y=s==="zero"?"constant":"nearest",v=jh.transform(bs(Cn(h,"float32")),m,"bilinear",y,0,[r.height,r.width]);return o!=null?m7(v,o):v});return{imageTensor:p,padding:d,transformationMatrix:l}}function Fw(t){t.reduceBoxesInLowestLayer==null&&(t.reduceBoxesInLowestLayer=!1),t.interpolatedScaleAspectRatio==null&&(t.interpolatedScaleAspectRatio=1),t.fixedAnchorSize==null&&(t.fixedAnchorSize=!1);for(var e=[],n=0;n<t.numLayers;){for(var r=[],a=[],s=[],o=[],i=n;i<t.strides.length&&t.strides[i]===t.strides[n];){var c=Rw(t.minScale,t.maxScale,i,t.strides.length);if(i===0&&t.reduceBoxesInLowestLayer)s.push(1),s.push(2),s.push(.5),o.push(.1),o.push(c),o.push(c);else{for(var d=0;d<t.aspectRatios.length;++d)s.push(t.aspectRatios[d]),o.push(c);if(t.interpolatedScaleAspectRatio>0){var l=i===t.strides.length-1?1:Rw(t.minScale,t.maxScale,i+1,t.strides.length);o.push(Math.sqrt(c*l)),s.push(t.interpolatedScaleAspectRatio)}}i++}for(var p=0;p<s.length;++p){var h=Math.sqrt(s[p]);r.push(o[p]/h),a.push(o[p]*h)}var m=0,y=0;if(t.featureMapHeight.length>0)m=t.featureMapHeight[n],y=t.featureMapWidth[n];else{var v=t.strides[n];m=Math.ceil(t.inputSizeHeight/v),y=Math.ceil(t.inputSizeWidth/v)}for(var b=0;b<m;++b)for(var w=0;w<y;++w)for(var x=0;x<r.length;++x){var _={xCenter:(w+t.anchorOffsetX)/y,yCenter:(b+t.anchorOffsetY)/m,width:0,height:0};t.fixedAnchorSize?(_.width=1,_.height=1):(_.width=a[x],_.height=r[x]),e.push(_)}n=i}return e}function Rw(t,e,n,r){return r===1?.5*(t+e):t+(e-t)*n/(r-1)}function $w(t,e){var n=e[0],r=e[1];return[n*t[0]+r*t[1]+t[3],n*t[4]+r*t[5]+t[7]]}function v7(t){return $t(function(){var e=function(a){return $t(function(){return[Tt(a,[0,0,0],[1,-1,1]),Tt(a,[0,0,1],[1,-1,-1])]})}(t),n=e[0],r=e[1];return{boxes:fr(r),logits:fr(n)}})}function y7(t,e,n,r){return no(this,void 0,void 0,function(){var a,s,o,i,c;return ro(this,function(d){switch(d.label){case 0:return t.sort(function(l,p){return Math.max.apply(Math,p.score)-Math.max.apply(Math,l.score)}),a=Ci(t.map(function(l){return[l.locationData.relativeBoundingBox.yMin,l.locationData.relativeBoundingBox.xMin,l.locationData.relativeBoundingBox.yMax,l.locationData.relativeBoundingBox.xMax]})),s=Sr(t.map(function(l){return l.score[0]})),[4,jh.nonMaxSuppressionAsync(a,s,e,n)];case 1:return[4,(o=d.sent()).array()];case 2:return i=d.sent(),c=t.filter(function(l,p){return i.indexOf(p)>-1}),Zn([a,s,o]),[2,c]}})})}function b7(t,e,n){return no(this,void 0,void 0,function(){var r,a,s,o,i;return ro(this,function(c){switch(c.label){case 0:return r=t[0],a=t[1],s=function(d,l,p){return $t(function(){var h,m,y,v;p.reverseOutputOrder?(m=fr(Tt(d,[0,p.boxCoordOffset+0],[-1,1])),h=fr(Tt(d,[0,p.boxCoordOffset+1],[-1,1])),v=fr(Tt(d,[0,p.boxCoordOffset+2],[-1,1])),y=fr(Tt(d,[0,p.boxCoordOffset+3],[-1,1]))):(h=fr(Tt(d,[0,p.boxCoordOffset+0],[-1,1])),m=fr(Tt(d,[0,p.boxCoordOffset+1],[-1,1])),y=fr(Tt(d,[0,p.boxCoordOffset+2],[-1,1])),v=fr(Tt(d,[0,p.boxCoordOffset+3],[-1,1]))),m=ht(Ge(Rt(m,p.xScale),l.w),l.x),h=ht(Ge(Rt(h,p.yScale),l.h),l.y),p.applyExponentialOnBoxSize?(y=Ge(Js(Rt(y,p.hScale)),l.h),v=Ge(Js(Rt(v,p.wScale)),l.w)):(y=Ge(Rt(y,p.hScale),l.h),v=Ge(Rt(v,p.wScale),l.h));var b=Nt(h,Rt(y,2)),w=Nt(m,Rt(v,2)),x=ht(h,Rt(y,2)),_=ht(m,Rt(v,2)),C=hr([De(b,[p.numBoxes,1]),De(w,[p.numBoxes,1]),De(x,[p.numBoxes,1]),De(_,[p.numBoxes,1])],1);if(p.numKeypoints)for(var T=0;T<p.numKeypoints;++T){var R=p.keypointCoordOffset+T*p.numValuesPerKeypoint,M=void 0,W=void 0;p.reverseOutputOrder?(M=fr(Tt(d,[0,R],[-1,1])),W=fr(Tt(d,[0,R+1],[-1,1]))):(W=fr(Tt(d,[0,R],[-1,1])),M=fr(Tt(d,[0,R+1],[-1,1])));var P=ht(Ge(Rt(M,p.xScale),l.w),l.x),z=ht(Ge(Rt(W,p.yScale),l.h),l.y);C=hr([C,De(P,[p.numBoxes,1]),De(z,[p.numBoxes,1])],1)}return C})}(a,e,n),o=$t(function(){var d=r;return n.sigmoidScore?(n.scoreClippingThresh!=null&&(d=$3(r,-n.scoreClippingThresh,n.scoreClippingThresh)),d=Ii(d)):d}),[4,w7(s,o,n)];case 1:return i=c.sent(),Zn([s,o]),[2,i]}})})}function w7(t,e,n){return no(this,void 0,void 0,function(){var r,a,s,o,i,c,d,l,p,h,m,y;return ro(this,function(v){switch(v.label){case 0:return r=[],[4,t.data()];case 1:return a=v.sent(),[4,e.data()];case 2:for(s=v.sent(),o=0;o<n.numBoxes;++o)if(!(n.minScoreThresh!=null&&s[o]<n.minScoreThresh||(i=o*n.numCoords,c=S7(a[i+0],a[i+1],a[i+2],a[i+3],s[o],n.flipVertically,o),(d=c.locationData.relativeBoundingBox).width<0||d.height<0))){if(n.numKeypoints>0)for((l=c.locationData).relativeKeypoints=[],p=n.numKeypoints*n.numValuesPerKeypoint,h=0;h<p;h+=n.numValuesPerKeypoint)m=i+n.keypointCoordOffset+h,y={x:a[m+0],y:n.flipVertically?1-a[m+1]:a[m+1]},l.relativeKeypoints.push(y);r.push(c)}return[2,r]}})})}function S7(t,e,n,r,a,s,o){return{score:[a],ind:o,locationData:{relativeBoundingBox:{xMin:e,yMin:s?1-n:t,xMax:r,yMax:s?1-t:n,width:r-e,height:n-t}}}}var x7={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:1,featureMapHeight:[],featureMapWidth:[],numLayers:4,minScale:.1484375,maxScale:.75,inputSizeHeight:128,inputSizeWidth:128,anchorOffsetX:.5,anchorOffsetY:.5,strides:[8,16,16,16],aspectRatios:[1],fixedAnchorSize:!0},k7={reduceBoxesInLowestLayer:!1,interpolatedScaleAspectRatio:0,featureMapHeight:[],featureMapWidth:[],numLayers:1,minScale:.1484375,maxScale:.75,inputSizeHeight:192,inputSizeWidth:192,anchorOffsetX:.5,anchorOffsetY:.5,strides:[4],aspectRatios:[1],fixedAnchorSize:!0},qg={runtime:"tfjs",modelType:"short",maxFaces:1,detectorModelUrl:"https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"},_7={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:896,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:128,yScale:128,hScale:128,wScale:128,minScoreThresh:.5},I7={applyExponentialOnBoxSize:!1,flipVertically:!1,ignoreClasses:[],numClasses:1,numBoxes:2304,numCoords:16,boxCoordOffset:0,keypointCoordOffset:4,numKeypoints:6,numValuesPerKeypoint:2,sigmoidScore:!0,scoreClippingThresh:100,reverseOutputOrder:!0,xScale:192,yScale:192,hScale:192,wScale:192,minScoreThresh:.6},C7=.3,E7={outputTensorSize:{width:128,height:128},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},T7={outputTensorSize:{width:192,height:192},keepAspectRatio:!0,outputTensorFloatRange:[-1,1],borderMode:"zero"},If,N7=function(){function t(e,n,r){this.detectorModel=n,this.maxFaces=r,e==="full"?(this.imageToTensorConfig=T7,this.tensorsToDetectionConfig=I7,this.anchors=Fw(k7)):(this.imageToTensorConfig=E7,this.tensorsToDetectionConfig=_7,this.anchors=Fw(x7));var a=Sr(this.anchors.map(function(c){return c.width})),s=Sr(this.anchors.map(function(c){return c.height})),o=Sr(this.anchors.map(function(c){return c.xCenter})),i=Sr(this.anchors.map(function(c){return c.yCenter}));this.anchorTensor={x:o,y:i,w:a,h:s}}return t.prototype.dispose=function(){this.detectorModel.dispose(),Zn([this.anchorTensor.x,this.anchorTensor.y,this.anchorTensor.w,this.anchorTensor.h])},t.prototype.reset=function(){},t.prototype.detectFaces=function(e,n){return n===void 0&&(n=!1),no(this,void 0,void 0,function(){var r,a,s,o,i,c,d,l,p,h,m;return ro(this,function(y){switch(y.label){case 0:return e==null?(this.reset(),[2,[]]):(r=$t(function(){var v=Cn(e_(e),"float32");return n&&(v=fr(jh.flipLeftRight(bs(v,0)),[0])),v}),a=g7(r,this.imageToTensorConfig),s=a.imageTensor,o=a.transformationMatrix,i=this.detectorModel.execute(s,"Identity:0"),c=v7(i),d=c.boxes,[4,b7([l=c.logits,d],this.anchorTensor,this.tensorsToDetectionConfig)]);case 1:return(p=y.sent()).length===0?(Zn([r,s,i,l,d]),[2,p]):[4,y7(p,this.maxFaces,C7)];case 2:return h=y.sent(),m=function(v,b){v===void 0&&(v=[]);var w,x=(w=b,[].concat.apply([],w));return v.forEach(function(_){var C=_.locationData;C.relativeKeypoints.forEach(function(z){var F=$w(x,[z.x,z.y]),O=F[0],U=F[1];z.x=O,z.y=U});var T=C.relativeBoundingBox,R=Number.MAX_VALUE,M=Number.MAX_VALUE,W=Number.MIN_VALUE,P=Number.MIN_VALUE;[[T.xMin,T.yMin],[T.xMin+T.width,T.yMin],[T.xMin+T.width,T.yMin+T.height],[T.xMin,T.yMin+T.height]].forEach(function(z){var F=$w(x,z),O=F[0],U=F[1];R=Math.min(R,O),W=Math.max(W,O),M=Math.min(M,U),P=Math.max(P,U)}),C.relativeBoundingBox={xMin:R,xMax:W,yMin:M,yMax:P,width:W-R,height:P-M}}),v}(h,o),Zn([r,s,i,l,d]),[2,m]}})})},t.prototype.estimateFaces=function(e,n){return no(this,void 0,void 0,function(){var r,a;return ro(this,function(s){return r=Jk(e),a=!!n&&n.flipHorizontal,[2,this.detectFaces(e,a).then(function(o){return o.map(function(i){for(var c=i.locationData.relativeKeypoints.map(function(y,v){return Mo(Mo({},y),{x:y.x*r.width,y:y.y*r.height,name:Qk[v]})}),d=i.locationData.relativeBoundingBox,l=0,p=["width","xMax","xMin"];l<p.length;l++)d[p[l]]*=r.width;for(var h=0,m=["height","yMax","yMin"];h<m.length;h++)d[m[h]]*=r.height;return{keypoints:c,box:d}})})]})})},t}();function A7(t){return no(this,void 0,void 0,function(){var e,n,r;return ro(this,function(a){switch(a.label){case 0:return e=function(s){if(s==null)return Mo({},qg);var o=Mo({},s);return o.modelType==null&&(o.modelType=qg.modelType),o.maxFaces==null&&(o.maxFaces=qg.maxFaces),o.detectorModelUrl==null&&(o.modelType==="full"?o.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/full/1":o.detectorModelUrl="https://tfhub.dev/mediapipe/tfjs-model/face_detection/short/1"),o}(t),n=typeof e.detectorModelUrl=="string"&&e.detectorModelUrl.indexOf("https://tfhub.dev")>-1,[4,c7(e.detectorModelUrl,{fromTFHub:n})];case 1:return r=a.sent(),[2,new N7(e.modelType,r,e.maxFaces)]}})})}function D7(t,e){return no(this,void 0,void 0,function(){var n,r;return ro(this,function(a){if(t===If.MediaPipeFaceDetector){if(r=void 0,(n=e)!=null){if(n.runtime==="tfjs")return[2,A7(n)];if(n.runtime==="mediapipe")return[2,p7(n)];r=n.runtime}throw new Error("Expect modelConfig.runtime to be either 'tfjs' "+"or 'mediapipe', but got ".concat(r))}throw new Error("".concat(t," is not a supported model name."))})})}(function(t){t.MediaPipeFaceDetector="MediaPipeFaceDetector"})(If||(If={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Ut;(function(t){t[t.float32=0]="float32",t[t.int32=1]="int32",t[t.bool=2]="bool",t[t.string=3]="string",t[t.complex64=4]="complex64"})(Ut||(Ut={}));var bc;(function(t){t[t.linear=0]="linear",t[t.relu=1]="relu",t[t.relu6=2]="relu6",t[t.prelu=3]="prelu",t[t.leakyrelu=4]="leakyrelu",t[t.sigmoid=5]="sigmoid",t[t.elu=6]="elu"})(bc||(bc={}));/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let t_;function F7(t){t_=t.wasm.cwrap(oc,null,["number","array","number","number","array","number","number","number","number","number","number","number","number"])}function R7(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:s,bias:o,preluActivationWeights:i}=e;if(a.dtype!=="float32"||s.dtype!=="float32")throw new Error("_FusedMatMul for non non-float32 tensors not yet supported.");const{transposeA:c,transposeB:d,activation:l,leakyreluAlpha:p}=r,h=n.dataIdMap.get(a.dataId).id,m=n.dataIdMap.get(s.dataId).id;let y=0;if(o!=null){const W=n.dataIdMap.get(o.dataId);if(W.shape.length!==1)throw new Error(`_FusedMatMul only supports rank-1 bias but got rank ${W.shape.length}.`);y=W.id}const v=i==null?0:n.dataIdMap.get(i.dataId).id,b=bc[l];if(b==null)throw new Error(`${l} activation not yet supported for FusedConv2D in the wasm backend.`);const w=c?a.shape[2]:a.shape[1],x=d?s.shape[1]:s.shape[2],_=hn(a.shape.slice(0,-2),s.shape.slice(0,-2)),C=n.makeOutput([..._,w,x],a.dtype),T=n.dataIdMap.get(C.dataId).id,R=new Uint8Array(new Int32Array(a.shape).buffer),M=new Uint8Array(new Int32Array(s.shape).buffer);return t_(h,R,a.shape.length,m,M,s.shape.length,c,d,b,y,v,p||0,T),C}const $7={kernelName:oc,backendName:"wasm",setupFunc:F7,kernelFunc:R7};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mt(t,e){let n;function r(s){n=s.wasm.cwrap(t,null,["number","number","number"])}function a(s){const{backend:o,inputs:{x:i}}=s,c=o.dataIdMap.get(i.dataId).id,d=o.makeOutput(i.shape,e||i.dtype),l=o.dataIdMap.get(d.dataId).id;return Ce(d.shape)===0||n(c,Ut[i.dtype],l),d}return{kernelName:t,backendName:"wasm",setupFunc:r,kernelFunc:a}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const O7=Mt(Wy);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const M7=Mt(Pf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const P7=Mt(Bf);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Un(t,e,n){let r;function a(o){r=o.wasm.cwrap(t,null,["number","array","number","number","array","number","number","number"])}function s(o){const{backend:i,inputs:c}=o,{a:d,b:l}=c,p=i.dataIdMap.get(d.dataId).id,h=i.dataIdMap.get(l.dataId).id,m=n??d.dtype,y=hn(d.shape,l.shape),v=i.makeOutput(y,m);if(Ce(y)===0)return v;const b=new Uint8Array(new Int32Array(d.shape).buffer),w=new Uint8Array(new Int32Array(l.shape).buffer),x=i.dataIdMap.get(v.dataId).id;return r(p,b,d.shape.length,h,w,l.shape.length,Ut[d.dtype],x),v}return{kernelName:t,backendName:"wasm",setupFunc:a,kernelFunc:s}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const B7=Un(Ic);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let n_;function z7(t){n_=t.wasm.cwrap(zf,null,["array","number","number","number"])}function L7(t){const{inputs:e,backend:n}=t,r=n.makeOutput(e[0].shape,e[0].dtype);if(Ce(r.shape)===0)return r;const a=e.map(i=>n.dataIdMap.get(i.dataId).id),s=new Uint8Array(new Int32Array(a).buffer),o=n.dataIdMap.get(r.dataId).id;return n_(s,a.length,Ut[r.dtype],o),r}const W7={kernelName:zf,backendName:"wasm",setupFunc:z7,kernelFunc:L7};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Gh(t){const{inputs:{x:e},backend:n}=t;if(e.dtype==="string")return Ja(n.readSync(e.dataId),e.shape,e.dtype);const r=n.makeOutput(e.shape,e.dtype),a=n.typedArrayFromHeap(e);return n.typedArrayFromHeap(r).set(a),r}const j7={kernelName:_p,backendName:"wasm",kernelFunc:Gh};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let r_;function V7(t){r_=t.wasm.cwrap(Nl,null,["number","array","number","number","number","array","number"])}function Po(t){const{inputs:e,backend:n,attrs:r}=t,[a,s]=H7(e.x.shape,r.perm);let o=!0;for(let y=0;y<s.length;y++)s[y]!==y&&(o=!1);const i=U7(e.x.shape,r.perm),c={dataId:e.x.dataId,shape:a,dtype:e.x.dtype};if(o){const y=Gh({inputs:e,backend:n});return y.shape=i,y}const d=n.makeOutput(i,c.dtype),l=n.dataIdMap.get(c.dataId).id,p=n.dataIdMap.get(d.dataId).id,h=new Uint8Array(new Int32Array(s).buffer),m=new Uint8Array(new Int32Array(c.shape).buffer);return r_(l,m,c.shape.length,Ut[c.dtype],p,h,s.length),d}function U7(t,e){const n=new Array(t.length);for(let r=0;r<n.length;r++)n[r]=t[e[r]];return n}function H7(t,e){const n=[],r=[];for(let a=0;a<t.length;++a)t[a]!==1&&n.push(t[a]),t[e[a]]!==1&&r.push(e[a]);for(let a=0;a<r.length;++a){let s=-1;for(let o=0;o<r.length;++o)r[o]>=a&&(s===-1||r[s]>r[o])&&(s=o);r[s]=a}return[n,r]}const G7={kernelName:Nl,backendName:"wasm",kernelFunc:Po,setupFunc:V7};/**
 * @license
 * Copyright 2020 Google Inc. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Uo(t,e,n){const r=t.shape,a=t.shape.length,s=En(e,r);let o=s;const i=Sa(o,a);let c=null,d=!1;if(i!=null){const l=new Array(a);for(let m=0;m<l.length;m++)l[m]=r[i[m]];o=zr(o.length,a),c=Po({inputs:{x:t},attrs:{perm:i},backend:n});const p=n.dataIdMap.get(t.dataId).id;n.dataIdMap.get(c.dataId).id!==p&&(d=!0)}return{transposed:c,originalAxes:s,axes:o,inputWasTransposed:d}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let a_;function q7(t){a_=t.wasm.cwrap(Lf,null,["number, number, number"])}function K7(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n;let c=e.dataIdMap.get(o.dataId).id,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);if(m){const _=e.dataIdMap.get(l.dataId).id;d=l,c=_}const y=d.shape.length;Br("all",p,y);const[v,b]=Pr(d.shape,p),w=Ce(b),x=e.makeOutput(v,o.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;a_(c,w,_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const X7={kernelName:Lf,backendName:"wasm",setupFunc:q7,kernelFunc:K7};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let s_;function Y7(t){s_=t.wasm.cwrap(Wf,null,["number, number, number"])}function Z7(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n;let c=e.dataIdMap.get(o.dataId).id,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);if(m){const _=e.dataIdMap.get(l.dataId).id;d=l,c=_}const y=d.shape.length;Br("any",p,y);const[v,b]=Pr(d.shape,p),w=Ce(b),x=e.makeOutput(v,o.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;s_(c,w,_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const Q7={kernelName:Wf,backendName:"wasm",setupFunc:Y7,kernelFunc:Z7};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function o_(t){let e;function n(a){e=a.wasm.cwrap(t,null,["number","number","number","number","number"])}function r(a){const{backend:s,inputs:o,attrs:i}=a,{axis:c}=i,{x:d}=o,l=s.dataIdMap.get(d.dataId).id;let p=l,h=d;const{transposed:m,axes:y,inputWasTransposed:v}=Uo(d,c,s);if(v){const T=s.dataIdMap.get(m.dataId).id;T!==l&&(h=m,p=T)}const b=h.shape.slice(0,-1),w=s.makeOutput(b,"int32"),x=s.dataIdMap.get(w.dataId).id,_=Ce(w.shape),C=h.shape[y[0]];return e(p,Ut[h.dtype],_,C,x),v&&s.disposeData(m.dataId),w}return{kernelName:t,backendName:"wasm",setupFunc:n,kernelFunc:r}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const J7=o_(jy);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eB=o_(Vy);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tB=Mt(jf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nB=Mt(Vf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rB=Mt(Uf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aB=Un(Gf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sB=Mt(Hf);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let i_;function oB(t){i_=t.wasm.cwrap(qf,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function iB(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,s=r.dataIdMap.get(a.dataId).id,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=n,l=rs(a.shape,o,i,1,c,d),p=l.filterHeight,h=l.filterWidth,m=l.padInfo.top,y=l.padInfo.right,v=l.padInfo.bottom,b=l.padInfo.left,w=l.strideHeight,x=l.strideWidth,_=l.inChannels;if(l.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${l.dataFormat}'. Please use 'channelsLast'.`);if(l.dilationWidth!==1||l.dilationHeight!==1)throw new Error(`was backend only supports average pooling with dilation = [1, 1], got [${l.dilationHeight}, ${l.dilationWidth}].`);const C=r.makeOutput(l.outShape,"float32"),T=r.dataIdMap.get(C.dataId).id;return i_(s,a.shape[0],a.shape[1],a.shape[2],p,h,m,y,v,b,w,x,_,T),C}const lB={kernelName:qf,backendName:"wasm",setupFunc:oB,kernelFunc:iB};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let l_;function uB(t){l_=t.wasm.cwrap("AvgPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function cB(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:d}=r,l=Vo(a.shape,s,o,1,i,c,d),p=n.makeOutput(l.outShape,a.dtype);return l_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}const dB={kernelName:Uy,backendName:"wasm",setupFunc:uB,kernelFunc:cB};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let u_;function fB(t){u_=t.wasm.cwrap("AvgPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function pB(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=r,l=Vo(s.shape,o,i,1,c,d),p=n.makeOutput(s.shape,s.dtype);return u_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left,l.filterDepth,l.filterHeight,l.filterWidth),p}const hB={kernelName:Px,backendName:"wasm",setupFunc:fB,kernelFunc:pB};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let c_;function mB(t){c_=t.wasm.cwrap("AvgPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function gB(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c}=r,d=rs(s.shape,o,i,1,c),l=n.makeOutput(s.shape,s.dtype);return c_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(l.dataId).id,d.batchSize,d.inChannels,d.inHeight,d.inWidth,d.outHeight,d.outWidth,d.strideHeight,d.strideWidth,d.dilationHeight,d.dilationWidth,d.effectiveFilterHeight,d.effectiveFilterWidth,d.padInfo.top,d.padInfo.left,d.filterHeight,d.filterWidth),l}const vB={kernelName:Mx,backendName:"wasm",setupFunc:mB,kernelFunc:gB};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hr(t){const{inputs:e,attrs:n}=t,{x:r}=e,{shape:a}=n,s=Ce(r.shape),o=Dx(a,s);return X(s===Ce(o),()=>`new shape: ${o}, old shape: ${r.shape}. New shape and old shape must have the same number of elements.`),t.backend.incRef(r.dataId),{dataId:r.dataId,shape:o,dtype:r.dtype}}const yB={kernelName:l0,backendName:"wasm",kernelFunc:Hr};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let d_;function bB(t){d_=t.wasm.cwrap(Kf,null,["number","array","number","number","array","number","number","number","number"])}function wB(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:s}=e,{transposeA:o,transposeB:i}=r;if(a.dtype!=="float32"||s.dtype!=="float32")throw new Error("BatchMatMul for non non-float32 tensors not yet supported.");const c=a.shape.length,d=s.shape.length,l=o?a.shape[c-2]:a.shape[c-1],p=i?s.shape[d-1]:s.shape[d-2],h=o?a.shape[c-1]:a.shape[c-2],m=i?s.shape[d-2]:s.shape[d-1],y=a.shape.slice(0,-2),v=s.shape.slice(0,-2),b=Ce(y),w=Ce(v),_=hn(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([h,m]);X(l===p,()=>`Error in matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${a.shape} and ${s.shape} and transposeA=${o} and transposeB=${i} must match.`);const C=o?[b,l,h]:[b,h,l],T=i?[w,m,p]:[w,p,m],R=Hr({inputs:{x:a},backend:n,attrs:{shape:C}}),M=Hr({inputs:{x:s},backend:n,attrs:{shape:T}}),W=n.dataIdMap.get(R.dataId).id,P=n.dataIdMap.get(M.dataId).id,z=o?R.shape[2]:R.shape[1],F=i?M.shape[1]:M.shape[2],O=Math.max(b,w),U=n.makeOutput([O,z,F],R.dtype),N=n.dataIdMap.get(U.dataId).id,q=new Uint8Array(new Int32Array(R.shape).buffer),ae=new Uint8Array(new Int32Array(M.shape).buffer);return d_(W,q,R.shape.length,P,ae,M.shape.length,o,i,N),n.disposeData(R.dataId),n.disposeData(M.dataId),U.shape=_,U}const SB={kernelName:Kf,backendName:"wasm",setupFunc:bB,kernelFunc:wB};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function at(t,e){Array.isArray(t)||(t=[t]),t.forEach(n=>{n!=null&&X(n.dtype!=="complex64",()=>`${e} does not support complex64 tensors in the CPU backend.`)})}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xB(t){const e=new Float32Array(t.length);for(let n=0;n<t.length;++n)e[n]=Math.abs(t[n]);return e}const kB=t=>{const{x:e}=t.inputs,n=t.backend;at(e,"abs");let r=new Float32Array(Ce(e.shape));const a=n.data.get(e.dataId).values;return r=xB(a),n.makeOutput(r,e.shape,e.dtype)},_B={kernelName:Wy,backendName:"cpu",kernelFunc:kB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Pn(t){return(e,n,r,a,s)=>{const o=hn(e,n),i=o.length,c=ot(o),d=Ce(o),l=Mr(s,d),p=e.length,h=n.length,m=ot(e),y=ot(n),v=vf(e,o),b=vf(n,o);if(v.length+b.length===0)for(let w=0;w<l.length;++w)l[w]=t(r[w%r.length],a[w%a.length]);else for(let w=0;w<l.length;++w){const x=Kl(w,i,c),_=x.slice(-p);v.forEach(M=>_[M]=0);const C=xs(_,p,m),T=x.slice(-h);b.forEach(M=>T[M]=0);const R=xs(T,h,y);l[w]=t(r[C],a[R])}return[l,o]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ia(t){const{inputs:e,backend:n}=t,{real:r,imag:a}=e,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,i=n.makeTensorInfo(r.shape,"complex64"),c=n.data.get(i.dataId);return c.complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",s),imag:n.makeTensorInfo(a.shape,"float32",o)},i}const IB={kernelName:Bx,backendName:"cpu",kernelFunc:ia};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cf(t,e,n="float32"){if(n==="complex64"){const a=Cf(t,e,"float32"),s=Cf(t,e,"float32");return ia({inputs:{real:a,imag:s},backend:t})}const r=xr(Ce(e),n);return t.makeTensorInfo(e,n,r)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Is(t){const{inputs:e,backend:n}=t,{x:r}=e;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}const CB={kernelName:_p,backendName:"cpu",kernelFunc:Is};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Mi(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.real,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const EB={kernelName:Qx,backendName:"cpu",kernelFunc:Mi};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TB(t,e,n,r){if(r==="int32"){const a=Int32Array.from(t);return[e,"int32",a]}if(r==="bool"){const a=zi([0],n),[s,o]=Pn((i,c)=>i!==c?1:0)(e,[],t,a,"bool");return[o,"bool",s]}throw new Error(`Error in Cast: failed to cast ${n} to ${r}`)}function Bo(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dtype:s}=r;if(s==="complex64"){if(a.dtype==="complex64")return Is({inputs:{x:a},backend:n});const l=Cf(n,a.shape,a.dtype),p=Bo({inputs:{x:a},backend:n,attrs:{dtype:"float32"}}),h=ia({inputs:{real:p,imag:l},backend:n});return n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),h}if(a.dtype==="complex64"){const l=Mi({inputs:{input:a},backend:n}),p=Bo({inputs:{x:l},backend:n,attrs:{dtype:s}});return n.disposeIntermediateTensorInfo(l),p}if(!iN(a.dtype,s)){const l=Is({inputs:{x:a},backend:n});return{dataId:l.dataId,shape:l.shape,dtype:s}}const o=n.data.get(a.dataId).values,[i,c,d]=TB(o,a.shape,a.dtype,s);return n.makeTensorInfo(i,c,d)}const NB={kernelName:Zf,backendName:"cpu",kernelFunc:Bo};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Qn(t,e,n,r){return n==null?({inputs:a,backend:s})=>{const{a:o,b:i}=a,c=s;at([o,i],t);const d=c.data.get(o.dataId).values,l=c.data.get(i.dataId).values,p=o.dtype==="string"?yc(d):d,h=o.dtype==="string"?yc(l):l,m=r||o.dtype,[y,v]=e(o.shape,i.shape,p,h,m);return c.makeTensorInfo(v,m,y)}:({inputs:a,backend:s})=>{const{a:o,b:i}=a,c=s;if(o.dtype==="complex64"||i.dtype==="complex64"){const d=Bo({inputs:{x:o},backend:c,attrs:{dtype:"complex64"}}),l=c.data.get(d.dataId),p=l.complexTensorInfos.real,h=l.complexTensorInfos.imag,m=c.data.get(p.dataId).values,y=c.data.get(h.dataId).values,v=Bo({inputs:{x:i},backend:c,attrs:{dtype:"complex64"}}),b=c.data.get(v.dataId),w=b.complexTensorInfos.real,x=b.complexTensorInfos.imag,_=c.data.get(w.dataId).values,C=c.data.get(x.dataId).values,[T,R,M]=n(o.shape,i.shape,m,y,_,C),W=c.makeTensorInfo(M,"float32",T),P=c.makeTensorInfo(M,"float32",R),z=ia({inputs:{real:W,imag:P},backend:c});return c.disposeIntermediateTensorInfo(d),c.disposeIntermediateTensorInfo(v),c.disposeIntermediateTensorInfo(W),c.disposeIntermediateTensorInfo(P),z}else{const d=c.data.get(o.dataId).values,l=c.data.get(i.dataId).values,p=r||o.dtype,[h,m]=e(o.shape,i.shape,d,l,p);return c.makeTensorInfo(m,p,h)}}}function U0(t){return(e,n,r,a,s,o)=>{const i=hn(e,n),c=Ce(i),d=i.length,l=ot(i),p=Mr("float32",c),h=Mr("float32",c),m=vf(e,i),y=vf(n,i),v=Ll(r,a),b=Ll(s,o),w=e.length,x=ot(e),_=n.length,C=ot(n);if(m.length+y.length===0)for(let T=0;T<p.length;T++){const R=T%v.length,M=T%b.length,W=t(v[R*2],v[R*2+1],b[M*2],b[M*2+1]);p[T]=W.real,h[T]=W.imag}else for(let T=0;T<p.length;T++){const R=Kl(T,d,l),M=R.slice(-w);m.forEach(O=>M[O]=0);const W=xs(M,w,x),P=R.slice(-_);y.forEach(O=>P[O]=0);const z=xs(P,_,C),F=t(v[W*2],v[W*2+1],b[z*2],b[z*2+1]);p[T]=F.real,h[T]=F.imag}return[p,h,i]}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AB=Pn((t,e)=>t+e),DB=U0((t,e,n,r)=>({real:t+n,imag:e+r})),Wl=Qn(Ic,AB,DB),FB={kernelName:Ic,backendName:"cpu",kernelFunc:Wl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function f_(t,e,n,r,a){const s=Ce(r),o=xr(a,n);for(let i=0;i<t.length;i++){const c=t[i];if(c<0)throw new Error("Input x must be non-negative!");c>=a||(s>0?o[c]+=e[i]:o[c]+=1)}return o}function RB(t,e,n,r=!1){const a=t.shape[0],s=t.shape[1],o=Ot([a,n],e.dtype);for(let i=0;i<a;i++)for(let c=0;c<s;c++){const d=t.get(i,c);if(d<0)throw new Error("Input x must be non-negative!");d>=n||(r?o.set(1,i,d):e.size>0?o.set(o.get(i,d)+e.get(i,c),i,d):o.set(o.get(i,d)+1,i,d))}return o}/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $B=Pn((t,e)=>t&e),OB=Qn(Yf,$B),MB={kernelName:Yf,backendName:"cpu",kernelFunc:OB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Ho(t){return(e,n,r)=>{const a=Vn(n,e.length);for(let s=0;s<e.length;++s)a[s]=t(e[s],r);return a}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rn(t,e,n){const r=Ho(e);return Go(t,r,n)}function Go(t,e,n){return({inputs:r,attrs:a,backend:s})=>{const{x:o}=r;at(o,t);const i=s,c=i.data.get(o.dataId).values;let d;if(o.dtype==="string"){if(!Array.isArray(c))throw new Error("String tensor's value was not an instance of Array");d=yc(c)}else d=c;const l=n||o.dtype,p=e(d,l,a);return i.makeTensorInfo(o.shape,l,p)}}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PB=Ho(t=>Math.ceil(t)),BB=Go(Qf,PB),zB={kernelName:Qf,backendName:"cpu",kernelFunc:BB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p_(t,e,n,r){const a=Vn(n,Ce(e));if(r&&n!=="string"){let s=0;t.forEach(o=>{const i=Ce(o.shape);a.set(o.vals,s),s+=i})}else{let s=0;t.forEach(o=>{const i=n==="string"?yc(o.vals):o.vals;let c=0;for(let d=0;d<o.shape[0];++d){const l=d*e[1]+s;for(let p=0;p<o.shape[1];++p)a[l+p]=i[c++]}s+=o.shape[1]})}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LB=Pn((t,e)=>t===e?1:0),h_=Qn(hp,LB,null,"bool"),WB={kernelName:hp,backendName:"cpu",kernelFunc:h_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jB=Ho(t=>Math.exp(t)),m_=Go(mp,jB,"float32"),VB={kernelName:mp,backendName:"cpu",kernelFunc:m_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const UB=Ho(t=>Math.expm1(t)),HB=Go(gp,UB),GB={kernelName:gp,backendName:"cpu",kernelFunc:HB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qB=Ho(t=>Math.floor(t)),KB=Go(yp,qB),XB={kernelName:yp,backendName:"cpu",kernelFunc:KB};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YB=Pn((t,e)=>Math.floor(t/e)),ZB=Qn(bp,YB,null,"int32"),QB={kernelName:bp,backendName:"cpu",kernelFunc:ZB};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JB(t,e,n,r,a,s,o,i,c){const d=Ot([r,s],n);for(let l=0;l<r;l++){const p=[];let h=0;for(let m=0;m<a;m++){const y=t[l*a+m];h+=y*o[m],p.push(y)}if(h<0||h>=c/s)throw new Error(`Invalid indices: ${p} does not index into ${i}`);for(let m=0;m<s;m++)d.values[l*s+m]=e.get(...e.indexToLoc(h*s+m))}return d}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function e9(t,e,n){const r=Ot(n,t.dtype);for(let a=0;a<r.size;++a){const o=r.indexToLoc(a).slice(),i=o[0],c=o[2],d=e.locToIndex([i,c]);o[2]=e.values[d];const l=t.locToIndex(o);0<=l&&l<t.values.length&&(r.values[a]=t.values[l])}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const t9=Pn((t,e)=>t>e?1:0),n9=Qn(xp,t9,null,"bool"),r9={kernelName:xp,backendName:"cpu",kernelFunc:n9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const a9=Pn((t,e)=>t>=e?1:0),s9=Qn(kp,a9,null,"bool"),o9={kernelName:kp,backendName:"cpu",kernelFunc:s9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const i9=Pn((t,e)=>t<e?1:0),l9=Qn(Np,i9,null,"bool"),u9={kernelName:Np,backendName:"cpu",kernelFunc:l9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const c9=Pn((t,e)=>t<=e?1:0),d9=Qn(Ap,c9,null,"bool"),f9={kernelName:Ap,backendName:"cpu",kernelFunc:d9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function p9(t,e,n){const r=(e-t)/(n-1),a=xr(n,"float32");a[0]=t;for(let s=1;s<a.length;s++)a[s]=a[s-1]+r;return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const h9=Ho(t=>Math.log(t)),m9=Go(Fp,h9),g9={kernelName:Fp,backendName:"cpu",kernelFunc:m9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v9(t,e,n,r){const a=Mr(r,Ce(n));for(let s=0;s<a.length;++s){const o=s*e;let i=t[o];for(let c=0;c<e;++c){const d=t[o+c];(Number.isNaN(d)||d>i)&&(i=d)}a[s]=i}return a}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const y9=Pn((t,e)=>Math.max(t,e)),b9=Qn(zp,y9),w9={kernelName:zp,backendName:"cpu",kernelFunc:b9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const S9=Pn((t,e)=>Math.min(t,e)),x9=Qn(Vp,S9),k9={kernelName:Vp,backendName:"cpu",kernelFunc:x9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const g_=Pn((t,e)=>t*e),_9=U0((t,e,n,r)=>({real:t*n-e*r,imag:t*r+e*n})),qh=Qn(qp,g_,_9),I9={kernelName:qp,backendName:"cpu",kernelFunc:qh};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function C9(t,e,n){const r=I0(-1,n);return g_([],e,r,t,n)}function E9(t){const{inputs:e,backend:n}=t,{x:r}=e;at(r,"neg");const a=n.data.get(r.dataId).values,[s,o]=C9(a,r.shape,r.dtype);return n.makeTensorInfo(o,r.dtype,s)}const T9={kernelName:a0,backendName:"cpu",kernelFunc:E9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const N9=Pn((t,e)=>t!==e?1:0),A9=Qn(Kp,N9,null,"bool"),D9={kernelName:Kp,backendName:"cpu",kernelFunc:A9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function v_(t,e,n,r,a){const s=e.length,o=Ce(e),i=ot(e),c=ot(a),d=Mr(n,Ce(a));for(let l=0;l<o;++l){const p=Kl(l,s,i),h=new Array(p.length);for(let y=0;y<h.length;y++)h[y]=p[r[y]];const m=xs(h,s,c);d[m]=t[l]}return d}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qr(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{perm:s}=n;at(a,"transpose");const o=a.shape.length,i=new Array(o);for(let p=0;p<i.length;p++)i[p]=a.shape[s[p]];const c=r.data.get(a.dataId).values,d=v_(c,a.shape,a.dtype,s,i);return{dataId:r.write(d,i,a.dtype),shape:i,dtype:a.dtype}}const F9={kernelName:Nl,backendName:"cpu",kernelFunc:qr};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function R9(t,e,n,r){const[a,s]=Pr(t,r),o=Xl(e,"int32"),i=xr(Ce(a),o),c=Ce(s);for(let d=0;d<i.length;++d){const l=d*c;let p=1;for(let h=0;h<c;++h)p*=n[l+h];i[d]=p}return{outVals:i,outShape:a,outDtype:o}}function $9(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r;at(a,"prod");const i=a.shape.length,c=En(s,a.shape),d=Sa(c,i);let l=c,p=a;const h=[];d!=null&&(p=qr({inputs:{x:a},backend:n,attrs:{perm:d}}),h.push(p),l=zr(l.length,i));const m=n.data.get(p.dataId).values,{outVals:y,outShape:v,outDtype:b}=R9(p.shape,p.dtype,m,l);let w=v;return o&&(w=mr(v,c)),h.forEach(x=>n.disposeIntermediateTensorInfo(x)),n.makeTensorInfo(w,b,y)}const O9={kernelName:nh,backendName:"cpu",kernelFunc:$9};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function M9(t,e,n){t.forEach((r,a)=>{if(r<0||r>=n){const s=Kl(a,e.length,ot(e)).join(",");throw new Error(`indices[${s}] = ${r} is not in [0, ${n})`)}})}function P9(t,e){for(let n=0;n<t.length;++n){const r=t[n],a=n===t.length-1?e:t[n+1].length;if(r.length===0)throw new Error("Ragged splits may not be empty");if(r[0]<0)throw new Error("Ragged splits must be non-negative");if(r[r.length-1]>a)throw new Error("Ragged splits must not point past values");for(let s=1;s<r.length;++s)if(r[s-1]>r[s])throw new Error("Ragged splits must be sorted in ascending order")}}function B9(t,e,n,r){const a=[];let s=0;const o=e.length-1+n.length,i=new Array(o).fill(null).map(()=>[0]);P9(n,r);let c=1;for(let d=0;d<e.length-1;++d){c*=e[d];const l=e[d+1];for(let p=1;p<c+1;++p)i[d].push(p*l)}for(let d=0;d<t.length;++d){let l=t[d],p=t[d]+1;for(let h=0;h<n.length;++h){const m=n[h],y=h+e.length-1;if(y>=0){const v=i[y],b=v[v.length-1]-m[l];for(let w=l;w<p;++w)i[y].push(m[w+1]+b)}l=m[l],p=m[p]}p!==l&&(a.push([l,p]),s+=p-l)}return{outSplits:i,valueSlices:a,numValues:s}}function z9(t){const e=[];for(let n=0;n<t.length;++n){const r=t[n].length,a=Vn("int32",r);e.push(a),t[n].forEach((s,o)=>a[o]=s)}return e}function Ow(t,e){const n=t.slice(0,e);for(;n.length<e;)n.push(1);for(let r=e;r<t.length;r++)n[e-1]*=t[r];return n}function L9(t,e,n,r,a,s){const o=Ow(e,2)[1],i=Ow(s,2)[1];let c=0;for(const d of n)for(let l=d[0];l<d[1];++l){for(let p=0;p<r;++p)a[c*i+p]=t[l*o+p];++c}}function W9(t,e,n,r,a){const s=e.slice();s[0]=a;const o=Vn(n,Ce(s)),i=t.length,c=i===0?0:i/e[0];return L9(t,e,r,c,o,s),[o,s]}function j9(t,e,n,r,a,s,o,i){if(t.length===0)throw new Error("paramsNestedSplits must be non empty");if(e[0].length===0)throw new Error("Split tensors must not be scalars");const c=e[0][0]-1;if(M9(s,o,c),r.length===0)throw new Error("params.rank must be nonzero");const d=r[0],{outSplits:l,valueSlices:p,numValues:h}=B9(s,o,t,d),m=z9(l),y=W9(n,r,a,p,h);return[m,y[0],y[1]]}/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Mw=2147483647;function V9(t,e,n,r,a,s,o){if(e.length>1)throw new Error("starts must be a scalar or vector");if(a.length>1)throw new Error("limits must be a scalar or vector");if(o.length>1)throw new Error("deltas must be a scalar or vector");const i=e.length===0,c=a.length===0,d=o.length===0,l=[];i||l.push(e[0]),c||l.push(a[0]),d||l.push(o[0]);for(let b=1;b<l.length;++b)if(l[b]!==l[b-1])throw new Error("starts, limits, and deltas must have the same shape");const p=l.length===0?1:l[0],h=Vn("int32",p+1);h[0]=0;for(let b=0;b<p;++b){const w=i?t[0]:t[b],x=c?r[0]:r[b],_=d?s[0]:s[b];if(_===0)throw new Error("Requires delta != 0");let C;if(_>0&&x<w||_<0&&x>w)C=0;else if(C=Math.ceil(Math.abs((x-w)/_)),C>Mw)throw new Error(`Requires ((limit - start) / delta) <= ${Mw}`);h[b+1]=h[b]+C}const m=h[p],y=Vn(n,m);let v=0;for(let b=0;b<p;++b){const w=h[b+1]-h[b];let x=i?t[0]:t[b];const _=d?s[0]:s[b];for(let C=0;C<w;++C)y[v++]=x,x+=_}return[h,y]}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var Da=ws;class Ef{constructor(e,n,r,a,s,o,i,c,d,l){this.shape=e,this.shapeShape=n,this.values=r,this.valuesShape=a,this.valuesDType=s,this.defaultValue=o,this.defaultValueShape=i,this.rowPartitionValues=c,this.rowPartitionValuesShapes=d,this.rowPartitionTypes=d8(l),this.raggedRank=f8(this.rowPartitionTypes)}getRowPartitionTypeByDimension(e){return this.rowPartitionTypes[0]===Da.FIRST_DIM_SIZE?this.rowPartitionTypes[e+1]:this.rowPartitionTypes[e]}getRowPartitionTensor(e){return this.rowPartitionTypes[0]===Da.FIRST_DIM_SIZE?this.rowPartitionValues[e+1]:this.rowPartitionValues[e]}getMaxWidth(e){const n=this.getRowPartitionTensor(e-1);switch(this.getRowPartitionTypeByDimension(e-1)){case Da.VALUE_ROWIDS:return Ef.getMaxWidthValueRowID(n);case Da.ROW_SPLITS:return Ef.getMaxWidthRowSplit(n);default:throw new Error(`Cannot handle partition type ${Da[this.getRowPartitionTypeByDimension(e-1)]}`)}}static getMaxWidthRowSplit(e){const n=e.length;if(n===0||n===1)return 0;let r=0;for(let a=0;a<n-1;++a){const s=e[a+1]-e[a];s>r&&(r=s)}return r}static getMaxWidthValueRowID(e){const n=e.length;if(n===0)return 0;let r=0,a=e[0],s=0;for(let o=1;o<n;++o){const i=e[o];i!==a&&(a=i,s=Math.max(o-r,s),r=o)}return Math.max(n-r,s)}tensorShapeFromTensor(e,n,r=!0){if(n.length===0){if(e[0]===-1)return[];throw new Error("The only valid scalar shape tensor is the fully unknown shape specified as -1.")}return Bw(e,r)}calculateOutputSize(e){const n=this.valuesShape,r=this.defaultValueShape;p8(r,n);const a=this.tensorShapeFromTensor(this.shape,this.shapeShape),o=c8(this.raggedRank,a,n);o[0]<0&&(o[0]=e);for(let i=1;i<=this.raggedRank;++i)o[i]<0&&(o[i]=this.getMaxWidth(i));return o}calculateFirstParentOutputIndex(e,n,r){const a=Math.min(e,r),s=[];let o=0;for(let i=0;i<a;++i,o+=n)s.push(o);for(let i=a;i<e;++i)s.push(-1);return X(s.length===e,()=>"Final length of result must be equal to firstDimension."),s}calculateOutputIndexRowSplit(e,n,r,a){const s=e.length,o=[];for(let i=0;i<s-1;++i){const c=e[i+1]-e[i];let d=Math.min(a,c),l=n[i];l===-1&&(d=0);for(let p=0;p<d;++p)o.push(l),l+=r;for(let p=0;p<c-d;++p)o.push(-1)}if(s>0&&o.length!==e[s-1])throw new Error("Invalid row split size.");return o}calculateOutputIndexValueRowID(e,n,r,a){const s=e.length,o=[];if(s===0)return[];let i=0,c=e[0];if(c>=n.length)throw new Error(`Got currentValueRowId=${c}, which is not less than ${n.length}`);let d=n[c];o.push(d);for(let l=1;l<s;++l){const p=e[l];if(p===c)d>=0&&(++i,i<a?d+=r:d=-1);else{if(i=0,c=p,p>=n.length)throw new Error(`Got nextValueRowId=${p} which is not less than ${n.length}`);d=n[p]}o.push(d)}if(o.length!==e.length)throw new Error("Invalid row ids.");return o}calculateOutputIndex(e,n,r,a){const s=this.getRowPartitionTensor(e),o=this.getRowPartitionTypeByDimension(e);switch(o){case Da.VALUE_ROWIDS:return this.calculateOutputIndexValueRowID(s,n,r,a);case Da.ROW_SPLITS:if(s.length-1>n.length)throw new Error(`Row partition size is greater than output size: ${s.length-1} > ${n.length}`);return this.calculateOutputIndexRowSplit(s,n,r,a);default:throw new Error(`Unsupported partition type: ${Da[o]}`)}}getFirstDimensionSize(){const e=this.rowPartitionValues[0];if(this.rowPartitionTypes.length===0)throw new Error("No row_partition_types given.");const n=this.rowPartitionTypes[0];switch(n){case Da.FIRST_DIM_SIZE:return e[0];case Da.VALUE_ROWIDS:throw new Error("Cannot handle VALUE_ROWIDS in first dimension.");case Da.ROW_SPLITS:return this.rowPartitionValuesShapes[0][0]-1;default:throw new Error(`Cannot handle type ${Da[n]}`)}}compute(){if(this.rowPartitionValues[0].length<=0)throw new Error("Invalid first partition input. Tensor requires at least one element.");const n=this.getFirstDimensionSize(),r=this.calculateOutputSize(n),a=new Array(this.raggedRank+1);a[a.length-1]=1;for(let c=a.length-2;c>=0;--c)a[c]=a[c+1]*r[c+1];const s=Bw(r,!1),o=Vn(this.valuesDType,Ce(s));if(a[0]*r[0]>0){let c=this.calculateFirstParentOutputIndex(n,a[0],r[0]);for(let d=1;d<=this.raggedRank;++d)c=this.calculateOutputIndex(d-1,c,a[d],r[d]);this.setOutput(this.raggedRank,c,o,s)}return[s,o]}setOutput(e,n,r,a){if(r.length===0)return;const s=this.values,o=r;let i=a.slice();i=i.slice(e+1);const c=Ce(i),d=n.length;let l=this.defaultValue;if(l.length!==c&&l.length!==1){const y=this.defaultValueShape;$t(()=>{const v=De(l,y);l=Zu(v,i).dataSync()})}let p=0,h=0,m=0;for(let y=0;y<=d;++y){let v=y<d?n[y]:-1;if(v===m){++m;continue}if(h<m){const b=s.subarray(p*c),w=o.subarray(h*c),x=(m-h)*c;Pw(w,b,x)}if(y>=d){const b=r.length;v=Math.floor(b/c)}if(v>m)if(this.defaultValue.length===1)o.subarray(m*c,v*c).fill(this.defaultValue[0]),m=v;else for(;v>m;){const b=o.slice(m*c);Pw(b,l,c),++m}v<0?(p=y+1,h=m):(p=y,h=m,m=h+1)}}}function Pw(t,e,n){for(let r=0;r<n;r++)t[r]=e[r]}function Bw(t,e){const n=[];for(let r of t){if(r<0){if(!e)throw new Error(`Dimension ${r} must be >= 0`);if(r<-1)throw new Error(`Dimension ${r} must be >= -1`);r=-1}n.push(r)}return n}function U9(t,e,n,r,a,s,o,i,c,d){return new Ef(t,e,n,r,a,s,o,i,c,d).compute()}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function y_(t,e,n,r){const a=t===e,s=t<e&&n<0,o=e<t&&n>1;if(a||s||o)return xr(0,r);const i=Math.abs(Math.ceil((e-t)/n)),c=xr(i,r);e<t&&n===1&&(n=-1),c[0]=t;for(let d=1;d<c.length;d++)c[d]=c[d-1]+n;return c}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const H9=Ho(t=>1/Math.sqrt(t)),G9=Go(ch,H9),q9={kernelName:ch,backendName:"cpu",kernelFunc:G9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function El(t,e,n,r,a,s,o,i,c,d){const l=[r/a,a],p=t.values,h=e.values;if(r===0)return Ot(n,e.dtype);const m=c instanceof Yn?c:Ot(l,e.dtype);typeof c=="string"||typeof c=="number"?m.values.fill(c):typeof c=="boolean"&&m.values.fill(+c);for(let y=0;y<s;y++){const v=[];let b=0;for(let w=0;w<o;w++){const x=p[y*o+w];v.push(x),b+=x*i[w]}if(b<0||b>=r/a)throw new Error(`Invalid indices: ${v} does not index into ${n}`);for(let w=0;w<a;w++)d?m.values[b*a+w]+=h[y*a+w]:m.values[b*a+w]=e.rank===0?h[0]:h[y*a+w]}return m}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const b_=rn(yh,t=>1/(1+Math.exp(-t))),K9={kernelName:yh,backendName:"cpu",kernelFunc:b_};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dy(t,e,n,r,a){const s=Ck(r,e,n),o=Ce(n),i=ot(r);if(s){const p=Ek(e,i);return a==="string"?t.slice(p,p+o):t.subarray(p,p+o)}const c=a==="string"?yc(t):t,d=Ot(r,a,c),l=Ot(n,a);for(let p=0;p<l.size;++p){const h=l.indexToLoc(p),m=h.map((y,v)=>y+e[v]);l.set(d.get(...m),...h)}return a==="string"?Kk(l.values):l.values}function Pi(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:s,size:o}=r;at(a,"slice");const[i,c]=Tk(a,s,o);l8(a,i,c);const d=n.data.get(a.dataId).values,l=dy(d,i,c,a.shape,a.dtype);return n.makeTensorInfo(c,a.dtype,l)}const X9={kernelName:f0,backendName:"cpu",kernelFunc:Pi};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Y9(t,e,n,r,a,s,o){const i=e[0],c=s[0],d=new Array(c),l=new Array(i),p=e[1];if(c===0){if(i!==0)throw new Error(Mk(i));const b=Vn(n,0),w=Vn(a,0);return[b,[0,p],w,d,l]}let h=!0,m=0;const y=new Array(c).fill(0);for(let b=0;b<i;++b){const w=t[b*p];if(w<0)throw new Error(Pk(b,w));if(w>=c)throw new Error(Bk(b,w,c));++y[w],h=h&&w>=m,m=w}let v=!0;for(let b=0;b<c;++b){const w=y[b]===0;d[b]=w,v=v&&!w,y[b]=Math.max(y[b],1),b>0&&(y[b]+=y[b-1])}if(v&&h){const b=t,w=r;for(let x=0;x<i;++x)l[x]=x;return[b,[i,p],w,d,l]}else{const b=y[c-1],w=Vn(n,b*p),x=Vn(a,b),_=new Array(c).fill(0);for(let C=0;C<i;++C){const T=t[C*p],R=_[T],M=(T===0?0:y[T-1])+R;_[T]++;for(let W=0;W<p;++W)w[M*p+W]=t[C*p+W];x[M]=r[C],l[C]=M}for(let C=0;C<c;++C)if(_[C]===0){const R=C===0?0:y[C-1];w[R*p+0]=C;for(let M=1;M<p;++M)w[R*p+M]=0;x[R]=o}return[w,[b,p],x,d,l]}}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Z9(t,e,n,r,a){const s=Ce(r),o=e[0],i=a.length,c=[];let d=1,l=-1;for(let b=0;b<i;++b){const w=a[b];if(w===-1){if(l!==-1)throw new Error(zk(l,b));l=b,c.push(1)}else{if(w<0)throw new Error(Lk(b,w));d*=w,c.push(w)}}if(l!==-1){if(d<=0)throw new Error(Wk());const b=Math.trunc(s/d);if(d*b!==s)throw new Error(jk(r,c));c[l]=b}if(Ce(c)!==s)throw new Error(Vk(r,c));const h=r.length,m=[];if(h>0){m[h-1]=1;for(let b=h-2;b>=0;--b)m[b]=m[b+1]*r[b+1]}const y=[];if(i>0){y[i-1]=1;for(let b=i-2;b>=0;--b)y[b]=y[b+1]*c[b+1]}const v=Vn(n,o*i);for(let b=0;b<o;++b){let w=0;for(let x=0;x<h;++x)w+=t[b*h+x]*m[x];for(let x=0;x<i;++x)v[b*i+x]=Math.trunc(w/y[x]),w%=y[x]}return[v,[o,i],c]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function w_(t,e,n,r,a,s=!1,o=0){const i=r.length,c=[e[0],t.length/e[0]],d=c[1],p=i>0?a[i-1]+1:0;if(p<0)throw new Error(xf());const h=e.slice();h[0]=p;const m=h.reduce((_,C)=>_*C,1),y=Vn(n,m);if(i===0)return p>0&&y.fill(o),[y,h];if(p<=0)throw new Error(xf());let v=0,b=1,w=0,x=a[v];for(;;){let _=0;if(b<i){if(_=a[b],x===_){++b;continue}if(x>=_)throw new Error(Uk())}if(x<0||x>=p)throw new Error(Hk(x,p));x>w&&y.fill(o,w*d,x*d);for(let C=v;C<b;++C){const T=r[C];if(T<0||T>=c[0])throw new Error(Gk(C,r[C],c[0]));for(let R=0;R<d;R++)y[x*d+R]+=t[T*d+R]}if(s)for(let C=0;C<d;C++)y[x*d+C]/=b-v;if(v=b,++b,w=x+1,x=_,b>i)break}return w<p&&y.fill(o,w*d,p*d),[y,h]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Q9=rn(wh,t=>Math.sqrt(t)),J9={kernelName:wh,backendName:"cpu",kernelFunc:Q9};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ez=Pn((t,e)=>{const n=t-e;return n*n}),tz=Qn(Ih,ez),nz={kernelName:Ih,backendName:"cpu",kernelFunc:tz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const rz=Ho((t,e)=>{const{pattern:n,replaceGlobal:r,rewrite:a}=e;return t.replace(new RegExp(n,r?"g":""),a)}),az=Go(y0,rz),sz={kernelName:y0,backendName:"cpu",kernelFunc:az};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oz(t,e,n,r){const a=Ot(t,e.dtype);for(let s=0;s<a.size;s++){const o=a.indexToLoc(s),i=new Array(o.length);for(let c=0;c<i.length;c++)i[c]=o[c]*n[c]+r[c];a.set(e.get(...i),...o)}return a}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */class iz{constructor(e,n,r,a,s,o){this.separator=_i(e),this.nGramWidths=n,this.leftPad=_i(r),this.rightPad=_i(a),this.padWidth=s,this.preserveShort=o}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,n){const r=this.getPadWidth(n);return Math.max(0,e+2*r-n+1)}createNGrams(e,n,r,a,s,o){for(let i=0;i<s;++i){const c=this.getPadWidth(o),d=Math.max(0,c-i),l=Math.max(0,c-(s-(i+1))),p=o-(d+l),h=n+(d>0?0:i-c);let m=0;m+=d*this.leftPad.length;for(let x=0;x<p;++x)m+=e[h+x].length;m+=l*this.rightPad.length;const y=d+l+p-1;m+=y*this.separator.length,r[a+i]=new Uint8Array(m);const v=r[a+i];let b=0;const w=x=>x.forEach(_=>v[b++]=_);for(let x=0;x<d;++x)w(this.leftPad),w(this.separator);for(let x=0;x<p-1;++x)w(e[h+x]),w(this.separator);if(p>0){w(e[h+p-1]);for(let x=0;x<l;++x)w(this.separator),w(this.rightPad)}else{for(let x=0;x<l-1;++x)w(this.rightPad),w(this.separator);w(this.rightPad)}}}compute(e,n){const r=e.length,a=n.length;if(a>0){let c=n[0];if(c!==0)throw new Error(`First split value must be 0, got ${c}`);for(let d=1;d<a;++d){let l=n[d]>=c;if(l=l&&n[d]<=r,!l)throw new Error(`Invalid split value ${n[d]}, must be in [${c}, ${r}]`);c=n[d]}if(c!==r)throw new Error(`Last split value must be data size. Expected ${r}, got ${c}`)}const s=a-1,o=Vn("int32",a);if(r===0||a===0){const c=new Array(r);for(let d=0;d<=s;++d)o[d]=0;return[c,o]}o[0]=0;for(let c=1;c<=s;++c){const d=n[c]-n[c-1];let l=0;this.nGramWidths.forEach(p=>{l+=this.getNumNGrams(d,p)}),this.preserveShort&&d>0&&l===0&&(l=1),o[c]=o[c-1]+l}const i=new Array(o[s]);for(let c=0;c<s;++c){const d=n[c];let l=o[c];if(this.nGramWidths.forEach(p=>{const h=n[c+1]-n[c],m=this.getNumNGrams(h,p);this.createNGrams(e,d,i,l,m,p),l+=m}),this.preserveShort&&l===o[c]){const p=n[c+1]-n[c];if(p===0)continue;const h=p+2*this.padWidth;this.createNGrams(e,d,i,l,1,h)}}return[i,o]}}function S_(t,e,n,r,a,s,o,i){return new iz(n,r,a,s,o,i).compute(t,e)}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lz(t,e,n,r){if(!t.length)return;if(e.length===0){for(let s=0;s<t.length;++s)r.push(t.subarray(s,s+1));return}if(e.length===1){const s=e[0];let o=t.indexOf(s);for(;o!==-1;){const i=t.subarray(0,o);(!n||i.length!==0)&&r.push(i),t=t.subarray(o+1),o=t.indexOf(s)}(!n||t.length!==0)&&r.push(t);return}let a=0;for(let s=0;s<t.length+1;s++)if(s===t.length||e.indexOf(t[s])!==-1){const o=t.subarray(a,s);(!n||o.length!==0)&&r.push(o),a=s+1}}function x_(t,e,n){const r=t.length,a=[];let s=0,o=0;const i=new Array(r);for(let h=0;h<r;++h){const m=a.length;lz(t[h],e,n,a);const y=a.length-m;i[h]=y,s+=y,o=Math.max(o,y)}const c=Vn("int32",s*2),d=new Array(s),l=[r,o];let p=0;for(let h=0;h<r;++h)for(let m=0;m<i[h];++m)c[p*2]=h,c[p*2+1]=m,d[p]=a[p],++p;return[c,d,l]}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function k_(t,e){const n=Vn("int32",t.length);for(let r=0;r<t.length;++r)n[r]=EN(t[r]).modulo(e).getLowBitsUnsigned();return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uz=Pn((t,e)=>t-e),cz=U0((t,e,n,r)=>({real:t-n,imag:e-r})),H0=Qn(Eh,uz,cz),dz={kernelName:Eh,backendName:"cpu",kernelFunc:H0};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fz(t,e){const n=new Array(t.rank);for(let a=0;a<n.length;a++)n[a]=t.shape[a]*e[a];const r=Ot(n,t.dtype);for(let a=0;a<r.values.length;++a){const s=r.indexToLoc(a),o=new Array(t.rank);for(let c=0;c<o.length;c++)o[c]=s[c]%t.shape[c];const i=t.locToIndex(o);r.values[a]=t.values[i]}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gu=(t,e)=>{const n=e.value-t.value;return n===0?t.index-e.index:n};function __(t,e,n=0,r=t.length-1){for(;r>n;){if(r-n>600){const i=r-n+1,c=e-n+1,d=Math.log(i),l=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*l*(i-l)/i)*Math.sign(c-i/2),h=Math.max(n,Math.floor(e-c*l/i+p)),m=Math.min(r,Math.floor(e+(i-c)*l/i+p));__(t,e,h,m)}const a=t[e];let s=n,o=r;for(Mu(t,n,e),Gu(t[r],a)>0&&Mu(t,n,r);s<o;){for(Mu(t,s,o),s++,o--;Gu(t[s],a)<0;)s=s+1;for(;Gu(t[o],a)>0;)o=o-1}Gu(t[n],a)===0?Mu(t,n,o):(o=o+1,Mu(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}}function pz(t,e,n,r,a){const s=e[e.length-1],[o,i]=[t.length/s,s],c=Mr(n,o*r),d=Mr("int32",o*r);for(let p=0;p<o;p++){const h=p*i,m=t.subarray(h,h+i);let y=new Array(m.length);m.forEach((x,_)=>y[_]={value:x,index:_}),r<y.length&&(__(y,r),y=y.slice(0,r)),a&&y.sort(Gu);const v=p*r,b=c.subarray(v,v+r),w=d.subarray(v,v+r);for(let x=0;x<r;x++)b[x]=y[x].value,w[x]=y[x].index}const l=e.slice();return l[l.length-1]=r,[Ot(l,n,c),Ot(l,"int32",d)]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function I_(t,e,n,r){const a=En(e,n)[0],s=[1,n[0],1];for(let y=0;y<a;y++)s[0]*=n[y];s[1]=n[a];for(let y=a+1;y<n.length;y++)s[2]*=n[y];const o=new Map,i=new Int32Array(n[a]),c=new Yn(s,r,t),d=[],l=s[0]===1&&s[2]===1;for(let y=0;y<n[a];y++){let v;if(l)v=t[y].toString();else{const w=[];for(let x=0;x<s[0];x++)for(let _=0;_<s[2];_++)w.push(c.get(x,y,_));v=w.join(",")}const b=o.get(v);if(b!=null)i[y]=b;else{const w=o.size;o.set(v,w),i[y]=w,d.push(y)}}const p=s.slice();p[1]=o.size;const h=new Yn(p,r);d.forEach((y,v)=>{for(let b=0;b<s[0];b++)for(let w=0;w<s[2];w++)h.set(c.get(b,y,w),b,v,w)});const m=n.slice();return m[a]=p[1],{outputValues:h.values,outputShape:m,indices:i}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bi(t){const{inputs:{x:e},attrs:{begin:n,size:r},backend:a}=t,[s,o]=Tk(e,n,r),i=Ck(e.shape,s,o),c=a.readSync(e.dataId),d=a.makeOutput(o,e.dtype),l=ot(e.shape),p=a.dataIdMap.get(d.dataId);if(i){const y=Ek(s,l);return e.dtype==="string"?p.stringBytes=c.slice(y,y+Ce(o)):a.typedArrayFromHeap(d).set(c.subarray(y,y+Ce(o))),d}if(e.dtype==="string"){const y=dy(c,s,o,e.shape,e.dtype);return p.stringBytes=y,d}const h=a.typedArrayFromHeap(d),m=e.shape.length;if(m===2)hz(c,l[0],h,s,o);else if(m===3)mz(c,l[0],l[1],h,s,o);else if(m===4)gz(c,l[0],l[1],l[2],h,s,o);else{const y=dy(c,s,o,e.shape,e.dtype);h.set(y)}return d}function hz(t,e,n,r,a){let s=0;const o=r[0],i=r[1],c=o+a[0];for(let d=o;d<c;d++){const l=d*e+i;n.set(t.subarray(l,l+a[1]),s),s+=a[1]}}function mz(t,e,n,r,a,s){let o=0;const i=a[0],c=a[1],d=a[2],l=i+s[0],p=c+s[1];for(let h=i;h<l;h++)for(let m=c;m<p;m++){const y=h*e+m*n+d;r.set(t.subarray(y,y+s[2]),o),o+=s[2]}}function gz(t,e,n,r,a,s,o){let i=0;const c=s[0],d=s[1],l=s[2],p=c+o[0],h=d+o[1],m=l+o[2],y=s[3];for(let v=c;v<p;v++)for(let b=d;b<h;b++)for(let w=l;w<m;w++){const x=v*e+b*n+w*r+y;a.set(t.subarray(x,x+o[3]),i),i+=o[3]}}const vz={kernelName:f0,backendName:"wasm",kernelFunc:Bi};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yz(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:s,crops:o}=r,i=s.reduce((w,x)=>w*x),c=Vh(a.shape,s,i),d=Uh(c.length,s.length),l=Hh(a.shape,s,i),p=Fk(o,s.length),h=Rk(l,o,s.length),m=Hr({inputs:{x:a},backend:n,attrs:{shape:c}}),y=Po({inputs:{x:m},backend:n,attrs:{perm:d}}),v=Hr({inputs:{x:y},backend:n,attrs:{shape:l}}),b=Bi({inputs:{x:v},backend:n,attrs:{begin:p,size:h}});return n.disposeData(m.dataId),n.disposeData(y.dataId),n.disposeData(v.dataId),b}const bz={kernelName:Hy,backendName:"wasm",kernelFunc:yz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let C_;function wz(t){C_=t.wasm.cwrap(Xf,null,["number","number","boolean","number","number","number"])}function Sz(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:s}=n,{size:o}=r,i=s.shape.reduce((p,h)=>p*h,1)!==0,c=a.shape.length===1?[o]:[a.shape[0],o],d=e.makeOutput(c,s.dtype);function l(p){return e.dataIdMap.get(p.dataId).id}return C_(l(a),o,i,l(s),Ut[s.dtype],l(d)),d}const xz={kernelName:Xf,backendName:"wasm",setupFunc:wz,kernelFunc:Sz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kz=Un(Yf);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _z(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,s=n.typedArrayFromHeap(r),o=n.typedArrayFromHeap(a),i=hn(Array.from(s),Array.from(o));return n.makeOutput([i.length],"int32",void 0,new Int32Array(i))}const Iz={kernelName:Gy,backendName:"wasm",kernelFunc:_z};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qo(t){const{inputs:{x:e},attrs:{dtype:n},backend:r}=t,a=r.makeOutput(e.shape,n),s=r.typedArrayFromHeap(e);return r.typedArrayFromHeap(a).set(s),a}const Cz={kernelName:Zf,backendName:"wasm",kernelFunc:qo};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Ez=Mt(Qf);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let E_;function Tz(t){E_=t.wasm.cwrap(Cc,null,["number","number","number","number"])}function Nz(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{clipValueMin:s,clipValueMax:o}=r,i=n.dataIdMap.get(a.dataId).id,c=n.makeOutput(a.shape,a.dtype),d=n.dataIdMap.get(c.dataId).id;return E_(i,s,o,d),c}const Az={kernelName:Cc,backendName:"wasm",setupFunc:Tz,kernelFunc:Nz};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function T_(t){const{inputs:e,backend:n}=t,r=En(t.attrs.axis,e[0].shape)[0],a=e.map(m=>m.shape);Ak(a,r);let s=Rl(e.map(m=>m.shape),r);const o=e.filter(m=>Ce(m.shape)>0);if(o.length===1)return Gh({inputs:{x:o[0]},backend:n});const i=n.makeOutput(s,e[0].dtype);if(Ce(s)===0)return i;if(o[0].dtype==="string"){const m=o.map(_=>{const T=[-1,Ce(_.shape.slice(r))];return Hr({inputs:{x:_},backend:n,attrs:{shape:T}})}),y=m.map(_=>({vals:n.readSync(_.dataId),shape:_.shape}));s=Rl(m.map(_=>_.shape),1);const v=m[0].shape[0]===1,b=p_(y,s,e[0].dtype,v),w=Rl(o.map(_=>_.shape),r);i.shape=w;const x=n.dataIdMap.get(i.dataId);return x.stringBytes=Kk(b),m.forEach(_=>n.disposeData(_.dataId)),i}const c=Ce(o[0].shape.slice(0,r));let d=0;const l=o.map(m=>{const y=Ce(m.shape.slice(r));return d+=y,y}),p=o.map(m=>n.typedArrayFromHeap(m)),h=n.typedArrayFromHeap(i);for(let m=0;m<c;m++){let y=m*d;for(let v=0;v<p.length;v++){const b=l[v],w=m*b,x=p[v].subarray(w,w+b);h.set(x,y),y+=b}}return i}const Dz={kernelName:qy,backendName:"wasm",kernelFunc:T_};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let N_;function Fz(t){N_=t.wasm.cwrap(Jf,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Rz(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:s}=e,o=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(s.dataId).id,{strides:c,dilations:d,pad:l,dimRoundingMode:p,dataFormat:h}=n,m=Zl(h),y=Xr(a.shape,s.shape,c,d,l,p,!1,m),v=y.filterHeight,b=y.filterWidth,w=y.padInfo.top,x=y.padInfo.right,_=y.padInfo.bottom,C=y.padInfo.left,T=y.dilationHeight,R=y.dilationWidth,M=y.strideHeight,W=y.strideWidth,P=y.inChannels,z=y.outChannels,F=y.padInfo.type==="SAME"?1:0;if(y.dataFormat!=="channelsLast")throw new Error(`wasm backend Conv2D does not support dataFormat:'${y.dataFormat}'. Please use 'channelsLast'.`);const O=r.makeOutput(y.outShape,"float32"),U=r.dataIdMap.get(O.dataId).id;return N_(o,a.shape[0],a.shape[1],a.shape[2],i,v,b,w,x,_,C,F,T,R,M,W,P,z,U),O}const $z={kernelName:Jf,backendName:"wasm",setupFunc:Fz,kernelFunc:Rz};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let A_;function Oz(t){A_=t.wasm.cwrap(ep,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Mz(t){const{backend:e,inputs:n,attrs:r}=t,{dy:a,filter:s}=n,{strides:o,pad:i,dataFormat:c,dimRoundingMode:d,inputShape:l}=r,p=1,h=Zl(c),m=Xr(l,s.shape,o,p,i,d,!1,h),{batchSize:y,filterHeight:v,filterWidth:b,inChannels:w,inHeight:x,inWidth:_,outChannels:C,outHeight:T,outWidth:R,strideHeight:M,strideWidth:W}=m,P=v-1-m.padInfo.top,z=b-1-m.padInfo.left,F=m.dataFormat==="channelsLast",O=ot(m.inShape),U=ot(a.shape),[N,q,ae]=ot(s.shape),J=O[0],Z=F?O[1]:O[2],Y=F?O[2]:1,te=F?1:O[1],B=U[0],V=F?U[1]:U[2],oe=F?U[2]:1,ue=F?1:U[1],le=e.makeOutput(m.inShape,"float32"),Ee=e.dataIdMap.get(le.dataId).id,Re=e.dataIdMap.get(a.dataId).id,xe=e.dataIdMap.get(s.dataId).id;return A_(Re,xe,y,v,b,x,_,w,T,R,C,M,W,P,z,N,q,ae,J,Z,Y,te,B,V,oe,ue,Ee),le}const Pz={kernelName:ep,backendName:"wasm",setupFunc:Oz,kernelFunc:Mz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let D_;function Bz(t){D_=t.wasm.cwrap(tp,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function zz(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s}=e,{strides:o,pad:i,dilations:c}=r;if(a.dtype!=="float32")throw new Error(`Tensor x must have dtype float32, got ${a.dtype}`);if(s.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${s.dtype}`);const d=Li(a.shape,s.shape,o,c,i),l=n.makeOutput(d.outShape,a.dtype);return D_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(l.dataId).id,d.batchSize,d.inDepth,d.inHeight,d.inWidth,d.inChannels,d.outDepth,d.outHeight,d.outWidth,d.outChannels,d.strideDepth,d.strideHeight,d.strideWidth,d.dilationDepth,d.dilationHeight,d.dilationWidth,d.filterDepth,d.filterHeight,d.filterWidth,d.padInfo.front,d.padInfo.top,d.padInfo.left),l}const Lz={kernelName:tp,backendName:"wasm",setupFunc:Bz,kernelFunc:zz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let F_;function Wz(t){F_=t.wasm.cwrap(Ky,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function jz(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:s}=e,{strides:o,pad:i,filterShape:c}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(s.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${s.dtype}`);const d=Li(a.shape,c,o,1,i),l=n.makeOutput(d.filterShape,s.dtype);return F_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(l.dataId).id,d.batchSize,d.inDepth,d.inHeight,d.inWidth,d.inChannels,d.outDepth,d.outHeight,d.outWidth,d.outChannels,d.strideDepth,d.strideHeight,d.strideWidth,d.dilationDepth,d.dilationHeight,d.dilationWidth,d.filterDepth,d.filterHeight,d.filterWidth,d.padInfo.front,d.padInfo.top,d.padInfo.left),l}const Vz={kernelName:Ky,backendName:"wasm",setupFunc:Wz,kernelFunc:jz};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let R_;function Uz(t){R_=t.wasm.cwrap(np,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function Hz(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:s}=e,{pad:o,strides:i,inputShape:c}=r;if(a.dtype!=="float32")throw new Error(`Tensor dy must have dtype float32, got ${a.dtype}`);if(s.dtype!=="float32")throw new Error(`Tensor filter must have dtype float32, got ${s.dtype}`);const d=Li(c,s.shape,i,1,o),l=n.makeOutput(d.inShape,a.dtype);return R_(n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(l.dataId).id,d.batchSize,d.inDepth,d.inHeight,d.inWidth,d.inChannels,d.outDepth,d.outHeight,d.outWidth,d.outChannels,d.strideDepth,d.strideHeight,d.strideWidth,d.dilationDepth,d.dilationHeight,d.dilationWidth,d.filterDepth,d.filterHeight,d.filterWidth,d.padInfo.front,d.padInfo.top,d.padInfo.left),l}const Gz={kernelName:np,backendName:"wasm",setupFunc:Uz,kernelFunc:Hz};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qz=Mt(rp);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kz=Mt(ap);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var fy;(function(t){t[t.bilinear=0]="bilinear",t[t.nearest=1]="nearest"})(fy||(fy={}));let $_;function Xz(t){$_=t.wasm.cwrap(ip,null,["number","number","number","number","array","number","number","number","number","number"])}function Yz(t){const{backend:e,inputs:n,attrs:r}=t,{method:a,extrapolationValue:s,cropSize:o}=r,{image:i,boxes:c,boxInd:d}=n,l=c.shape[0],[p,h]=o,m=[l,p,h,i.shape[3]];let y=e.dataIdMap.get(i.dataId),v;i.dtype!=="float32"&&(v=qo({backend:e,inputs:{x:i},attrs:{dtype:"float32"}}),y=e.dataIdMap.get(v.dataId));const b=y.id,w=e.dataIdMap.get(c.dataId).id,x=e.dataIdMap.get(d.dataId).id,_=e.makeOutput(m,"float32"),C=e.dataIdMap.get(_.dataId).id,T=new Uint8Array(new Int32Array(i.shape).buffer);return $_(b,w,x,l,T,p,h,fy[a],s,C),v!=null&&e.disposeData(v.dataId),_}const Zz={kernelName:ip,backendName:"wasm",setupFunc:Xz,kernelFunc:Yz};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let O_;function Qz(t){O_=t.wasm.cwrap(sp,null,["number","number","number","number","number","number"])}function Jz(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,exclusive:o,reverse:i}=r,c=a.shape.length;X(a.dtype==="float32"||a.dtype==="int32",()=>`cumprod does not support ${a.dtype} tensors in the WASM backend`);const d=Sa([s],c);let l=a;d!==null&&(l=Po({inputs:{x:a},attrs:{perm:d},backend:n}));const p=zr(1,c)[0];Br("cumprod",[p],c);const h=n.makeOutput(l.shape,l.dtype),m=l.shape[p],y=n.dataIdMap.get(l.dataId).id,v=n.dataIdMap.get(h.dataId).id;O_(y,o?1:0,i?1:0,m,v,Ut[a.dtype]);let b=h;if(d!==null){const w=Mh(d);b=Po({inputs:{x:h},attrs:{perm:w},backend:n}),n.disposeData(l.dataId),n.disposeData(h.dataId)}return b}const eL={kernelName:sp,backendName:"wasm",setupFunc:Qz,kernelFunc:Jz};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let M_;function tL(t){M_=t.wasm.cwrap(op,null,["number","number","number","number","number","number"])}function nL(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,exclusive:o,reverse:i}=r,c=a.shape.length;X(a.dtype==="float32"||a.dtype==="int32",()=>`cumsum does not support ${a.dtype} tensors in the WASM backend`);const d=Sa([s],c);let l=a;d!==null&&(l=Po({inputs:{x:a},attrs:{perm:d},backend:n}));const p=zr(1,c)[0];Br("cumsum",[p],c);const h=n.makeOutput(l.shape,l.dtype),m=l.shape[p],y=n.dataIdMap.get(l.dataId).id,v=n.dataIdMap.get(h.dataId).id;M_(y,o?1:0,i?1:0,m,v,Ut[a.dtype]);let b=h;if(d!==null){const w=Mh(d);b=Po({inputs:{x:h},attrs:{perm:w},backend:n}),n.disposeData(l.dataId),n.disposeData(h.dataId)}return b}const rL={kernelName:op,backendName:"wasm",setupFunc:tL,kernelFunc:nL};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let P_;function aL(t){P_=t.wasm.cwrap("DenseBincount",null,["number","array","number","number","boolean","number","number","boolean","number"])}function sL(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,weights:s}=n,{size:o,binaryOutput:i}=r,c=s.shape.reduce((h,m)=>h*m,1)!==0,d=a.shape.length===1?[o]:[a.shape[0],o],l=e.makeOutput(d,s.dtype);function p(h){return e.dataIdMap.get(h.dataId).id}return P_(p(a),new Uint8Array(new Int32Array(a.shape).buffer),a.shape.length,o,c,p(s),Ut[s.dtype],i,p(l)),l}const oL={kernelName:Xy,backendName:"wasm",setupFunc:aL,kernelFunc:sL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let B_;function iL(t){B_=t.wasm.cwrap(lp,null,["number","number","number","array","number","array","array","number","number"])}function lL(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{blockSize:s,dataFormat:o}=r,i=a.shape[0],c=o==="NHWC"?a.shape[1]:a.shape[2],d=o==="NHWC"?a.shape[2]:a.shape[3],l=o==="NHWC"?a.shape[3]:a.shape[1],p=c*s,h=d*s,m=l/(s*s),y=o==="NHWC"?[i,p,h,m]:[i,m,p,h],v=e.makeOutput(y,"float32"),w=e.dataIdMap.get(a.dataId).id,x=new Uint8Array(new Int32Array(ot(a.shape)).buffer),_=new Uint8Array(new Int32Array(y).buffer),C=new Uint8Array(new Int32Array(ot(y)).buffer),T=e.dataIdMap.get(v.dataId).id;return B_(w,s,o==="NHWC"?1:0,x,a.shape.length-1,_,C,y.length,T),v}const uL={kernelName:lp,backendName:"wasm",setupFunc:iL,kernelFunc:lL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let z_;function cL(t){z_=t.wasm.cwrap(up,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function dL(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:s}=e,o=r.dataIdMap.get(a.dataId).id,i=r.dataIdMap.get(s.dataId).id,{strides:c,dilations:d,pad:l,dimRoundingMode:p}=n,h=d??[1,1],m=Xr(a.shape,s.shape,c,h,l,p,!0),y=m.filterHeight,v=m.filterWidth,b=m.padInfo.top,w=m.padInfo.right,x=m.padInfo.bottom,_=m.padInfo.left,C=m.dilationHeight,T=m.dilationWidth,R=m.strideHeight,M=m.strideWidth,W=m.inChannels,P=m.outChannels,z=m.padInfo.type==="SAME"?1:0;if(m.dataFormat!=="channelsLast")throw new Error(`wasm backend DepthwiseConv2dNative does not support dataFormat:'${m.dataFormat}'. Please use 'channelsLast'.`);const F=r.makeOutput(m.outShape,"float32"),O=r.dataIdMap.get(F.dataId).id;return z_(o,a.shape[0],a.shape[1],a.shape[2],i,y,v,b,w,x,_,z,C,T,R,M,W,P,O),F}const fL={kernelName:up,backendName:"wasm",setupFunc:cL,kernelFunc:dL};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let L_;function pL(t){L_=t.wasm.cwrap("Diag",null,["number","number","number","number"])}function hL(t){const{inputs:e,backend:n}=t,{x:r}=e,a=Ce(r.shape),s=n.makeOutput([...r.shape,...r.shape],r.dtype);return L_(n.dataIdMap.get(r.dataId).id,Ut[r.dtype],a,n.dataIdMap.get(s.dataId).id),s}const mL={kernelName:Yy,backendName:"wasm",setupFunc:pL,kernelFunc:hL};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let W_;function gL(t){W_=t.wasm.cwrap(cp,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function vL(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s}=e,{strides:o,pad:i,dilations:c}=r;if(a.dtype!==s.dtype)throw new Error(`Dilation2D error: x must have the same dtype as filter. Got ${a.dtype} and ${s.dtype}`);const d=Yl(a.shape,s.shape,o,i,"NHWC",c),l=n.makeOutput(d.outShape,a.dtype);return W_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(l.dataId).id,Ut[a.dtype],d.batchSize,d.inChannels,d.inHeight,d.inWidth,d.outHeight,d.outWidth,d.strideHeight,d.strideWidth,d.dilationHeight,d.dilationWidth,d.filterHeight,d.filterWidth,d.padInfo.top,d.padInfo.left),l}const yL={kernelName:cp,backendName:"wasm",setupFunc:gL,kernelFunc:vL};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let j_;function bL(t){j_=t.wasm.cwrap(df,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function wL(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s,dy:o}=e,{strides:i,pad:c,dilations:d}=r;if(a.dtype!==s.dtype||a.dtype!==o.dtype)throw new Error(`Dilation2DBackpropFilter error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${s.dtype}, and ${o.dtype}`);const l=Yl(a.shape,s.shape,i,c,"NHWC",d),p=n.makeOutput(s.shape,s.dtype);return j_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(p.dataId).id,Ut[a.dtype],l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.filterHeight,l.filterWidth,l.padInfo.top,l.padInfo.left),p}const SL={kernelName:df,backendName:"wasm",setupFunc:bL,kernelFunc:wL};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let V_;function xL(t){V_=t.wasm.cwrap(cf,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function kL(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s,dy:o}=e,{strides:i,pad:c,dilations:d}=r;if(a.dtype!==s.dtype||a.dtype!==o.dtype)throw new Error(`Dilation2DBackpropInput error: x must have the same dtype as filter and dy. Got ${a.dtype}, ${s.dtype}, and ${o.dtype}`);const l=Yl(a.shape,s.shape,i,c,"NHWC",d),p=n.makeOutput(a.shape,a.dtype);return V_(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(p.dataId).id,Ut[a.dtype],l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.filterHeight,l.filterWidth,l.padInfo.top,l.padInfo.left),p}const _L={kernelName:cf,backendName:"wasm",setupFunc:xL,kernelFunc:kL};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IL=Mt(fp);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let U_;function CL(t){U_=t.wasm.cwrap(Zy,null,["number","number","number"])}function EL(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e,s=n.makeOutput(a.shape,"float32"),o=i=>n.dataIdMap.get(i.dataId).id;return U_(o(a),o(r),o(s)),s}const TL={kernelName:Zy,backendName:"wasm",setupFunc:CL,kernelFunc:EL};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NL=!1,AL=Un(hp,NL,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DL=Mt(pp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FL=Mt(mp,"float32");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function py(t){const{inputs:e,attrs:n,backend:r}=t,{input:a}=e,{dim:s}=n,o=a.shape.length,i=a.shape.slice();let c=s;return s<0&&(X(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),c=o+s+1),i.splice(c,0,1),Hr({inputs:{x:a},backend:r,attrs:{shape:i}})}const RL={kernelName:Qy,backendName:"wasm",kernelFunc:py};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $L=Mt(gp,"float32");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function H_(t){const{attrs:{shape:e,value:n,dtype:r},backend:a}=t,s=a.makeOutput(e,r);return a.typedArrayFromHeap(s).fill(n),s}const OL={kernelName:Jy,backendName:"wasm",kernelFunc:H_};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let G_;function ML(t){G_=t.wasm.cwrap(vp,null,["number","number","number","number","number","number"])}function PL(t){const{inputs:e,backend:n}=t,{image:r}=e,a=n.makeOutput(r.shape,r.dtype),s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id,[i,c,d,l]=r.shape;return G_(s,i,c,d,l,o),a}const BL={kernelName:vp,backendName:"wasm",kernelFunc:PL,setupFunc:ML};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const zL=Mt(yp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const LL=Un(bp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let q_;function WL(t){q_=t.wasm.cwrap(wp,null,["number","number","number","number","number","number","number"])}function jL(t){const{backend:e,inputs:n,attrs:r}=t,{varianceEpsilon:a}=r,{x:s,mean:o,variance:i,offset:c,scale:d}=n,l=e.dataIdMap.get(s.dataId).id,p=e.dataIdMap.get(o.dataId).id,h=e.dataIdMap.get(i.dataId).id,m=c!=null?e.dataIdMap.get(c.dataId).id:0,y=d!=null?e.dataIdMap.get(d.dataId).id:0,v=e.makeOutput(s.shape,s.dtype);if(Ce(s.shape)===0)return v;const b=e.dataIdMap.get(v.dataId).id;return q_(l,p,h,m,y,a,b),v}const VL={kernelName:wp,backendName:"wasm",setupFunc:WL,kernelFunc:jL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let K_;function UL(t){K_=t.wasm.cwrap(ic,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function HL(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:s,bias:o,preluActivationWeights:i}=e,{strides:c,pad:d,dilations:l,dataFormat:p,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=n,v=Xr(a.shape,s.shape,c,l,d,h),b=bc[m];if(b==null)throw new Error(`${m} activation not yet supported for FusedConv2D in the wasm backend.`);const w=r.dataIdMap.get(a.dataId).id,x=r.dataIdMap.get(s.dataId).id,_=v.outChannels;let C=0;if(o!=null){const oe=r.dataIdMap.get(o.dataId);if(oe.shape.length!==1)throw new Error(`FusedConv2D only supports rank-1 bias but got rank ${oe.shape.length}.`);if(oe.shape[0]!==_)throw new Error(`FusedConv2D bias shape (${oe.shape}) does not match the number of output channels (${_})`);C=oe.id}const T=v.filterHeight,R=v.filterWidth,M=v.padInfo.top,W=v.padInfo.right,P=v.padInfo.bottom,z=v.padInfo.left,F=v.dilationHeight,O=v.dilationWidth,U=v.strideHeight,N=v.strideWidth,q=v.inChannels,ae=v.padInfo.type==="SAME"?1:0,J=v.batchSize,Z=v.inHeight,Y=v.inWidth;if(p!=="NHWC")throw new Error(`wasm backend FusedConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const te=r.makeOutput(v.outShape,"float32"),B=r.dataIdMap.get(te.dataId).id,V=i==null?0:r.dataIdMap.get(i.dataId).id;return K_(w,J,Z,Y,x,T,R,C,M,W,P,z,ae,F,O,U,N,q,_,b,V,y||0,B),te}const GL={kernelName:ic,backendName:"wasm",setupFunc:UL,kernelFunc:HL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let X_;function qL(t){X_=t.wasm.cwrap(lc,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function KL(t){const{inputs:e,attrs:n,backend:r}=t,{x:a,filter:s,bias:o,preluActivationWeights:i}=e,{strides:c,pad:d,dilations:l,dataFormat:p,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=n,v=Xr(a.shape,s.shape,c,l,d,h,!0),b=bc[m];if(b==null)throw new Error(`${m} activation not yet supported for FusedDepthwiseConv2D in the wasm backend.`);const w=r.dataIdMap.get(a.dataId).id,x=r.dataIdMap.get(s.dataId).id,_=v.outChannels;let C=0;if(o!=null){const oe=r.dataIdMap.get(o.dataId);if(oe.shape.length!==1)throw new Error(`FusedDepthwiseConv2D only supports rank-1 bias but got rank ${oe.shape.length}.`);if(oe.shape[0]!==_)throw new Error(`FusedDepthwiseConv2D bias shape (${oe.shape}) does not match the number of output channels (${_})`);C=oe.id}const T=v.filterHeight,R=v.filterWidth,M=v.padInfo.top,W=v.padInfo.right,P=v.padInfo.bottom,z=v.padInfo.left,F=v.dilationHeight,O=v.dilationWidth,U=v.strideHeight,N=v.strideWidth,q=v.inChannels,ae=v.padInfo.type==="SAME"?1:0,J=v.batchSize,Z=v.inHeight,Y=v.inWidth;if(p!=="NHWC")throw new Error(`wasm backend FusedDepthwiseConv2D does not support dataFormat:'${p}'. Please use 'NHWC'.`);const te=r.makeOutput(v.outShape,"float32"),B=r.dataIdMap.get(te.dataId).id,V=i==null?0:r.dataIdMap.get(i.dataId).id;return X_(w,J,Z,Y,x,T,R,C,M,W,P,z,ae,F,O,U,N,q,_,b,V,y||0,B),te}const XL={kernelName:lc,backendName:"wasm",setupFunc:qL,kernelFunc:KL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Y_;function YL(t){Y_=t.wasm.cwrap(Sp,null,["number","number","number","number","number","number","array","number"])}function ZL(t){const{backend:e,inputs:n}=t,{params:r,indices:a}=n,[s,o,i,c]=_k(r,a),d=e.makeOutput(s,r.dtype);if(o===0)return d;const l=a.shape,p=l[l.length-1],m=e.dataIdMap.get(r.dataId).id,v=e.dataIdMap.get(a.dataId).id,b=new Uint8Array(new Int32Array(c).buffer),w=e.dataIdMap.get(d.dataId).id;return Y_(m,Ut[r.dtype],v,o,p,i,b,w),d}const QL={kernelName:Sp,backendName:"wasm",setupFunc:YL,kernelFunc:ZL};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Z_;function JL(t){Z_=t.wasm.cwrap("Gather",null,["number","number","array","number","number","number","array","number"])}function eW(t){const{backend:e,inputs:n,attrs:r}=t,{x:a,indices:s}=n,{axis:o,batchDims:i}=r,c=En(o,a.shape)[0],d=e.readSync(s.dataId),l=a.shape[c];for(let P=0;P<d.length;++P){const z=d[P];X(z<=l-1&&z>=0,()=>`GatherV2: the index value ${z} is not in [0, ${l-1}]`)}const p=qk(a,s,c,i),h=Hr({inputs:{x:a},attrs:{shape:[p.batchSize,p.outerSize,p.dimSize,p.sliceSize]},backend:e}),m=Ce(s.shape),y=Hr({inputs:{x:s},attrs:{shape:[p.batchSize,m/p.batchSize]},backend:e}),v=[p.batchSize,p.outerSize,m/p.batchSize,p.sliceSize],b=e.makeOutput(v,a.dtype);if(Ce(a.shape)===0)return b;const w=h.shape.length-1,_=e.dataIdMap.get(h.dataId).id,T=e.dataIdMap.get(y.dataId).id,R=e.dataIdMap.get(b.dataId).id,M=new Uint8Array(new Int32Array(ot(h.shape)).buffer),W=new Uint8Array(new Int32Array(ot(v)).buffer);return Z_(_,Ut[a.dtype],M,w,T,p.batchSize,W,R),e.disposeData(h.dataId),e.disposeData(y.dataId),b.shape=p.outputShape,b}const tW={kernelName:e0,backendName:"wasm",setupFunc:JL,kernelFunc:eW};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nW=!1,rW=Un(xp,nW,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const aW=!1,sW=Un(kp,aW,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const oW=Mt(Ip,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iW=Mt(Cp,"bool");/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const lW=Mt(Ep,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let Q_;function uW(t){Q_=t.wasm.cwrap(Tp,null,["number","number","number","number"])}function cW(t){const{inputs:{x:e},attrs:{alpha:n},backend:r}=t,a=r.dataIdMap.get(e.dataId).id,s=r.makeOutput(e.shape,"float32");if(Ce(e.shape)!==0){const o=r.dataIdMap.get(s.dataId).id;Q_(a,Ut[e.dtype],n,o)}return s}const dW={kernelName:Tp,backendName:"wasm",setupFunc:uW,kernelFunc:cW};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fW=!1,pW=Un(Np,fW,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hW=!1,mW=Un(Ap,hW,"bool");/**
 * @license
 * Copyright 2023 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let J_;function gW(t){J_=t.wasm.cwrap(Dp,null,["number","number","number","number"])}function vW(t){const{attrs:e,backend:n}=t,{start:r,stop:a,num:s}=e,o=Math.floor(s),i=n.makeOutput([o],"float32");return J_(n.dataIdMap.get(i.dataId).id,r,a,o),i}const yW={kernelName:Dp,backendName:"wasm",setupFunc:gW,kernelFunc:vW};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const bW=Mt(Fp);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wW=Mt(Rp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const SW=!1,xW=Un($p,SW,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const kW=Mt(Op);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _W=!1,IW=Un(Mp,_W,"bool");/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CW=!1,EW=Un(bN,CW,"bool");/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let eI;function TW(t){eI=t.wasm.cwrap(Pp,null,["number","number","number","number","number","number","number"])}function NW(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:s,bias:o,alpha:i,beta:c}=r;if(a.dtype!=="float32")throw new Error("LRN error: x must have dtype float32");const d=n.makeOutput(a.shape,a.dtype);return eI(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(d.dataId).id,a.shape[3],s,o,i,c),d}const AW={kernelName:Pp,backendName:"wasm",setupFunc:TW,kernelFunc:NW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let tI;function DW(t){tI=t.wasm.cwrap(t0,null,["number","number","number","number","number","number","number","number","number"])}function FW(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:s,dy:o}=e,{depthRadius:i,bias:c,alpha:d,beta:l}=r;if(a.dtype!=="float32"||s.dtype!=="float32"||o.dtype!=="float32")throw new Error("LRNGrad error: x, y, and dy must have dtype float32");const p=n.makeOutput(a.shape,a.dtype);return tI(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(o.dataId).id,n.dataIdMap.get(p.dataId).id,o.shape[3],i,c,d,l),p}const RW={kernelName:t0,backendName:"wasm",setupFunc:DW,kernelFunc:FW};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let nI;function $W(t){nI=t.wasm.cwrap(Bp,null,["number","number","number","number"])}function OW(t){const{backend:e,inputs:n,attrs:r}=t,{reductionIndices:a,keepDims:s}=r,{x:o}=n;let c=e.dataIdMap.get(o.dataId).id,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);if(m){const _=e.dataIdMap.get(l.dataId).id;d=l,c=_}const y=d.shape.length;Br("max",p,y);const[v,b]=Pr(d.shape,p),w=Ce(b),x=e.makeOutput(v,o.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;nI(c,Ut[o.dtype],w,_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const MW={kernelName:Bp,backendName:"wasm",setupFunc:$W,kernelFunc:OW};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PW=Un(zp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let rI;function BW(t){rI=t.wasm.cwrap(Lp,null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function zW(t){const{inputs:e,attrs:n,backend:r}=t,a=e.x,s=r.dataIdMap.get(a.dataId).id;X(a.dtype==="float32",()=>`Error in MaxPool: only float32 input is supported. Got ${a.dtype}.`);const{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=n,l=rs(a.shape,o,i,1,c,d),p=l.filterHeight,h=l.filterWidth,m=l.padInfo.top,y=l.padInfo.right,v=l.padInfo.bottom,b=l.padInfo.left,w=l.dilationHeight,x=l.dilationWidth,_=l.strideHeight,C=l.strideWidth,T=l.inChannels,R=l.outChannels;if(l.dataFormat!=="channelsLast")throw new Error(`wasm backend does not support dataFormat:'${l.dataFormat}'. Please use 'channelsLast'.`);const M=r.makeOutput(l.outShape,"float32"),W=r.dataIdMap.get(M.dataId).id;return rI(s,a.shape[0],a.shape[1],a.shape[2],p,h,m,y,v,b,w,x,_,C,T,R,W),M}const LW={kernelName:Lp,backendName:"wasm",setupFunc:BW,kernelFunc:zW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let aI;function WW(t){aI=t.wasm.cwrap("MaxPool3D",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function jW(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:d}=r,l=Vo(a.shape,s,o,1,i,c,d),p=n.makeOutput(l.outShape,a.dtype);return aI(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}const VW={kernelName:n0,backendName:"wasm",setupFunc:WW,kernelFunc:jW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let sI;function UW(t){sI=t.wasm.cwrap("MaxPool3DGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function HW(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=r,l=Vo(s.shape,o,i,1,c,d),p=n.makeOutput(s.shape,s.dtype);return sI(n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inDepth,l.inHeight,l.inWidth,l.outDepth,l.outHeight,l.outWidth,l.strideDepth,l.strideHeight,l.strideWidth,l.dilationDepth,l.dilationHeight,l.dilationWidth,l.effectiveFilterDepth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.front,l.padInfo.top,l.padInfo.left),p}const GW={kernelName:Kx,backendName:"wasm",setupFunc:UW,kernelFunc:HW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let oI;function qW(t){oI=t.wasm.cwrap("MaxPoolGrad",null,["number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function KW(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=r,l=rs(s.shape,o,i,1,c,d),p=n.makeOutput(s.shape,s.dtype);return oI(n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.top,l.padInfo.left),p}const XW={kernelName:qx,backendName:"wasm",setupFunc:qW,kernelFunc:KW};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let iI;function YW(t){iI=t.wasm.cwrap("MaxPoolWithArgmax",null,["number","number","number","number","boolean","number","number","number","number","number","number","number","number","number","number","number","number","number","number"])}function ZW(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:s,strides:o,pad:i,includeBatchInIndex:c}=r;X(a.shape.length===4,()=>`Error in maxPool: input must be rank 4 but got rank ${a.shape.length}.`);const d=[1,1];X(Ba(o,d),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const l=rs(a.shape,s,o,[1,1],i),p=n.makeOutput(l.outShape,a.dtype),h=n.makeOutput(l.outShape,"int32");return iI(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(p.dataId).id,n.dataIdMap.get(h.dataId).id,Ut[a.dtype],c,l.batchSize,l.inChannels,l.inHeight,l.inWidth,l.outHeight,l.outWidth,l.strideHeight,l.strideWidth,l.dilationHeight,l.dilationWidth,l.effectiveFilterHeight,l.effectiveFilterWidth,l.padInfo.top,l.padInfo.left),[p,h]}const QW={kernelName:r0,backendName:"wasm",setupFunc:YW,kernelFunc:ZW};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let lI;function JW(t){lI=t.wasm.cwrap(Wp,null,["number, number, number"])}function ej(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n,i=e.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);let y=p;if(m){const C=e.dataIdMap.get(l.dataId).id;C!==i&&(d=l,c=C,y=zr(y.length,d.shape.length))}Br("mean",y,d.shape.length);const[v,b]=Pr(d.shape,y),w=Ce(b);let x=d;d.dtype!=="float32"&&(x=qo({backend:e,inputs:{x:d},attrs:{dtype:"float32"}}),c=e.dataIdMap.get(x.dataId).id);const _=e.makeOutput(v,"float32");if(Ce(d.shape)!==0){const C=e.dataIdMap.get(_.dataId).id;lI(c,w,C)}if(m&&e.disposeData(l.dataId),s){const C=mr(_.shape,h);_.shape=C}return d.dtype!=="float32"&&e.disposeData(x.dataId),_}const tj={kernelName:Wp,backendName:"wasm",setupFunc:JW,kernelFunc:ej};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let uI;function nj(t){uI=t.wasm.cwrap(jp,null,["number","number","number","number"])}function rj(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n,i=e.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);if(m){const _=e.dataIdMap.get(l.dataId).id;_!==i&&(d=l,c=_)}const y=d.shape.length;Br("min",p,y);const[v,b]=Pr(d.shape,p),w=Ce(b),x=e.makeOutput(v,d.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;uI(c,Ut[o.dtype],w,_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const aj={kernelName:jp,backendName:"wasm",setupFunc:nj,kernelFunc:rj};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sj=Un(Vp);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */var hy;(function(t){t[t.reflect=0]="reflect",t[t.symmetric=1]="symmetric"})(hy||(hy={}));let cI;function oj(t){cI=t.wasm.cwrap(Up,null,["number","array","number","number","array","array","number","number"])}function ij(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,mode:a}}=t,s=r.map((y,v)=>y[0]+e.shape[v]+y[1]),o=n.dataIdMap.get(e.dataId).id,i=n.makeOutput(s,e.dtype),c=n.dataIdMap.get(i.dataId).id,d=new Uint8Array(new Int32Array(e.shape).buffer),l=r.map(y=>y[0]),p=r.map(y=>y[1]),h=new Uint8Array(new Int32Array(l).buffer),m=new Uint8Array(new Int32Array(p).buffer);return cI(o,d,e.shape.length,Ut[e.dtype],h,m,hy[a],c),i}const lj={kernelName:Up,backendName:"wasm",kernelFunc:ij,setupFunc:oj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let dI;function uj(t){dI=t.wasm.cwrap(xh,null,["number","number","number","number"])}function fI(t){const{backend:e,inputs:{logits:n},attrs:{dim:r}}=t,a=e.dataIdMap.get(n.dataId).id,s=e.makeOutput(n.shape,n.dtype),o=e.dataIdMap.get(s.dataId).id,i=n.shape[r],c=Ce(n.shape)/i;return Ce(s.shape)===0||dI(a,o,i,c),s}const cj={kernelName:xh,backendName:"wasm",setupFunc:uj,kernelFunc:fI};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let pI;function dj(t){pI=t.wasm.cwrap(Gp,null,["number","number","number","number","number","number"])}function fj(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:s,seed:o,normalized:i}=r;if(a.dtype!=="float32")throw new Error(`Tensor logits must have dtype float32, got ${a.dtype}`);const c=i?a:fI({inputs:{logits:a},backend:n,attrs:{dim:a.shape.length-1}}),[d,l]=c.shape,p=n.makeOutput([d,s],"int32");return pI(n.dataIdMap.get(c.dataId).id,d,l,s,o,n.dataIdMap.get(p.dataId).id),i||n.disposeData(c.dataId),p}const pj={kernelName:Gp,backendName:"wasm",setupFunc:dj,kernelFunc:fj};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hj=Un(Hp);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mj=Un(qp);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gj=Mt(a0);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function G0(t,e){const n=new Int32Array(t.wasm.HEAPU8.buffer,e,4),r=n[0],a=n[1],s=n[2],o=n[3];return t.wasm._free(e),{pSelectedIndices:r,selectedSize:a,pSelectedScores:s,pValidOutputs:o}}/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let hI;function vj(t){hI=t.wasm.cwrap(Xp,"number",["number","number","number","number","number"])}function yj(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o}=r,{boxes:i,scores:c}=n,d=e.dataIdMap.get(i.dataId).id,l=e.dataIdMap.get(c.dataId).id,p=hI(d,l,s,a,o),{pSelectedIndices:h,selectedSize:m,pSelectedScores:y,pValidOutputs:v}=G0(e,p);return e.wasm._free(y),e.wasm._free(v),e.makeOutput([m],"int32",h)}const bj={kernelName:Xp,backendName:"wasm",setupFunc:vj,kernelFunc:yj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let mI;function wj(t){mI=t.wasm.cwrap(Yp,"number",["number","number","number","number","number","bool"])}function Sj(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,padToMaxOutputSize:i}=r,{boxes:c,scores:d}=n,l=e.dataIdMap.get(c.dataId).id,p=e.dataIdMap.get(d.dataId).id,h=mI(l,p,s,a,o,i),{pSelectedIndices:m,selectedSize:y,pSelectedScores:v,pValidOutputs:b}=G0(e,h);e.wasm._free(v);const w=e.makeOutput([y],"int32",m),x=e.makeOutput([],"int32",b);return[w,x]}const xj={kernelName:Yp,backendName:"wasm",setupFunc:wj,kernelFunc:Sj};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let gI;function kj(t){gI=t.wasm.cwrap(Zp,"number",["number","number","number","number","number","number"])}function _j(t){const{backend:e,inputs:n,attrs:r}=t,{iouThreshold:a,maxOutputSize:s,scoreThreshold:o,softNmsSigma:i}=r,{boxes:c,scores:d}=n,l=e.dataIdMap.get(c.dataId).id,p=e.dataIdMap.get(d.dataId).id,h=gI(l,p,s,a,o,i),{pSelectedIndices:m,selectedSize:y,pSelectedScores:v,pValidOutputs:b}=G0(e,h);e.wasm._free(b);const w=e.makeOutput([y],"int32",m),x=e.makeOutput([y],"float32",v);return[w,x]}const Ij={kernelName:Zp,backendName:"wasm",setupFunc:kj,kernelFunc:_j};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Cj=!1,Ej=Un(Kp,Cj,"bool");/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let vI;function Tj(t){vI=t.wasm.cwrap(Qp,null,["number","number","number","number","number"])}function Nj(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:s,depth:o,onValue:i,offValue:c}=r,d=n.makeOutput([...a.shape,o],s),l=n.dataIdMap.get(d.dataId).id,h=n.dataIdMap.get(a.dataId).id;return vI(h,o,i,c,l),d}const Aj={kernelName:Qp,backendName:"wasm",setupFunc:Tj,kernelFunc:Nj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Dj(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(1),r}const Fj={kernelName:s0,backendName:"wasm",kernelFunc:Dj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Rj(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return py({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const s=e[0].shape,o=e[0].dtype;e.forEach(l=>{la(s,l.shape,"All tensors passed to stack must have matching shapes"),X(o===l.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],c=e.map(l=>{const p=py({inputs:{input:l},backend:n,attrs:{dim:a}});return i.push(p),p}),d=T_({inputs:c,backend:n,attrs:{axis:a}});return i.forEach(l=>n.disposeData(l.dataId)),d}const $j={kernelName:o0,backendName:"wasm",kernelFunc:Rj};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let yI;function Oj(t){yI=t.wasm.cwrap(Jp,null,["number","array","number","number","array","array","number","number"])}function Mj(t){const{inputs:{x:e},backend:n,attrs:{paddings:r,constantValue:a}}=t,s=r.map((v,b)=>v[0]+e.shape[b]+v[1]);if(Ce(e.shape)===0)return H_({backend:n,attrs:{shape:s,value:a,dtype:e.dtype}});const o=n.dataIdMap.get(e.dataId).id,i=n.makeOutput(s,e.dtype),d=n.dataIdMap.get(i.dataId).id,l=new Uint8Array(new Int32Array(e.shape).buffer),p=r.map(v=>v[0]),h=r.map(v=>v[1]),m=new Uint8Array(new Int32Array(p).buffer),y=new Uint8Array(new Int32Array(h).buffer);return yI(o,l,e.shape.length,Ut[e.dtype],m,y,a,d),i}const bI={kernelName:Jp,backendName:"wasm",kernelFunc:Mj,setupFunc:Oj};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Pj=Un(eh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let wI;function Bj(t){wI=t.wasm.cwrap(th,null,["number","number","number"])}function zj(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e,s=n.dataIdMap.get(r.dataId).id,o=n.dataIdMap.get(a.dataId).id;let i=s;const c=r;let d=c;c.dtype!=="float32"&&(d=qo({backend:n,inputs:{x:r},attrs:{dtype:"float32"}}),i=n.dataIdMap.get(d.dataId).id);const l=n.makeOutput(r.shape,"float32"),p=n.dataIdMap.get(l.dataId).id;return wI(i,o,p),c.dtype!=="float32"&&n.disposeData(d.dataId),l}const Lj={kernelName:th,backendName:"wasm",setupFunc:Bj,kernelFunc:zj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let SI;function Wj(t){SI=t.wasm.cwrap(nh,null,["number","number","number","number"])}function jj(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n,i=e.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);let y=p;if(m){const _=e.dataIdMap.get(l.dataId).id;_!==i&&(d=l,c=_,y=zr(y.length,d.shape.length))}Br("prod",y,d.shape.length);const[v,b]=Pr(d.shape,y),w=Ce(b),x=e.makeOutput(v,d.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;SI(c,w,Ut[x.dtype],_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const Vj={kernelName:nh,backendName:"wasm",setupFunc:Wj,kernelFunc:jj};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Uj=t=>{const{backend:e,attrs:n}=t,{start:r,stop:a,step:s,dtype:o}=n,i=y_(r,a,s,o),c=e.makeOutput([i.length],o);return e.typedArrayFromHeap(c).set(i),c},Hj={kernelName:i0,backendName:"wasm",kernelFunc:Uj};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Gj=Un(dp);/**
 * @license
 * Copyright 2022 The TensorFlow Authors. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qj=Mt(rh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Kj=Mt(ah);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Xj=Mt(ih);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let xI;function Yj(t){xI=t.wasm.cwrap(oh,null,["number","number","number","number","number","number","number","number","number","number"])}function Zj(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:s,halfPixelCenters:o,size:i}=r,[c,d]=i,[l,p,h,m]=a.shape,y=[l,c,d,m];let v=e.dataIdMap.get(a.dataId),b;v.dtype!=="float32"&&(b=qo({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),v=e.dataIdMap.get(b.dataId));const w=v.id,x=e.makeOutput(y,"float32");if(Ce(a.shape)===0)return x;const _=e.dataIdMap.get(x.dataId).id;return xI(w,l,p,h,m,c,d,s?1:0,o?1:0,_),b!=null&&e.disposeData(b.dataId),x}const Qj={kernelName:oh,backendName:"wasm",setupFunc:Yj,kernelFunc:Zj};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let kI;function Jj(t){kI=t.wasm.cwrap(c0,null,["number","number","number","array","array","boolean"])}function eV(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:s}=e,{alignCorners:o}=r,i=n.makeOutput(a.shape,"float32");let c=n.dataIdMap.get(a.dataId),d;return c.dtype!=="float32"&&(d=qo({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),c=n.dataIdMap.get(d.dataId)),kI(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(s.shape).buffer),o),d!=null&&n.disposeData(d.dataId),i}const tV={kernelName:c0,backendName:"wasm",setupFunc:Jj,kernelFunc:eV};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let _I;function nV(t){_I=t.wasm.cwrap(sh,null,["number","number","number","number","number","number","number","number","number","number"])}function rV(t){const{backend:e,inputs:n,attrs:r}=t,{images:a}=n,{alignCorners:s,halfPixelCenters:o,size:i}=r,[c,d]=i,[l,p,h,m]=a.shape,y=[l,c,d,m],v=e.makeOutput(y,"float32");if(Ce(a.shape)===0)return v;let b=e.dataIdMap.get(a.dataId),w;b.dtype!=="float32"&&(w=qo({backend:e,inputs:{x:a},attrs:{dtype:"float32"}}),b=e.dataIdMap.get(w.dataId));const x=b.id,_=e.dataIdMap.get(v.dataId).id;return _I(x,l,p,h,m,c,d,s?1:0,o?1:0,_),w!=null&&e.disposeData(w.dataId),v}const aV={kernelName:sh,backendName:"wasm",setupFunc:nV,kernelFunc:rV};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let II;function sV(t){II=t.wasm.cwrap(u0,null,["number","number","number","array","array","boolean"])}function oV(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:s}=e,{alignCorners:o}=r,i=n.makeOutput(a.shape,"float32");let c=n.dataIdMap.get(a.dataId),d;return c.dtype!=="float32"&&(d=qo({backend:n,inputs:{x:a},attrs:{dtype:"float32"}}),c=n.dataIdMap.get(d.dataId)),II(n.dataIdMap.get(a.dataId).id,n.dataIdMap.get(s.dataId).id,n.dataIdMap.get(i.dataId).id,new Uint8Array(new Int32Array(a.shape).buffer),new Uint8Array(new Int32Array(s.shape).buffer),o),d!=null&&n.disposeData(d.dataId),i}const iV={kernelName:u0,backendName:"wasm",setupFunc:sV,kernelFunc:oV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let CI;function lV(t){CI=t.wasm.cwrap(lh,null,["number","array","number","array","number","number"])}function uV(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:s}=r,o=En(s,a.shape);if(a.shape.length===0)return Gh({inputs:{x:a},backend:n});const i=n.makeOutput(a.shape,a.dtype),c=n.dataIdMap.get(a.dataId).id,d=n.dataIdMap.get(i.dataId).id,l=new Uint8Array(new Int32Array(o).buffer),p=new Uint8Array(new Int32Array(a.shape).buffer);CI(c,l,o.length,p,a.shape.length,d);const h=Hr({inputs:{x:i},attrs:{shape:a.shape},backend:n});return n.disposeData(i.dataId),h}const cV={kernelName:lh,backendName:"wasm",kernelFunc:uV,setupFunc:lV};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let EI;function dV(t){EI=t.wasm.cwrap(Fh,null,["number","number","number","number","number","number","number","number","array","number","number"])}function fV(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{radians:s,fillValue:o,center:i}=r,c=n.makeOutput(a.shape,a.dtype),d=n.dataIdMap.get(a.dataId).id,l=n.dataIdMap.get(c.dataId).id,[p,h,m,y]=a.shape,[v,b]=Dk(i,h,m),w=o===0,x=255,_=typeof o=="number"?[o,o,o,w?0:x]:[...o,x],C=new Uint8Array(new Int32Array(_).buffer);return EI(d,p,h,m,y,s,v,b,C,_.length,l),c}const pV={kernelName:Fh,backendName:"wasm",kernelFunc:fV,setupFunc:dV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hV=Mt(uh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mV=Mt(ch);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let TI;function gV(t){TI=t.wasm.cwrap(dh,null,["number","number","number","number","number","number","array","number","number"])}function vV(t){const{backend:e,inputs:n,attrs:r}=t,{indices:a,updates:s}=n,{shape:o}=r,i=e.makeOutput(o,s.dtype);if(Ce(o)===0)return i;const{sliceRank:c,numUpdates:d,sliceSize:l,strides:p,outputSize:h}=Ql(s,a,o),y=e.dataIdMap.get(a.dataId).id,b=e.dataIdMap.get(s.dataId).id,w=new Uint8Array(new Int32Array(p).buffer),x=e.dataIdMap.get(i.dataId).id;return TI(y,b,Ut[s.dtype],c,d,l,w,h,x),i}const yV={kernelName:dh,backendName:"wasm",setupFunc:gV,kernelFunc:vV};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let NI;function bV(t){NI=t.wasm.cwrap(ph,null,["number","number","number","number","number","number","bool","number"])}function wV(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:s}=e,{side:o}=r;if(a.dtype!==s.dtype)throw new Error(`SearchSorted error: sorted_sequence must have the same dtype as values. Got ${a.dtype} and ${s.dtype}`);const i=n.makeOutput(s.shape,"int32");function c(d){return n.dataIdMap.get(d.dataId).id}return NI(c(a),c(s),a.shape[0],a.shape[1],s.shape[1],Ut[a.dtype],o==="left",c(i)),i}const SV={kernelName:ph,backendName:"wasm",setupFunc:bV,kernelFunc:wV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let AI;function xV(t){AI=t.wasm.cwrap("SelectV2",null,["number","number","number","number","number"])}function kV(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:s}=e,o=n.dataIdMap.get(r.dataId).id,i=n.dataIdMap.get(a.dataId).id,c=n.dataIdMap.get(s.dataId).id,d=n.makeOutput(a.shape,a.dtype),l=n.dataIdMap.get(d.dataId).id,p=r.shape.length,h=a.shape.length,m=p===0||p>1||h===1?1:Ce(a.shape.slice(1));return AI(o,i,c,m,l),d}const _V={kernelName:d0,backendName:"wasm",kernelFunc:kV,setupFunc:xV};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const IV=Mt(hh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let DI;function CV(t){DI=t.wasm.cwrap(yh,null,["number","number"])}function EV(t){const{backend:e,inputs:{x:n}}=t,r=e.dataIdMap.get(n.dataId).id,a=e.makeOutput(n.shape,n.dtype),s=e.dataIdMap.get(a.dataId).id;return Ce(a.shape)===0||DI(r,s),a}const TV={kernelName:"Sigmoid",backendName:"wasm",setupFunc:CV,kernelFunc:EV};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const NV=Mt(vh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AV=Mt(mh);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const DV=Mt(gh);/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const FV=Mt(bh);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RV(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:s,paddings:o}=r,i=Ce(s),c=[[0,0]];c.push(...o);for(let R=1+s.length;R<a.shape.length;++R)c.push([0,0]);const d=bI.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),l=Vh(d.shape,s,i,!1),p=Uh(l.length,s.length,!1),h=Hh(d.shape,s,i,!1),v=Hr({inputs:{x:d},backend:n,attrs:{shape:l}}),x=Po({inputs:{x:v},backend:n,attrs:{perm:p}}),T=Hr({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeData(d.dataId),n.disposeData(v.dataId),n.disposeData(x.dataId),T}const $V={kernelName:p0,backendName:"wasm",kernelFunc:RV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let FI;function OV(t){FI=t.wasm.cwrap("SparseFillEmptyRows","number",["number","number","number","number","number","number","number","number","number","number","number","number"])}function MV(t){const{backend:e,inputs:n}=t,{indices:r,values:a,denseShape:s,defaultValue:o}=n,i=r.shape[0],c=r.shape[1],d=e.readSync(s.dataId)[0],l=[i+d,c],p=e.dataIdMap.get(r.dataId).id,h=e.dataIdMap.get(a.dataId).id,m=e.dataIdMap.get(o.dataId).id,y=e.makeOutput(l,r.dtype),v=e.dataIdMap.get(y.dataId).id,b=e.makeOutput(l.slice(0,1),a.dtype),w=e.dataIdMap.get(b.dataId).id,x=e.makeOutput([d],"bool"),_=e.dataIdMap.get(x.dataId).id,C=e.makeOutput([i],r.dtype),T=e.dataIdMap.get(C.dataId).id,R=e.makeOutput([4],"int32"),M=e.dataIdMap.get(R.dataId).id,W=FI(p,h,Ut[a.dtype],i,d,c,m,v,w,_,T,M),P=e.readSync(R.dataId);let z;switch(P[0]){case 1:{z=Mk(P[1]);break}case 2:{z=Pk(P[1],P[2]);break}case 3:z=Bk(P[1],P[2],P[3]);break;default:z=""}if(e.disposeData(R.dataId),z)throw e.disposeData(y.dataId),e.disposeData(b.dataId),e.disposeData(x.dataId),e.disposeData(C.dataId),new Error(z);let F=y,O=b;return W!==l[0]&&(F=Bi({inputs:{x:y},attrs:{begin:0,size:[W,c]},backend:e}),O=Bi({inputs:{x:b},attrs:{begin:0,size:W},backend:e}),e.disposeData(y.dataId),e.disposeData(b.dataId)),[F,O,x,C]}const PV={kernelName:m0,backendName:"wasm",setupFunc:OV,kernelFunc:MV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let RI;function BV(t){RI=t.wasm.cwrap(kh,null,["number","number","number","number","number","number","number"])}function zV(t){const{backend:e,inputs:n}=t,{inputIndices:r,inputShape:a,newShape:s}=n;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const o=e.dataIdMap.get(r.dataId).id,i=e.dataIdMap.get(a.dataId).id,c=e.dataIdMap.get(s.dataId).id,d=r.shape[0],l=Ce(s.shape),p=e.makeOutput([d,l],r.dtype),h=e.dataIdMap.get(p.dataId).id,m=e.makeOutput([l],s.dtype),y=e.dataIdMap.get(m.dataId).id,v=e.makeOutput([3],"int32"),b=e.dataIdMap.get(v.dataId).id;RI(o,i,c,d,h,y,b);const w=e.readSync(v.dataId);let x;switch(w[0]){case 0:{x=zk(w[1],w[2]);break}case 1:{x=Lk(w[1],w[2]);break}case 2:x=Wk();break;case 3:{const _=Array.from(e.readSync(a.dataId)),C=Array.from(e.readSync(m.dataId));x=jk(_,C);break}case 4:{const _=Array.from(e.readSync(a.dataId)),C=Array.from(e.readSync(m.dataId));x=Vk(_,C);break}default:x=""}if(e.disposeData(v.dataId),x)throw e.disposeData(p.dataId),e.disposeData(m.dataId),new Error(x);return[p,m]}const LV={kernelName:kh,backendName:"wasm",setupFunc:BV,kernelFunc:zV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let $I;function OI(t){$I=t.wasm.cwrap("SparseSegmentReduction",null,["number","number","number","number","number","number","number","number","number"])}function MI(t,e){const{backend:n,inputs:r}=t,{data:a,indices:s,segmentIds:o}=r,i=s.shape[0],c=n.readSync(o.dataId,i-1,i)[0],l=i>0?c+1:0;if(l<0)throw new Error(xf());const p=a.shape.slice();p[0]=l;const h=n.dataIdMap.get(a.dataId).id,m=n.dataIdMap.get(s.dataId).id,y=n.dataIdMap.get(o.dataId).id,v=n.makeOutput(p,a.dtype),b=n.dataIdMap.get(v.dataId).id,w=n.makeOutput([4],"int32"),x=n.dataIdMap.get(w.dataId).id;$I(h,Ut[a.dtype],a.shape[0],m,y,b,x,e,0);const _=n.readSync(w.dataId);let C;switch(_[0]){case 0:{C=xf();break}case 1:{C=Uk();break}case 2:C=Hk(_[1],_[2]);break;case 3:C=Gk(_[1],_[2],_[3]);break;default:C=""}if(n.disposeData(w.dataId),C)throw n.disposeData(v.dataId),new Error(C);return v}/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WV(t){return MI(t,!0)}const jV={kernelName:g0,backendName:"wasm",setupFunc:OI,kernelFunc:WV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VV(t){return MI(t,!1)}const UV={kernelName:v0,backendName:"wasm",setupFunc:OI,kernelFunc:VV};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let PI;function HV(t){PI=t.wasm.cwrap(_h,null,["number","number","number","number","number","number","number","number","array","number","number"])}function GV(t){const{backend:e,inputs:n,attrs:r}=t,{sparseIndices:a,sparseValues:s,defaultValue:o}=n,{outputShape:i}=r,c=e.makeOutput(i,o.dtype);if(Ce(i)===0)return c;const{sliceRank:d,numUpdates:l,sliceSize:p,strides:h,outputSize:m}=Ql(s,a,i),y=e.dataIdMap.get(a.dataId).id,v=e.dataIdMap.get(s.dataId).id,b=e.dataIdMap.get(o.dataId).id,w=new Uint8Array(new Int32Array(h).buffer),x=e.dataIdMap.get(c.dataId).id;return PI(y,v,s.shape.length,b,Ut[o.dtype],d,l,p,w,m,x),c}const qV={kernelName:_h,backendName:"wasm",setupFunc:HV,kernelFunc:GV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KV(t){const{inputs:e,attrs:n,backend:r}=t,{x:a}=e,{numOrSizeSplits:s,axis:o}=n,i=En(o,a.shape)[0],c=Ok(a,s,i),d=new Array(a.shape.length).fill(0),l=a.shape.slice();return c.map(p=>{const h=[...l];h[i]=p;const m=Bi({inputs:{x:a},attrs:{begin:d,size:h},backend:r});return d[i]+=p,m})}const XV={kernelName:h0,backendName:"wasm",kernelFunc:KV};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YV=Mt(wh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const ZV=Mt(Jx);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QV=Un(Ih);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let BI;function JV(t){BI=t.wasm.cwrap(Tc,null,["number","number","number","number"])}function eU(t){const{backend:e,inputs:n,attrs:r}=t,{alpha:a}=r,{x:s}=n,o=e.dataIdMap.get(s.dataId).id,i=e.makeOutput(s.shape,s.dtype),c=e.dataIdMap.get(i.dataId).id;return BI(o,a,Ut[s.dtype],c),i}const tU={kernelName:Tc,backendName:"wasm",setupFunc:JV,kernelFunc:eU};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let zI;function nU(t){zI=t.wasm.cwrap(Ch,null,["number","array","number","array","array","array","array","array","number","number"])}function rU(t){const{backend:e,inputs:n,attrs:r}=t,{x:a}=n,{begin:s,end:o,strides:i,beginMask:c,endMask:d,ellipsisMask:l,newAxisMask:p,shrinkAxisMask:h}=r,{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:b,isSimpleSlice:w,begin:x,end:_,strides:C}=Nk(a.shape,s,o,i,c,d,l,p,h);let T;if(v)T=Hr({inputs:{x:a},backend:e,attrs:{shape:y}});else if(b||w){X(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const R=Ik(x,_,C),M=Bi({inputs:{x:a},backend:e,attrs:{begin:x,size:R}});T=Hr({inputs:{x:M},backend:e,attrs:{shape:y}}),e.disposeData(M.dataId)}else{const R=e.makeOutput(m,"float32"),M=e.dataIdMap.get(a.dataId).id,W=new Uint8Array(new Int32Array(ot(a.shape)).buffer),P=new Uint8Array(new Int32Array(x).buffer),z=new Uint8Array(new Int32Array(_).buffer),F=new Uint8Array(new Int32Array(C).buffer),O=new Uint8Array(new Int32Array(m).buffer),U=new Uint8Array(new Int32Array(ot(m)).buffer),N=e.dataIdMap.get(R.dataId).id;zI(M,W,a.shape.length,P,z,F,O,U,m.length,N),T=Hr({inputs:{x:R},backend:e,attrs:{shape:y}}),e.disposeData(R.dataId)}return T}const aU={kernelName:Ch,backendName:"wasm",setupFunc:nU,kernelFunc:rU};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sU(t){const{backend:e,inputs:n,attrs:r}=t,{data:a,dataSplits:s}=n,{separator:o,nGramWidths:i,leftPad:c,rightPad:d,padWidth:l,preserveShortSequences:p}=r,h=e.readSync(a.dataId),m=e.readSync(s.dataId),[y,v]=S_(h,m,o,i,c,d,l,p),b=e.makeOutput([y.length],"string"),w=e.dataIdMap.get(b.dataId);w.stringBytes=y;const x=e.makeOutput(s.shape,"int32");return e.typedArrayFromHeap(x).set(v),[b,x]}const oU={kernelName:b0,backendName:"wasm",kernelFunc:sU};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iU(t){const{backend:e,inputs:n,attrs:r}=t,{input:a,delimiter:s}=n,{skipEmpty:o}=r,i=e.readSync(a.dataId),c=e.readSync(s.dataId),[d,l,p]=x_(i,c[0],o),h=l.length,m=e.makeOutput([h,2],"int32");e.typedArrayFromHeap(m).set(d);const v=e.makeOutput([h],"string"),b=e.dataIdMap.get(v.dataId);b.stringBytes=l;const w=e.makeOutput([2],"int32");return e.typedArrayFromHeap(w).set(p),[m,v,w]}const lU={kernelName:w0,backendName:"wasm",kernelFunc:iU};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uU(t){const{backend:e,inputs:n,attrs:r}=t,{input:a}=n,{numBuckets:s}=r,o=e.readSync(a.dataId),i=k_(o,s),c=e.makeOutput(a.shape,"int32");return e.typedArrayFromHeap(c).set(i),c}const cU={kernelName:S0,backendName:"wasm",kernelFunc:uU};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dU=Un(Eh);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let LI;function fU(t){LI=t.wasm.cwrap(Sh,null,["number","number","number","number"])}function pU(t){const{backend:e,inputs:n,attrs:r}=t,{axis:a,keepDims:s}=r,{x:o}=n,i=e.dataIdMap.get(o.dataId).id;let c=i,d=o;const{transposed:l,axes:p,originalAxes:h,inputWasTransposed:m}=Uo(o,a,e);let y=p;if(m){const _=e.dataIdMap.get(l.dataId).id;_!==i&&(d=l,c=_,y=zr(y.length,d.shape.length))}Br("sum",y,d.shape.length);const[v,b]=Pr(d.shape,y),w=Ce(b),x=e.makeOutput(v,d.dtype);if(Ce(d.shape)!==0){const _=e.dataIdMap.get(x.dataId).id;LI(c,w,Ut[x.dtype],_)}if(m&&e.disposeData(l.dataId),s){const _=mr(x.shape,h);x.shape=_}return x}const hU={kernelName:Sh,backendName:"wasm",setupFunc:fU,kernelFunc:pU};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mU=Mt(Th);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const gU=Mt(Nh);/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let WI;function vU(t){WI=t.wasm.cwrap(fh,null,["number","number","number","number","number","number","array","number","number","number"])}function yU(t){const{backend:e,inputs:n,attrs:r}=t,{tensor:a,indices:s,updates:o}=n,i=e.makeOutput(a.shape,a.dtype);if(Ce(a.shape)===0)return i;const{sliceRank:c,numUpdates:d,sliceSize:l,strides:p,outputSize:h}=Ql(o,s,a.shape),y=e.dataIdMap.get(s.dataId).id,b=e.dataIdMap.get(o.dataId).id,x=e.dataIdMap.get(a.dataId).id,_=new Uint8Array(new Int32Array(p).buffer),C=e.dataIdMap.get(i.dataId).id;return WI(y,b,Ut[o.dtype],c,d,l,_,h,C,x),i}const bU={kernelName:fh,backendName:"wasm",setupFunc:vU,kernelFunc:yU};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let jI;function wU(t){jI=t.wasm.cwrap(Ec,null,["number","array","number","array","number","number"])}function SU(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,s=n.dataIdMap.get(a.dataId).id,{reps:o}=r,i=new Array(a.shape.length);for(let h=0;h<i.length;h++)i[h]=a.shape[h]*o[h];const c=new Uint8Array(new Int32Array(a.shape).buffer),d=new Uint8Array(new Int32Array(i).buffer),l=n.makeOutput(i,a.dtype),p=n.dataIdMap.get(l.dataId).id;return jI(s,c,a.shape.length,d,i.length,Ut[l.dtype],p),l}const xU={kernelName:Ec,backendName:"wasm",setupFunc:wU,kernelFunc:SU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let VI;function kU(t){VI=t.wasm.cwrap(Ah,null,["number","array","number","number","number","bool","number","number"])}const _U=({inputs:t,backend:e,attrs:n})=>{const{x:r}=t,{k:a,sorted:s}=n,o=e.dataIdMap.get(r.dataId).id,i=new Uint8Array(new Int32Array(r.shape).buffer),c=r.shape.slice();c[c.length-1]=a;const d=e.makeOutput(c,r.dtype),l=e.dataIdMap.get(d.dataId).id,p=e.makeOutput(c,"int32"),h=e.dataIdMap.get(p.dataId).id;return VI(o,i,r.shape.length,Ut[r.dtype],a,s,l,h),[d,p]},IU={kernelName:Ah,backendName:"wasm",setupFunc:kU,kernelFunc:_U};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */let UI;function CU(t){UI=t.wasm.cwrap(Dh,null,["number","number","bool","number","number","number","number","number","number","array","number","array","number","number","number","number","number"])}function EU(t){const{backend:e,inputs:n,attrs:r}=t,{image:a,transforms:s}=n,{interpolation:o,fillMode:i,fillValue:c,outputShape:d}=r,[l,p,h,m]=a.shape,[y,v]=d??[p,h],b=[l,y,v,m],w=new Uint8Array(new Int32Array(ot(a.shape)).buffer),x=new Uint8Array(new Int32Array(ot(b)).buffer),_=e.makeOutput(b,a.dtype),C=e.dataIdMap.get(_.dataId).id,R=e.dataIdMap.get(a.dataId).id,W=e.dataIdMap.get(s.dataId).id,P=o==="nearest"?1:2;let z;switch(i){case"constant":z=1;break;case"reflect":z=2;break;case"wrap":z=3;break;case"nearest":z=4;break;default:z=1;break}return UI(R,W,s.shape[0]>1,l,y,v,m,h,p,w,a.shape.length-1,x,b.length-1,P,z,c,C),_}const TU={kernelName:Dh,backendName:"wasm",setupFunc:CU,kernelFunc:EU};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NU(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:s}=e,{outputValues:o,outputShape:i,indices:c}=I_(r.readSync(s.dataId),a,s.shape,s.dtype);return[r.makeOutput(i,s.dtype,void 0,o),r.makeOutput([c.length],"int32",void 0,c)]}const AU={kernelName:x0,backendName:"wasm",kernelFunc:NU};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DU(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a.shape[s],i=a.shape.length,c=new Array(i-1);let d=0;for(let m=0;m<i;m++)m!==s&&(c[d++]=a.shape[m]);const l=new Array(o),p=new Array(i).fill(0),h=a.shape.slice();h[s]=1;for(let m=0;m<l.length;m++)p[s]=m,l[m]=Bi({inputs:{x:a},attrs:{begin:p,size:h},backend:n});return l.map(({dataId:m,dtype:y})=>({dataId:m,dtype:y,shape:c}))}const FU={kernelName:k0,backendName:"wasm",kernelFunc:DU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RU(t){const{inputs:{x:e},backend:n}=t,r=n.makeOutput(e.shape,e.dtype);return n.typedArrayFromHeap(r).fill(0),r}const $U={kernelName:_0,backendName:"wasm",kernelFunc:RU};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OU=[$7,O7,M7,P7,B7,W7,X7,Q7,J7,eB,tB,nB,rB,aB,sB,lB,vB,dB,hB,SB,bz,xz,kz,Iz,Cz,Ez,Az,Dz,$z,Pz,Lz,Vz,Gz,qz,Kz,Zz,eL,rL,oL,uL,fL,mL,yL,SL,_L,IL,TL,AL,DL,FL,RL,$L,OL,BL,zL,LL,VL,GL,XL,QL,tW,rW,sW,j7,oW,iW,lW,dW,pW,mW,yW,wW,bW,xW,kW,IW,EW,AW,RW,MW,PW,LW,VW,GW,XW,QW,tj,aj,sj,lj,pj,hj,mj,gj,bj,xj,Ij,Ej,Aj,Fj,$j,bI,Pj,Lj,Vj,Hj,Gj,qj,Kj,Xj,yB,Qj,tV,aV,iV,cV,pV,hV,mV,yV,SV,_V,IV,TV,NV,AV,DV,vz,cj,FV,$V,PV,LV,jV,UV,qV,XV,YV,ZV,QV,tU,aU,oU,lU,cU,dU,hU,mU,gU,bU,xU,IU,TU,G7,AU,FU,$U];for(const t of OU)t3(t);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const my=At();my.registerFlag("WASM_HAS_SIMD_SUPPORT",async()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]))}catch{return!1}});my.registerFlag("WASM_HAS_MULTITHREAD_SUPPORT",async()=>{if(my.get("IS_NODE"))return!1;try{return new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]))}catch{return!1}});var Kg={exports:{}},zw;function MU(){return zw||(zw=1,function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};function s(){return Z.buffer!=xe&&$(Z.buffer),Ne}function o(){return Z.buffer!=xe&&$(Z.buffer),He}function i(){return Z.buffer!=xe&&$(Z.buffer),Ke}function c(){return Z.buffer!=xe&&$(Z.buffer),et}function d(){return Z.buffer!=xe&&$(Z.buffer),Qe}var l=typeof a<"u"?a:{},p,h;l.ready=new Promise(function(ee,ve){p=ee,h=ve});var m;typeof process<"u"&&process.listeners&&(m={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var y=Object.assign({},l),v=(ee,ve)=>{throw ve},b=typeof window=="object",w=typeof importScripts=="function",x=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",_=l.ENVIRONMENT_IS_PTHREAD||!1,C="";function T(ee){return l.locateFile?l.locateFile(ee,C):C+ee}var R,M,W;function P(ee){if(ee instanceof or)return;q("exiting due to exception: "+ee)}if(x){var z=To,F=To;w?C=F.dirname(C)+"/":C=__dirname+"/",R=(ve,Be)=>(ve=Fn(ve)?new URL(ve):F.normalize(ve),z.readFileSync(ve,Be?void 0:"utf8")),W=ve=>{var Be=R(ve,!0);return Be.buffer||(Be=new Uint8Array(Be)),Be},M=(ve,Be,pt)=>{ve=Fn(ve)?new URL(ve):F.normalize(ve),z.readFile(ve,function(bt,vt){bt?pt(bt):Be(vt.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(ve){if(!(ve instanceof or))throw ve}),process.on("unhandledRejection",function(ve){throw ve}),v=(ve,Be)=>{if(_e())throw process.exitCode=ve,Be;P(Be),process.exit(ve)},l.inspect=function(){return"[Emscripten Module object]"};let ee;try{ee=To}catch(ve){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),ve}$a.Worker=ee.Worker}else(b||w)&&(w?C=self.location.href:typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),typeof r<"u"&&r&&(C=r),C.indexOf("blob:")!==0?C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1):C="",x||(R=ee=>{var ve=new XMLHttpRequest;return ve.open("GET",ee,!1),ve.send(null),ve.responseText},w&&(W=ee=>{var ve=new XMLHttpRequest;return ve.open("GET",ee,!1),ve.responseType="arraybuffer",ve.send(null),new Uint8Array(ve.response)}),M=(ee,ve,Be)=>{var pt=new XMLHttpRequest;pt.open("GET",ee,!0),pt.responseType="arraybuffer",pt.onload=()=>{if(pt.status==200||pt.status==0&&pt.response){ve(pt.response);return}Be()},pt.onerror=Be,pt.send(null)}));x&&typeof performance>"u"&&($a.performance=To.performance);var O=console.log.bind(console),U=console.warn.bind(console);x&&(O=ee=>z.writeSync(1,ee+`
`),U=ee=>z.writeSync(2,ee+`
`));var N=l.print||O,q=l.printErr||U;Object.assign(l,y),y=null,l.arguments&&l.arguments,l.thisProgram&&l.thisProgram,l.quit&&(v=l.quit);var ae;l.wasmBinary&&(ae=l.wasmBinary);var J=l.noExitRuntime||!0;typeof WebAssembly!="object"&&Ht("no native wasm support detected");var Z,Y,te=!1,B;function V(ee,ve){ee||Ht(ve)}var oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function ue(ee,ve,Be){ve>>>=0;for(var pt=ve+Be,bt=ve;ee[bt]&&!(bt>=pt);)++bt;if(bt-ve>16&&ee.buffer&&oe)return oe.decode(ee.buffer instanceof SharedArrayBuffer?ee.slice(ve,bt):ee.subarray(ve,bt));for(var vt="";ve<bt;){var Ye=ee[ve++];if(!(Ye&128)){vt+=String.fromCharCode(Ye);continue}var rt=ee[ve++]&63;if((Ye&224)==192){vt+=String.fromCharCode((Ye&31)<<6|rt);continue}var Xt=ee[ve++]&63;if((Ye&240)==224?Ye=(Ye&15)<<12|rt<<6|Xt:Ye=(Ye&7)<<18|rt<<12|Xt<<6|ee[ve++]&63,Ye<65536)vt+=String.fromCharCode(Ye);else{var lr=Ye-65536;vt+=String.fromCharCode(55296|lr>>10,56320|lr&1023)}}return vt}function le(ee,ve){return ee>>>=0,ee?ue(o(),ee,ve):""}function Ee(ee,ve,Be,pt){if(Be>>>=0,!(pt>0))return 0;for(var bt=Be,vt=Be+pt-1,Ye=0;Ye<ee.length;++Ye){var rt=ee.charCodeAt(Ye);if(rt>=55296&&rt<=57343){var Xt=ee.charCodeAt(++Ye);rt=65536+((rt&1023)<<10)|Xt&1023}if(rt<=127){if(Be>=vt)break;ve[Be++>>>0]=rt}else if(rt<=2047){if(Be+1>=vt)break;ve[Be++>>>0]=192|rt>>6,ve[Be++>>>0]=128|rt&63}else if(rt<=65535){if(Be+2>=vt)break;ve[Be++>>>0]=224|rt>>12,ve[Be++>>>0]=128|rt>>6&63,ve[Be++>>>0]=128|rt&63}else{if(Be+3>=vt)break;ve[Be++>>>0]=240|rt>>18,ve[Be++>>>0]=128|rt>>12&63,ve[Be++>>>0]=128|rt>>6&63,ve[Be++>>>0]=128|rt&63}}return ve[Be>>>0]=0,Be-bt}function Re(ee,ve,Be){return Ee(ee,o(),ve,Be)}var xe,Ne,He,Ke,et,Qe;_&&(xe=l.buffer);function $(ee){xe=ee,l.HEAP8=Ne=new Int8Array(ee),l.HEAP16=new Int16Array(ee),l.HEAP32=Ke=new Int32Array(ee),l.HEAPU8=He=new Uint8Array(ee),l.HEAPU16=new Uint16Array(ee),l.HEAPU32=et=new Uint32Array(ee),l.HEAPF32=new Float32Array(ee),l.HEAPF64=Qe=new Float64Array(ee)}var be=l.INITIAL_MEMORY||16777216;if(_)Z=l.wasmMemory,xe=l.buffer;else if(l.wasmMemory)Z=l.wasmMemory;else if(Z=new WebAssembly.Memory({initial:be/65536,maximum:65536,shared:!0}),!(Z.buffer instanceof SharedArrayBuffer))throw q("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),x&&q("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and/or recent version)"),Error("bad memory");Z&&(xe=Z.buffer),be=xe.byteLength,$(xe);var pe,Q=[],K=[],ce=[];function _e(){return J}function Ae(){if(l.preRun)for(typeof l.preRun=="function"&&(l.preRun=[l.preRun]);l.preRun.length;)Ve(l.preRun.shift());Bt(Q)}function ge(){_||Bt(K)}function $e(){if(!_){if(l.postRun)for(typeof l.postRun=="function"&&(l.postRun=[l.postRun]);l.postRun.length;)Ze(l.postRun.shift());Bt(ce)}}function Ve(ee){Q.unshift(ee)}function Me(ee){K.unshift(ee)}function Ze(ee){ce.unshift(ee)}var ft=0,dt=null;function qt(ee){ft++,l.monitorRunDependencies&&l.monitorRunDependencies(ft)}function Bn(ee){if(ft--,l.monitorRunDependencies&&l.monitorRunDependencies(ft),ft==0&&dt){var ve=dt;dt=null,ve()}}function Ht(ee){l.onAbort&&l.onAbort(ee),ee="Aborted("+ee+")",q(ee),te=!0,B=1,ee+=". Build with -sASSERTIONS for more info.";var ve=new WebAssembly.RuntimeError(ee);throw h(ve),ve}var kr="data:application/octet-stream;base64,";function Dt(ee){return ee.startsWith(kr)}function Fn(ee){return ee.startsWith("file://")}var tn;tn="tfjs-backend-wasm-threaded-simd.wasm",Dt(tn)||(tn=T(tn));function Rn(ee){try{if(ee==tn&&ae)return new Uint8Array(ae);if(W)return W(ee);throw"both async and sync fetching of the wasm failed"}catch(ve){Ht(ve)}}function Yr(){if(!ae&&(b||w)){if(typeof fetch=="function"&&!Fn(tn))return fetch(tn,{credentials:"same-origin"}).then(function(ee){if(!ee.ok)throw"failed to load wasm binary file at '"+tn+"'";return ee.arrayBuffer()}).catch(function(){return Rn(tn)});if(M)return new Promise(function(ee,ve){M(tn,function(Be){ee(new Uint8Array(Be))},ve)})}return Promise.resolve().then(function(){return Rn(tn)})}function Lr(){var ee={env:$s,wasi_snapshot_preview1:$s};function ve(Ye,rt){var Xt=Ye.exports;if(l.asm=Xt,er(l.asm._emscripten_tls_init),pe=l.asm.__indirect_function_table,Me(l.asm.__wasm_call_ctors),Y=rt,!_){var lr=qe.unusedWorkers.length;qe.unusedWorkers.forEach(function(fa){qe.loadWasmModuleToWorker(fa,function(){--lr||Bn()})})}}_||qt();function Be(Ye){ve(Ye.instance,Ye.module)}function pt(Ye){return Yr().then(function(rt){return WebAssembly.instantiate(rt,ee)}).then(function(rt){return rt}).then(Ye,function(rt){q("failed to asynchronously prepare wasm: "+rt),Ht(rt)})}function bt(){return!ae&&typeof WebAssembly.instantiateStreaming=="function"&&!Dt(tn)&&!Fn(tn)&&!x&&typeof fetch=="function"?fetch(tn,{credentials:"same-origin"}).then(function(Ye){var rt=WebAssembly.instantiateStreaming(Ye,ee);return rt.then(Be,function(Xt){return q("wasm streaming compile failed: "+Xt),q("falling back to ArrayBuffer instantiation"),pt(Be)})}):pt(Be)}if(l.instantiateWasm)try{var vt=l.instantiateWasm(ee,ve);return vt}catch(Ye){q("Module.instantiateWasm callback failed with error: "+Ye),h(Ye)}return bt().catch(h),{}}var ua={};function or(ee){this.name="ExitStatus",this.message="Program terminated with exit("+ee+")",this.status=ee}function Jn(ee){var ve=qe.pthreads[ee];delete qe.pthreads[ee],ve.terminate(),lo(ee),qe.runningWorkers.splice(qe.runningWorkers.indexOf(ve),1),ve.pthread_ptr=0}function an(ee){var ve=qe.pthreads[ee];ve.postMessage({cmd:"cancel"})}function Pt(ee){var ve=qe.pthreads[ee];V(ve),qe.returnWorkerToPool(ve)}function ca(ee){var ve=qe.getNewWorker();if(!ve)return 6;qe.runningWorkers.push(ve),qe.pthreads[ee.pthread_ptr]=ve,ve.pthread_ptr=ee.pthread_ptr;var Be={cmd:"run",start_routine:ee.startRoutine,arg:ee.arg,pthread_ptr:ee.pthread_ptr};return ve.runPthread=()=>{x&&ve.ref(),ve.postMessage(Be,ee.transferList),delete ve.runPthread},ve.loaded&&ve.runPthread(),0}function ir(ee){if(_)return Wa(1,1,ee);B=ee,_e()||(qe.terminateAllThreads(),l.onExit&&l.onExit(ee),te=!0),v(ee,new or(ee))}function Ie(ee,ve){if(B=ee,!ve&&_)throw St(ee),"unwind";ir(ee)}var Le=Ie;function it(ee){if(ee instanceof or||ee=="unwind")return B;v(1,ee)}var qe={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init:function(){_?qe.initWorker():qe.initMainThread()},initMainThread:function(){for(var ee=8;ee--;)qe.allocateUnusedWorker()},initWorker:function(){J=!1},setExitStatus:function(ee){B=ee},terminateAllThreads:function(){for(var ee of Object.values(qe.pthreads))qe.returnWorkerToPool(ee);for(var ee of qe.unusedWorkers)ee.terminate();qe.unusedWorkers=[]},returnWorkerToPool:function(ee){var ve=ee.pthread_ptr;delete qe.pthreads[ve],qe.unusedWorkers.push(ee),qe.runningWorkers.splice(qe.runningWorkers.indexOf(ee),1),ee.pthread_ptr=0,x&&ee.unref(),lo(ve)},receiveObjectTransfer:function(ee){},threadInitTLS:function(){qe.tlsInitFunctions.forEach(ee=>ee())},loadWasmModuleToWorker:function(ee,ve){ee.onmessage=vt=>{var Ye=vt.data,rt=Ye.cmd;if(ee.pthread_ptr&&(qe.currentProxiedOperationCallerThread=ee.pthread_ptr),Ye.targetThread&&Ye.targetThread!=Ir()){var Xt=qe.pthreads[Ye.targetThread];Xt?Xt.postMessage(Ye,Ye.transferList):q('Internal error! Worker sent a message "'+rt+'" to target pthread '+Ye.targetThread+", but that thread no longer exists!"),qe.currentProxiedOperationCallerThread=void 0;return}rt==="processProxyingQueue"?Qo(Ye.queue):rt==="spawnThread"?ca(Ye):rt==="cleanupThread"?Pt(Ye.thread):rt==="killThread"?Jn(Ye.thread):rt==="cancelThread"?an(Ye.thread):rt==="loaded"?(ee.loaded=!0,x&&ee.unref(),ve&&ve(ee),ee.runPthread&&ee.runPthread()):rt==="print"?N("Thread "+Ye.threadId+": "+Ye.text):rt==="printErr"?q("Thread "+Ye.threadId+": "+Ye.text):rt==="alert"?alert("Thread "+Ye.threadId+": "+Ye.text):Ye.target==="setimmediate"?ee.postMessage(Ye):rt==="callHandler"?l[Ye.handler](...Ye.args):rt&&q("worker sent an unknown command "+rt),qe.currentProxiedOperationCallerThread=void 0},ee.onerror=vt=>{var Ye="worker sent an error!";throw q(Ye+" "+vt.filename+":"+vt.lineno+": "+vt.message),vt},x&&(ee.on("message",function(vt){ee.onmessage({data:vt})}),ee.on("error",function(vt){ee.onerror(vt)}),ee.on("detachedExit",function(){}));var Be=[],pt=["onExit","onAbort","print","printErr"];for(var bt of pt)l.hasOwnProperty(bt)&&Be.push(bt);ee.postMessage({cmd:"load",handlers:Be,urlOrBlob:l.mainScriptUrlOrBlob||r,wasmMemory:Z,wasmModule:Y})},allocateUnusedWorker:function(){var ee,ve=T("tfjs-backend-wasm-threaded-simd.worker.js");ee=new Worker(ve),qe.unusedWorkers.push(ee)},getNewWorker:function(){return qe.unusedWorkers.length==0&&(qe.allocateUnusedWorker(),qe.loadWasmModuleToWorker(qe.unusedWorkers[0])),qe.unusedWorkers.pop()}};l.PThread=qe;function Bt(ee){for(;ee.length>0;)ee.shift()(l)}function Kt(){var ee=Ir(),ve=i()[ee+52>>>2],Be=i()[ee+56>>>2],pt=ve-Be;Os(ve,pt),Ps(ve)}l.establishStackSpace=Kt;function St(ee){if(_)return Wa(2,0,ee);try{Le(ee)}catch(ve){it(ve)}}var kt=[];function sn(ee){var ve=kt[ee];return ve||(ee>=kt.length&&(kt.length=ee+1),kt[ee]=ve=pe.get(ee)),ve}function Hn(ee,ve){var Be=sn(ee)(ve);_e()?qe.setExitStatus(Be):us(Be)}l.invokeEntryPoint=Hn;function er(ee){qe.tlsInitFunctions.push(ee)}function za(ee){ti(ee,!w,1,!b),qe.threadInitTLS()}function xa(ee){_?postMessage({cmd:"cleanupThread",thread:ee}):Pt(ee)}function Ns(ee,ve,Be,pt){return _?Wa(3,1,ee,ve,Be,pt):$n(ee,ve,Be,pt)}function $n(ee,ve,Be,pt){if(typeof SharedArrayBuffer>"u")return q("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;var bt=[],vt=0;if(_&&(bt.length===0||vt))return Ns(ee,ve,Be,pt);var Ye={startRoutine:Be,pthread_ptr:ee,arg:pt,transferList:bt};return _?(Ye.cmd="spawnThread",postMessage(Ye,bt),0):ca(Ye)}function zn(){return 65536}var ss=!0;function Zo(){return ss}function Qo(ee){Atomics.store(i(),ee>>2,1),Ir()&&jt(ee),Atomics.compareExchange(i(),ee>>2,1,0)}l.executeNotifiedProxyingQueue=Qo;function Ui(ee,ve,Be,pt){if(ee==ve)setTimeout(()=>Qo(pt));else if(_)postMessage({targetThread:ee,cmd:"processProxyingQueue",queue:pt});else{var bt=qe.pthreads[ee];if(!bt)return;bt.postMessage({cmd:"processProxyingQueue",queue:pt})}return 1}function Jo(ee,ve,Be){return-1}function As(){Ht("")}function La(ee){La.shown||(La.shown={}),La.shown[ee]||(La.shown[ee]=1,x&&(ee="warning: "+ee),q(ee))}function Hi(){x||w||La("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread")}function Gi(){return Date.now()}function gn(){return 4294901760}function nu(){return gn()}var Ds;x?Ds=()=>{var ee=process.hrtime();return ee[0]*1e3+ee[1]/1e6}:Ds=()=>performance.timeOrigin+performance.now();function qi(ee,ve,Be){o().copyWithin(ee>>>0,ve>>>0,ve+Be>>>0)}function Fs(){return x?To.cpus().length:navigator.hardwareConcurrency}function Ki(ee){var ve=Ms(),Be=ee();return Ps(ve),Be}function Wa(ee,ve){var Be=arguments.length-2,pt=arguments;return Ki(()=>{for(var bt=Be,vt=Bs(bt*8),Ye=vt>>3,rt=0;rt<Be;rt++){var Xt=pt[2+rt];d()[Ye+rt>>>0]=Xt}return ls(ee,bt,vt,ve)})}var os=[];function Zr(ee,ve,Be){os.length=ve;for(var pt=Be>>3,bt=0;bt<ve;bt++)os[bt]=d()[pt+bt>>>0];var vt=ee<0,Ye=vt?ua[-ee-1]:vr[ee];return Ye.apply(null,os)}function ru(ee){try{return Z.grow(ee-xe.byteLength+65535>>>16),$(Z.buffer),1}catch{}}function _r(ee){var ve=o().length;if(ee=ee>>>0,ee<=ve)return!1;var Be=gn();if(ee>Be)return!1;let pt=(Xt,lr)=>Xt+(lr-Xt%lr)%lr;for(var bt=1;bt<=4;bt*=2){var vt=ve*(1+.2/bt);vt=Math.min(vt,ee+100663296);var Ye=Math.min(Be,pt(Math.max(ee,vt),65536)),rt=ru(Ye);if(rt)return!0}return!1}function Xi(){throw"unwind"}function oo(ee){return _?Wa(4,1,ee):52}function ei(ee,ve,Be,pt,bt){return _?Wa(5,1,ee,ve,Be,pt,bt):70}var is=[null,[],[]];function ka(ee,ve){var Be=is[ee];ve===0||ve===10?((ee===1?N:q)(ue(Be,0)),Be.length=0):Be.push(ve)}function Gn(ee,ve,Be,pt){if(_)return Wa(6,1,ee,ve,Be,pt);for(var bt=0,vt=0;vt<Be;vt++){var Ye=c()[ve>>>2],rt=c()[ve+4>>>2];ve+=8;for(var Xt=0;Xt<rt;Xt++)ka(ee,o()[Ye+Xt>>>0]);bt+=rt}return c()[pt>>>2]=bt,0}function Rs(ee){var ve=l["_"+ee];return ve}function au(ee,ve){s().set(ee,ve>>>0)}function Yi(ee,ve,Be,pt,bt){var vt={string:Ln=>{var fs=0;if(Ln!=null&&Ln!==0){var uo=(Ln.length<<2)+1;fs=Bs(uo),Re(Ln,fs,uo)}return fs},array:Ln=>{var fs=Bs(Ln.length);return au(Ln,fs),fs}};function Ye(Ln){return ve==="string"?le(Ln):ve==="boolean"?!!Ln:Ln}var rt=Rs(ee),Xt=[],lr=0;if(pt)for(var fa=0;fa<pt.length;fa++){var ds=vt[Be[fa]];ds?(lr===0&&(lr=Ms()),Xt[fa]=ds(pt[fa])):Xt[fa]=pt[fa]}var ja=rt.apply(null,Xt);function Va(Ln){return lr!==0&&Ps(lr),Ye(Ln)}return ja=Va(ja),ja}function io(ee,ve,Be,pt){Be=Be||[];var bt=Be.every(Ye=>Ye==="number"||Ye==="boolean"),vt=ve!=="string";return vt&&bt&&!pt?Rs(ee):function(){return Yi(ee,ve,Be,arguments)}}qe.init();var vr=[null,ir,St,Ns,oo,ei,Gn],$s={__emscripten_init_main_thread_js:za,__emscripten_thread_cleanup:xa,__pthread_create_js:$n,_emscripten_default_pthread_stack_size:zn,_emscripten_get_now_is_monotonic:Zo,_emscripten_notify_task_queue:Ui,_emscripten_set_offscreencanvas_size:Jo,abort:As,emscripten_check_blocking_allowed:Hi,emscripten_date_now:Gi,emscripten_get_heap_max:nu,emscripten_get_now:Ds,emscripten_memcpy_big:qi,emscripten_num_logical_cores:Fs,emscripten_receive_on_main_thread_js:Zr,emscripten_resize_heap:_r,emscripten_unwind_to_js_event_loop:Xi,exit:Le,fd_close:oo,fd_seek:ei,fd_write:Gn,memory:Z||l.wasmMemory};Lr(),l.___wasm_call_ctors=function(){return(l.___wasm_call_ctors=l.asm.__wasm_call_ctors).apply(null,arguments)},l._init=function(){return(l._init=l.asm.init).apply(null,arguments)},l._init_with_threads_count=function(){return(l._init_with_threads_count=l.asm.init_with_threads_count).apply(null,arguments)},l._get_threads_count=function(){return(l._get_threads_count=l.asm.get_threads_count).apply(null,arguments)},l._register_tensor=function(){return(l._register_tensor=l.asm.register_tensor).apply(null,arguments)},l._dispose_data=function(){return(l._dispose_data=l.asm.dispose_data).apply(null,arguments)},l._dispose=function(){return(l._dispose=l.asm.dispose).apply(null,arguments)},l._Abs=function(){return(l._Abs=l.asm.Abs).apply(null,arguments)},l._Acos=function(){return(l._Acos=l.asm.Acos).apply(null,arguments)},l._Acosh=function(){return(l._Acosh=l.asm.Acosh).apply(null,arguments)},l._Add=function(){return(l._Add=l.asm.Add).apply(null,arguments)},l._AddN=function(){return(l._AddN=l.asm.AddN).apply(null,arguments)},l._All=function(){return(l._All=l.asm.All).apply(null,arguments)},l._Any=function(){return(l._Any=l.asm.Any).apply(null,arguments)},l._ArgMax=function(){return(l._ArgMax=l.asm.ArgMax).apply(null,arguments)},l._ArgMin=function(){return(l._ArgMin=l.asm.ArgMin).apply(null,arguments)},l._Asin=function(){return(l._Asin=l.asm.Asin).apply(null,arguments)},l._Asinh=function(){return(l._Asinh=l.asm.Asinh).apply(null,arguments)},l._Atan=function(){return(l._Atan=l.asm.Atan).apply(null,arguments)},l._Atan2=function(){return(l._Atan2=l.asm.Atan2).apply(null,arguments)},l._Atanh=function(){return(l._Atanh=l.asm.Atanh).apply(null,arguments)},l._AvgPool=function(){return(l._AvgPool=l.asm.AvgPool).apply(null,arguments)},l._AvgPool3D=function(){return(l._AvgPool3D=l.asm.AvgPool3D).apply(null,arguments)},l._AvgPool3DGrad=function(){return(l._AvgPool3DGrad=l.asm.AvgPool3DGrad).apply(null,arguments)},l._AvgPoolGrad=function(){return(l._AvgPoolGrad=l.asm.AvgPoolGrad).apply(null,arguments)},l._BatchMatMul=function(){return(l._BatchMatMul=l.asm.BatchMatMul).apply(null,arguments)},l._Bincount=function(){return(l._Bincount=l.asm.Bincount).apply(null,arguments)},l._BitwiseAnd=function(){return(l._BitwiseAnd=l.asm.BitwiseAnd).apply(null,arguments)},l._Ceil=function(){return(l._Ceil=l.asm.Ceil).apply(null,arguments)},l._ClipByValue=function(){return(l._ClipByValue=l.asm.ClipByValue).apply(null,arguments)},l._Conv2D=function(){return(l._Conv2D=l.asm.Conv2D).apply(null,arguments)},l._Conv2DBackpropInput=function(){return(l._Conv2DBackpropInput=l.asm.Conv2DBackpropInput).apply(null,arguments)},l._Conv3D=function(){return(l._Conv3D=l.asm.Conv3D).apply(null,arguments)},l._Conv3DBackpropFilterV2=function(){return(l._Conv3DBackpropFilterV2=l.asm.Conv3DBackpropFilterV2).apply(null,arguments)},l._Conv3DBackpropInputV2=function(){return(l._Conv3DBackpropInputV2=l.asm.Conv3DBackpropInputV2).apply(null,arguments)},l._Cos=function(){return(l._Cos=l.asm.Cos).apply(null,arguments)},l._Cosh=function(){return(l._Cosh=l.asm.Cosh).apply(null,arguments)},l._CropAndResize=function(){return(l._CropAndResize=l.asm.CropAndResize).apply(null,arguments)},l._Cumprod=function(){return(l._Cumprod=l.asm.Cumprod).apply(null,arguments)},l._Cumsum=function(){return(l._Cumsum=l.asm.Cumsum).apply(null,arguments)},l._DenseBincount=function(){return(l._DenseBincount=l.asm.DenseBincount).apply(null,arguments)},l._DepthToSpace=function(){return(l._DepthToSpace=l.asm.DepthToSpace).apply(null,arguments)},l._DepthwiseConv2dNative=function(){return(l._DepthwiseConv2dNative=l.asm.DepthwiseConv2dNative).apply(null,arguments)},l._Diag=function(){return(l._Diag=l.asm.Diag).apply(null,arguments)},l._Dilation2D=function(){return(l._Dilation2D=l.asm.Dilation2D).apply(null,arguments)},l._Dilation2DBackpropFilter=function(){return(l._Dilation2DBackpropFilter=l.asm.Dilation2DBackpropFilter).apply(null,arguments)},l._Dilation2DBackpropInput=function(){return(l._Dilation2DBackpropInput=l.asm.Dilation2DBackpropInput).apply(null,arguments)},l._Elu=function(){return(l._Elu=l.asm.Elu).apply(null,arguments)},l._EluGrad=function(){return(l._EluGrad=l.asm.EluGrad).apply(null,arguments)},l._Equal=function(){return(l._Equal=l.asm.Equal).apply(null,arguments)},l._Erf=function(){return(l._Erf=l.asm.Erf).apply(null,arguments)},l._Exp=function(){return(l._Exp=l.asm.Exp).apply(null,arguments)},l._Expm1=function(){return(l._Expm1=l.asm.Expm1).apply(null,arguments)},l._FlipLeftRight=function(){return(l._FlipLeftRight=l.asm.FlipLeftRight).apply(null,arguments)},l._Floor=function(){return(l._Floor=l.asm.Floor).apply(null,arguments)},l._FloorDiv=function(){return(l._FloorDiv=l.asm.FloorDiv).apply(null,arguments)},l._FusedBatchNorm=function(){return(l._FusedBatchNorm=l.asm.FusedBatchNorm).apply(null,arguments)},l._FusedConv2D=function(){return(l._FusedConv2D=l.asm.FusedConv2D).apply(null,arguments)},l._FusedDepthwiseConv2D=function(){return(l._FusedDepthwiseConv2D=l.asm.FusedDepthwiseConv2D).apply(null,arguments)},l._Gather=function(){return(l._Gather=l.asm.Gather).apply(null,arguments)},l._GatherNd=function(){return(l._GatherNd=l.asm.GatherNd).apply(null,arguments)},l._Greater=function(){return(l._Greater=l.asm.Greater).apply(null,arguments)},l._GreaterEqual=function(){return(l._GreaterEqual=l.asm.GreaterEqual).apply(null,arguments)},l._IsFinite=function(){return(l._IsFinite=l.asm.IsFinite).apply(null,arguments)},l._IsInf=function(){return(l._IsInf=l.asm.IsInf).apply(null,arguments)},l._IsNan=function(){return(l._IsNan=l.asm.IsNan).apply(null,arguments)},l._LRN=function(){return(l._LRN=l.asm.LRN).apply(null,arguments)},l._LRNGrad=function(){return(l._LRNGrad=l.asm.LRNGrad).apply(null,arguments)},l._LeakyRelu=function(){return(l._LeakyRelu=l.asm.LeakyRelu).apply(null,arguments)},l._Less=function(){return(l._Less=l.asm.Less).apply(null,arguments)},l._LessEqual=function(){return(l._LessEqual=l.asm.LessEqual).apply(null,arguments)},l._LinSpace=function(){return(l._LinSpace=l.asm.LinSpace).apply(null,arguments)},l._Log=function(){return(l._Log=l.asm.Log).apply(null,arguments)},l._Log1p=function(){return(l._Log1p=l.asm.Log1p).apply(null,arguments)},l._LogicalAnd=function(){return(l._LogicalAnd=l.asm.LogicalAnd).apply(null,arguments)},l._LogicalNot=function(){return(l._LogicalNot=l.asm.LogicalNot).apply(null,arguments)},l._LogicalOr=function(){return(l._LogicalOr=l.asm.LogicalOr).apply(null,arguments)},l._LogicalXor=function(){return(l._LogicalXor=l.asm.LogicalXor).apply(null,arguments)},l._Max=function(){return(l._Max=l.asm.Max).apply(null,arguments)},l._MaxPool=function(){return(l._MaxPool=l.asm.MaxPool).apply(null,arguments)},l._MaxPool3D=function(){return(l._MaxPool3D=l.asm.MaxPool3D).apply(null,arguments)},l._MaxPool3DGrad=function(){return(l._MaxPool3DGrad=l.asm.MaxPool3DGrad).apply(null,arguments)},l._MaxPoolGrad=function(){return(l._MaxPoolGrad=l.asm.MaxPoolGrad).apply(null,arguments)},l._MaxPoolWithArgmax=function(){return(l._MaxPoolWithArgmax=l.asm.MaxPoolWithArgmax).apply(null,arguments)},l._Maximum=function(){return(l._Maximum=l.asm.Maximum).apply(null,arguments)},l._Mean=function(){return(l._Mean=l.asm.Mean).apply(null,arguments)},l._Min=function(){return(l._Min=l.asm.Min).apply(null,arguments)},l._Minimum=function(){return(l._Minimum=l.asm.Minimum).apply(null,arguments)},l._MirrorPad=function(){return(l._MirrorPad=l.asm.MirrorPad).apply(null,arguments)},l._Mod=function(){return(l._Mod=l.asm.Mod).apply(null,arguments)},l._Multinomial=function(){return(l._Multinomial=l.asm.Multinomial).apply(null,arguments)},l._Multiply=function(){return(l._Multiply=l.asm.Multiply).apply(null,arguments)},l._Neg=function(){return(l._Neg=l.asm.Neg).apply(null,arguments)},l._NonMaxSuppressionV3=function(){return(l._NonMaxSuppressionV3=l.asm.NonMaxSuppressionV3).apply(null,arguments)},l._NonMaxSuppressionV4=function(){return(l._NonMaxSuppressionV4=l.asm.NonMaxSuppressionV4).apply(null,arguments)},l._NonMaxSuppressionV5=function(){return(l._NonMaxSuppressionV5=l.asm.NonMaxSuppressionV5).apply(null,arguments)},l._NotEqual=function(){return(l._NotEqual=l.asm.NotEqual).apply(null,arguments)},l._OneHot=function(){return(l._OneHot=l.asm.OneHot).apply(null,arguments)},l._PadV2=function(){return(l._PadV2=l.asm.PadV2).apply(null,arguments)},l._Pow=function(){return(l._Pow=l.asm.Pow).apply(null,arguments)},l._Prelu=function(){return(l._Prelu=l.asm.Prelu).apply(null,arguments)},l._Prod=function(){return(l._Prod=l.asm.Prod).apply(null,arguments)},l._RealDiv=function(){return(l._RealDiv=l.asm.RealDiv).apply(null,arguments)},l._Reciprocal=function(){return(l._Reciprocal=l.asm.Reciprocal).apply(null,arguments)},l._Relu=function(){return(l._Relu=l.asm.Relu).apply(null,arguments)},l._Relu6=function(){return(l._Relu6=l.asm.Relu6).apply(null,arguments)},l._ResizeBilinear=function(){return(l._ResizeBilinear=l.asm.ResizeBilinear).apply(null,arguments)},l._ResizeBilinearGrad=function(){return(l._ResizeBilinearGrad=l.asm.ResizeBilinearGrad).apply(null,arguments)},l._ResizeNearestNeighbor=function(){return(l._ResizeNearestNeighbor=l.asm.ResizeNearestNeighbor).apply(null,arguments)},l._ResizeNearestNeighborGrad=function(){return(l._ResizeNearestNeighborGrad=l.asm.ResizeNearestNeighborGrad).apply(null,arguments)},l._Reverse=function(){return(l._Reverse=l.asm.Reverse).apply(null,arguments)},l._RotateWithOffset=function(){return(l._RotateWithOffset=l.asm.RotateWithOffset).apply(null,arguments)},l._Round=function(){return(l._Round=l.asm.Round).apply(null,arguments)},l._Rsqrt=function(){return(l._Rsqrt=l.asm.Rsqrt).apply(null,arguments)},l._ScatterNd=function(){return(l._ScatterNd=l.asm.ScatterNd).apply(null,arguments)},l._SearchSorted=function(){return(l._SearchSorted=l.asm.SearchSorted).apply(null,arguments)},l._SelectV2=function(){return(l._SelectV2=l.asm.SelectV2).apply(null,arguments)},l._Selu=function(){return(l._Selu=l.asm.Selu).apply(null,arguments)},l._Sigmoid=function(){return(l._Sigmoid=l.asm.Sigmoid).apply(null,arguments)},l._Sign=function(){return(l._Sign=l.asm.Sign).apply(null,arguments)},l._Sin=function(){return(l._Sin=l.asm.Sin).apply(null,arguments)},l._Sinh=function(){return(l._Sinh=l.asm.Sinh).apply(null,arguments)},l._Softmax=function(){return(l._Softmax=l.asm.Softmax).apply(null,arguments)},l._Softplus=function(){return(l._Softplus=l.asm.Softplus).apply(null,arguments)},l._SparseFillEmptyRows=function(){return(l._SparseFillEmptyRows=l.asm.SparseFillEmptyRows).apply(null,arguments)},l._SparseReshape=function(){return(l._SparseReshape=l.asm.SparseReshape).apply(null,arguments)},l._SparseSegmentReduction=function(){return(l._SparseSegmentReduction=l.asm.SparseSegmentReduction).apply(null,arguments)},l._SparseToDense=function(){return(l._SparseToDense=l.asm.SparseToDense).apply(null,arguments)},l._Sqrt=function(){return(l._Sqrt=l.asm.Sqrt).apply(null,arguments)},l._Square=function(){return(l._Square=l.asm.Square).apply(null,arguments)},l._SquaredDifference=function(){return(l._SquaredDifference=l.asm.SquaredDifference).apply(null,arguments)},l._Step=function(){return(l._Step=l.asm.Step).apply(null,arguments)},l._StridedSlice=function(){return(l._StridedSlice=l.asm.StridedSlice).apply(null,arguments)},l._Sub=function(){return(l._Sub=l.asm.Sub).apply(null,arguments)},l._Sum=function(){return(l._Sum=l.asm.Sum).apply(null,arguments)},l._Tan=function(){return(l._Tan=l.asm.Tan).apply(null,arguments)},l._Tanh=function(){return(l._Tanh=l.asm.Tanh).apply(null,arguments)},l._TensorScatterUpdate=function(){return(l._TensorScatterUpdate=l.asm.TensorScatterUpdate).apply(null,arguments)},l._Tile=function(){return(l._Tile=l.asm.Tile).apply(null,arguments)},l._TopK=function(){return(l._TopK=l.asm.TopK).apply(null,arguments)},l._Transform=function(){return(l._Transform=l.asm.Transform).apply(null,arguments)},l._Transpose=function(){return(l._Transpose=l.asm.Transpose).apply(null,arguments)},l.__FusedMatMul=function(){return(l.__FusedMatMul=l.asm._FusedMatMul).apply(null,arguments)},l._malloc=function(){return(l._malloc=l.asm.malloc).apply(null,arguments)},l._free=function(){return(l._free=l.asm.free).apply(null,arguments)},l.__emscripten_tls_init=function(){return(l.__emscripten_tls_init=l.asm._emscripten_tls_init).apply(null,arguments)};var Ir=l._pthread_self=function(){return(Ir=l._pthread_self=l.asm.pthread_self).apply(null,arguments)};l.___errno_location=function(){return(l.___errno_location=l.asm.__errno_location).apply(null,arguments)};var ti=l.__emscripten_thread_init=function(){return(ti=l.__emscripten_thread_init=l.asm._emscripten_thread_init).apply(null,arguments)};l.__emscripten_thread_crashed=function(){return(l.__emscripten_thread_crashed=l.asm._emscripten_thread_crashed).apply(null,arguments)},l._emscripten_main_thread_process_queued_calls=function(){return(l._emscripten_main_thread_process_queued_calls=l.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},l._emscripten_main_browser_thread_id=function(){return(l._emscripten_main_browser_thread_id=l.asm.emscripten_main_browser_thread_id).apply(null,arguments)};var ls=l._emscripten_run_in_main_runtime_thread_js=function(){return(ls=l._emscripten_run_in_main_runtime_thread_js=l.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)};l._emscripten_dispatch_to_thread_=function(){return(l._emscripten_dispatch_to_thread_=l.asm.emscripten_dispatch_to_thread_).apply(null,arguments)};var jt=l.__emscripten_proxy_execute_task_queue=function(){return(jt=l.__emscripten_proxy_execute_task_queue=l.asm._emscripten_proxy_execute_task_queue).apply(null,arguments)},lo=l.__emscripten_thread_free_data=function(){return(lo=l.__emscripten_thread_free_data=l.asm._emscripten_thread_free_data).apply(null,arguments)},us=l.__emscripten_thread_exit=function(){return(us=l.__emscripten_thread_exit=l.asm._emscripten_thread_exit).apply(null,arguments)},Os=l._emscripten_stack_set_limits=function(){return(Os=l._emscripten_stack_set_limits=l.asm.emscripten_stack_set_limits).apply(null,arguments)},Ms=l.stackSave=function(){return(Ms=l.stackSave=l.asm.stackSave).apply(null,arguments)},Ps=l.stackRestore=function(){return(Ps=l.stackRestore=l.asm.stackRestore).apply(null,arguments)},Bs=l.stackAlloc=function(){return(Bs=l.stackAlloc=l.asm.stackAlloc).apply(null,arguments)};l.dynCall_iijjiiii=function(){return(l.dynCall_iijjiiii=l.asm.dynCall_iijjiiii).apply(null,arguments)},l.dynCall_jiji=function(){return(l.dynCall_jiji=l.asm.dynCall_jiji).apply(null,arguments)},l.keepRuntimeAlive=_e,l.wasmMemory=Z,l.cwrap=io,l.ExitStatus=or,l.PThread=qe;var _a;dt=function ee(){_a||cs(),_a||(dt=ee)};function cs(ee){if(ft>0)return;if(_){p(l),ge(),startWorker(l);return}if(Ae(),ft>0)return;function ve(){_a||(_a=!0,l.calledRun=!0,!te&&(ge(),p(l),l.onRuntimeInitialized&&l.onRuntimeInitialized(),$e()))}l.setStatus?(l.setStatus("Running..."),setTimeout(function(){setTimeout(function(){l.setStatus("")},1),ve()},1)):ve()}if(l.preInit)for(typeof l.preInit=="function"&&(l.preInit=[l.preInit]);l.preInit.length>0;)l.preInit.pop()();cs();var Cr;m&&(Cr={uncaughtException:process.listeners("uncaughtException").filter(function(ee){return!m.uncaughtException.indexOf(ee)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(ee){return!m.unhandledRejection.indexOf(ee)>-1})});var Er;if(typeof WasmBackendModule<"u")Er=WasmBackendModule;else if(typeof a<"u")Er=a;else throw new Error("Could not find wasm module in post.js");if(Cr){var da=Er._dispose;Er._dispose=function(){da(),Cr.uncaughtException.forEach(function(ee){process.removeListener("uncaughtException",ee)}),Cr.unhandledRejection.forEach(function(ee){process.removeListener("unhandledRejection",ee)})}}return a.ready}})();t.exports=n}(Kg)),Kg.exports}var HI=MU();const GI=Hl(HI),PU=Rf({__proto__:null,default:GI},[HI]);var Xg={},Lw;function BU(){return Lw||(Lw=1,Xg.wasmWorkerContents=`"use strict";var Module={};var ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(ENVIRONMENT_IS_NODE){var nodeWorkerThreads=require("worker_threads");var parentPort=nodeWorkerThreads.parentPort;parentPort.on("message",data=>onmessage({data:data}));var fs=require("fs");Object.assign(global,{self:global,require:require,Module:Module,location:{href:__filename},Worker:nodeWorkerThreads.Worker,importScripts:function(f){(0,eval)(fs.readFileSync(f,"utf8")+"//# sourceURL="+f)},postMessage:function(msg){parentPort.postMessage(msg)},performance:global.performance||{now:function(){return Date.now()}}})}var initializedJS=false;var pendingNotifiedProxyingQueues=[];function threadPrintErr(){var text=Array.prototype.slice.call(arguments).join(" ");if(ENVIRONMENT_IS_NODE){fs.writeSync(2,text+"
");return}console.error(text)}function threadAlert(){var text=Array.prototype.slice.call(arguments).join(" ");postMessage({cmd:"alert",text:text,threadId:Module["_pthread_self"]()})}var err=threadPrintErr;self.alert=threadAlert;Module["instantiateWasm"]=(info,receiveInstance)=>{var instance=new WebAssembly.Instance(Module["wasmModule"],info);receiveInstance(instance);Module["wasmModule"]=null;return instance.exports};self.onunhandledrejection=e=>{throw e.reason??e};self.startWorker=instance=>{Module=instance;postMessage({"cmd":"loaded"})};self.onmessage=e=>{try{if(e.data.cmd==="load"){Module["wasmModule"]=e.data.wasmModule;for(const handler of e.data.handlers){Module[handler]=function(){postMessage({cmd:"callHandler",handler:handler,args:[...arguments]})}}Module["wasmMemory"]=e.data.wasmMemory;Module["buffer"]=Module["wasmMemory"].buffer;Module["ENVIRONMENT_IS_PTHREAD"]=true;if(typeof e.data.urlOrBlob=="string"){importScripts(e.data.urlOrBlob)}else{var objectUrl=URL.createObjectURL(e.data.urlOrBlob);importScripts(objectUrl);URL.revokeObjectURL(objectUrl)}WasmBackendModuleThreadedSimd(Module)}else if(e.data.cmd==="run"){Module["__emscripten_thread_init"](e.data.pthread_ptr,0,0,1);Module["establishStackSpace"]();Module["PThread"].receiveObjectTransfer(e.data);Module["PThread"].threadInitTLS();if(!initializedJS){pendingNotifiedProxyingQueues.forEach(queue=>{Module["executeNotifiedProxyingQueue"](queue)});pendingNotifiedProxyingQueues=[];initializedJS=true}try{Module["invokeEntryPoint"](e.data.start_routine,e.data.arg)}catch(ex){if(ex!="unwind"){if(ex instanceof Module["ExitStatus"]){if(Module["keepRuntimeAlive"]()){}else{Module["__emscripten_thread_exit"](ex.status)}}else{throw ex}}}}else if(e.data.cmd==="cancel"){if(Module["_pthread_self"]()){Module["__emscripten_thread_exit"](-1)}}else if(e.data.target==="setimmediate"){}else if(e.data.cmd==="processProxyingQueue"){if(initializedJS){Module["executeNotifiedProxyingQueue"](e.data.queue)}else{pendingNotifiedProxyingQueues.push(e.data.queue)}}else if(e.data.cmd){err("worker.js received unknown command "+e.data.cmd);err(e.data)}}catch(ex){if(Module["__emscripten_thread_crashed"]){Module["__emscripten_thread_crashed"]()}throw ex}};`),Xg}var zU=BU(),Yg={exports:{}},Ww;function LU(){return Ww||(Ww=1,function(t,e){var n=(()=>{var r=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return typeof __filename<"u"&&(r=r||__filename),function(a){a=a||{};var s=typeof a<"u"?a:{},o,i;s.ready=new Promise(function(Ie,Le){o=Ie,i=Le});var c;typeof process<"u"&&process.listeners&&(c={uncaughtException:process.listeners("uncaughtException"),unhandledRejection:process.listeners("unhandledRejection")});var d=Object.assign({},s),l=typeof window=="object",p=typeof importScripts=="function",h=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",m="";function y(Ie){return s.locateFile?s.locateFile(Ie,m):m+Ie}var v,b,w;if(h){var x=To,_=To;p?m=_.dirname(m)+"/":m=__dirname+"/",v=(Ie,Le)=>(Ie=be(Ie)?new URL(Ie):_.normalize(Ie),x.readFileSync(Ie,Le?void 0:"utf8")),w=Ie=>{var Le=v(Ie,!0);return Le.buffer||(Le=new Uint8Array(Le)),Le},b=(Ie,Le,it)=>{Ie=be(Ie)?new URL(Ie):_.normalize(Ie),x.readFile(Ie,function(qe,Bt){qe?it(qe):Le(Bt.buffer)})},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),process.on("uncaughtException",function(Ie){if(!(Ie instanceof _e))throw Ie}),process.on("unhandledRejection",function(Ie){throw Ie}),s.inspect=function(){return"[Emscripten Module object]"}}else(l||p)&&(p?m=self.location.href:typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),r&&(m=r),m.indexOf("blob:")!==0?m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1):m="",v=Ie=>{var Le=new XMLHttpRequest;return Le.open("GET",Ie,!1),Le.send(null),Le.responseText},p&&(w=Ie=>{var Le=new XMLHttpRequest;return Le.open("GET",Ie,!1),Le.responseType="arraybuffer",Le.send(null),new Uint8Array(Le.response)}),b=(Ie,Le,it)=>{var qe=new XMLHttpRequest;qe.open("GET",Ie,!0),qe.responseType="arraybuffer",qe.onload=()=>{if(qe.status==200||qe.status==0&&qe.response){Le(qe.response);return}it()},qe.onerror=it,qe.send(null)});var C=s.print||console.log.bind(console),T=s.printErr||console.warn.bind(console);Object.assign(s,d),d=null,s.arguments&&s.arguments,s.thisProgram&&s.thisProgram,s.quit&&s.quit;var R;s.wasmBinary&&(R=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&et("no native wasm support detected");var M,W=!1,P=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function z(Ie,Le,it){Le>>>=0;for(var qe=Le+it,Bt=Le;Ie[Bt]&&!(Bt>=qe);)++Bt;if(Bt-Le>16&&Ie.buffer&&P)return P.decode(Ie.subarray(Le,Bt));for(var Kt="";Le<Bt;){var St=Ie[Le++];if(!(St&128)){Kt+=String.fromCharCode(St);continue}var kt=Ie[Le++]&63;if((St&224)==192){Kt+=String.fromCharCode((St&31)<<6|kt);continue}var sn=Ie[Le++]&63;if((St&240)==224?St=(St&15)<<12|kt<<6|sn:St=(St&7)<<18|kt<<12|sn<<6|Ie[Le++]&63,St<65536)Kt+=String.fromCharCode(St);else{var Hn=St-65536;Kt+=String.fromCharCode(55296|Hn>>10,56320|Hn&1023)}}return Kt}function F(Ie,Le){return Ie>>>=0,Ie?z(ae,Ie,Le):""}function O(Ie,Le,it,qe){if(it>>>=0,!(qe>0))return 0;for(var Bt=it,Kt=it+qe-1,St=0;St<Ie.length;++St){var kt=Ie.charCodeAt(St);if(kt>=55296&&kt<=57343){var sn=Ie.charCodeAt(++St);kt=65536+((kt&1023)<<10)|sn&1023}if(kt<=127){if(it>=Kt)break;Le[it++>>>0]=kt}else if(kt<=2047){if(it+1>=Kt)break;Le[it++>>>0]=192|kt>>6,Le[it++>>>0]=128|kt&63}else if(kt<=65535){if(it+2>=Kt)break;Le[it++>>>0]=224|kt>>12,Le[it++>>>0]=128|kt>>6&63,Le[it++>>>0]=128|kt&63}else{if(it+3>=Kt)break;Le[it++>>>0]=240|kt>>18,Le[it++>>>0]=128|kt>>12&63,Le[it++>>>0]=128|kt>>6&63,Le[it++>>>0]=128|kt&63}}return Le[it>>>0]=0,it-Bt}function U(Ie,Le,it){return O(Ie,ae,Le,it)}var N,q,ae,J;function Z(Ie){N=Ie,s.HEAP8=q=new Int8Array(Ie),s.HEAP16=new Int16Array(Ie),s.HEAP32=new Int32Array(Ie),s.HEAPU8=ae=new Uint8Array(Ie),s.HEAPU16=new Uint16Array(Ie),s.HEAPU32=J=new Uint32Array(Ie),s.HEAPF32=new Float32Array(Ie),s.HEAPF64=new Float64Array(Ie)}s.INITIAL_MEMORY;var Y=[],te=[],B=[];function V(){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)le(s.preRun.shift());Ae(Y)}function oe(){Ae(te)}function ue(){if(s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;)Re(s.postRun.shift());Ae(B)}function le(Ie){Y.unshift(Ie)}function Ee(Ie){te.unshift(Ie)}function Re(Ie){B.unshift(Ie)}var xe=0,Ne=null;function He(Ie){xe++,s.monitorRunDependencies&&s.monitorRunDependencies(xe)}function Ke(Ie){if(xe--,s.monitorRunDependencies&&s.monitorRunDependencies(xe),xe==0&&Ne){var Le=Ne;Ne=null,Le()}}function et(Ie){s.onAbort&&s.onAbort(Ie),Ie="Aborted("+Ie+")",T(Ie),W=!0,Ie+=". Build with -sASSERTIONS for more info.";var Le=new WebAssembly.RuntimeError(Ie);throw i(Le),Le}var Qe="data:application/octet-stream;base64,";function $(Ie){return Ie.startsWith(Qe)}function be(Ie){return Ie.startsWith("file://")}var pe;pe="tfjs-backend-wasm.wasm",$(pe)||(pe=y(pe));function Q(Ie){try{if(Ie==pe&&R)return new Uint8Array(R);if(w)return w(Ie);throw"both async and sync fetching of the wasm failed"}catch(Le){et(Le)}}function K(){if(!R&&(l||p)){if(typeof fetch=="function"&&!be(pe))return fetch(pe,{credentials:"same-origin"}).then(function(Ie){if(!Ie.ok)throw"failed to load wasm binary file at '"+pe+"'";return Ie.arrayBuffer()}).catch(function(){return Q(pe)});if(b)return new Promise(function(Ie,Le){b(pe,function(it){Ie(new Uint8Array(it))},Le)})}return Promise.resolve().then(function(){return Q(pe)})}function ce(){var Ie={env:Yr,wasi_snapshot_preview1:Yr};function Le(St,kt){var sn=St.exports;s.asm=sn,M=s.asm.memory,Z(M.buffer),s.asm.__indirect_function_table,Ee(s.asm.__wasm_call_ctors),Ke()}He();function it(St){Le(St.instance)}function qe(St){return K().then(function(kt){return WebAssembly.instantiate(kt,Ie)}).then(function(kt){return kt}).then(St,function(kt){T("failed to asynchronously prepare wasm: "+kt),et(kt)})}function Bt(){return!R&&typeof WebAssembly.instantiateStreaming=="function"&&!$(pe)&&!be(pe)&&!h&&typeof fetch=="function"?fetch(pe,{credentials:"same-origin"}).then(function(St){var kt=WebAssembly.instantiateStreaming(St,Ie);return kt.then(it,function(sn){return T("wasm streaming compile failed: "+sn),T("falling back to ArrayBuffer instantiation"),qe(it)})}):qe(it)}if(s.instantiateWasm)try{var Kt=s.instantiateWasm(Ie,Le);return Kt}catch(St){T("Module.instantiateWasm callback failed with error: "+St),i(St)}return Bt().catch(i),{}}function _e(Ie){this.name="ExitStatus",this.message="Program terminated with exit("+Ie+")",this.status=Ie}function Ae(Ie){for(;Ie.length>0;)Ie.shift()(s)}function ge(){et("")}function $e(){return 4294901760}function Ve(){return $e()}function Me(Ie,Le,it){ae.copyWithin(Ie>>>0,Le>>>0,Le+it>>>0)}function Ze(Ie){try{return M.grow(Ie-N.byteLength+65535>>>16),Z(M.buffer),1}catch{}}function ft(Ie){var Le=ae.length;Ie=Ie>>>0;var it=$e();if(Ie>it)return!1;let qe=(sn,Hn)=>sn+(Hn-sn%Hn)%Hn;for(var Bt=1;Bt<=4;Bt*=2){var Kt=Le*(1+.2/Bt);Kt=Math.min(Kt,Ie+100663296);var St=Math.min(it,qe(Math.max(Ie,Kt),65536)),kt=Ze(St);if(kt)return!0}return!1}function dt(Ie){return 52}function qt(Ie,Le,it,qe,Bt){return 70}var Bn=[null,[],[]];function Ht(Ie,Le){var it=Bn[Ie];Le===0||Le===10?((Ie===1?C:T)(z(it,0)),it.length=0):it.push(Le)}function kr(Ie,Le,it,qe){for(var Bt=0,Kt=0;Kt<it;Kt++){var St=J[Le>>>2],kt=J[Le+4>>>2];Le+=8;for(var sn=0;sn<kt;sn++)Ht(Ie,ae[St+sn>>>0]);Bt+=kt}return J[qe>>>2]=Bt,0}function Dt(Ie){var Le=s["_"+Ie];return Le}function Fn(Ie,Le){q.set(Ie,Le>>>0)}function tn(Ie,Le,it,qe,Bt){var Kt={string:$n=>{var zn=0;if($n!=null&&$n!==0){var ss=($n.length<<2)+1;zn=or(ss),U($n,zn,ss)}return zn},array:$n=>{var zn=or($n.length);return Fn($n,zn),zn}};function St($n){return Le==="string"?F($n):Le==="boolean"?!!$n:$n}var kt=Dt(Ie),sn=[],Hn=0;if(qe)for(var er=0;er<qe.length;er++){var za=Kt[it[er]];za?(Hn===0&&(Hn=Lr()),sn[er]=za(qe[er])):sn[er]=qe[er]}var xa=kt.apply(null,sn);function Ns($n){return Hn!==0&&ua(Hn),St($n)}return xa=Ns(xa),xa}function Rn(Ie,Le,it,qe){it=it||[];var Bt=it.every(St=>St==="number"||St==="boolean"),Kt=Le!=="string";return Kt&&Bt&&!qe?Dt(Ie):function(){return tn(Ie,Le,it,arguments)}}var Yr={abort:ge,emscripten_get_heap_max:Ve,emscripten_memcpy_big:Me,emscripten_resize_heap:ft,fd_close:dt,fd_seek:qt,fd_write:kr};ce(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.__wasm_call_ctors).apply(null,arguments)},s._init=function(){return(s._init=s.asm.init).apply(null,arguments)},s._init_with_threads_count=function(){return(s._init_with_threads_count=s.asm.init_with_threads_count).apply(null,arguments)},s._get_threads_count=function(){return(s._get_threads_count=s.asm.get_threads_count).apply(null,arguments)},s._register_tensor=function(){return(s._register_tensor=s.asm.register_tensor).apply(null,arguments)},s._dispose_data=function(){return(s._dispose_data=s.asm.dispose_data).apply(null,arguments)},s._dispose=function(){return(s._dispose=s.asm.dispose).apply(null,arguments)},s._Abs=function(){return(s._Abs=s.asm.Abs).apply(null,arguments)},s._Acos=function(){return(s._Acos=s.asm.Acos).apply(null,arguments)},s._Acosh=function(){return(s._Acosh=s.asm.Acosh).apply(null,arguments)},s._Add=function(){return(s._Add=s.asm.Add).apply(null,arguments)},s._AddN=function(){return(s._AddN=s.asm.AddN).apply(null,arguments)},s._All=function(){return(s._All=s.asm.All).apply(null,arguments)},s._Any=function(){return(s._Any=s.asm.Any).apply(null,arguments)},s._ArgMax=function(){return(s._ArgMax=s.asm.ArgMax).apply(null,arguments)},s._ArgMin=function(){return(s._ArgMin=s.asm.ArgMin).apply(null,arguments)},s._Asin=function(){return(s._Asin=s.asm.Asin).apply(null,arguments)},s._Asinh=function(){return(s._Asinh=s.asm.Asinh).apply(null,arguments)},s._Atan=function(){return(s._Atan=s.asm.Atan).apply(null,arguments)},s._Atan2=function(){return(s._Atan2=s.asm.Atan2).apply(null,arguments)},s._Atanh=function(){return(s._Atanh=s.asm.Atanh).apply(null,arguments)},s._AvgPool=function(){return(s._AvgPool=s.asm.AvgPool).apply(null,arguments)},s._AvgPool3D=function(){return(s._AvgPool3D=s.asm.AvgPool3D).apply(null,arguments)},s._AvgPool3DGrad=function(){return(s._AvgPool3DGrad=s.asm.AvgPool3DGrad).apply(null,arguments)},s._AvgPoolGrad=function(){return(s._AvgPoolGrad=s.asm.AvgPoolGrad).apply(null,arguments)},s._BatchMatMul=function(){return(s._BatchMatMul=s.asm.BatchMatMul).apply(null,arguments)},s._Bincount=function(){return(s._Bincount=s.asm.Bincount).apply(null,arguments)},s._BitwiseAnd=function(){return(s._BitwiseAnd=s.asm.BitwiseAnd).apply(null,arguments)},s._Ceil=function(){return(s._Ceil=s.asm.Ceil).apply(null,arguments)},s._ClipByValue=function(){return(s._ClipByValue=s.asm.ClipByValue).apply(null,arguments)},s._Conv2D=function(){return(s._Conv2D=s.asm.Conv2D).apply(null,arguments)},s._Conv2DBackpropInput=function(){return(s._Conv2DBackpropInput=s.asm.Conv2DBackpropInput).apply(null,arguments)},s._Conv3D=function(){return(s._Conv3D=s.asm.Conv3D).apply(null,arguments)},s._Conv3DBackpropFilterV2=function(){return(s._Conv3DBackpropFilterV2=s.asm.Conv3DBackpropFilterV2).apply(null,arguments)},s._Conv3DBackpropInputV2=function(){return(s._Conv3DBackpropInputV2=s.asm.Conv3DBackpropInputV2).apply(null,arguments)},s._Cos=function(){return(s._Cos=s.asm.Cos).apply(null,arguments)},s._Cosh=function(){return(s._Cosh=s.asm.Cosh).apply(null,arguments)},s._CropAndResize=function(){return(s._CropAndResize=s.asm.CropAndResize).apply(null,arguments)},s._Cumprod=function(){return(s._Cumprod=s.asm.Cumprod).apply(null,arguments)},s._Cumsum=function(){return(s._Cumsum=s.asm.Cumsum).apply(null,arguments)},s._DenseBincount=function(){return(s._DenseBincount=s.asm.DenseBincount).apply(null,arguments)},s._DepthToSpace=function(){return(s._DepthToSpace=s.asm.DepthToSpace).apply(null,arguments)},s._DepthwiseConv2dNative=function(){return(s._DepthwiseConv2dNative=s.asm.DepthwiseConv2dNative).apply(null,arguments)},s._Diag=function(){return(s._Diag=s.asm.Diag).apply(null,arguments)},s._Dilation2D=function(){return(s._Dilation2D=s.asm.Dilation2D).apply(null,arguments)},s._Dilation2DBackpropFilter=function(){return(s._Dilation2DBackpropFilter=s.asm.Dilation2DBackpropFilter).apply(null,arguments)},s._Dilation2DBackpropInput=function(){return(s._Dilation2DBackpropInput=s.asm.Dilation2DBackpropInput).apply(null,arguments)},s._Elu=function(){return(s._Elu=s.asm.Elu).apply(null,arguments)},s._EluGrad=function(){return(s._EluGrad=s.asm.EluGrad).apply(null,arguments)},s._Equal=function(){return(s._Equal=s.asm.Equal).apply(null,arguments)},s._Erf=function(){return(s._Erf=s.asm.Erf).apply(null,arguments)},s._Exp=function(){return(s._Exp=s.asm.Exp).apply(null,arguments)},s._Expm1=function(){return(s._Expm1=s.asm.Expm1).apply(null,arguments)},s._FlipLeftRight=function(){return(s._FlipLeftRight=s.asm.FlipLeftRight).apply(null,arguments)},s._Floor=function(){return(s._Floor=s.asm.Floor).apply(null,arguments)},s._FloorDiv=function(){return(s._FloorDiv=s.asm.FloorDiv).apply(null,arguments)},s._FusedBatchNorm=function(){return(s._FusedBatchNorm=s.asm.FusedBatchNorm).apply(null,arguments)},s._FusedConv2D=function(){return(s._FusedConv2D=s.asm.FusedConv2D).apply(null,arguments)},s._FusedDepthwiseConv2D=function(){return(s._FusedDepthwiseConv2D=s.asm.FusedDepthwiseConv2D).apply(null,arguments)},s._Gather=function(){return(s._Gather=s.asm.Gather).apply(null,arguments)},s._GatherNd=function(){return(s._GatherNd=s.asm.GatherNd).apply(null,arguments)},s._Greater=function(){return(s._Greater=s.asm.Greater).apply(null,arguments)},s._GreaterEqual=function(){return(s._GreaterEqual=s.asm.GreaterEqual).apply(null,arguments)},s._IsFinite=function(){return(s._IsFinite=s.asm.IsFinite).apply(null,arguments)},s._IsInf=function(){return(s._IsInf=s.asm.IsInf).apply(null,arguments)},s._IsNan=function(){return(s._IsNan=s.asm.IsNan).apply(null,arguments)},s._LRN=function(){return(s._LRN=s.asm.LRN).apply(null,arguments)},s._LRNGrad=function(){return(s._LRNGrad=s.asm.LRNGrad).apply(null,arguments)},s._LeakyRelu=function(){return(s._LeakyRelu=s.asm.LeakyRelu).apply(null,arguments)},s._Less=function(){return(s._Less=s.asm.Less).apply(null,arguments)},s._LessEqual=function(){return(s._LessEqual=s.asm.LessEqual).apply(null,arguments)},s._LinSpace=function(){return(s._LinSpace=s.asm.LinSpace).apply(null,arguments)},s._Log=function(){return(s._Log=s.asm.Log).apply(null,arguments)},s._Log1p=function(){return(s._Log1p=s.asm.Log1p).apply(null,arguments)},s._LogicalAnd=function(){return(s._LogicalAnd=s.asm.LogicalAnd).apply(null,arguments)},s._LogicalNot=function(){return(s._LogicalNot=s.asm.LogicalNot).apply(null,arguments)},s._LogicalOr=function(){return(s._LogicalOr=s.asm.LogicalOr).apply(null,arguments)},s._LogicalXor=function(){return(s._LogicalXor=s.asm.LogicalXor).apply(null,arguments)},s._Max=function(){return(s._Max=s.asm.Max).apply(null,arguments)},s._MaxPool=function(){return(s._MaxPool=s.asm.MaxPool).apply(null,arguments)},s._MaxPool3D=function(){return(s._MaxPool3D=s.asm.MaxPool3D).apply(null,arguments)},s._MaxPool3DGrad=function(){return(s._MaxPool3DGrad=s.asm.MaxPool3DGrad).apply(null,arguments)},s._MaxPoolGrad=function(){return(s._MaxPoolGrad=s.asm.MaxPoolGrad).apply(null,arguments)},s._MaxPoolWithArgmax=function(){return(s._MaxPoolWithArgmax=s.asm.MaxPoolWithArgmax).apply(null,arguments)},s._Maximum=function(){return(s._Maximum=s.asm.Maximum).apply(null,arguments)},s._Mean=function(){return(s._Mean=s.asm.Mean).apply(null,arguments)},s._Min=function(){return(s._Min=s.asm.Min).apply(null,arguments)},s._Minimum=function(){return(s._Minimum=s.asm.Minimum).apply(null,arguments)},s._MirrorPad=function(){return(s._MirrorPad=s.asm.MirrorPad).apply(null,arguments)},s._Mod=function(){return(s._Mod=s.asm.Mod).apply(null,arguments)},s._Multinomial=function(){return(s._Multinomial=s.asm.Multinomial).apply(null,arguments)},s._Multiply=function(){return(s._Multiply=s.asm.Multiply).apply(null,arguments)},s._Neg=function(){return(s._Neg=s.asm.Neg).apply(null,arguments)},s._NonMaxSuppressionV3=function(){return(s._NonMaxSuppressionV3=s.asm.NonMaxSuppressionV3).apply(null,arguments)},s._NonMaxSuppressionV4=function(){return(s._NonMaxSuppressionV4=s.asm.NonMaxSuppressionV4).apply(null,arguments)},s._NonMaxSuppressionV5=function(){return(s._NonMaxSuppressionV5=s.asm.NonMaxSuppressionV5).apply(null,arguments)},s._NotEqual=function(){return(s._NotEqual=s.asm.NotEqual).apply(null,arguments)},s._OneHot=function(){return(s._OneHot=s.asm.OneHot).apply(null,arguments)},s._PadV2=function(){return(s._PadV2=s.asm.PadV2).apply(null,arguments)},s._Pow=function(){return(s._Pow=s.asm.Pow).apply(null,arguments)},s._Prelu=function(){return(s._Prelu=s.asm.Prelu).apply(null,arguments)},s._Prod=function(){return(s._Prod=s.asm.Prod).apply(null,arguments)},s._RealDiv=function(){return(s._RealDiv=s.asm.RealDiv).apply(null,arguments)},s._Reciprocal=function(){return(s._Reciprocal=s.asm.Reciprocal).apply(null,arguments)},s._Relu=function(){return(s._Relu=s.asm.Relu).apply(null,arguments)},s._Relu6=function(){return(s._Relu6=s.asm.Relu6).apply(null,arguments)},s._ResizeBilinear=function(){return(s._ResizeBilinear=s.asm.ResizeBilinear).apply(null,arguments)},s._ResizeBilinearGrad=function(){return(s._ResizeBilinearGrad=s.asm.ResizeBilinearGrad).apply(null,arguments)},s._ResizeNearestNeighbor=function(){return(s._ResizeNearestNeighbor=s.asm.ResizeNearestNeighbor).apply(null,arguments)},s._ResizeNearestNeighborGrad=function(){return(s._ResizeNearestNeighborGrad=s.asm.ResizeNearestNeighborGrad).apply(null,arguments)},s._Reverse=function(){return(s._Reverse=s.asm.Reverse).apply(null,arguments)},s._RotateWithOffset=function(){return(s._RotateWithOffset=s.asm.RotateWithOffset).apply(null,arguments)},s._Round=function(){return(s._Round=s.asm.Round).apply(null,arguments)},s._Rsqrt=function(){return(s._Rsqrt=s.asm.Rsqrt).apply(null,arguments)},s._ScatterNd=function(){return(s._ScatterNd=s.asm.ScatterNd).apply(null,arguments)},s._SearchSorted=function(){return(s._SearchSorted=s.asm.SearchSorted).apply(null,arguments)},s._SelectV2=function(){return(s._SelectV2=s.asm.SelectV2).apply(null,arguments)},s._Selu=function(){return(s._Selu=s.asm.Selu).apply(null,arguments)},s._Sigmoid=function(){return(s._Sigmoid=s.asm.Sigmoid).apply(null,arguments)},s._Sign=function(){return(s._Sign=s.asm.Sign).apply(null,arguments)},s._Sin=function(){return(s._Sin=s.asm.Sin).apply(null,arguments)},s._Sinh=function(){return(s._Sinh=s.asm.Sinh).apply(null,arguments)},s._Softmax=function(){return(s._Softmax=s.asm.Softmax).apply(null,arguments)},s._Softplus=function(){return(s._Softplus=s.asm.Softplus).apply(null,arguments)},s._SparseFillEmptyRows=function(){return(s._SparseFillEmptyRows=s.asm.SparseFillEmptyRows).apply(null,arguments)},s._SparseReshape=function(){return(s._SparseReshape=s.asm.SparseReshape).apply(null,arguments)},s._SparseSegmentReduction=function(){return(s._SparseSegmentReduction=s.asm.SparseSegmentReduction).apply(null,arguments)},s._SparseToDense=function(){return(s._SparseToDense=s.asm.SparseToDense).apply(null,arguments)},s._Sqrt=function(){return(s._Sqrt=s.asm.Sqrt).apply(null,arguments)},s._Square=function(){return(s._Square=s.asm.Square).apply(null,arguments)},s._SquaredDifference=function(){return(s._SquaredDifference=s.asm.SquaredDifference).apply(null,arguments)},s._Step=function(){return(s._Step=s.asm.Step).apply(null,arguments)},s._StridedSlice=function(){return(s._StridedSlice=s.asm.StridedSlice).apply(null,arguments)},s._Sub=function(){return(s._Sub=s.asm.Sub).apply(null,arguments)},s._Sum=function(){return(s._Sum=s.asm.Sum).apply(null,arguments)},s._Tan=function(){return(s._Tan=s.asm.Tan).apply(null,arguments)},s._Tanh=function(){return(s._Tanh=s.asm.Tanh).apply(null,arguments)},s._TensorScatterUpdate=function(){return(s._TensorScatterUpdate=s.asm.TensorScatterUpdate).apply(null,arguments)},s._Tile=function(){return(s._Tile=s.asm.Tile).apply(null,arguments)},s._TopK=function(){return(s._TopK=s.asm.TopK).apply(null,arguments)},s._Transform=function(){return(s._Transform=s.asm.Transform).apply(null,arguments)},s._Transpose=function(){return(s._Transpose=s.asm.Transpose).apply(null,arguments)},s.__FusedMatMul=function(){return(s.__FusedMatMul=s.asm._FusedMatMul).apply(null,arguments)},s._malloc=function(){return(s._malloc=s.asm.malloc).apply(null,arguments)},s._free=function(){return(s._free=s.asm.free).apply(null,arguments)},s.___errno_location=function(){return(s.___errno_location=s.asm.__errno_location).apply(null,arguments)};var Lr=s.stackSave=function(){return(Lr=s.stackSave=s.asm.stackSave).apply(null,arguments)},ua=s.stackRestore=function(){return(ua=s.stackRestore=s.asm.stackRestore).apply(null,arguments)},or=s.stackAlloc=function(){return(or=s.stackAlloc=s.asm.stackAlloc).apply(null,arguments)};s.dynCall_iijjiiii=function(){return(s.dynCall_iijjiiii=s.asm.dynCall_iijjiiii).apply(null,arguments)},s.dynCall_jiji=function(){return(s.dynCall_jiji=s.asm.dynCall_jiji).apply(null,arguments)},s.cwrap=Rn;var Jn;Ne=function Ie(){Jn||an(),Jn||(Ne=Ie)};function an(Ie){if(xe>0||(V(),xe>0))return;function Le(){Jn||(Jn=!0,s.calledRun=!0,!W&&(oe(),o(s),s.onRuntimeInitialized&&s.onRuntimeInitialized(),ue()))}s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),Le()},1)):Le()}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);s.preInit.length>0;)s.preInit.pop()();an();var Pt;c&&(Pt={uncaughtException:process.listeners("uncaughtException").filter(function(Ie){return!c.uncaughtException.indexOf(Ie)>-1}),unhandledRejection:process.listeners("unhandledRejection").filter(function(Ie){return!c.unhandledRejection.indexOf(Ie)>-1})});var ca;if(typeof a<"u")ca=a;else if(typeof WasmBackendModuleThreadedSimd<"u")ca=WasmBackendModuleThreadedSimd;else throw new Error("Could not find wasm module in post.js");if(Pt){var ir=ca._dispose;ca._dispose=function(){ir(),Pt.uncaughtException.forEach(function(Ie){process.removeListener("uncaughtException",Ie)}),Pt.unhandledRejection.forEach(function(Ie){process.removeListener("unhandledRejection",Ie)})}}return a.ready}})();t.exports=n}(Yg)),Yg.exports}var qI=LU();const KI=Hl(qI),WU=Rf({__proto__:null,default:KI},[qI]);/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const jw=GI||PU,jU=KI||WU;class VU extends Py{constructor(e){super(),this.wasm=e,this.dataIdNextNumber=1,this.wasm.tfjs.initWithThreadsCount(YU),this.wasm.tfjs.getThreadsCount(),this.dataIdMap=new Ax(this,Gv())}write(e,n,r){const a={id:this.dataIdNextNumber++};return this.move(a,e,n,r,1),a}numDataIds(){return this.dataIdMap.numDataIds()}async time(e){const n=$o();return e(),{kernelMs:$o()-n}}move(e,n,r,a,s){const o=this.dataIdNextNumber++;if(a==="string"){const l=n;this.dataIdMap.set(e,{id:o,stringBytes:l,shape:r,dtype:a,memoryOffset:null,refCount:s});return}const i=Ce(r),c=i*sc(a),d=this.wasm._malloc(c)>>>0;this.dataIdMap.set(e,{id:o,memoryOffset:d,shape:r,dtype:a,refCount:s}),this.wasm.tfjs.registerTensor(o,i,d),n!=null&&this.wasm.HEAPU8.set(new Uint8Array(n.buffer,n.byteOffset,c),d)}async read(e){return this.readSync(e)}readSync(e,n,r){const{memoryOffset:a,dtype:s,shape:o,stringBytes:i}=this.dataIdMap.get(e);if(s==="string")return(n==null||n===0)&&(r==null||r>=i.length)?i:i.slice(n,r);n=n||0,r=r||Ce(o);const c=sc(s),d=this.wasm.HEAPU8.slice(a+n*c,a+r*c);return GU(d.buffer,s)}disposeData(e,n=!1){if(this.dataIdMap.has(e)){const r=this.dataIdMap.get(e);if(r.refCount--,!n&&r.refCount>0)return!1;this.wasm._free(r.memoryOffset),this.wasm.tfjs.disposeData(r.id),this.dataIdMap.delete(e)}return!0}refCount(e){return this.dataIdMap.has(e)?this.dataIdMap.get(e).refCount:0}incRef(e){const n=this.dataIdMap.get(e);n!=null&&n.refCount++}floatPrecision(){return 32}getMemoryOffset(e){return this.dataIdMap.get(e).memoryOffset}dispose(){this.wasm.tfjs.dispose(),"PThread"in this.wasm&&this.wasm.PThread.terminateAllThreads(),this.wasm=null}memory(){return{unreliable:!1}}makeOutput(e,n,r,a){let s;if(r==null)s=this.write(a??null,e,n);else{const o=this.dataIdNextNumber++;s={id:o},this.dataIdMap.set(s,{id:o,memoryOffset:r,shape:e,dtype:n,refCount:1});const i=Ce(e);this.wasm.tfjs.registerTensor(o,i,r)}return{dataId:s,shape:e,dtype:n}}typedArrayFromHeap({shape:e,dtype:n,dataId:r}){const a=this.wasm.HEAPU8.buffer,{memoryOffset:s}=this.dataIdMap.get(r),o=Ce(e);switch(n){case"float32":return new Float32Array(a,s,o);case"int32":return new Int32Array(a,s,o);case"bool":return new Uint8Array(a,s,o);default:throw new Error(`Unknown dtype ${n}`)}}}function UU(t){return(e,n)=>(NN(t,{credentials:"same-origin"}).then(r=>{r.ok||e.env.a(`failed to load wasm binary file at '${t}'`),r.arrayBuffer().then(a=>{WebAssembly.instantiate(a,e).then(s=>{n(s.instance,s.module)})})}),{})}function Vw(t,e,n){let r="tfjs-backend-wasm.wasm";return t&&e?r="tfjs-backend-wasm-threaded-simd.wasm":t&&(r="tfjs-backend-wasm-simd.wasm"),Ju!=null&&Ju[r]!=null?Ju[r]:n+r}async function HU(){const[t,e]=await Promise.all([At().getAsync("WASM_HAS_SIMD_SUPPORT"),At().getAsync("WASM_HAS_MULTITHREAD_SUPPORT")]);return new Promise((n,r)=>{const a={};a.locateFile=(i,c)=>{if(i.endsWith(".worker.js")){const d=zU.wasmWorkerContents.replace(/\n/g,"\\n"),l=new Blob([d],{type:"application/javascript"});return URL.createObjectURL(l)}return i.endsWith(".wasm")?Vw(t,e,qu??c):c+i},XI&&(a.instantiateWasm=UU(Vw(t,e,qu??"")));let s=!1;a.onAbort=()=>{if(s||tf)return;tf=!0,r({message:"Make sure the server can serve the `.wasm` file relative to the bundled js file. For more details see https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/README.md#using-bundlers"})};let o;e&&t&&KU==null?(a.mainScriptUrlOrBlob=new Blob(["var WasmBackendModuleThreadedSimd = "+jw.toString()],{type:"text/javascript"}),o=jw(a)):o=jU(a),o.then(i=>{s=!0,tf=!1;const c=null;i.tfjs={init:i.cwrap("init",null,[]),initWithThreadsCount:i.cwrap("init_with_threads_count",null,["number"]),getThreadsCount:i.cwrap("get_threads_count","number",[]),registerTensor:i.cwrap("register_tensor",null,["number","number","number"]),disposeData:i.cwrap("dispose_data",c,["number"]),dispose:i.cwrap("dispose",c,[])},n({wasm:i})}).catch(r)})}function GU(t,e){switch(e){case"float32":return new Float32Array(t);case"int32":return new Int32Array(t);case"bool":return new Uint8Array(t);default:throw new Error(`Unknown dtype ${e}`)}}const qU=["tfjs-backend-wasm.wasm","tfjs-backend-wasm-simd.wasm","tfjs-backend-wasm-threaded-simd.wasm"];let KU=null,qu=null,Ju={},tf=!1,XI=!1;function XU(t,e=!1){if(tf)throw new Error("The WASM backend was already initialized. Make sure you call `setWasmPaths()` before you call `tf.setBackend()` or `tf.ready()`");if(typeof t=="string")qu=t;else{Ju=t;const n=qU.filter(r=>Ju[r]==null);if(n.length>0)throw new Error(`There were no entries found for the following binaries: ${n.join(",")}. Please either call setWasmPaths with a map providing a path for each binary, or with a string indicating the directory where all the binaries can be found.`)}XI=e}let YU=-1;/** @license See the LICENSE file. */const ZU="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QU=2;T3("wasm",async()=>{const{wasm:t}=await HU();return new VU(t)},QU);/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JU=uk;class Kh extends Py{nextDataId(){return Kh.nextDataId++}constructor(){super(),this.blockSize=48,this.firstUse=!0,this.data=new Ax(this,Gv())}write(e,n,r){this.firstUse&&(this.firstUse=!1,At().get("IS_NODE")&&yi(`
============================
Hi, looks like you are running TensorFlow.js in Node.js. To speed things up dramatically, install our node backend, visit https://github.com/tensorflow/tfjs-node for more details. 
============================`));const a={id:this.nextDataId()};return this.data.set(a,{values:e,dtype:r,refCount:1}),a}makeTensorInfo(e,n,r){let a;if(n==="string"&&r!=null&&r.length>0&&Mf(r[0])){const s=r.map(o=>_i(o));a=this.write(s,e,n)}else a=this.write(r,e,n);return{dataId:a,shape:e,dtype:n}}refCount(e){return this.data.has(e)?this.data.get(e).refCount:0}incRef(e){const n=this.data.get(e);n.refCount++}decRef(e){if(this.data.has(e)){const n=this.data.get(e);n.refCount--}}move(e,n,r,a,s){this.data.set(e,{values:n,dtype:a,refCount:s})}numDataIds(){return this.data.numDataIds()}async read(e){return this.readSync(e)}readSync(e){const{dtype:n,complexTensorInfos:r}=this.data.get(e);if(n==="complex64"){const a=this.readSync(r.real.dataId),s=this.readSync(r.imag.dataId);return Ll(a,s)}return dN(this.data.get(e).values,n)}bufferSync(e){const n=this.readSync(e.dataId);if(e.dtype==="string")try{const r=n.map(a=>uc(a));return Ot(e.shape,e.dtype,r)}catch{throw new Error("Failed to decode encoded string bytes into utf-8")}return Ot(e.shape,e.dtype,n)}makeOutput(e,n,r){return Gv().makeTensorFromTensorInfo(this.makeTensorInfo(n,r,e),this)}disposeData(e,n=!1){if(this.data.has(e)){if(this.data.get(e).refCount--,!n&&this.data.get(e).refCount>0)return!1;const{complexTensorInfos:r}=this.data.get(e);r!=null&&(this.disposeData(r.real.dataId,!0),this.disposeData(r.imag.dataId,!0)),this.data.delete(e)}return!0}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}async time(e){const n=$o();return e(),{kernelMs:$o()-n}}memory(){return{unreliable:!0,reasons:["The reported memory is an upper bound. Due to automatic garbage collection, the true allocated memory may be less."]}}where(e){at([e],"where");const n=this.readSync(e.dataId);return JU(e.shape,n)}dispose(){}floatPrecision(){return 32}epsilon(){return super.epsilon()}}Kh.nextDataId=0;/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */T3("cpu",()=>new Kh,1);/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YI=rn(fp,t=>t>=0?t:Math.exp(t)-1),eH={kernelName:fp,backendName:"cpu",kernelFunc:YI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZI(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{alpha:s}=r;at([a],"leakyRelu");const o=Ce(a.shape),i=n.data.get(a.dataId).values,c=Mr("float32",o);for(let d=0;d<i.length;d++)c[d]=i[d]<0?s*i[d]:i[d];return n.makeTensorInfo(a.shape,"float32",c)}const tH={kernelName:Tp,backendName:"cpu",kernelFunc:ZI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const nH=Pn((t,e)=>t<0?e*t:t);function QI(t){const{inputs:e,backend:n}=t,{x:r,alpha:a}=e;at([r,a],"prelu");const s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,[i,c]=nH(r.shape,a.shape,s,o,"float32");return n.makeTensorInfo(c,"float32",i)}const rH={kernelName:th,backendName:"cpu",kernelFunc:QI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const JI=rn(ah,t=>Math.max(0,t)),aH={kernelName:ah,backendName:"cpu",kernelFunc:JI};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eC=rn(ih,t=>Math.min(Math.max(0,t),6)),sH={kernelName:ih,backendName:"cpu",kernelFunc:eC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Tf(t,e,n,r,a){if(n==="linear")return Is({inputs:{x:e},backend:t});if(n==="relu")return JI({inputs:{x:e},backend:t});if(n==="elu")return YI({inputs:{x:e},backend:t});if(n==="relu6")return eC({inputs:{x:e},backend:t});if(n==="prelu")return QI({inputs:{x:e,alpha:r},backend:t});if(n==="leakyrelu")return ZI({inputs:{x:e},backend:t,attrs:{alpha:a}});if(n==="sigmoid")return b_({inputs:{x:e},backend:t});throw new Error(`Activation ${n} has not been implemented for the CPU backend.`)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function mn(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{shape:s}=r,o=Ce(a.shape),i=Dx(s,o),c=Ce(i);X(o===c,()=>`The new shape (${i}) has ${c} elements and the old shape (${a.shape}) has ${o} elements. The new shape and old shape must have the same number of elements.`),n.incRef(a.dataId);const d=n.data.get(a.dataId);if(d.complexTensorInfos!=null){const l=d.complexTensorInfos.real,p=d.complexTensorInfos.imag;l.shape=i,p.shape=i}return{dataId:a.dataId,shape:i,dtype:a.dtype}}const oH={kernelName:l0,backendName:"cpu",kernelFunc:mn};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tC(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:s}=e,{transposeA:o,transposeB:i}=r;at([a,s],"matMul");const c=a.shape.length,d=s.shape.length,l=o?a.shape[c-2]:a.shape[c-1],p=i?s.shape[d-1]:s.shape[d-2],h=o?a.shape[c-1]:a.shape[c-2],m=i?s.shape[d-2]:s.shape[d-1],y=a.shape.slice(0,-2),v=s.shape.slice(0,-2),b=Ce(y),w=Ce(v),_=hn(a.shape.slice(0,-2),s.shape.slice(0,-2)).concat([h,m]);X(l===p,()=>`Error in matMul: inner shapes (${l}) and (${p}) of Tensors with shapes ${a.shape} and ${s.shape} and transposeA=${o} and transposeB=${i} must match.`);const C=o?[b,l,h]:[b,h,l],T=i?[w,m,p]:[w,p,m],R=mn({inputs:{x:a},backend:n,attrs:{shape:C}}),M=mn({inputs:{x:s},backend:n,attrs:{shape:T}}),W=o?R.shape[1]:R.shape[2],P=o?R.shape[2]:R.shape[1],z=i?M.shape[1]:M.shape[2],F=Math.max(b,w),O=n.data.get(R.dataId).values,U=n.data.get(M.dataId).values,N=ot(R.shape),q=ot(M.shape),[ae,J,Z]=o?[N[0],1,N[1]]:[N[0],N[1],1],[Y,te,B]=i?[1,q[1],q[0]]:[q[1],1,q[0]],V=P*z,oe=Ot([F,P,z],R.dtype),ue=oe.values,le=n.blockSize;for(let Ee=0;Ee<F;Ee++){const Re=Ee%b,xe=Ee%w;for(let Ne=0;Ne<P;Ne+=le){const He=Math.min(Ne+le,P);for(let Ke=0;Ke<z;Ke+=le){const et=Math.min(Ke+le,z);for(let Qe=0;Qe<W;Qe+=le){const $=Math.min(Qe+le,W);for(let be=Ne;be<He;be++)for(let pe=Ke;pe<et;pe++){let Q=0;for(let K=Qe;K<$;K++){const ce=O[Re*ae+be*J+K*Z],_e=U[K*Y+pe*te+xe*B];Q+=ce*_e}ue[Ee*V+(be*z+pe)]+=Q}}}}}return n.disposeIntermediateTensorInfo(R),n.disposeIntermediateTensorInfo(M),n.makeTensorInfo(_,oe.dtype,oe.values)}const iH={kernelName:Kf,backendName:"cpu",kernelFunc:tC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lH(t){const{inputs:e,backend:n,attrs:r}=t,{a,b:s,bias:o,preluActivationWeights:i}=e,{transposeA:c,transposeB:d,activation:l,leakyreluAlpha:p}=r;let h,m,y;const v=[];h=tC({inputs:{a,b:s},attrs:{transposeA:c,transposeB:d},backend:n}),o&&(m=Wl({inputs:{a:h,b:o},backend:n}),v.push(h),h=m),l&&(y=Tf(n,h,l,i,p),v.push(h),h=y);for(const w of v)n.disposeIntermediateTensorInfo(w);return h}const uH={kernelName:oc,backendName:"cpu",kernelFunc:lH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const cH=rn(Pf,t=>Math.acos(t)),dH={kernelName:Pf,backendName:"cpu",kernelFunc:cH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const fH=rn(Bf,t=>Math.acosh(t)),pH={kernelName:Bf,backendName:"cpu",kernelFunc:fH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hH(t){const{inputs:e,backend:n}=t,r=e;at(e,"addN");const a=r.map(i=>n.data.get(i.dataId).values),s=Ot(r[0].shape,r[0].dtype),o=s.values;for(let i=0;i<r.length;i++){const c=a[i];for(let d=0;d<o.length;d++)o[d]+=c[d]}return n.makeTensorInfo(s.shape,s.dtype,s.values)}const mH={kernelName:zf,backendName:"cpu",kernelFunc:hH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r;at(a,"all");const i=En(s,a.shape);let c=i;const d=Sa(c,a.shape.length);let l=a;d!=null&&(l=qr({inputs:{x:a},backend:n,attrs:{perm:d}}),c=zr(c.length,a.shape.length)),Br("all",c,l.shape.length);const[p,h]=Pr(l.shape,c),m=Ce(h),y=xr(Ce(p),l.dtype),v=n.data.get(l.dataId).values;for(let w=0;w<y.length;++w){const x=w*m;let _=v[x];for(let C=0;C<m;++C){const T=v[x+C];_=_&&T}y[w]=_}d!=null&&n.disposeIntermediateTensorInfo(l);const b=n.makeTensorInfo(p,l.dtype,y);if(o){const w=mr(p,i),x=mn({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),x}return b}const vH={kernelName:Lf,backendName:"cpu",kernelFunc:gH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r;at(a,"any");const i=En(s,a.shape);let c=i;const d=Sa(c,a.shape.length);let l=a;d!=null&&(l=qr({inputs:{x:a},backend:n,attrs:{perm:d}}),c=zr(c.length,a.shape.length)),Br("any",c,l.shape.length);const[p,h]=Pr(l.shape,c),m=Ce(h),y=xr(Ce(p),l.dtype),v=n.data.get(l.dataId).values;for(let w=0;w<y.length;++w){const x=w*m;let _=v[x];for(let C=0;C<m;++C){const T=v[x+C];_=_||T}y[w]=_}d!=null&&n.disposeIntermediateTensorInfo(l);const b=n.makeTensorInfo(p,l.dtype,y);if(o){const w=mr(p,i),x=mn({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),x}return b}const bH={kernelName:Wf,backendName:"cpu",kernelFunc:yH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s}=r;at(a,"argMax");let o=En(s,a.shape);const i=Sa(o,a.shape.length);let c=a;const d=[];i!=null&&(c=qr({inputs:{x:a},backend:n,attrs:{perm:i}}),d.push(c),o=zr(o.length,c.shape.length)),o=[o[0]],Br("argMax",o,c.shape.length);const[l,p]=Pr(c.shape,o),h=Ce(l),m=xr(h,"int32"),y=Ce(p),v=n.data.get(c.dataId).values;for(let b=0;b<m.length;++b){const w=b*y;let x=v[w],_=0;for(let C=0;C<y;++C){const T=v[w+C];T>x&&(x=T,_=C)}m[b]=_}return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(l,"int32",m)}const SH={kernelName:jy,backendName:"cpu",kernelFunc:wH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s}=r;at(a,"argMin");let o=En(s,a.shape);const i=Sa(o,a.shape.length);let c=a;const d=[];i!=null&&(c=qr({inputs:{x:a},backend:n,attrs:{perm:i}}),d.push(c),o=zr(o.length,c.shape.length)),o=[o[0]],Br("argMin",o,c.shape.length);const[l,p]=Pr(c.shape,o),h=Ce(l),m=xr(h,"int32"),y=Ce(p),v=n.data.get(c.dataId).values;for(let b=0;b<m.length;++b){const w=b*y;let x=v[w],_=0;for(let C=0;C<y;++C){const T=v[w+C];T<x&&(x=T,_=C)}m[b]=_}return d.forEach(b=>n.disposeIntermediateTensorInfo(b)),n.makeTensorInfo(l,"int32",m)}const kH={kernelName:Vy,backendName:"cpu",kernelFunc:xH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _H=rn(jf,t=>Math.asin(t)),IH={kernelName:jf,backendName:"cpu",kernelFunc:_H};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CH=rn(Vf,t=>Math.asinh(t)),EH={kernelName:Vf,backendName:"cpu",kernelFunc:CH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const TH=rn(Uf,t=>Math.atan(t)),NH={kernelName:Uf,backendName:"cpu",kernelFunc:TH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const AH=Pn((t,e)=>Math.atan2(t,e)),DH=Qn(Gf,AH),FH={kernelName:Gf,backendName:"cpu",kernelFunc:DH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const RH=rn(Hf,t=>Math.atanh(t)),$H={kernelName:Hf,backendName:"cpu",kernelFunc:RH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function q0(t,e,n,r,a,s){const o=a.strideHeight,i=a.strideWidth,c=a.dilationHeight,d=a.dilationWidth,l=a.effectiveFilterHeight,p=a.effectiveFilterWidth,h=a.padInfo.top,m=a.padInfo.left,y=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,v=Ot(a.outShape,n),b=v.values,w=a.outShape[1]*a.outShape[2]*a.outShape[3],x=a.outShape[2]*a.outShape[3],_=a.outShape[3];for(let C=0;C<a.batchSize;++C){const T=C*w,R=C*r[0];for(let M=0;M<a.inChannels;++M)for(let W=0;W<a.outHeight;++W){const P=W*o-h,z=Math.max(0,P),F=Math.min(a.inHeight,l+P),O=T+W*x;for(let U=0;U<a.outWidth;++U){const N=U*i-m,q=Math.max(0,N),ae=Math.min(a.inWidth,p+N);let J=y,Z=0,Y=0;for(let B=z;B<F;B+=c){const V=R+B*r[1];for(let oe=q;oe<ae;oe+=d){const ue=V+oe*r[2],le=t[ue+M];s==="max"&&le>J?J=le:s==="avg"&&(Z+=le,Y++)}if(isNaN(J))break}const te=O+U*_+M;b[te]=s==="avg"?Z/Y:J}}}return v}function nC(t,e,n,r,a=!1,s=!1){const o=Ot(r.outShape,"int32"),i=r.strideHeight,c=r.strideWidth,d=r.dilationHeight,l=r.dilationWidth,p=r.effectiveFilterHeight,h=r.effectiveFilterWidth,m=r.padInfo.top,y=r.padInfo.left,v=Ot(e,n,t);for(let b=0;b<r.batchSize;++b)for(let w=0;w<r.inChannels;++w)for(let x=0;x<r.outHeight;++x){const _=x*i-m;let C=_;for(;C<0;)C+=d;const T=Math.min(r.inHeight,p+_);for(let R=0;R<r.outWidth;++R){const M=R*c-y;let W=M;for(;W<0;)W+=l;const P=Math.min(r.inWidth,h+M);let z=Number.NEGATIVE_INFINITY,F=-1;for(let O=C;O<T;O+=d){const U=O-_;for(let N=W;N<P;N+=l){const q=N-M,ae=v.get(b,O,N,w);ae>z&&(z=ae,a?F=s?((b*r.inHeight+O)*r.inWidth+N)*r.inChannels+w:(O*r.inWidth+N)*r.inChannels+w:F=U*h+q)}}o.set(F,b,x,R,w)}}return o}function rC(t,e,n,r,a,s){const o=a.strideDepth,i=a.strideHeight,c=a.strideWidth,d=a.dilationDepth,l=a.dilationHeight,p=a.dilationWidth,h=a.effectiveFilterDepth,m=a.effectiveFilterHeight,y=a.effectiveFilterWidth,v=a.padInfo.front,b=a.padInfo.top,w=a.padInfo.left,x=s==="max"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,_=Ot(a.outShape,n),C=_.values,T=a.outShape[1]*a.outShape[2]*a.outShape[3]*a.outShape[4],R=a.outShape[2]*a.outShape[3]*a.outShape[4],M=a.outShape[3]*a.outShape[4],W=a.outShape[4];for(let P=0;P<a.batchSize;++P){const z=P*T,F=P*r[0];for(let O=0;O<a.inChannels;++O)for(let U=0;U<a.outDepth;++U){const N=U*o-v;let q=N;for(;q<0;)q+=d;const ae=Math.min(a.inDepth,h+N),J=z+U*R;for(let Z=0;Z<a.outHeight;++Z){const Y=Z*i-b;let te=Y;for(;te<0;)te+=l;const B=Math.min(a.inHeight,m+Y),V=J+Z*M;for(let oe=0;oe<a.outWidth;++oe){const ue=oe*c-w;let le=ue;for(;le<0;)le+=p;const Ee=Math.min(a.inWidth,y+ue),Re=V+oe*W;let xe=x,Ne=0,He=0;for(let et=q;et<ae;et+=d){const Qe=F+et*r[1];for(let $=te;$<B;$+=l){const be=Qe+$*r[2];for(let pe=le;pe<Ee;pe+=p){const Q=be+pe*r[3],K=t[Q+O];if(s==="max"&&K>xe?xe=K:s==="avg"&&(Ne+=K,He++),isNaN(xe))break}if(isNaN(xe))break}if(isNaN(xe))break}const Ke=Re+O;C[Ke]=s==="avg"?Ne/Math.max(He,1):xe}}}}return _}function OH(t,e){const n=Ot(e.outShape,"int32"),r=e.strideDepth,a=e.strideHeight,s=e.strideWidth,o=e.dilationDepth,i=e.dilationHeight,c=e.dilationWidth,d=e.effectiveFilterDepth,l=e.effectiveFilterHeight,p=e.effectiveFilterWidth,h=e.padInfo.front,m=e.padInfo.top,y=e.padInfo.left;for(let v=0;v<e.batchSize;++v)for(let b=0;b<e.inChannels;++b)for(let w=0;w<e.outDepth;++w){const x=w*r-h;let _=x;for(;_<0;)_+=o;const C=Math.min(e.inDepth,d+x);for(let T=0;T<e.outHeight;++T){const R=T*a-m;let M=R;for(;M<0;)M+=i;const W=Math.min(e.inHeight,l+R);for(let P=0;P<e.outWidth;++P){const z=P*s-y;let F=z;for(;F<0;)F+=c;const O=Math.min(e.inWidth,p+z);let U=Number.NEGATIVE_INFINITY,N=-1;for(let q=_;q<C;q+=o){const ae=q-x;for(let J=M;J<W;J+=i){const Z=J-R;for(let Y=F;Y<O;Y+=c){const te=Y-z,B=t.get(v,q,J,Y,b);B>=U&&(U=B,N=ae*l*p+Z*l+te)}}}n.set(N,v,w,T,P,b)}}}return n}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function MH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;at(a,"avgPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r,d=1;X(Ba(o,d),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const l=rs(a.shape,s,o,d,i,c);let p;if(l.filterWidth===1&&l.filterHeight===1&&Ma(l.inShape,l.outShape))p=Is({inputs:{x:a},backend:n});else{const h=n.data.get(a.dataId).values,m=ot(a.shape),y=q0(h,a.shape,a.dtype,m,l,"avg");p=n.makeTensorInfo(l.outShape,a.dtype,y.values)}return p}const PH={kernelName:qf,backendName:"cpu",kernelFunc:MH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function BH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:d}=r;at(a,"avgPool3d");const l=Vo(a.shape,s,o,1,i,c,d),p=n.data.get(a.dataId).values,h=rC(p,a.shape,a.dtype,ot(a.shape),l,"avg");return n.makeTensorInfo(h.shape,"float32",h.values)}const zH={kernelName:Uy,backendName:"cpu",kernelFunc:BH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function LH(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=r;at([a,s],"avgPool3DGrad");const l=Vo(s.shape,o,i,1,c,d),p=l.strideDepth,h=l.strideHeight,m=l.strideWidth,y=l.filterDepth,v=l.filterHeight,b=l.filterWidth,w=l.dilationDepth,x=l.dilationHeight,_=l.dilationWidth,C=l.effectiveFilterDepth,T=l.effectiveFilterHeight,R=l.effectiveFilterWidth,M=C-1-l.padInfo.front,W=R-1-l.padInfo.left,P=T-1-l.padInfo.top,z=Ot(s.shape,"float32"),F=1/(y*v*b),O=n.bufferSync(a);for(let U=0;U<l.batchSize;++U)for(let N=0;N<l.inChannels;++N)for(let q=0;q<l.inDepth;++q)for(let ae=0;ae<l.inHeight;++ae)for(let J=0;J<l.inWidth;++J){const Z=q-M,Y=ae-P,te=J-W;let B=0;for(let V=0;V<C;V+=w){const oe=(Z+V)/p;if(!(oe<0||oe>=l.outDepth||Math.floor(oe)!==oe))for(let ue=0;ue<T;ue+=x){const le=(Y+ue)/h;if(!(le<0||le>=l.outHeight||Math.floor(le)!==le))for(let Ee=0;Ee<R;Ee+=_){const Re=(te+Ee)/m;if(Re<0||Re>=l.outWidth||Math.floor(Re)!==Re)continue;const xe=O.get(U,oe,le,Re,N);B+=xe}}}z.set(B*F,U,q,ae,J,N)}return n.makeTensorInfo(z.shape,z.dtype,z.values)}const WH={kernelName:Px,backendName:"cpu",kernelFunc:LH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jH(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,o=s;at([a,s],"avgPoolGrad");const{filterSize:i,strides:c,pad:d}=r,l=rs(o.shape,i,c,1,d),p=l.strideHeight,h=l.strideWidth,m=l.filterHeight,y=l.filterWidth,v=l.dilationHeight,b=l.dilationWidth,w=l.effectiveFilterHeight,x=l.effectiveFilterWidth,_=x-1-l.padInfo.left,C=w-1-l.padInfo.top,T=Ot(o.shape,"float32"),R=1/(m*y),M=n.data.get(a.dataId).values,W=Ot(a.shape,"float32",M);for(let P=0;P<l.batchSize;++P)for(let z=0;z<l.inChannels;++z)for(let F=0;F<l.inHeight;++F)for(let O=0;O<l.inWidth;++O){const U=F-C,N=O-_;let q=0;for(let ae=0;ae<w;ae+=v){const J=(U+ae)/p;if(!(J<0||J>=l.outHeight||Math.floor(J)!==J))for(let Z=0;Z<x;Z+=b){const Y=(N+Z)/h;if(Y<0||Y>=l.outWidth||Math.floor(Y)!==Y)continue;const te=W.get(P,J,Y,z);q+=te}}T.set(q*R,P,F,O,z)}return n.makeTensorInfo(T.shape,T.dtype,T.values)}const VH={kernelName:Mx,backendName:"cpu",kernelFunc:jH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,scale:s,offset:o,mean:i,variance:c}=e;X(i.shape.length===c.shape.length,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),X(o==null||i.shape.length===o.shape.length,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),X(s==null||i.shape.length===s.shape.length,()=>"Batch normalization gradient requires mean and scale to have equal ranks."),at([a,i,c,s,o],"batchNorm");let{varianceEpsilon:d}=r;d==null&&(d=.001);const l=n.data.get(a.dataId).values,p=n.data.get(i.dataId).values,h=n.data.get(c.dataId).values,m=s?n.data.get(s.dataId).values:new Float32Array([1]),y=o?n.data.get(o.dataId).values:new Float32Array([0]),v=new Float32Array(l.length),b=y.length,w=m.length,x=h.length,_=p.length;let C=0,T=0,R=0,M=0;for(let W=0;W<l.length;++W)v[W]=y[C++]+(l[W]-p[T++])*m[R++]/Math.sqrt(h[M++]+d),C>=b&&(C=0),T>=_&&(T=0),R>=w&&(R=0),M>=x&&(M=0);return n.makeTensorInfo(a.shape,a.dtype,v)}const HH={kernelName:wp,backendName:"cpu",kernelFunc:UH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function GH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:s,crops:o}=r;at([a],"batchToSpaceND");const i=s.reduce((w,x)=>w*x),c=Vh(a.shape,s,i),d=Uh(c.length,s.length),l=Hh(a.shape,s,i),p=Fk(o,s.length),h=Rk(l,o,s.length),m=mn({inputs:{x:a},backend:n,attrs:{shape:c}}),y=qr({inputs:{x:m},backend:n,attrs:{perm:d}}),v=mn({inputs:{x:y},backend:n,attrs:{shape:l}}),b=Pi({inputs:{x:v},backend:n,attrs:{begin:p,size:h}});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}const qH={kernelName:Hy,backendName:"cpu",kernelFunc:GH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function KH(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:s}=e,{size:o}=r,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,d=f_(i,c,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,d)}const XH={kernelName:Xf,backendName:"cpu",kernelFunc:KH};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function YH(t){const{inputs:e,backend:n}=t,{s0:r,s1:a}=e,s=n.data.get(r.dataId).values,o=n.data.get(a.dataId).values,i=hn(Array.from(s),Array.from(o));return n.makeTensorInfo([i.length],"int32",Int32Array.from(i))}const ZH={kernelName:Gy,backendName:"cpu",kernelFunc:YH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const QH=rn(Cc,(t,e)=>{const n=e;return t>n.clipValueMax?n.clipValueMax:t<n.clipValueMin?n.clipValueMin:t}),JH={kernelName:Cc,backendName:"cpu",kernelFunc:QH};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const eG=t=>{const{x:e}=t.inputs,n=t.backend,r=new Float32Array(Ce(e.shape)),a=n.data.get(e.dataId),s=a.complexTensorInfos.real,o=a.complexTensorInfos.imag,i=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values;for(let d=0;d<i.length;d++){const l=i[d],p=c[d];r[d]=Math.hypot(l,p)}return n.makeOutput(r,e.shape,"float32")},tG={kernelName:zx,backendName:"cpu",kernelFunc:eG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jl(t){const{inputs:e,backend:n}=t,{input:r}=e,a=n.data.get(r.dataId).complexTensorInfos.imag,s=n.data.get(a.dataId).values;return n.makeTensorInfo(a.shape,a.dtype,s)}const nG={kernelName:Gx,backendName:"cpu",kernelFunc:jl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vl(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r,s=En(a,e[0].shape)[0],o=e.map(v=>v.shape);Ak(o,s);let i=Rl(e.map(v=>v.shape),s);if(Ce(i)===0)return n.makeTensorInfo(i,e[0].dtype,[]);const c=e.filter(v=>Ce(v.shape)>0);if(c.length===1)return Is({inputs:{x:c[0]},backend:n});if(c[0].dtype==="complex64"){const v=c.map(C=>Mi({inputs:{input:C},backend:n})),b=c.map(C=>jl({inputs:{input:C},backend:n})),w=Vl({inputs:v,backend:n,attrs:{axis:s}}),x=Vl({inputs:b,backend:n,attrs:{axis:s}}),_=ia({inputs:{real:w,imag:x},backend:n});return v.forEach(C=>n.disposeIntermediateTensorInfo(C)),b.forEach(C=>n.disposeIntermediateTensorInfo(C)),n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(x),_}const d=c.map(v=>{const w=[-1,Ce(v.shape.slice(s))];return mn({inputs:{x:v},backend:n,attrs:{shape:w}})}),l=d.map(v=>({vals:n.data.get(v.dataId).values,shape:v.shape}));i=Rl(d.map(v=>v.shape),1);const p=d[0].shape[0]===1,h=p_(l,i,e[0].dtype,p),m=Rl(c.map(v=>v.shape),s),y=n.makeTensorInfo(m,e[0].dtype,h);return d.forEach(v=>n.disposeIntermediateTensorInfo(v)),y}const rG={kernelName:qy,backendName:"cpu",kernelFunc:Vl};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function aC(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s}=e,{strides:o,pad:i,dataFormat:c,dilations:d,dimRoundingMode:l}=r;at([a,s],"conv2d");const p=Zl(c),h=Xr(a.shape,s.shape,o,d,i,l,!1,p),m=h.filterHeight,y=h.filterWidth,v=h.dilationHeight,b=h.dilationWidth,w=h.padInfo.left,x=h.padInfo.top,_=h.dataFormat==="channelsLast",C=new Yn(h.outShape,a.dtype),T=ot(a.shape),R=ot(s.shape),M=T[0],W=_?T[1]:T[2],P=_?T[2]:1,z=_?1:T[1],F=C.strides[0],O=_?C.strides[1]:C.strides[2],U=_?C.strides[2]:1,N=_?1:C.strides[1],q=n.data.get(a.dataId).values,ae=n.data.get(s.dataId).values,J=C.values;for(let Z=0;Z<h.batchSize;++Z){const Y=Z*M,te=Z*F;for(let B=0;B<h.outHeight;++B){const V=te+B*O,oe=B*h.strideHeight-x;for(let ue=0;ue<m;++ue){const le=oe+ue*v;if(le<0||le>=h.inHeight)continue;const Ee=ue*R[0],Re=Y+le*W;for(let xe=0;xe<h.outWidth;++xe){const Ne=V+xe*U,He=xe*h.strideWidth-w;for(let Ke=0;Ke<y;++Ke){const et=He+Ke*b;if(et<0||et>=h.inWidth)continue;const Qe=Ee+Ke*R[1],$=Re+et*P;let be=Qe;for(let pe=0;pe<h.inChannels;++pe){const Q=q[$+pe*z];for(let K=0;K<h.outChannels;++K)J[Ne+K*N]+=Q*ae[be+K];be+=h.outChannels}}}}}}return n.makeTensorInfo(C.shape,C.dtype,J)}const aG={kernelName:Jf,backendName:"cpu",kernelFunc:aC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:s}=e,{strides:o,pad:i,dataFormat:c,dimRoundingMode:d,filterShape:l}=r;at([a,s],"conv2dBackpropFilter");const p=Zl(c),h=Xr(a.shape,l,o,1,i,d,!1,p),{strideHeight:m,strideWidth:y,filterHeight:v,filterWidth:b}=h,w=h.dataFormat==="channelsLast",x=new Yn(h.filterShape,"float32"),_=h.padInfo.left,C=h.padInfo.top,T=n.data.get(a.dataId).values,R=n.data.get(s.dataId).values,M=new Yn(a.shape,a.dtype,T),W=new Yn(s.shape,s.dtype,R);for(let P=0;P<v;++P){const z=Math.max(0,Math.ceil((C-P)/m)),F=Math.min(h.outHeight,(h.inHeight+C-P)/m);for(let O=0;O<b;++O){const U=Math.max(0,Math.ceil((_-O)/y)),N=Math.min(h.outWidth,(h.inWidth+_-O)/y);for(let q=0;q<h.inChannels;++q)for(let ae=0;ae<h.outChannels;++ae){let J=0;for(let Z=0;Z<h.batchSize;++Z)for(let Y=z;Y<F;++Y){const te=P+Y*m-C;for(let B=U;B<N;++B){const V=O+B*y-_;w?J+=M.get(Z,te,V,q)*W.get(Z,Y,B,ae):J+=M.get(Z,q,te,V)*W.get(Z,ae,Y,B)}}x.set(J,P,O,q,ae)}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const oG={kernelName:Lx,backendName:"cpu",kernelFunc:sG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iG(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:s}=e,{inputShape:o,strides:i,pad:c,dataFormat:d,dimRoundingMode:l}=r;at([a,s],"conv2dBackpropInput");const p=ot(s.shape),h=ot(a.shape);let m=Zl(d);const y=Xr(o,s.shape,i,1,c,l,!1,m),v=new Yn(y.inShape,"float32"),b=v.values,w=n.data.get(a.dataId).values,x=n.data.get(s.dataId).values,[_,C,T]=p,{batchSize:R,filterHeight:M,filterWidth:W,inChannels:P,inHeight:z,inWidth:F,outChannels:O,outHeight:U,outWidth:N,strideHeight:q,strideWidth:ae}=y;m=y.dataFormat;const J=M-1-y.padInfo.top,Z=W-1-y.padInfo.left,Y=m==="channelsLast",te=v.strides[0],B=Y?v.strides[1]:v.strides[2],V=Y?v.strides[2]:1,oe=Y?1:v.strides[1],ue=h[0],le=Y?h[1]:h[2],Ee=Y?h[2]:1,Re=Y?1:h[1];for(let xe=0;xe<R;++xe)for(let Ne=0;Ne<P;++Ne)for(let He=0;He<z;++He){const Ke=He-J,et=Math.max(0,Math.ceil(Ke/q)),Qe=Math.min(U,(M+Ke)/q);for(let $=0;$<F;++$){const be=$-Z,pe=Math.max(0,Math.ceil(be/ae)),Q=Math.min(N,(W+be)/ae);let K=0;for(let _e=et;_e<Qe;++_e){const Ae=_e*q-Ke;for(let ge=pe;ge<Q;++ge){const $e=ge*ae-be,Ve=ue*xe+le*_e+Ee*ge,Me=_*(M-1-Ae)+C*(W-1-$e)+T*Ne;for(let Ze=0;Ze<O;++Ze){const ft=w[Ve+Re*Ze],dt=x[Me+Ze];K+=ft*dt}}}const ce=te*xe+B*He+V*$+oe*Ne;b[ce]=K}}return n.makeTensorInfo(v.shape,v.dtype,v.values)}const lG={kernelName:ep,backendName:"cpu",kernelFunc:iG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s}=e,{strides:o,pad:i,dilations:c}=r;at([a,s],"conv3d");const d=Li(a.shape,s.shape,o,c,i),{filterDepth:l,filterHeight:p,filterWidth:h,dilationDepth:m,dilationHeight:y,dilationWidth:v,padInfo:b}=d,w=b.front,x=b.left,_=b.top,C=new Yn(d.outShape,a.dtype),T=n.data.get(a.dataId).values,R=n.data.get(s.dataId).values,M=C.values,W=ot(a.shape),P=ot(s.shape);for(let z=0;z<d.batchSize;++z){const F=z*W[0],O=z*C.strides[0];for(let U=0;U<d.outDepth;++U){const N=O+U*C.strides[1],q=U*d.strideDepth-w;for(let ae=0;ae<l;++ae){const J=q+ae*m;if(J<0||J>=d.inDepth)continue;const Z=ae*P[0],Y=F+J*W[1];for(let te=0;te<d.outHeight;++te){const B=N+te*C.strides[2],V=te*d.strideHeight-_;for(let oe=0;oe<p;++oe){const ue=V+oe*y;if(ue<0||ue>=d.inHeight)continue;const le=Z+oe*P[1],Ee=Y+ue*W[2];for(let Re=0;Re<d.outWidth;++Re){const xe=B+Re*d.outChannels,Ne=Re*d.strideWidth-x;for(let He=0;He<h;++He){const Ke=Ne+He*v;if(Ke<0||Ke>=d.inWidth)continue;const et=le+He*P[2],Qe=Ee+Ke*d.inChannels;let $=et;for(let be=0;be<d.inChannels;++be){const pe=T[Qe+be];for(let Q=0;Q<d.outChannels;++Q)M[xe+Q]+=pe*R[$+Q];$+=d.outChannels}}}}}}}}return n.makeTensorInfo(C.shape,C.dtype,C.values)}const cG={kernelName:tp,backendName:"cpu",kernelFunc:uG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:s}=e,{strides:o,pad:i,filterShape:c}=r;at([a,s],"conv3dBackpropFilterV2");const d=ot(a.shape),l=ot(s.shape),p=Li(a.shape,c,o,1,i),h=p.strideDepth,m=p.strideHeight,y=p.strideWidth,v=p.filterDepth,b=p.filterHeight,w=p.filterWidth,x=new Yn(p.filterShape,"float32"),_=x.values,[C,T,R,M]=x.strides,W=n.data.get(s.dataId).values,[P,z,F,O]=l,U=n.data.get(a.dataId).values,[N,q,ae,J]=d,Z=p.padInfo.front,Y=p.padInfo.left,te=p.padInfo.top;for(let B=0;B<v;++B){const V=Math.max(0,Math.ceil((Z-B)/h)),oe=Math.min(p.outDepth,(p.inDepth+Z-B)/h),ue=B*C;for(let le=0;le<b;++le){const Ee=Math.max(0,Math.ceil((te-le)/m)),Re=Math.min(p.outHeight,(p.inHeight+te-le)/m),xe=le*T+ue;for(let Ne=0;Ne<w;++Ne){const He=Math.max(0,Math.ceil((Y-Ne)/y)),Ke=Math.min(p.outWidth,(p.inWidth+Y-Ne)/y),et=Ne*R+xe;for(let Qe=0;Qe<p.inChannels;++Qe){const $=Qe*M+et;for(let be=0;be<p.outChannels;++be){let pe=0;for(let Q=0;Q<p.batchSize;++Q){const K=Q*N,ce=Q*P;for(let _e=V;_e<oe;++_e){const ge=(B+_e*h-Z)*q+K,$e=_e*z+ce;for(let Ve=Ee;Ve<Re;++Ve){const Ze=(le+Ve*m-te)*ae+ge,ft=Ve*F+$e;for(let dt=He;dt<Ke;++dt){const Bn=(Ne+dt*y-Y)*J+Ze,Ht=dt*O+ft;pe+=U[Bn+Qe]*W[Ht+be]}}}}_[$+be]=pe}}}}}return n.makeTensorInfo(x.shape,x.dtype,x.values)}const fG={kernelName:Ky,backendName:"cpu",kernelFunc:dG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pG(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:s}=e,{pad:o,strides:i,inputShape:c}=r;at([a],"conv3dBackpropInputV2");const d=ot(a.shape),l=ot(s.shape),p=Li(c,s.shape,i,1,o),h=new Yn(p.inShape,"float32"),m=h.values,[y,v,b,w]=h.strides,x=n.data.get(a.dataId).values,[_,C,T,R]=d,M=n.data.get(s.dataId).values,[W,P,z,F]=l,{batchSize:O,filterDepth:U,filterHeight:N,filterWidth:q,inChannels:ae,inDepth:J,inHeight:Z,inWidth:Y,outChannels:te,outDepth:B,outHeight:V,outWidth:oe,strideDepth:ue,strideHeight:le,strideWidth:Ee}=p,Re=U-1-p.padInfo.front,xe=N-1-p.padInfo.top,Ne=q-1-p.padInfo.left;for(let He=0;He<O;++He)for(let Ke=0;Ke<ae;++Ke)for(let et=0;et<J;++et){const Qe=et-Re,$=Math.max(0,Math.ceil(Qe/ue)),be=Math.min(B,(U+Qe)/ue);for(let pe=0;pe<Z;++pe){const Q=pe-xe,K=Math.max(0,Math.ceil(Q/le)),ce=Math.min(V,(N+Q)/le);for(let _e=0;_e<Y;++_e){const Ae=_e-Ne,ge=Math.max(0,Math.ceil(Ae/Ee)),$e=Math.min(oe,(q+Ae)/Ee);let Ve=0;for(let Me=$;Me<be;++Me){const Ze=Me*ue-Qe;for(let ft=K;ft<ce;++ft){const dt=ft*le-Q;for(let qt=ge;qt<$e;++qt){const Bn=qt*Ee-Ae,Ht=_*He+C*Me+T*ft+R*qt,kr=W*(U-1-Ze)+P*(N-1-dt)+z*(q-1-Bn)+F*Ke;for(let Dt=0;Dt<te;++Dt){const Fn=x[Ht+Dt],tn=M[kr+Dt];Ve+=Fn*tn}}}}m[y*He+v*et+b*pe+w*_e+Ke]=Ve}}}return n.makeTensorInfo(h.shape,h.dtype,h.values)}const hG={kernelName:np,backendName:"cpu",kernelFunc:pG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mG=rn(rp,t=>Math.cos(t)),gG={kernelName:rp,backendName:"cpu",kernelFunc:mG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vG=rn(ap,t=>Math.cosh(t)),yG={kernelName:ap,backendName:"cpu",kernelFunc:vG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function bG(t){const{inputs:e,backend:n,attrs:r}=t,{image:a,boxes:s,boxInd:o}=e,{cropSize:i,method:c,extrapolationValue:d}=r,[l,p,h,m]=a.shape,y=s.shape[0],[v,b]=i,w=Ot([y,v,b,m],"float32"),x=n.data.get(s.dataId).values,_=n.data.get(o.dataId).values,C=n.data.get(a.dataId).values,T=ot(a.shape),R=ot(w.shape);for(let M=0;M<y;M++){const W=M*4,P=x[W],z=x[W+1],F=x[W+2],O=x[W+3],U=_[M];if(U>=l)continue;const N=v>1?(F-P)*(p-1)/(v-1):0,q=b>1?(O-z)*(h-1)/(b-1):0;for(let ae=0;ae<v;ae++){const J=v>1?P*(p-1)+ae*N:.5*(P+F)*(p-1);if(J<0||J>p-1){for(let Z=0;Z<b;Z++)for(let Y=0;Y<m;Y++){const te=Y+Z*R[2]+ae*R[1]+M*R[0];w.values[te]=d}continue}if(c==="bilinear"){const Z=Math.floor(J),Y=Math.ceil(J),te=J-Z;for(let B=0;B<b;B++){const V=b>1?z*(h-1)+B*q:.5*(z+O)*(h-1);if(V<0||V>h-1){for(let Ee=0;Ee<m;Ee++){const Re=Ee+B*R[2]+ae*R[1]+M*R[0];w.values[Re]=d}continue}const oe=Math.floor(V),ue=Math.ceil(V),le=V-oe;for(let Ee=0;Ee<m;Ee++){let Re=Ee+oe*T[2]+Z*T[1]+U*T[0];const xe=C[Re];Re=Ee+ue*T[2]+Z*T[1]+U*T[0];const Ne=C[Re];Re=Ee+oe*T[2]+Y*T[1]+U*T[0];const He=C[Re];Re=Ee+ue*T[2]+Y*T[1]+U*T[0];const Ke=C[Re],et=xe+(Ne-xe)*le,Qe=He+(Ke-He)*le;Re=Ee+B*R[2]+ae*R[1]+M*R[0],w.values[Re]=et+(Qe-et)*te}}}else for(let Z=0;Z<b;++Z){const Y=b>1?z*(h-1)+Z*q:.5*(z+O)*(h-1);if(Y<0||Y>h-1){for(let V=0;V<m;V++){const oe=V+Z*R[2]+ae*R[1]+M*R[0];w.values[oe]=d}continue}const te=Math.round(Y),B=Math.round(J);for(let V=0;V<m;V++){const oe=V+te*T[2]+B*T[1]+U*T[0],ue=V+Z*R[2]+ae*R[1]+M*R[0];w.values[ue]=C[oe]}}}}return n.makeTensorInfo(w.shape,w.dtype,w.values)}const wG={kernelName:ip,backendName:"cpu",kernelFunc:bG};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function SG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,exclusive:o,reverse:i}=r;at(a,"cumprod");const c=Sa([s],a.shape.length);let d=a;c!=null&&(d=qr({inputs:{x:a},backend:n,attrs:{perm:c}}));const l=zr(1,a.shape.length)[0];if(l!==d.shape.length-1)throw new Error(`backend.cumprod in CPU expects an inner-most axis=${d.shape.length-1} but got axis=${l}`);const p=Xl(d.dtype,"int32"),h=zy(Ce(d.shape),p),m=n.data.get(d.dataId).values,y=d.shape[d.shape.length-1],v=i?(w,x)=>w+y-x-1:(w,x)=>w+x;for(let w=0;w<m.length;w+=y)for(let x=0;x<y;x++){const _=v(w,x);if(x===0)h[_]=o?1:m[_];else{const C=v(w,x-1);h[_]=o?m[C]*h[C]:m[_]*h[C]}}const b=n.makeTensorInfo(d.shape,p,h);if(c!=null){const w=Mh(c),x=qr({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(d),x}return b}const xG={kernelName:sp,backendName:"cpu",kernelFunc:SG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function kG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,exclusive:o,reverse:i}=r;at(a,"cumsum");const c=Sa([s],a.shape.length);let d=a;c!=null&&(d=qr({inputs:{x:a},backend:n,attrs:{perm:c}}));const l=zr(1,a.shape.length)[0];if(l!==d.shape.length-1)throw new Error(`backend.cumsum in CPU expects an inner-most axis=${d.shape.length-1} but got axis=${l}`);const p=Xl(d.dtype,"int32"),h=xr(Ce(d.shape),p),m=n.data.get(d.dataId).values,y=d.shape[d.shape.length-1],v=i?(w,x)=>w+y-x-1:(w,x)=>w+x;for(let w=0;w<m.length;w+=y)for(let x=0;x<y;x++){const _=v(w,x);if(x===0)h[_]=o?0:m[_];else{const C=v(w,x-1);h[_]=o?m[C]+h[C]:m[_]+h[C]}}const b=n.makeTensorInfo(d.shape,p,h);if(c!=null){const w=Mh(c),x=qr({inputs:{x:b},backend:n,attrs:{perm:w}});return n.disposeIntermediateTensorInfo(b),n.disposeIntermediateTensorInfo(d),x}return b}const _G={kernelName:op,backendName:"cpu",kernelFunc:kG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,weights:s}=e,{size:o,binaryOutput:i}=r;if(a.shape.length===1){const c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,l=f_(c,d,s.dtype,s.shape,o);return n.makeTensorInfo([o],s.dtype,l)}else if(a.shape.length===2){const c=n.bufferSync(a),d=n.bufferSync(s),l=RB(c,d,o,i);return n.makeTensorInfo(l.shape,s.dtype,l.values)}throw new Error(`Error in denseBincount: input must be at most rank 2, but got rank${a.shape.length}.`)}const CG={kernelName:Xy,backendName:"cpu",kernelFunc:IG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function EG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockSize:s,dataFormat:o}=r;X(o==="NHWC",()=>`Only NHWC dataFormat supported on CPU for depthToSpace. Got ${o}`);const i=a.shape[0],c=a.shape[1],d=a.shape[2],l=a.shape[3],p=c*s,h=d*s,m=l/(s*s),y=n.data.get(a.dataId).values,v=new Float32Array(i*p*h*m);let b=0;for(let w=0;w<i;++w)for(let x=0;x<p;++x){const _=Math.floor(x/s),C=x%s;for(let T=0;T<h;++T){const R=Math.floor(T/s),M=T%s,W=(C*s+M)*m;for(let P=0;P<m;++P){const F=P+W+l*(R+d*(_+c*w));v[b++]=y[F]}}}return n.makeTensorInfo([i,p,h,m],a.dtype,v)}const TG={kernelName:lp,backendName:"cpu",kernelFunc:EG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sC(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s}=e,{strides:o,pad:i,dilations:c,dimRoundingMode:d}=r;at([a,s],"depthwiseConv2DNative");const l=ot(a.shape),p=ot(s.shape);let h=c;h==null&&(h=[1,1]),X(Ba(o,h),()=>`Error in depthwiseConv2d: Either strides or dilations must be 1. Got strides ${o} and dilations '${h}'`);const m=Xr(a.shape,s.shape,o,h,i,d,!0),{filterHeight:y,filterWidth:v,dilationHeight:b,dilationWidth:w,padInfo:x}=m,_=x.left,C=x.top,T=m.outChannels/m.inChannels,R=new Yn(m.outShape,a.dtype),M=n.data.get(a.dataId).values,W=n.data.get(s.dataId).values,P=R.values;for(let z=0;z<m.batchSize;++z){const F=z*l[0],O=z*R.strides[0];for(let U=0;U<m.outHeight;++U){const N=O+U*R.strides[1],q=U*m.strideHeight-C;for(let ae=0;ae<y;++ae){const J=q+ae*b;if(J<0||J>=m.inHeight)continue;const Z=ae*p[0],Y=F+J*l[1];for(let te=0;te<m.outWidth;++te){const B=N+te*R.strides[2],V=te*m.strideWidth-_;for(let oe=0;oe<v;++oe){const ue=V+oe*w;if(ue<0||ue>=m.inWidth)continue;const le=Z+oe*p[1],Ee=Y+ue*m.inChannels;let Re=B,xe=le;for(let Ne=0;Ne<m.inChannels;++Ne){const He=M[Ee+Ne];for(let Ke=0;Ke<T;++Ke)P[Re+Ke]+=He*W[xe+Ke];Re+=T,xe+=T}}}}}}return n.makeTensorInfo(R.shape,R.dtype,R.values)}const NG={kernelName:up,backendName:"cpu",kernelFunc:sC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AG(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,dy:s}=e,{strides:o,dilations:i,pad:c,dimRoundingMode:d,filterShape:l}=r;at([a,s],"depthwiseConv2dNativeBackpropFilter");const p=Xr(a.shape,l,o,i,c,d,!0),{strideHeight:h,strideWidth:m,filterHeight:y,filterWidth:v}=p,b=new Yn(p.filterShape,"float32"),w=p.padInfo.left,x=p.padInfo.top,_=p.outChannels/p.inChannels,C=n.data.get(a.dataId).values,T=new Yn(a.shape,a.dtype,C),R=n.data.get(s.dataId).values,M=new Yn(s.shape,s.dtype,R);for(let W=0;W<y;++W){const P=Math.max(0,Math.ceil((x-W)/h)),z=Math.min(p.outHeight,(p.inHeight+x-W)/h);for(let F=0;F<v;++F){const O=Math.max(0,Math.ceil((w-F)/m)),U=Math.min(p.outWidth,(p.inWidth+w-F)/m);for(let N=0;N<p.outChannels;++N){const q=Math.trunc(N/_),ae=N%_;let J=0;for(let Z=0;Z<p.batchSize;++Z)for(let Y=P;Y<z;++Y){const te=W+Y*h-x;for(let B=O;B<U;++B){const V=F+B*m-w;J+=T.get(Z,te,V,q)*M.get(Z,Y,B,N)}}b.set(J,W,F,q,ae)}}}return n.makeTensorInfo(b.shape,b.dtype,b.values)}const DG={kernelName:Wx,backendName:"cpu",kernelFunc:AG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FG(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,filter:s}=e,{strides:o,dilations:i,pad:c,dimRoundingMode:d,inputShape:l}=r;at([a,s],"depthwiseConv2DNativeBackpropInput");const p=ot(a.shape),h=ot(s.shape),m=Xr(l,s.shape,o,i,c,d,!0),y=new Yn(m.inShape,"float32"),v=y.values,[b,w,x]=y.strides,_=n.data.get(a.dataId).values,[C,T,R]=p,M=n.data.get(s.dataId).values,[W,P,z]=h,{batchSize:F,filterHeight:O,filterWidth:U,inChannels:N,inHeight:q,inWidth:ae,outChannels:J,outHeight:Z,outWidth:Y,strideHeight:te,strideWidth:B}=m,V=O-1-m.padInfo.top,oe=U-1-m.padInfo.left,ue=J/N;for(let le=0;le<F;++le)for(let Ee=0;Ee<N;++Ee)for(let Re=0;Re<q;++Re){const xe=Re-V,Ne=Math.max(0,Math.ceil(xe/te)),He=Math.min(Z,(O+xe)/te);for(let Ke=0;Ke<ae;++Ke){const et=Ke-oe,Qe=Math.max(0,Math.ceil(et/B)),$=Math.min(Y,(U+et)/B);let be=0;for(let pe=Ne;pe<He;++pe){const Q=pe*te-xe;for(let K=Qe;K<$;++K){const ce=K*B-et,_e=C*le+T*pe+R*K,Ae=W*(O-1-Q)+P*(U-1-ce)+z*Ee;for(let ge=0;ge<ue;++ge){const $e=Ee*ue+ge,Ve=_[_e+$e],Me=M[Ae+ge];be+=Ve*Me}}}v[b*le+w*Re+x*Ke+Ee]=be}}return n.makeTensorInfo(y.shape,y.dtype,y.values)}const RG={kernelName:jx,backendName:"cpu",kernelFunc:FG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function $G(t){const{inputs:e,backend:n}=t,{x:r}=e,a=Ce(r.shape),s=n.data.get(r.dataId).values,o=Ot([a,a],r.dtype),i=o.values;for(let d=0;d<s.length;d++)i[d*a+d]=s[d];const c=[...r.shape,...r.shape];return n.makeTensorInfo(c,o.dtype,o.values)}const OG={kernelName:Yy,backendName:"cpu",kernelFunc:$G};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const MG={kernelName:cp,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a}=t,{strides:s,pad:o,dilations:i}=n,c=e,d=c.data.get(r.dataId).values,l=r.shape.length,p=c.data.get(a.dataId).values,h=a.shape.length,{batchSize:m,inHeight:y,inWidth:v,inChannels:b,outHeight:w,outWidth:x,padInfo:_,strideHeight:C,strideWidth:T,filterHeight:R,filterWidth:M,dilationHeight:W,dilationWidth:P,outShape:z}=Yl(r.shape,a.shape,s,o,"NHWC",i),F=Ce(z),O=z.length,U=Vn(r.dtype,F);for(let q=0;q<m;++q)for(let ae=0;ae<w;++ae){const J=ae*C-_.top;for(let Z=0;Z<x;++Z){const Y=Z*T-_.left;for(let te=0;te<b;++te){let B=Number.MIN_SAFE_INTEGER;for(let oe=0;oe<R;++oe){const ue=J+oe*W;if(ue>=0&&ue<y)for(let le=0;le<M;++le){const Ee=Y+le*P;if(Ee>=0&&Ee<v){const Re=xs([q,ue,Ee,te],l,ot(r.shape)),xe=xs([oe,le,te],h,ot(a.shape)),Ne=d[Re]+p[xe];Ne>B&&(B=Ne)}}}const V=xs([q,ae,Z,te],O,ot(z));U[V]=B}}}return{dataId:c.write(zi(U,r.dtype),z,r.dtype),shape:z,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PG={kernelName:df,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:s}=t,{strides:o,pad:i,dilations:c}=n,d=e,l=Oa(r.shape,d.data.get(r.dataId).values),p=Oa(a.shape,d.data.get(a.dataId).values),{batchSize:h,inHeight:m,inWidth:y,inChannels:v,outHeight:b,outWidth:w,padInfo:x,strideHeight:_,strideWidth:C,filterHeight:T,filterWidth:R,dilationHeight:M,dilationWidth:W,outShape:P}=Yl(r.shape,a.shape,o,i,"NHWC",c);X(s.rank===P.length,()=>`Error in ${df}, dy must have the same rank as output ${P.length}, but got ${s.rank}`);const z=Oa(P,d.data.get(s.dataId).values),F=Rx(a.shape,a.dtype);for(let U=0;U<h;++U)for(let N=0;N<b;++N){const q=N*_-x.top;for(let ae=0;ae<w;++ae){const J=ae*C-x.left;for(let Z=0;Z<v;++Z){let Y=Number.MIN_SAFE_INTEGER,te=0,B=0;for(let V=0;V<T;++V){const oe=q+V*M;if(oe>=0&&oe<m)for(let ue=0;ue<R;++ue){const le=J+ue*W;if(le>=0&&le<y){const Ee=l[U][oe][le][Z]+p[V][ue][Z];Ee>Y&&(Y=Ee,te=V,B=ue)}}}F[te][B][Z]+=z[U][N][ae][Z]}}}return{dataId:d.write(zi(F,r.dtype),a.shape,a.dtype),shape:a.shape,dtype:a.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const BG={kernelName:cf,backendName:"cpu",kernelFunc:({inputs:t,backend:e,attrs:n})=>{const{x:r,filter:a,dy:s}=t,{strides:o,pad:i,dilations:c}=n,d=e,l=Oa(r.shape,d.data.get(r.dataId).values),p=Oa(a.shape,d.data.get(a.dataId).values),{batchSize:h,inHeight:m,inWidth:y,inChannels:v,outHeight:b,outWidth:w,padInfo:x,strideHeight:_,strideWidth:C,filterHeight:T,filterWidth:R,dilationHeight:M,dilationWidth:W,outShape:P}=Yl(r.shape,a.shape,o,i,"NHWC",c);X(s.rank===P.length,()=>`Error in ${cf}, dy must have the same rank as output ${P.length}, but got ${s.rank}`);const z=Oa(P,d.data.get(s.dataId).values),F=Rx(r.shape,r.dtype);for(let U=0;U<h;++U)for(let N=0;N<b;++N){const q=N*_-x.top;for(let ae=0;ae<w;++ae){const J=ae*C-x.left;for(let Z=0;Z<v;++Z){let Y=Number.MIN_SAFE_INTEGER,te=q<0?0:q,B=J<0?0:J;for(let V=0;V<T;++V){const oe=q+V*M;if(oe>=0&&oe<m)for(let ue=0;ue<R;++ue){const le=J+ue*W;if(le>=0&&le<y){const Ee=l[U][oe][le][Z]+p[V][ue][Z];Ee>Y&&(Y=Ee,te=oe,B=le)}}}F[U][te][B][Z]+=z[U][N][ae][Z]}}}return{dataId:d.write(zi(F,r.dtype),r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2023 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zG(t){const{inputs:e,backend:n,attrs:r}=t,{image:a}=e,{canvas:s,options:o}=r,{contextOptions:i,imageOptions:c}=o||{},d=(c==null?void 0:c.alpha)||1,l=(i==null?void 0:i.contextType)||"2d";if(l!=="2d")throw new Error(`Context type ${i.contextType} is not supported by the CPU backend.`);const p=s.getContext(l,(i==null?void 0:i.contextAttributes)||{});if(p==null)throw new Error(`Could not get the context with ${l} type.`);const[h,m]=a.shape.slice(0,2),y=a.shape.length===2?1:a.shape[2],v=n.data.get(a.dataId).values,b=a.dtype==="float32"?255:1,w=new Uint8ClampedArray(m*h*4);for(let _=0;_<h*m;++_){const C=[0,0,0,255*d];for(let R=0;R<y;R++){const M=v[_*y+R];if(a.dtype==="float32"){if(M<0||M>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${M}.`)}else if(a.dtype==="int32"&&(M<0||M>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${M}.`);y===1?(C[0]=M*b,C[1]=M*b,C[2]=M*b):C[R]=M*b}const T=_*4;w[T+0]=Math.round(C[0]),w[T+1]=Math.round(C[1]),w[T+2]=Math.round(C[2]),w[T+3]=Math.round(C[3])}s.width=m,s.height=h;const x=new ImageData(w,m,h);return p.putImageData(x,0,0),a}const LG={kernelName:yN,backendName:"cpu",kernelFunc:zG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Fc(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r;at(a,"sum");let i;a.dtype==="bool"?i=Bo({inputs:{x:a},backend:n,attrs:{dtype:"int32"}}):i=Is({inputs:{x:a},backend:n});const c=i.shape.length,d=En(s,i.shape),l=Sa(d,c);let p=d,h=i;l!=null&&(h=qr({inputs:{x:i},backend:n,attrs:{perm:l}}),p=zr(p.length,c)),Br("sum",p,h.shape.length);const[m,y]=Pr(h.shape,p),v=Xl(h.dtype,"int32");let b=Cf(n,m,v);const w=Ce(y),x=n.data.get(b.dataId).values,_=n.data.get(h.dataId).values;for(let C=0;C<x.length;++C){const T=C*w;let R=0;for(let M=0;M<w;++M)R+=_[T+M];x[C]=R}if(o){const C=mr(b.shape,d),T=b;b=mn({inputs:{x:b},backend:n,attrs:{shape:C}}),n.disposeIntermediateTensorInfo(T)}return n.disposeIntermediateTensorInfo(i),l!=null&&n.disposeIntermediateTensorInfo(h),b}const WG={kernelName:Sh,backendName:"cpu",kernelFunc:Fc};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function jG(t){const{inputs:e,backend:n,attrs:r}=t,{equation:a}=r,s=e,{allDims:o,summedDims:i,idDims:c}=N8(a,s.length);D8(o.length,c,s);const{path:d,steps:l}=F8(i,c),p=l.length;let h=null,m=o.length;const y=[];for(let v=0;v<p;++v){for(const b of l[v]){const{permutationIndices:w,expandDims:x}=A8(m,c[b]);let _;R8(w)?_=s[b]:(_=qr({inputs:{x:s[b]},backend:n,attrs:{perm:w}}),y.push(_));const C=_.shape.slice();for(let T=0;T<x.length;++T)C.splice(x[T],0,1);Ma(_.shape,C)||(_=mn({inputs:{x:_},backend:n,attrs:{shape:C}}),y.push(_)),h===null?h=_:(h=qh({inputs:{a:_,b:h},backend:n}),y.push(h))}v<p-1&&(d[v]>=0&&(h=Fc({inputs:{x:h},backend:n,attrs:{axis:d[v]-(o.length-m),keepDims:!1}}),y.push(h)),m--)}for(const v of y)v!==h&&n.disposeIntermediateTensorInfo(v);return h}const VG={kernelName:Vx,backendName:"cpu",kernelFunc:jG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function UG(t){const{inputs:e,backend:n}=t,{dy:r,y:a}=e;at([r,a],"eluGrad");const s=new Float32Array(Ce(a.shape)),o=n.data.get(a.dataId).values,i=n.data.get(r.dataId).values;for(let c=0;c<o.length;++c){const d=o[c];d>=0?s[c]=i[c]:s[c]=i[c]*(d+1)}return n.makeTensorInfo(a.shape,"float32",s)}const HG={kernelName:Zy,backendName:"cpu",kernelFunc:UG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const GG=g8,qG=v8,KG=y8,XG=b8,YG=w8,ZG=S8,QG=rn(pp,t=>{const e=Math.sign(t),n=Math.abs(t),r=1/(1+GG*n);return e*(1-((((ZG*r+YG)*r+XG)*r+KG)*r+qG)*r*Math.exp(-n*n))}),JG={kernelName:pp,backendName:"cpu",kernelFunc:QG};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Nf(t){const{inputs:e,backend:n,attrs:r}=t,{input:a}=e,{dim:s}=r,o=a.shape.length,i=a.shape.slice();let c=s;return s<0&&(X(-(o+1)<=s,()=>`Axis must be in the interval [${-(o+1)}, ${o}]`),c=o+s+1),i.splice(c,0,1),mn({inputs:{x:a},backend:n,attrs:{shape:i}})}const eq={kernelName:Qy,backendName:"cpu",kernelFunc:Nf};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const tq=Pn((t,e)=>t/e),K0=Qn(dp,tq),gy={kernelName:dp,backendName:"cpu",kernelFunc:K0};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function oC(t,e,n){const r=t.shape,a=r[0],s=r[1],o=n.data.get(t.dataId),i=o.complexTensorInfos.real,c=o.complexTensorInfos.imag,d=[a,s],l=Ce(d),p=Mr("float32",l),h=Mr("float32",l);for(let b=0;b<a;b++){const w=Pi({inputs:{x:i},backend:n,attrs:{begin:[b,0],size:[1,s]}}),x=Pi({inputs:{x:c},backend:n,attrs:{begin:[b,0],size:[1,s]}}),_=ia({inputs:{real:w,imag:x},backend:n}),{real:C,imag:T}=nq(_,e,n),R=Ll(C,T);for(let M=0;M<s;M++){const W=$k(R,M);p[b*s+M]=W.real,h[b*s+M]=W.imag}n.disposeIntermediateTensorInfo(w),n.disposeIntermediateTensorInfo(x),n.disposeIntermediateTensorInfo(_)}const m=n.makeTensorInfo(d,"float32",p),y=n.makeTensorInfo(d,"float32",h),v=ia({inputs:{real:m,imag:y},backend:n});return n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),v}function nq(t,e,n){const r=Ce(t.shape),a=n.data.get(t.dataId),s=n.data.get(a.complexTensorInfos.real.dataId).values,o=n.data.get(a.complexTensorInfos.imag.dataId).values;if(rq(r)){const i=vy(s,o,r,e,n),c=[t.shape[0],t.shape[1]];if(e){const d=n.makeTensorInfo(c,"float32",i.real),l=n.makeTensorInfo(c,"float32",i.imag),p=n.makeTensorInfo([],"float32",I0(r,"float32")),h=Is({inputs:{x:p},backend:n}),m=gy.kernelFunc({inputs:{a:d,b:p},backend:n}),y=gy.kernelFunc({inputs:{a:l,b:h},backend:n}),v=n.data.get(m.dataId).values,b=n.data.get(y.dataId).values;return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(l),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),{real:v,imag:b}}return i}else{const i=Ll(s,o),c=aq(i,r,e);return x8(c)}}function rq(t){return(t&t-1)===0}function vy(t,e,n,r,a){if(n===1)return{real:t,imag:e};const s=Ll(t,e),o=n/2,i=k8(s),c=i.real,d=i.imag,l=[c.length],p=a.makeTensorInfo(l,"float32",c),h=a.makeTensorInfo(l,"float32",d),m=ia({inputs:{real:p,imag:h},backend:a}),y=_8(s),v=y.real,b=y.imag,w=[v.length],x=a.makeTensorInfo(w,"float32",v),_=a.makeTensorInfo(w,"float32",b),C=ia({inputs:{real:x,imag:_},backend:a}),T=vy(c,d,o,r,a),R=T.real,M=T.imag,W=[R.length],P=a.makeTensorInfo(W,"float32",R),z=a.makeTensorInfo(W,"float32",M),F=ia({inputs:{real:P,imag:z},backend:a}),O=vy(v,b,o,r,a),U=O.real,N=O.imag,q=[U.length],ae=a.makeTensorInfo(q,"float32",U),J=a.makeTensorInfo(q,"float32",N),Z=ia({inputs:{real:ae,imag:J},backend:a}),Y=C8(n,r),te=[Y.real.length],B=a.makeTensorInfo(te,"float32",Y.real),V=a.makeTensorInfo(te,"float32",Y.imag),oe=ia({inputs:{real:B,imag:V},backend:a}),ue=qh({inputs:{a:oe,b:Z},backend:a}),le=Wl({inputs:{a:F,b:ue},backend:a}),Ee=H0({inputs:{a:F,b:ue},backend:a}),Re=Mi({inputs:{input:le},backend:a}),xe=Mi({inputs:{input:Ee},backend:a}),Ne=jl({inputs:{input:le},backend:a}),He=jl({inputs:{input:Ee},backend:a}),Ke=Vl({inputs:[Re,xe],backend:a,attrs:{axis:0}}),et=Vl({inputs:[Ne,He],backend:a,attrs:{axis:0}}),Qe=a.data.get(Ke.dataId).values,$=a.data.get(et.dataId).values;return a.disposeIntermediateTensorInfo(p),a.disposeIntermediateTensorInfo(h),a.disposeIntermediateTensorInfo(m),a.disposeIntermediateTensorInfo(x),a.disposeIntermediateTensorInfo(_),a.disposeIntermediateTensorInfo(C),a.disposeIntermediateTensorInfo(P),a.disposeIntermediateTensorInfo(z),a.disposeIntermediateTensorInfo(F),a.disposeIntermediateTensorInfo(ae),a.disposeIntermediateTensorInfo(J),a.disposeIntermediateTensorInfo(Z),a.disposeIntermediateTensorInfo(B),a.disposeIntermediateTensorInfo(V),a.disposeIntermediateTensorInfo(oe),a.disposeIntermediateTensorInfo(ue),a.disposeIntermediateTensorInfo(le),a.disposeIntermediateTensorInfo(Ee),a.disposeIntermediateTensorInfo(Re),a.disposeIntermediateTensorInfo(Ne),a.disposeIntermediateTensorInfo(xe),a.disposeIntermediateTensorInfo(He),a.disposeIntermediateTensorInfo(Ke),a.disposeIntermediateTensorInfo(et),{real:Qe,imag:$}}function aq(t,e,n){const r=new Float32Array(e*2);for(let a=0;a<e;a++){let s=0,o=0;for(let i=0;i<e;i++){const c=E8(a*i,e,n),d=$k(t,i);s+=d.real*c.real-d.imag*c.imag,o+=d.real*c.imag+d.imag*c.real}n&&(s/=e,o/=e),I8(r,s,o,a)}return r}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sq(t){const{inputs:e,backend:n}=t,{input:r}=e,a=Ce(r.shape),s=r.shape[r.shape.length-1],o=a/s,i=mn({inputs:{x:r},backend:n,attrs:{shape:[o,s]}}),c=oC(i,!1,n),d=mn({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(c),d}const oq={kernelName:Ux,backendName:"cpu",kernelFunc:sq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function X0(t){const{backend:e,attrs:n}=t,{shape:r,value:a,dtype:s}=n,o=s||_c(a),i=Vn(o,Ce(r));return lq(i,a,o),e.makeTensorInfo(r,o,i)}const iq={kernelName:Jy,backendName:"cpu",kernelFunc:X0};function lq(t,e,n){t.fill(e)}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const uq={kernelName:vp,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,a=n,s=Mr(r.dtype,Ce(r.shape)),[o,i,c,d]=r.shape,l=a.data.get(r.dataId).values;for(let h=0;h<o;h++){const m=h*c*i*d;for(let y=0;y<i;y++){const v=y*(c*d);for(let b=0;b<c;b++){const w=b*d;for(let x=0;x<d;x++){const _=Math.round(c-b-1),C=m+v+w+x;let T=l[C];if(_>=0&&_<c){const R=_*d,M=m+v+R+x;T=l[M]}s[C]=T}}}}return{dataId:a.write(s,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s,bias:o,preluActivationWeights:i}=e,{strides:c,pad:d,dataFormat:l,dilations:p,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=r;let v=aC({inputs:{x:a,filter:s},backend:n,attrs:{strides:c,pad:d,dataFormat:l,dilations:p,dimRoundingMode:h}});if(o){const b=v;if(l==="NCHW"&&o.shape.length===1&&o.shape[0]!==1){const w=mn({inputs:{x:o},backend:n,attrs:{shape:[o.shape[0],1,1]}});v=Wl({inputs:{a:v,b:w},backend:n}),n.disposeIntermediateTensorInfo(w)}else v=Wl({inputs:{a:v,b:o},backend:n});n.disposeIntermediateTensorInfo(b)}if(m){const b=v;if(l==="NCHW"&&m==="prelu"&&i.shape.length===1&&i.shape[0]!==1){const w=mn({inputs:{x:i},backend:n,attrs:{shape:[i.shape[0],1,1]}});v=Tf(n,v,m,w,y),n.disposeIntermediateTensorInfo(w)}else v=Tf(n,v,m,i,y);n.disposeIntermediateTensorInfo(b)}return v}const dq={kernelName:ic,backendName:"cpu",kernelFunc:cq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function fq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,filter:s,bias:o,preluActivationWeights:i}=e,{strides:c,pad:d,dataFormat:l,dilations:p,dimRoundingMode:h,activation:m,leakyreluAlpha:y}=r;let v=sC({inputs:{x:a,filter:s},backend:n,attrs:{strides:c,pad:d,dataFormat:l,dilations:p,dimRoundingMode:h}});if(o){const b=v;v=Wl({inputs:{a:v,b:o},backend:n}),n.disposeIntermediateTensorInfo(b)}if(m){const b=v;v=Tf(n,v,m,i,y),n.disposeIntermediateTensorInfo(b)}return v}const pq={kernelName:lc,backendName:"cpu",kernelFunc:fq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function hq(t){const{inputs:e,backend:n}=t,{params:r,indices:a}=e,s=Ce(r.shape),o=a.shape,i=o[o.length-1],[c,d,l,p]=_k(r,a);if(d===0)return n.makeTensorInfo(c,r.dtype,[]);const h=n.data.get(a.dataId).values,m=n.bufferSync(r),y=JB(h,m,r.dtype,d,i,l,p,r.shape,s);return n.makeTensorInfo(c,r.dtype,y.values)}const mq={kernelName:Sp,backendName:"cpu",kernelFunc:hq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function gq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,indices:s}=e,{axis:o,batchDims:i}=r;at([a,s],"gatherV2");const c=En(o,a.shape)[0],d=n.data.get(s.dataId).values,l=a.shape[c];for(let C=0;C<d.length;++C){const T=d[C];X(T<=l-1&&T>=0,()=>`GatherV2: the index value ${T} is not in [0, ${l-1}]`)}let p=i;i==null&&(p=0);const h=Ce(s.shape),m=qk(a,s,c,p),y=mn({inputs:{x:a},backend:n,attrs:{shape:[m.batchSize,m.outerSize,m.dimSize,m.sliceSize]}}),v=mn({inputs:{x:s},backend:n,attrs:{shape:[m.batchSize,h/m.batchSize]}}),b=[m.batchSize,m.outerSize,h/m.batchSize,m.sliceSize],w=n.bufferSync(v),x=n.bufferSync(y),_=e9(x,w,b);return n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),n.makeTensorInfo(m.outputShape,_.dtype,_.values)}const vq={kernelName:e0,backendName:"cpu",kernelFunc:gq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function yq(t){const{inputs:e,backend:n}=t,{input:r}=e,a=Ce(r.shape),s=r.shape[r.shape.length-1],o=a/s,i=mn({inputs:{x:r},backend:n,attrs:{shape:[o,s]}}),c=oC(i,!0,n),d=mn({inputs:{x:c},backend:n,attrs:{shape:r.shape}});return n.disposeIntermediateTensorInfo(i),n.disposeIntermediateTensorInfo(c),d}const bq={kernelName:Hx,backendName:"cpu",kernelFunc:yq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const wq=rn(Ip,t=>Number.isFinite(t)?1:0,"bool"),Sq={kernelName:Ip,backendName:"cpu",kernelFunc:wq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const xq=rn(Cp,t=>Math.abs(t)===1/0?1:0,"bool"),kq={kernelName:Cp,backendName:"cpu",kernelFunc:xq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const _q=rn(Ep,t=>Number.isNaN(t)?1:0,"bool"),Iq={kernelName:Ep,backendName:"cpu",kernelFunc:_q};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Cq(t){const{backend:e,attrs:n}=t,{start:r,stop:a,num:s}=n,o=p9(r,a,s);return e.makeTensorInfo([o.length],"float32",o)}const Eq={kernelName:Dp,backendName:"cpu",kernelFunc:Cq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Tq=rn(Rp,t=>Math.log1p(t)),Nq={kernelName:Rp,backendName:"cpu",kernelFunc:Tq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Aq=Pn((t,e)=>t&&e),Dq=Qn($p,Aq,null,"bool"),Fq={kernelName:$p,backendName:"cpu",kernelFunc:Dq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Rq=rn(Op,t=>t?0:1,"bool"),$q={kernelName:Op,backendName:"cpu",kernelFunc:Rq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Oq=Pn((t,e)=>t||e),Mq=Qn(Mp,Oq,null,"bool"),Pq={kernelName:Mp,backendName:"cpu",kernelFunc:Mq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Bq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{depthRadius:s,bias:o,alpha:i,beta:c}=r;at(a,"LRN");const d=a.shape[3],l=d-1,p=n.data.get(a.dataId).values,h=Ce(a.shape),m=new Float32Array(h);function y(v){const b=v%d;let w=v-b+Math.max(0,b-s);const x=v-b+Math.min(b+s,l);let _=0;for(;w<=x;w++){const C=p[w];_+=C*C}return _}for(let v=0;v<h;v++){const b=y(v),w=p[v]*Math.pow(o+i*b,-c);m[v]=w}return n.makeTensorInfo(a.shape,a.dtype,m)}const zq={kernelName:Pp,backendName:"cpu",kernelFunc:Bq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Lq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,y:s,dy:o}=e,{depthRadius:i,bias:c,alpha:d,beta:l}=r;at(o,"LRNGrad");const p=Ce(o.shape),h=o.shape[3],m=n.data.get(o.dataId).values,y=n.data.get(a.dataId).values,v=n.data.get(s.dataId).values,b=new Float32Array(p),w=p;for(let x=0;x<w;x++){const _=x%h,C=x-_+Math.max(0,_-i),T=x-_+Math.min(h,_+i+1);let R=0;for(let M=C;M<T;M++)R+=Math.pow(y[M],2);R=d*R+c;for(let M=C;M<T;M++){let W=-2*d*l*y[M]*v[x]/R;x===M&&(W+=Math.pow(R,-l)),W*=m[x],b[M]+=W}}return n.makeTensorInfo(o.shape,a.dtype,b)}const Wq={kernelName:t0,backendName:"cpu",kernelFunc:Lq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function iC(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reductionIndices:s,keepDims:o}=r,i=n;let c=a.shape;const d=c.length,l=En(s,c);let p=l;const h=Sa(p,d);let m=i.data.get(a.dataId).values;if(h!=null){const C=new Array(d);for(let T=0;T<C.length;T++)C[T]=c[h[T]];m=v_(m,c,a.dtype,h,C),p=zr(p.length,d),c=C}at(a,"max"),Br("max",p,d);const[y,v]=Pr(c,p),b=Ce(v),w=v9(m,b,y,a.dtype),x=i.write(w,y,a.dtype);let _=y;return o&&(_=mr(y,l)),{dataId:x,shape:_,dtype:a.dtype}}const jq={kernelName:Bp,backendName:"cpu",kernelFunc:iC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Vq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e;at(a,"maxPool");const{filterSize:s,strides:o,pad:i,dimRoundingMode:c}=r,d=1;X(Ba(o,d),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${o} and dilations '${d}'`);const l=rs(a.shape,s,o,d,i,c);let p;if(l.filterWidth===1&&l.filterHeight===1&&Ma(l.inShape,l.outShape))p=Is({inputs:{x:a},backend:n});else{const h=n.data.get(a.dataId).values,m=ot(a.shape),y=q0(h,a.shape,a.dtype,m,l,"max");p=n.makeTensorInfo(l.outShape,a.dtype,y.values)}return p}const Uq={kernelName:Lp,backendName:"cpu",kernelFunc:Vq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Hq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{filterSize:s,strides:o,pad:i,dimRoundingMode:c,dataFormat:d}=r;at(a,"maxPool3d");const l=Vo(a.shape,s,o,1,i,c,d),p=n.data.get(a.dataId).values,h=rC(p,a.shape,a.dtype,ot(a.shape),l,"max");return n.makeTensorInfo(h.shape,"float32",h.values)}const Gq={kernelName:n0,backendName:"cpu",kernelFunc:Hq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qq(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s}=e,{filterSize:o,strides:i,pad:c,dimRoundingMode:d}=r;at([a,s],"maxPool3DGrad");const l=Vo(s.shape,o,i,1,c,d),p=n.bufferSync(s),h=OH(p,l),m=l.strideDepth,y=l.strideHeight,v=l.strideWidth,b=l.dilationDepth,w=l.dilationHeight,x=l.dilationWidth,_=l.effectiveFilterDepth,C=l.effectiveFilterHeight,T=l.effectiveFilterWidth,R=_-1-l.padInfo.front,M=T-1-l.padInfo.left,W=C-1-l.padInfo.top,P=Ot(s.shape,"float32"),z=n.bufferSync(a);for(let F=0;F<l.batchSize;++F)for(let O=0;O<l.inChannels;++O)for(let U=0;U<l.inDepth;++U)for(let N=0;N<l.inHeight;++N)for(let q=0;q<l.inWidth;++q){const ae=U-R,J=N-W,Z=q-M;let Y=0;for(let te=0;te<_;te+=b){const B=(ae+te)/m;if(!(B<0||B>=l.outDepth||Math.floor(B)!==B))for(let V=0;V<C;V+=w){const oe=(J+V)/y;if(!(oe<0||oe>=l.outHeight||Math.floor(oe)!==oe))for(let ue=0;ue<T;ue+=x){const le=(Z+ue)/v;if(le<0||le>=l.outWidth||Math.floor(le)!==le)continue;const Ee=_*C*T-1-h.get(F,B,oe,le,O),Re=te*C*T+V*T+ue,xe=Ee===Re?1:0;if(xe===0)continue;const Ne=z.get(F,B,oe,le,O);Y+=Ne*xe}}}P.set(Y,F,U,N,q,O)}return n.makeTensorInfo(P.shape,P.dtype,P.values)}const Kq={kernelName:Kx,backendName:"cpu",kernelFunc:qq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Xq(t){const{inputs:e,backend:n,attrs:r}=t,{dy:a,input:s,output:o}=e,i=s;at([s,o],"maxPoolGrad");const{filterSize:c,strides:d,pad:l,dimRoundingMode:p}=r,h=rs(i.shape,c,d,1,l,p),m=n.data.get(i.dataId).values,y=Ot(h.outShape,i.dtype,nC(m,i.shape,i.dtype,h).values),v=h.strideHeight,b=h.strideWidth,w=h.dilationHeight,x=h.dilationWidth,_=h.effectiveFilterHeight,C=h.effectiveFilterWidth,T=C-1-h.padInfo.left,R=_-1-h.padInfo.top,M=Ot(i.shape,"float32"),W=n.data.get(a.dataId).values,P=Ot(a.shape,"float32",W);for(let z=0;z<h.batchSize;++z)for(let F=0;F<h.inChannels;++F)for(let O=0;O<h.inHeight;++O)for(let U=0;U<h.inWidth;++U){const N=O-R,q=U-T;let ae=0;for(let J=0;J<_;J+=w){const Z=(N+J)/v;if(!(Z<0||Z>=h.outHeight||Math.floor(Z)!==Z))for(let Y=0;Y<C;Y+=x){const te=(q+Y)/b;if(te<0||te>=h.outWidth||Math.floor(te)!==te)continue;const B=_*C-1-y.get(z,Z,te,F),V=J*C+Y,oe=B===V?1:0;if(oe===0)continue;const ue=P.get(z,Z,te,F);ae+=ue*oe}}M.set(ae,z,O,U,F)}return n.makeTensorInfo(M.shape,M.dtype,M.values)}const Yq={kernelName:qx,backendName:"cpu",kernelFunc:Xq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Zq(t,e,n,r,a){const s=ot(e),o=q0(t,e,n,s,a,"max"),i=nC(t,e,n,a,!0,r);return[o.values,i.values]}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const Qq={kernelName:r0,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{x:r}=t,{filterSize:a,strides:s,pad:o,includeBatchInIndex:i}=e,c=n;at(r,"MaxPoolWithArgmax");const d=c.data.get(r.dataId).values,l=rs(r.shape,a,s,[1,1],o),[p,h]=Zq(d,r.shape,r.dtype,i,l),m=c.write(p,l.outShape,r.dtype),y=c.write(h,l.outShape,r.dtype);return[{dataId:m,shape:l.outShape,dtype:r.dtype},{dataId:y,shape:l.outShape,dtype:"int32"}]}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Jq(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r,i=En(s,a.shape),d=Pr(a.shape,i)[1],l=Ce(d),p=[],h=n.makeTensorInfo([],"float32",new Float32Array([l]));p.push(h);const m=Bo({inputs:{x:a},backend:n,attrs:{dtype:"float32"}});p.push(m);const y=K0({inputs:{a:m,b:h},backend:n});p.push(y);const v=Fc({inputs:{x:y},backend:n,attrs:{axis:s,keepDims:o}});return p.forEach(b=>n.disposeIntermediateTensorInfo(b)),v}const eK={kernelName:Wp,backendName:"cpu",kernelFunc:Jq};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tK(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{axis:s,keepDims:o}=r;at(a,"min");const i=En(s,a.shape);let c=i;const d=Sa(c,a.shape.length);let l=a;d!=null&&(l=qr({inputs:{x:a},backend:n,attrs:{perm:d}}),c=zr(c.length,a.shape.length)),Br("min",c,l.shape.length);const[p,h]=Pr(l.shape,c),m=Ce(h),y=xr(Ce(p),l.dtype),v=n.data.get(l.dataId).values;for(let w=0;w<y.length;++w){const x=w*m;let _=v[x];for(let C=0;C<m;++C){const T=v[x+C];(Number.isNaN(T)||T<_)&&(_=T)}y[w]=_}d!=null&&n.disposeIntermediateTensorInfo(l);const b=n.makeTensorInfo(p,l.dtype,y);if(o){const w=mr(p,i),x=mn({inputs:{x:b},backend:n,attrs:{shape:w}});return n.disposeIntermediateTensorInfo(b),x}return b}const nK={kernelName:jp,backendName:"cpu",kernelFunc:tK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rK(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:s,mode:o}=r;at(a,"mirrorPad");const i=s.map((_,C)=>_[0]+a.shape[C]+_[1]),c=s.map(_=>_[0]),d=s.map((_,C)=>_[0]+a.shape[C]),l=o==="reflect"?0:1,p=n.data.get(a.dataId).values,h=a.shape.length,m=ot(a.shape),y=Ce(i),v=i.length,b=ot(i),w=Mr(a.dtype,y);for(let _=0;_<y;_++){let C=Kl(_,v,b);for(let R=0;R<v;R++)C[R]<c[R]?C[R]=c[R]*2-C[R]-l:C[R]>=d[R]&&(C[R]=(d[R]-1)*2-C[R]+l);C=C.map((R,M)=>R-c[M]);const T=xs(C,h,m);w[_]=p[T]}return{dataId:n.write(w,i,a.dtype),shape:i,dtype:a.dtype}}const aK={kernelName:Up,backendName:"cpu",kernelFunc:rK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const sK=Pn((t,e)=>{const n=t%e;return t<0&&e<0||t>=0&&e>=0?n:(n+e)%e}),oK=Qn(Hp,sK),iK={kernelName:Hp,backendName:"cpu",kernelFunc:oK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function lC(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{dim:s}=r,o=a.shape.length;let i=s;if(i===-1&&(i=o-1),i!==o-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${o} and dim was ${i}`);const c=En([i],a.shape),d=iC({inputs:{x:a},backend:n,attrs:{reductionIndices:c,keepDims:!1}}),l=mr(d.shape,c),p=mn({inputs:{x:d},backend:n,attrs:{shape:l}}),h=H0({inputs:{a,b:p},backend:n}),m=m_({inputs:{x:h},backend:n}),y=Fc({inputs:{x:m},backend:n,attrs:{axis:c,keepDims:!1}}),v=mn({inputs:{x:y},backend:n,attrs:{shape:l}}),b=K0({inputs:{a:m,b:v},backend:n});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(p),n.disposeIntermediateTensorInfo(h),n.disposeIntermediateTensorInfo(m),n.disposeIntermediateTensorInfo(y),n.disposeIntermediateTensorInfo(v),b}const lK={kernelName:xh,backendName:"cpu",kernelFunc:lC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uK(t){const{inputs:e,backend:n,attrs:r}=t,{logits:a}=e,{numSamples:s,seed:o,normalized:i}=r;at(a,"multinomial");const c=i?a:lC({inputs:{logits:a},backend:n,attrs:{dim:-1}}),d=c.shape[0],l=c.shape[1],p=n.data.get(c.dataId).values,h=[d,s],m=xr(Ce(h),"int32");for(let y=0;y<d;++y){const v=y*l,b=new Float32Array(l-1);b[0]=p[v];for(let _=1;_<b.length;++_)b[_]=b[_-1]+p[v+_];const w=Lh.alea(o.toString()),x=y*s;for(let _=0;_<s;++_){const C=w();m[x+_]=b.length;for(let T=0;T<b.length;T++)if(C<b[T]){m[x+_]=T;break}}}return i||n.disposeIntermediateTensorInfo(c),n.makeTensorInfo(h,"int32",m)}const cK={kernelName:Gp,backendName:"cpu",kernelFunc:uK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dK=hk;function fK(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:s}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c}=r;at(a,"NonMaxSuppression");const d=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,{selectedIndices:p}=dK(d,l,o,i,c);return n.makeTensorInfo([p.length],"int32",new Int32Array(p))}const pK={kernelName:Xp,backendName:"cpu",kernelFunc:fK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const hK=mk;function mK(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:s}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,padToMaxOutputSize:d}=r;at(a,"NonMaxSuppressionPadded");const l=n.data.get(a.dataId).values,p=n.data.get(s.dataId).values,{selectedIndices:h,validOutputs:m}=hK(l,p,o,i,c,d);return[n.makeTensorInfo([h.length],"int32",new Int32Array(h)),n.makeTensorInfo([],"int32",new Int32Array([m]))]}const gK={kernelName:Yp,backendName:"cpu",kernelFunc:mK};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vK=gk;function yK(t){const{inputs:e,backend:n,attrs:r}=t,{boxes:a,scores:s}=e,{maxOutputSize:o,iouThreshold:i,scoreThreshold:c,softNmsSigma:d}=r;at(a,"NonMaxSuppressionWithScore");const l=n.data.get(a.dataId).values,p=n.data.get(s.dataId).values,h=o,m=i,y=c,v=d,{selectedIndices:b,selectedScores:w}=vK(l,p,h,m,y,v);return[n.makeTensorInfo([b.length],"int32",new Int32Array(b)),n.makeTensorInfo([w.length],"float32",new Float32Array(w))]}const bK={kernelName:Zp,backendName:"cpu",kernelFunc:yK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wK(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a}=e,{dtype:s,depth:o,onValue:i,offValue:c}=r;at(a,"oneHot");const d=Ce(a.shape),l=new Float32Array(d*o);l.fill(c);const p=n.data.get(a.dataId).values;for(let h=0;h<d;++h)p[h]>=0&&p[h]<o&&(l[h*o+p[h]]=i);return n.makeTensorInfo([...a.shape,o],s,l)}const SK={kernelName:Qp,backendName:"cpu",kernelFunc:wK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function Af(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("zerosLike is not supported for string tensors");if(r.dtype==="complex64"){const a=Mi({inputs:{input:r},backend:n}),s=Af({inputs:{x:a},backend:n}),o=jl({inputs:{input:r},backend:n}),i=Af({inputs:{x:o},backend:n}),c=ia({inputs:{real:s,imag:i},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),c}else return X0({backend:n,attrs:{shape:r.shape,value:0,dtype:r.dtype}})}const xK={kernelName:_0,backendName:"cpu",kernelFunc:Af};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uC(t){const{inputs:e,backend:n}=t,{x:r}=e;if(r.dtype==="string")throw new Error("onesLike is not supported for string tensors");if(r.dtype==="complex64"){const a=Mi({inputs:{input:r},backend:n}),s=uC({inputs:{x:a},backend:n}),o=jl({inputs:{input:r},backend:n}),i=Af({inputs:{x:o},backend:n}),c=ia({inputs:{real:s,imag:i},backend:n});return n.disposeIntermediateTensorInfo(a),n.disposeIntermediateTensorInfo(s),n.disposeIntermediateTensorInfo(o),n.disposeIntermediateTensorInfo(i),c}else return X0({backend:n,attrs:{shape:r.shape,value:1,dtype:r.dtype}})}const kK={kernelName:s0,backendName:"cpu",kernelFunc:uC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function cC(t){const{inputs:e,backend:n,attrs:r}=t,{axis:a}=r;if(e.length===1)return Nf({inputs:{input:e[0]},backend:n,attrs:{dim:a}});const s=e[0].shape,o=e[0].dtype;e.forEach(l=>{la(s,l.shape,"All tensors passed to stack must have matching shapes"),X(o===l.dtype,()=>"All tensors passed to stack must have matching dtypes")});const i=[],c=e.map(l=>{const p=Nf({inputs:{input:l},backend:n,attrs:{dim:a}});return i.push(p),p}),d=Vl({inputs:c,backend:n,attrs:{axis:a}});return i.forEach(l=>n.disposeIntermediateTensorInfo(l)),d}const _K={kernelName:o0,backendName:"cpu",kernelFunc:cC};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function IK(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{paddings:s,constantValue:o}=r;at(a,"pad");const i=s.map((x,_)=>x[0]+a.shape[_]+x[1]),c=s.map(x=>x[0]),d=n.data.get(a.dataId).values,l=Ce(a.shape),p=a.shape.length,h=ot(a.shape),m=Ce(i),y=i.length,v=ot(i),b=Mr(a.dtype,m);o!==0&&b.fill(o);for(let x=0;x<l;x++){const C=Kl(x,p,h).map((R,M)=>R+c[M]),T=xs(C,y,v);b[T]=d[x]}return{dataId:n.write(b,i,a.dtype),shape:i,dtype:a.dtype}}const dC={kernelName:Jp,backendName:"cpu",kernelFunc:IK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const CK=Pn((t,e)=>Math.pow(t,e)),EK=Qn(eh,CK),TK={kernelName:eh,backendName:"cpu",kernelFunc:EK};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function NK(t){const{inputs:e,backend:n,attrs:r}=t,{paramsNestedSplits:a,paramsDenseValues:s,indices:o}=e,{outputRaggedRank:i}=r,c=a.map(w=>n.data.get(w.dataId).values),d=a.map(w=>w.shape),l=n.data.get(s.dataId).values,p=n.data.get(o.dataId).values,[h,m,y]=j9(c,d,l,s.shape,s.dtype,p,o.shape),v=h.map(w=>n.makeTensorInfo([w.length],"int32",w)),b=n.makeTensorInfo(y,s.dtype,m);return v.concat([b])}const AK={kernelName:Xx,backendName:"cpu",kernelFunc:NK};/**
 * @license
 * Copyright 2022 Google LLC.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function DK(t){const{inputs:e,backend:n}=t,{starts:r,limits:a,deltas:s}=e,o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[d,l]=V9(o,r.shape,r.dtype,i,a.shape,c,s.shape),p=n.makeTensorInfo([d.length],"int32",d),h=n.makeTensorInfo([l.length],r.dtype,l);return[p,h]}const FK={kernelName:Yx,backendName:"cpu",kernelFunc:DK};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function RK(t){const{inputs:e,backend:n,attrs:r}=t,{shape:a,values:s,defaultValue:o,rowPartitionTensors:i}=e,{rowPartitionTypes:c}=r,d=n.data.get(a.dataId).values,l=n.data.get(s.dataId).values,p=n.data.get(o.dataId).values,h=i.map(b=>n.data.get(b.dataId).values),m=i.map(b=>b.shape),[y,v]=U9(d,a.shape,l,s.shape,s.dtype,p,o.shape,h,m,c);return n.makeTensorInfo(y,s.dtype,v)}const $K={kernelName:Zx,backendName:"cpu",kernelFunc:RK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function OK(t){const{backend:e,attrs:n}=t,{start:r,stop:a,dtype:s,step:o}=n,i=y_(r,a,o,s);return e.makeTensorInfo([i.length],s,i)}const MK={kernelName:i0,backendName:"cpu",kernelFunc:OK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const PK=rn(rh,t=>1/t),BK={kernelName:rh,backendName:"cpu",kernelFunc:PK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zK(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:s,halfPixelCenters:o,size:i}=r;at(a,"resizeBilinear");const c=ot(a.shape),[d,l]=i,[p,h,m,y]=a.shape,v=n.data.get(a.dataId).values,b=new Float32Array(Ce([p,d,l,y])),w=[s&&d>1?h-1:h,s&&l>1?m-1:m],x=[s&&d>1?d-1:d,s&&l>1?l-1:l];let _=0;const C=w[0]/x[0],T=w[1]/x[1];for(let R=0;R<p;R++)for(let M=0;M<d;M++){let W;o?W=C*(M+.5)-.5:W=C*M;const P=Math.max(0,Math.floor(W)),z=W-P,F=Math.min(h-1,Math.ceil(W)),O=R*c[0]+P*c[1],U=R*c[0]+F*c[1];for(let N=0;N<l;N++){let q;o?q=T*(N+.5)-.5:q=T*N;const ae=Math.max(0,Math.floor(q)),J=q-ae,Z=Math.min(m-1,Math.ceil(q)),Y=O+ae*c[2],te=U+ae*c[2],B=O+Z*c[2],V=U+Z*c[2];for(let oe=0;oe<y;oe++){const ue=v[Y+oe],le=v[te+oe],Ee=v[B+oe],Re=v[V+oe],xe=ue+(Ee-ue)*J,Ne=le+(Re-le)*J,He=xe+(Ne-xe)*z;b[_++]=He}}}return n.makeTensorInfo([p,d,l,y],"float32",b)}const LK={kernelName:oh,backendName:"cpu",kernelFunc:zK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WK(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:s}=e,{alignCorners:o}=r;at([s,a],"resizeBilinearGrad");const i=ot(a.shape),[c,d,l,p]=a.shape,[,h,m]=s.shape,y=new Float32Array(c*d*l*p),v=[o&&h>1?d-1:d,o&&m>1?l-1:l],b=[o&&h>1?h-1:h,o&&m>1?m-1:m],w=v[0]/b[0],x=v[1]/b[1],_=n.data.get(s.dataId).values;let C=0;for(let T=0;T<c;T++){const R=T*i[0];for(let M=0;M<h;M++){const W=M*w,P=Math.floor(W),z=Math.min(Math.ceil(W),d-1),F=R+P*i[1],O=R+z*i[1],U=W-P,N=1-U;for(let q=0;q<m;q++){const ae=q*x,J=Math.floor(ae),Z=Math.min(Math.ceil(ae),l-1),Y=ae-J,te=1-Y,B=F+J*i[2],V=F+Z*i[2],oe=O+J*i[2],ue=O+Z*i[2],le=N*te,Ee=N*Y,Re=U*te,xe=U*Y;for(let Ne=0;Ne<p;Ne++){const He=_[C++];y[B+Ne]+=He*le,y[V+Ne]+=He*Ee,y[oe+Ne]+=He*Re,y[ue+Ne]+=He*xe}}}}return n.makeTensorInfo([c,l,d,p],"float32",y)}const jK={kernelName:c0,backendName:"cpu",kernelFunc:WK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VK(t){const{inputs:e,backend:n,attrs:r}=t,{images:a}=e,{alignCorners:s,halfPixelCenters:o,size:i}=r;at(a,"resizeNearestNeighbor");const c=ot(a.shape),[d,l]=i,[p,h,m,y]=a.shape,v=n.data.get(a.dataId).values,b=new Float32Array(p*d*l*y),w=[s&&d>1?h-1:h,s&&l>1?m-1:m],x=[s&&d>1?d-1:d,s&&l>1?l-1:l],_=w[0]/x[0],C=w[1]/x[1];let T=0;for(let R=0;R<p;R++){const M=R*c[0];for(let W=0;W<d;W++){const P=o?_*(W+.5):_*W;let z=Math.min(h-1,s?Math.round(P):Math.floor(P));o&&(z=Math.max(0,z));const F=M+z*c[1];for(let O=0;O<l;O++){const U=o?C*(O+.5):C*O;let N=Math.min(m-1,s?Math.round(U):Math.floor(U));o&&(N=Math.max(0,N));const q=F+N*c[2];for(let ae=0;ae<y;ae++){const J=v[q+ae];b[T++]=J}}}}return n.makeTensorInfo([p,d,l,y],a.dtype,b)}const UK={kernelName:sh,backendName:"cpu",kernelFunc:VK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function HK(t){const{inputs:e,backend:n,attrs:r}=t,{images:a,dy:s}=e,{alignCorners:o}=r;at([s,a],"resizeNearestNeighborGrad");const i=ot(a.shape),c=ot(s.shape),[d,l,p,h]=a.shape,[,m,y]=s.shape,v=new Float32Array(d*l*p*h),b=n.data.get(s.dataId).values,w=[o&&m>1?l-1:l,o&&y>1?p-1:p],x=[o&&m>1?m-1:m,o&&y>1?y-1:y],_=w[0]/x[0],C=w[1]/x[1],T=1/_,R=1/C,M=Math.ceil(T)*2+2,W=Math.ceil(R)*2+2;for(let P=0;P<d;P++){const z=P*i[0];for(let F=0;F<l;F++){const O=z+F*i[1],U=Math.floor(F*T),N=Math.floor(U-M/2);for(let q=0;q<p;q++){const ae=O+q*i[2],J=Math.floor(q*R),Z=Math.floor(J-W/2);for(let Y=0;Y<h;Y++){let te=0;for(let B=0;B<M;B++){const V=B+N;if(V<0||V>=m)continue;const oe=z+V*c[1],ue=V*_,le=Math.min(l-1,o?Math.round(ue):Math.floor(ue));if(F===le)for(let Ee=0;Ee<W;Ee++){const Re=Ee+Z;if(Re<0||Re>=y)continue;const xe=oe+Re*c[2],Ne=Re*C,He=Math.min(p-1,o?Math.round(Ne):Math.floor(Ne));q===He&&(te+=b[xe+Y])}}v[ae+Y]=te}}}}return n.makeTensorInfo(a.shape,a.dtype,v)}const GK={kernelName:u0,backendName:"cpu",kernelFunc:HK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function qK(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{dims:s}=r;at(a,"reverse");const o=a.shape.length,i=En(s,a.shape);if(o===0)return Is({inputs:{x:a},backend:n});const c=new Yn(a.shape,a.dtype),d=n.bufferSync(a);for(let l=0;l<c.size;l++){const p=c.indexToLoc(l),h=p.slice();i.forEach(m=>h[m]=a.shape[m]-1-h[m]),c.set(d.get(...h),...p)}return n.makeTensorInfo(c.shape,c.dtype,c.values)}const KK={kernelName:lh,backendName:"cpu",kernelFunc:qK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const XK={kernelName:Fh,backendName:"cpu",kernelFunc:({inputs:t,attrs:e,backend:n})=>{const{image:r}=t,{radians:a,fillValue:s,center:o}=e,i=n,c=Mr(r.dtype,Ce(r.shape)),[d,l,p,h]=r.shape,[m,y]=Dk(o,l,p),v=255,b=Math.sin(a),w=Math.cos(a),x=i.data.get(r.dataId).values;for(let C=0;C<d;C++){const T=C*p*l*h;for(let R=0;R<l;R++){const M=R*(p*h);for(let W=0;W<p;W++){const P=W*h;for(let z=0;z<h;z++){const F=[d,R,W,z],O=F[2],U=F[1];let N=(O-m)*w-(U-y)*b,q=(O-m)*b+(U-y)*w;N=Math.round(N+m),q=Math.round(q+y);let ae=s;if(typeof s!="number"&&(z===3?ae=v:ae=s[z]),N>=0&&N<p&&q>=0&&q<l){const Z=q*(p*h),Y=N*h,te=T+Z+Y+z;ae=x[te]}const J=T+M+P+z;c[J]=ae}}}}return{dataId:i.write(c,r.shape,r.dtype),shape:r.shape,dtype:r.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const YK=rn(uh,t=>{const e=Math.floor(t);return t-e<.5?Math.floor(t):t-e>.5?Math.ceil(t):e%2===0?e:e+1}),ZK={kernelName:uh,backendName:"cpu",kernelFunc:YK};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function QK(t){const{inputs:e,backend:n,attrs:r}=t,{indices:a,updates:s}=e,{shape:o}=r,{sliceRank:i,numUpdates:c,sliceSize:d,strides:l,outputSize:p}=Ql(s,a,o),h=!0,m=n.bufferSync(a),y=n.bufferSync(s),v=El(m,y,o,p,d,c,i,l,0,h);return n.makeTensorInfo(o,v.dtype,v.values)}const JK={kernelName:dh,backendName:"cpu",kernelFunc:QK};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function eX(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<e?n=a+1:r=a;return r}function tX(t,e){let n=0,r=t.length,a=0;for(;n<r;)a=Math.floor((n+r)/2),t[a]<=e?n=a+1:r=a;return r}function nX(t,e,n,r,a,s){const o=Vn("int32",n*a);for(let i=0;i<n;++i){const c=t.slice(i*r,(i+1)*r),d=i*a;for(let l=0;l<a;++l)o[d+l]=s==="left"?eX(c,e[l+d]):tX(c,e[l+d])}return o}/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function rX(t){const{inputs:e,backend:n,attrs:r}=t,{sortedSequence:a,values:s}=e,{side:o}=r,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,d=nX(i,c,a.shape[0],a.shape[1],s.shape[1],o);return n.makeTensorInfo(s.shape,"int32",d)}const aX={kernelName:ph,backendName:"cpu",kernelFunc:rX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function sX(t){const{inputs:e,backend:n}=t,{condition:r,t:a,e:s}=e;at([r,a,s],"select");const o=r.shape.length,i=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,l=Xl(a.dtype,s.dtype),p=xr(Ce(a.shape),l);let h=0;const m=o===0||o>1||a.shape.length===1?1:Ce(a.shape.slice(1));for(let y=0;y<i.length;y++)for(let v=0;v<m;v++)i[y]===1?p[h++]=c[y]:p[h++]=d[y];return n.makeTensorInfo(a.shape,l,p)}const oX={kernelName:d0,backendName:"cpu",kernelFunc:sX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const iX=h8,lX=m8,uX=rn(hh,t=>t>=0?lX*t:iX*(Math.exp(t)-1)),cX={kernelName:hh,backendName:"cpu",kernelFunc:uX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const dX=rn(vh,t=>t<0?-1:t>0?1:0),fX={kernelName:vh,backendName:"cpu",kernelFunc:dX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const pX=rn(mh,t=>Math.sin(t)),hX={kernelName:mh,backendName:"cpu",kernelFunc:pX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const mX=rn(gh,t=>Math.sinh(t)),gX={kernelName:gh,backendName:"cpu",kernelFunc:mX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const vX=11920928955078125e-23,Uw=Math.log(vX)+2,yX=rn(bh,t=>{const e=t>-Uw,n=t<Uw,r=Math.exp(t);let a;return n?a=r:e?a=t:a=Math.log(1+r),a}),bX={kernelName:bh,backendName:"cpu",kernelFunc:yX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function wX(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{blockShape:s,paddings:o}=r;at([a],"spaceToBatchND");const i=Ce(s),c=[[0,0]];c.push(...o);for(let R=1+s.length;R<a.shape.length;++R)c.push([0,0]);const d=dC.kernelFunc({inputs:{x:a},backend:n,attrs:{paddings:c,constantValue:0}}),l=Vh(d.shape,s,i,!1),p=Uh(l.length,s.length,!1),h=Hh(d.shape,s,i,!1),v=mn({inputs:{x:d},backend:n,attrs:{shape:l}}),x=qr({inputs:{x:v},backend:n,attrs:{perm:p}}),T=mn({inputs:{x},backend:n,attrs:{shape:h}});return n.disposeIntermediateTensorInfo(d),n.disposeIntermediateTensorInfo(v),n.disposeIntermediateTensorInfo(x),T}const SX={kernelName:p0,backendName:"cpu",kernelFunc:wX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function xX(t){const{inputs:e,backend:n}=t,{indices:r,values:a,denseShape:s,defaultValue:o}=e;if(s.shape.length!==1)throw new Error(`Dense shape must be a vector, saw:
        ${s.shape}`);if(r.shape.length!==2)throw new Error(`Indices must be a matrix, saw:
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Values must be a vector, saw:
        ${a.shape}`);if(o.shape.length!==0)throw new Error(`Default value must be a scalar, saw:
        ${o.shape}`);const i=n.data.get(r.dataId).values,c=n.data.get(a.dataId).values,d=n.data.get(s.dataId).values,l=n.data.get(o.dataId).values[0],[p,h,m,y,v]=Y9(i,r.shape,r.dtype,c,a.dtype,d,l);return[n.makeTensorInfo(h,r.dtype,p),n.makeTensorInfo([h[0]],a.dtype,m),n.makeTensorInfo([y.length],"bool",new Uint8Array(y.map(b=>Number(b)))),n.makeTensorInfo([v.length],r.dtype,new Int32Array(v))]}const kX={kernelName:m0,backendName:"cpu",kernelFunc:xX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function _X(t){const{inputs:e,backend:n}=t,{inputIndices:r,inputShape:a,newShape:s}=e;if(r.shape.length!==2)throw new Error(`Input indices should be a matrix but received shape
        ${r.shape}`);if(a.shape.length!==1)throw new Error(`Input shape should be a vector but received shape
        ${a.shape}`);if(s.shape.length!==1)throw new Error(`Target shape should be a vector but received shape ${s.shape}`);const o=Array.from(n.data.get(a.dataId).values),i=n.data.get(r.dataId).values,c=Array.from(n.data.get(s.dataId).values),[d,l,p]=Z9(i,r.shape,r.dtype,o,c);return[n.makeTensorInfo(l,r.dtype,d),n.makeTensorInfo([p.length],s.dtype,new Int32Array(p))]}const IX={kernelName:kh,backendName:"cpu",kernelFunc:_X};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function CX(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
          ${a.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
          ${s.shape}`);if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[d,l]=w_(o,r.shape,r.dtype,i,c,!0);return n.makeTensorInfo(l,r.dtype,d)}const EX={kernelName:g0,backendName:"cpu",kernelFunc:CX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function TX(t){const{inputs:e,backend:n}=t,{data:r,indices:a,segmentIds:s}=e;if(r.shape.length<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(a.shape.length!==1)throw new Error(`Indices should be a vector but received shape
         ${a.shape}`);if(s.shape.length!==1)throw new Error(`Segment ids should be a vector but received shape
         ${s.shape}`);if(a.shape[0]!==s.shape[0])throw new Error("segmentIds and indices should have same size.");const o=n.data.get(r.dataId).values,i=n.data.get(a.dataId).values,c=n.data.get(s.dataId).values,[d,l]=w_(o,r.shape,r.dtype,i,c);return n.makeTensorInfo(l,r.dtype,d)}const NX={kernelName:v0,backendName:"cpu",kernelFunc:TX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function AX(t){const{inputs:e,backend:n,attrs:r}=t,{sparseIndices:a,sparseValues:s,defaultValue:o}=e,{outputShape:i}=r,{sliceRank:c,numUpdates:d,sliceSize:l,strides:p,outputSize:h}=Ql(s,a,i),m=!1,y=n.bufferSync(a);let v;switch(s.dtype){case"bool":{const b=n.bufferSync(s),w=!!n.data.get(o.dataId).values[0];v=El(y,b,i,h,l,d,c,p,w,m);break}case"float32":{const b=n.bufferSync(s),w=n.data.get(o.dataId).values[0];v=El(y,b,i,h,l,d,c,p,w,m);break}case"int32":{const b=n.bufferSync(s),w=n.data.get(o.dataId).values[0];v=El(y,b,i,h,l,d,c,p,w,m);break}case"string":{const b=n.bufferSync(s),w=uc(n.data.get(o.dataId).values[0]);v=El(y,b,i,h,l,d,c,p,w,m);break}default:throw new Error(`Unsupported type ${s.dtype}`)}return n.makeTensorInfo(i,v.dtype,v.values)}const DX={kernelName:_h,backendName:"cpu",kernelFunc:AX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function FX(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{numOrSizeSplits:s,axis:o}=r,i=En(o,a.shape)[0],c=Ok(a,s,i),d=new Array(a.shape.length).fill(0),l=a.shape.slice();return c.map(p=>{const h=[...l];h[i]=p;const m=Pi({inputs:{x:a},backend:n,attrs:{begin:d,size:h}});return d[i]+=p,m})}const RX={kernelName:h0,backendName:"cpu",kernelFunc:FX};/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const $X={kernelName:Jx,backendName:"cpu",kernelFunc:({inputs:t,backend:e})=>{const{x:n}=t,r=e;at(n,"square");const a=r.data.get(n.dataId).values,s=new Float32Array(a.length);for(let i=0;i<a.length;++i){const c=a[i];s[i]=c*c}return{dataId:r.write(s,n.shape,n.dtype),shape:n.shape,dtype:n.dtype}}};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const OX=rn(Tc,(t,e)=>{const n=e;return isNaN(t)?NaN:t>0?1:n.alpha}),MX={kernelName:Tc,backendName:"cpu",kernelFunc:OX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function PX(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{begin:s,end:o,strides:i,beginMask:c,endMask:d,ellipsisMask:l,newAxisMask:p,shrinkAxisMask:h}=r;at(a,"stridedSlice");const{finalShapeSparse:m,finalShape:y,isIdentity:v,sliceDim0:b,isSimpleSlice:w,begin:x,end:_,strides:C}=Nk(a.shape,s,o,i,c,d,l,p,h);let T;if(v)T=mn({inputs:{x:a},backend:n,attrs:{shape:y}});else if(b||w){X(a.shape.length>=1,()=>`Input must have rank at least 1, got: ${a.shape.length}`);const R=Ik(x,_,C),M=Pi({inputs:{x:a},backend:n,attrs:{begin:x,size:R}});T=mn({inputs:{x:M},backend:n,attrs:{shape:y}}),n.disposeIntermediateTensorInfo(M)}else{const R=n.bufferSync(a),M=oz(m,R,C,x);T=n.makeTensorInfo(y,M.dtype,M.values)}return T}const BX={kernelName:Ch,backendName:"cpu",kernelFunc:PX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function zX(t){const{inputs:e,backend:n,attrs:r}=t,{separator:a,nGramWidths:s,leftPad:o,rightPad:i,padWidth:c,preserveShortSequences:d}=r,{data:l,dataSplits:p}=e,h=n.data.get(l.dataId).values,m=n.data.get(p.dataId).values,[y,v]=S_(h,m,a,s,o,i,c,d);return[n.makeTensorInfo([y.length],"string",y),n.makeTensorInfo(p.shape,"int32",v)]}const LX={kernelName:b0,backendName:"cpu",kernelFunc:zX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function WX(t){const{inputs:e,backend:n,attrs:r}=t,{skipEmpty:a}=r,{input:s,delimiter:o}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(s.shape.length!==1)throw new Error(`Input must be a vector, got shape: ${s.shape}`);if(o.shape.length!==0)throw new Error(`Delimiter must be a scalar, got shape: ${o.shape}`);const i=n.data.get(s.dataId).values,c=n.data.get(o.dataId).values[0],[d,l,p]=x_(i,c,a),h=l.length;return[n.makeTensorInfo([h,2],"int32",d),n.makeTensorInfo([h],"string",l),n.makeTensorInfo([2],"int32",new Int32Array(p))]}const jX={kernelName:w0,backendName:"cpu",kernelFunc:WX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function VX(t){const{inputs:e,backend:n,attrs:r}=t,{numBuckets:a}=r,{input:s}=e;if(s.dtype!=="string")throw new Error("Input must be of datatype string");if(a<=0)throw new Error("Number of buckets must be at least 1");const o=n.data.get(s.dataId).values,i=k_(o,a);return n.makeTensorInfo(s.shape,"int32",i)}const UX={kernelName:S0,backendName:"cpu",kernelFunc:VX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const HX=rn(Th,t=>Math.tan(t)),GX={kernelName:Th,backendName:"cpu",kernelFunc:HX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */const qX=rn(Nh,t=>Math.tanh(t)),KX={kernelName:Nh,backendName:"cpu",kernelFunc:qX};/**
 * @license
 * Copyright 2022 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function XX(t){const{inputs:e,backend:n}=t,{tensor:r,indices:a,updates:s}=e,{sliceRank:o,numUpdates:i,sliceSize:c,strides:d,outputSize:l}=Ql(s,a,r.shape),p=!1,h=n.bufferSync(a),m=n.bufferSync(s),y=n.bufferSync(r),v=El(h,m,r.shape,l,c,i,o,d,y,p);return n.makeTensorInfo(r.shape,v.dtype,v.values)}const YX={kernelName:fh,backendName:"cpu",kernelFunc:XX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function ZX(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{reps:s}=r;at(a,"tile");const o=fz(n.bufferSync(a),s);return n.makeTensorInfo(o.shape,o.dtype,o.values)}const QX={kernelName:Ec,backendName:"cpu",kernelFunc:ZX};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function JX(t){const{inputs:e,backend:n,attrs:r}=t,{x:a}=e,{k:s,sorted:o}=r;at(a,"topk");const i=n.data.get(a.dataId).values,[c,d]=pz(i,a.shape,a.dtype,s,o);return[n.makeTensorInfo(c.shape,c.dtype,c.values),n.makeTensorInfo(d.shape,d.dtype,d.values)]}const eY={kernelName:Ah,backendName:"cpu",kernelFunc:JX};/**
 * @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function tY(t){const{inputs:e,attrs:n,backend:r}=t,{image:a,transforms:s}=e,{interpolation:o,fillMode:i,fillValue:c,outputShape:d}=n,[l,p,h,m]=a.shape,[y,v]=d??[p,h],b=[l,y,v,m],w=ot(a.shape),x=w[0],_=w[1],C=w[2],T=ot(b),R=T[0],M=T[1],W=T[2],P=Mr(a.dtype,Ce(b));P.fill(c);const z=r.data.get(a.dataId).values,F=r.data.get(s.dataId).values;for(let U=0;U<l;++U){const N=s.shape[0]===1?F:F.subarray(U*8,U*8+8);for(let q=0;q<y;++q)for(let ae=0;ae<v;++ae)for(let J=0;J<m;++J){let Z;const Y=N[6]*ae+N[7]*q+1;if(Y===0)continue;const te=(N[0]*ae+N[1]*q+N[2])/Y,B=(N[3]*ae+N[4]*q+N[5])/Y,V=Hw(te,h,i),oe=Hw(B,p,i);switch(o){case"nearest":Z=iY(z,p,h,x,_,C,U,oe,V,J,c);break;case"bilinear":Z=lY(z,p,h,x,_,C,U,oe,V,J,c);break;default:throw new Error(`Error in Transform: Expect 'nearest' or 'bilinear', but got ${o}`)}const ue=U*R+q*M+ae*W+J;P[ue]=Z}return r.makeTensorInfo(b,a.dtype,P)}return{dataId:r.write(P,b,a.dtype),shape:a.shape,dtype:a.dtype}}const nY={kernelName:Dh,backendName:"cpu",kernelFunc:tY};function Hw(t,e,n){switch(n){case"reflect":return rY(t,e);case"wrap":return aY(t,e);case"nearest":return oY(t,e);case"constant":default:return sY(t)}}function rY(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=2*e;n<r&&(n=r*Math.trunc(-n/r)+n),n=n<-e?n+r:-n-1}else if(n>e-1)if(e<=1)n=0;else{const r=2*e;n-=r*Math.trunc(n/r),n>=e&&(n=r-n-1)}return By(0,n,e-1)}function aY(t,e){let n=t;if(n<0)if(e<=1)n=0;else{const r=e-1;n+=e*(Math.trunc(-n/r)+1)}else if(n>e-1)if(e<=1)n=0;else{const r=e-1;n-=e*Math.trunc(n/r)}return By(0,n,e-1)}function sY(t,e){return t}function oY(t,e){return By(0,t,e-1)}function Ku(t,e,n,r,a,s,o,i,c,d,l){const p=o*r+i*a+c*s+d;return 0<=i&&i<e&&0<=c&&c<n?t[p]:l}function iY(t,e,n,r,a,s,o,i,c,d,l){const p=Math.round(i),h=Math.round(c);return Ku(t,e,n,r,a,s,o,p,h,d,l)}function lY(t,e,n,r,a,s,o,i,c,d,l){const p=Math.floor(i),h=Math.floor(c),m=p+1,y=h+1,v=(y-c)*Ku(t,e,n,r,a,s,o,p,h,d,l)+(c-h)*Ku(t,e,n,r,a,s,o,p,y,d,l),b=(y-c)*Ku(t,e,n,r,a,s,o,m,h,d,l)+(c-h)*Ku(t,e,n,r,a,s,o,m,y,d,l);return(m-i)*v+(i-p)*b}/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the License);
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an AS IS BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function uY(t){const{inputs:e,attrs:n,backend:r}=t,{axis:a}=n,{x:s}=e;at(s,"unique");const o=r.data.get(s.dataId).values,{outputValues:i,outputShape:c,indices:d}=I_(o,a,s.shape,s.dtype);return[r.makeTensorInfo(c,s.dtype,i),r.makeTensorInfo([d.length],"int32",d)]}const cY={kernelName:x0,backendName:"cpu",kernelFunc:uY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function dY(t){const{inputs:e,backend:n,attrs:r}=t,{value:a}=e;let{axis:s}=r;s<0&&(s+=a.shape.length);const o=a.shape.length,i=a.shape[s],c=new Array(o-1);let d=0;for(let m=0;m<o;m++)m!==s&&(c[d++]=a.shape[m]);const l=new Array(o).fill(0),p=a.shape.slice();p[s]=1;const h=new Array(i);for(let m=0;m<h.length;m++){l[s]=m;const y=Pi({inputs:{x:a},backend:n,attrs:{begin:l,size:p}});h[m]=mn({inputs:{x:y},backend:n,attrs:{shape:c}}),n.disposeIntermediateTensorInfo(y)}return h}const fY={kernelName:k0,backendName:"cpu",kernelFunc:dY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */function pY(t){const{inputs:e,backend:n,attrs:r}=t,{x:a,segmentIds:s}=e,{numSegments:o}=r;at(a,"unsortedSegmentSum");const i=a.shape.length,c=s.shape.length,d=[],l=[],p=i-c;let h=s;for(let y=0;y<p;++y){const v=Nf({inputs:{input:h},backend:n,attrs:{dim:y+1}});h=v,l.push(v)}for(let y=0;y<o;++y){const v=I0(y,"int32"),b=n.makeTensorInfo([],"int32",v),w=h_({inputs:{a:b,b:h},backend:n}),x=Bo({inputs:{x:w},backend:n,attrs:{dtype:"float32"}}),_=qh({inputs:{a:x,b:a},backend:n}),C=Fc({inputs:{x:_},backend:n,attrs:{axis:0,keepDims:!1}});d.push(C),l.push(b),l.push(w),l.push(x),l.push(_),l.push(C)}const m=cC({inputs:d,backend:n,attrs:{axis:0}});return l.forEach(y=>n.disposeIntermediateTensorInfo(y)),m}const hY={kernelName:e3,backendName:"cpu",kernelFunc:pY};/**
 * @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =============================================================================
 */
 const mY = [uH, _B, dH, pH, FB, mH, vH, bH, SH, kH, IH, EH, NH, FH, $H, PH, zH, WH, VH, iH, HH, qH, XH, MB, ZH, NB, zB, JH, IB, tG, rG, aG, oG, lG, cG, fG, hG, gG, yG, wG, xG, _G, CG, TG, NG, DG, RG, OG, MG, PG, BG, LG, VG, eH, HG, WB, JG, VB, eq, GB, oq, iq, uq, XB, QB, dq, pq, mq, vq, r9, o9, CB, bq, nG, Sq, kq, Iq, tH, u9, f9, Eq, g9, Nq, Fq, $q, Pq, zq, Wq, jq, w9, Uq, Gq, Kq, Yq, Qq, eK, nK, k9, aK, iK, cK, I9, T9, pK, gK, bK, D9, SK, kK, _K, dC, TK, rH, O9, AK, FK, $K, MK, EB, gy, BK, aH, sH, oH, LK, jK, UK, GK, KK, XK, ZK, q9, JK, aX, oX, cX, K9, fX, hX, gX, X9, lK, bX, SX, kX, IX, EX, NX, DX, RX, J9, $X, nz, sz, MX, BX, LX, jX, UX, dz, WG, GX, KX, YX, QX, eY, nY, F9, cY, fY, hY, xK];
 for (const t of mY) t3(t);
 const gY = "Logging";
 var ga;
 (function(t) {
     t.DEBUG = "DEBUG", t.ERROR = "ERROR", t.INFO = "INFO", t.WARN = "WARN", t.VERBOSE = "VERBOSE", t.NONE = "NONE"
 })(ga || (ga = {}));
 const Gw = {
     VERBOSE: 1,
     DEBUG: 2,
     INFO: 3,
     WARN: 4,
     ERROR: 5,
     NONE: 6
 };
 class Ei {
     constructor(e, n = ga.WARN) {
         this.name = e, this.level = n, this._pluggables = []
     }
     _padding(e) {
         return e < 10 ? "0" + e : "" + e
     }
     _ts() {
         const e = new Date;
         return [this._padding(e.getMinutes()), this._padding(e.getSeconds())].join(":") + "." + e.getMilliseconds()
     }
     configure(e) {
         return e ? (this._config = e, this._config) : this._config
     }
     _log(e, ...n) {
         let r = this.level;
         Ei.LOG_LEVEL && (r = Ei.LOG_LEVEL), typeof window < "u" && window.LOG_LEVEL && (r = window.LOG_LEVEL);
         const a = Gw[r];
         if (!(Gw[e] >= a)) return;
         let o = console.log.bind(console);
         e === ga.ERROR && console.error && (o = console.error.bind(console)), e === ga.WARN && console.warn && (o = console.warn.bind(console)), Ei.BIND_ALL_LOG_LEVELS && (e === ga.INFO && console.info && (o = console.info.bind(console)), e === ga.DEBUG && console.debug && (o = console.debug.bind(console)));
         const i = `[${e}] ${this._ts()} ${this.name}`;
         let c = "";
         if (n.length === 1 && typeof n[0] == "string") c = `${i} - ${n[0]}`, o(c);
         else if (n.length === 1) c = `${i} ${n[0]}`, o(i, n[0]);
         else if (typeof n[0] == "string") {
             let d = n.slice(1);
             d.length === 1 && (d = d[0]), c = `${i} - ${n[0]} ${d}`, o(`${i} - ${n[0]}`, d)
         } else c = `${i} ${n}`, o(i, n);
         for (const d of this._pluggables) {
             const l = {
                 message: c,
                 timestamp: Date.now()
             };
             d.pushLogs([l])
         }
     }
     log(...e) {
         this._log(ga.INFO, ...e)
     }
     info(...e) {
         this._log(ga.INFO, ...e)
     }
     warn(...e) {
         this._log(ga.WARN, ...e)
     }
     error(...e) {
         this._log(ga.ERROR, ...e)
     }
     debug(...e) {
         this._log(ga.DEBUG, ...e)
     }
     verbose(...e) {
         this._log(ga.VERBOSE, ...e)
     }
     addPluggable(e) {
         e && e.getCategoryName() === gY && (this._pluggables.push(e), e.configure(this._config))
     }
     listPluggables() {
         return this._pluggables
     }
 }
 Ei.LOG_LEVEL = null;
 Ei.BIND_ALL_LOG_LEVELS = !1;
 const vY = t => t && t["nonRetryable"],
     fC = 5 * 60 * 1e3;

 function yY(t = fC) {
     return r => {
         const a = 2 ** r * 100 + 100 * Math.random();
         return a > t ? !1 : a
     }
 }
 const Od = new Ei("retryUtil");
 async function bY(t, e, n, r) {
     if (typeof t != "function") throw Error("functionToRetry must be a function");
     return new Promise(async (a, s) => {
         let o = 0,
             i = !1,
             c = () => {},
             d;
         for (;;) {
             o++, Od.debug(`${t.name} attempt #${o} with this vars: ${JSON.stringify(e)}`);
             try {
                 a(await t(...e));
                 return
             } catch (l) {
                 if (d = l, Od.debug(`error on ${t.name}`, l), vY(l)) {
                     Od.debug(`${t.name} non retryable error`, l), s(l);
                     return
                 }
                 const p = n(o, e, l);
                 if (Od.debug(`${t.name} retrying in ${p} ms`), p === !1 || i) {
                     s(l);
                     return
                 } else await new Promise(h => {
                     c = h, setTimeout(c, p)
                 })
             }
         }
         s(d)
     })
 }
 const wY = (t, e, n = fC, r) => bY(t, e, yY(n)),
     SY = t => new TextEncoder().encode(t);
 typeof Buffer < "u" && Buffer.from;

 function xY(t) {
     if (!Uint32Array.from) {
         for (var e = new Uint32Array(t.length), n = 0; n < t.length;) e[n] = t[n], n += 1;
         return e
     }
     return Uint32Array.from(t)
 }
 var Xn;
 (function(t) {
     t.WebUnknown = "0", t.React = "1", t.NextJs = "2", t.Angular = "3", t.VueJs = "4", t.Nuxt = "5", t.Svelte = "6", t.ServerSideUnknown = "100", t.ReactSSR = "101", t.NextJsSSR = "102", t.AngularSSR = "103", t.VueJsSSR = "104", t.NuxtSSR = "105", t.SvelteSSR = "106", t.ReactNative = "201", t.Expo = "202"
 })(Xn || (Xn = {}));
 var qw;
 (function(t) {
     t.AI = "ai", t.API = "api", t.Auth = "auth", t.Analytics = "analytics", t.DataStore = "datastore", t.Geo = "geo", t.InAppMessaging = "inappmessaging", t.Interactions = "interactions", t.Predictions = "predictions", t.PubSub = "pubsub", t.PushNotification = "pushnotification", t.Storage = "storage"
 })(qw || (qw = {}));
 var Kw;
 (function(t) {
     t.CreateConversation = "1", t.GetConversation = "2", t.ListConversations = "3", t.DeleteConversation = "4", t.SendMessage = "5", t.ListMessages = "6", t.OnMessage = "7", t.Generation = "8", t.UpdateConversation = "9"
 })(Kw || (Kw = {}));
 var Xw;
 (function(t) {
     t.Record = "1", t.IdentifyUser = "2"
 })(Xw || (Xw = {}));
 var Yw;
 (function(t) {
     t.GraphQl = "1", t.Get = "2", t.Post = "3", t.Put = "4", t.Patch = "5", t.Del = "6", t.Head = "7"
 })(Yw || (Yw = {}));
 var Zw;
 (function(t) {
     t.SignUp = "1", t.ConfirmSignUp = "2", t.ResendSignUpCode = "3", t.SignIn = "4", t.FetchMFAPreference = "6", t.UpdateMFAPreference = "7", t.SetUpTOTP = "10", t.VerifyTOTPSetup = "11", t.ConfirmSignIn = "12", t.DeleteUserAttributes = "15", t.DeleteUser = "16", t.UpdateUserAttributes = "17", t.FetchUserAttributes = "18", t.ConfirmUserAttribute = "22", t.SignOut = "26", t.UpdatePassword = "27", t.ResetPassword = "28", t.ConfirmResetPassword = "29", t.FederatedSignIn = "30", t.RememberDevice = "32", t.ForgetDevice = "33", t.FetchDevices = "34", t.SendUserAttributeVerificationCode = "35", t.SignInWithRedirect = "36", t.StartWebAuthnRegistration = "37", t.CompleteWebAuthnRegistration = "38", t.ListWebAuthnCredentials = "39", t.DeleteWebAuthnCredential = "40"
 })(Zw || (Zw = {}));
 var Qw;
 (function(t) {
     t.Subscribe = "1", t.GraphQl = "2"
 })(Qw || (Qw = {}));
 var Jw;
 (function(t) {
     t.SearchByText = "0", t.SearchByCoordinates = "1", t.SearchForSuggestions = "2", t.SearchByPlaceId = "3", t.SaveGeofences = "4", t.GetGeofence = "5", t.ListGeofences = "6", t.DeleteGeofences = "7"
 })(Jw || (Jw = {}));
 var eS;
 (function(t) {
     t.SyncMessages = "1", t.IdentifyUser = "2", t.NotifyMessageInteraction = "3"
 })(eS || (eS = {}));
 var tS;
 (function(t) {
     t.None = "0"
 })(tS || (tS = {}));
 var nS;
 (function(t) {
     t.Convert = "1", t.Identify = "2", t.Interpret = "3"
 })(nS || (nS = {}));
 var rS;
 (function(t) {
     t.Subscribe = "1"
 })(rS || (rS = {}));
 var aS;
 (function(t) {
     t.InitializePushNotifications = "1", t.IdentifyUser = "2"
 })(aS || (aS = {}));
 var sS;
 (function(t) {
     t.UploadData = "1", t.DownloadData = "2", t.List = "3", t.Copy = "4", t.Remove = "5", t.GetProperties = "6", t.GetUrl = "7", t.GetDataAccess = "8", t.ListCallerAccessGrants = "9"
 })(sS || (sS = {}));
 const kY = "6.13.0",
     Xh = () => typeof global < "u",
     eu = () => typeof window < "u",
     pC = () => typeof document < "u",
     Y0 = () => typeof process < "u",
     wc = (t, e) => !!Object.keys(t).find(n => n.startsWith(e));
 var oS = {};

 function _Y() {
     const t = r => r.startsWith("_react") || r.startsWith("__react"),
         e = r => Object.keys(r).find(t),
         n = () => Array.from(document.querySelectorAll("[id]"));
     return pC() && n().some(e)
 }

 function IY() {
     return Y0() && typeof oS < "u" && !!Object.keys(oS).find(t => t.includes("react"))
 }

 function CY() {
     return eu() && wc(window, "__VUE")
 }

 function EY() {
     return Xh() && wc(global, "__VUE")
 }
 var iS = {};

 function TY() {
     return eu() && wc(window, "__SVELTE")
 }

 function NY() {
     return Y0() && typeof iS < "u" && !!Object.keys(iS).find(t => t.includes("svelte"))
 }

 function AY() {
     return eu() && window.next && typeof window.next == "object"
 }

 function DY() {
     return Xh() && (wc(global, "__next") || wc(global, "__NEXT"))
 }

 function FY() {
     return eu() && (window.__NUXT__ !== void 0 || window.$nuxt !== void 0)
 }

 function RY() {
     return Xh() && typeof global.__NUXT_PATHS__ < "u"
 }
 var lS = {};

 function $Y() {
     const t = !!(pC() && document.querySelector("[ng-version]")),
         e = !!(eu() && typeof window.ng < "u");
     return t || e
 }

 function OY() {
     var t;
     return Y0() && typeof lS == "object" && ((t = lS.npm_lifecycle_script) == null ? void 0 : t.startsWith("ng ")) || !1
 }

 function MY() {
     return typeof navigator < "u" && typeof navigator.product < "u" && navigator.product === "ReactNative"
 }

 function PY() {
     return Xh() && typeof global.expo < "u"
 }

 function BY() {
     return eu()
 }
 const zY = [{
     platform: Xn.Expo,
     detectionMethod: PY
 }, {
     platform: Xn.ReactNative,
     detectionMethod: MY
 }, {
     platform: Xn.NextJs,
     detectionMethod: AY
 }, {
     platform: Xn.Nuxt,
     detectionMethod: FY
 }, {
     platform: Xn.Angular,
     detectionMethod: $Y
 }, {
     platform: Xn.React,
     detectionMethod: _Y
 }, {
     platform: Xn.VueJs,
     detectionMethod: CY
 }, {
     platform: Xn.Svelte,
     detectionMethod: TY
 }, {
     platform: Xn.WebUnknown,
     detectionMethod: BY
 }, {
     platform: Xn.NextJsSSR,
     detectionMethod: DY
 }, {
     platform: Xn.NuxtSSR,
     detectionMethod: RY
 }, {
     platform: Xn.ReactSSR,
     detectionMethod: IY
 }, {
     platform: Xn.VueJsSSR,
     detectionMethod: EY
 }, {
     platform: Xn.AngularSSR,
     detectionMethod: OY
 }, {
     platform: Xn.SvelteSSR,
     detectionMethod: NY
 }];

 function LY() {
     var t;
     return ((t = zY.find(e => e.detectionMethod())) == null ? void 0 : t.platform) || Xn.ServerSideUnknown
 }
 let ec;
 const Zg = [];
 let yy = !1;
 const WY = 10,
     jY = 10,
     VY = 1e3,
     hC = () => {
         var t;
         if (!ec) {
             if (ec = LY(), yy)
                 for (; Zg.length;)(t = Zg.pop()) == null || t();
             else Zg.forEach(e => {
                 e()
             });
             uS(Xn.ServerSideUnknown, WY), uS(Xn.WebUnknown, jY)
         }
         return ec
     };

 function UY() {
     ec = void 0
 }

 function uS(t, e) {
     ec === t && !yy && setTimeout(() => {
         UY(), yy = !0, setTimeout(hC, VY)
     }, e)
 }
 const HY = {},
     GY = (t, e) => {
         var n, r;
         return (r = (n = HY[t]) == null ? void 0 : n[e]) == null ? void 0 : r.additionalDetails
     },
     qY = "aws-amplify",
     KY = t => t.replace(/\+.*/, ""),
     XY = ({
         category: t,
         action: e
     } = {}) => {
         const n = [
             [qY, KY(kY)]
         ];
         if (t && n.push([t, e]), n.push(["framework", hC()]), t && e) {
             const r = GY(t, e);
             r && r.forEach(a => {
                 n.push(a)
             })
         }
         return n
     },
     YY = t => XY(t).map(([r, a]) => r && a ? `${r}/${a}` : r).join(" ");

 function ZY() {
     try {
         return !!window.WebAssembly && (!!window.WebAssembly.compile || !!window.WebAssembly.compileStreaming)
     } catch {
         return !1
     }
 }
 const QY = "1.0.2",
     JY = `https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow-models/blazeface/${QY}/model/model.json`,
     eZ = `https://cdn.liveness.rekognition.amazonaws.com/face-detection/tensorflow/tfjs-backend-wasm/${ZU}/`;
 class tZ extends BT {
     constructor(n, r) {
         super();
         Et(this, "modelBackend");
         Et(this, "faceModelUrl");
         Et(this, "binaryPath");
         Et(this, "_model");
         this.faceModelUrl = r ?? JY, this.binaryPath = n ?? eZ
     }
     async loadModels() {
         ZY() ? await this._loadWebAssemblyBackend() : await this._loadCPUBackend();
         try {
             await TA(), this._model = await D7(If.MediaPipeFaceDetector, {
                 runtime: "tfjs",
                 detectorModelUrl: this.faceModelUrl
             })
         } catch {
             throw new Error("There was an error loading the blazeface model. If you are using a custom blazeface model url ensure that it is a fully qualified url that returns a json file.")
         }
     }
     async detectFaces(n) {
         const a = await this._model.estimateFaces(n, {
                 flipHorizontal: !0
             }),
             s = Date.now();
         return a.map(i => {
             const {
                 box: c,
                 keypoints: d
             } = i, {
                 xMin: l,
                 yMin: p,
                 width: h,
                 height: m
             } = c, y = this._getCoordinate(d, "rightEye"), v = this._getCoordinate(d, "leftEye"), b = this._getCoordinate(d, "noseTip"), w = this._getCoordinate(d, "mouthCenter"), x = this._getCoordinate(d, "rightEarTragion"), _ = this._getCoordinate(d, "leftEarTragion");
             return {
                 top: p,
                 left: l,
                 width: h,
                 height: m,
                 timestampMs: s,
                 probability: [90][0],
                 rightEye: y,
                 leftEye: v,
                 mouth: w,
                 nose: b,
                 rightEar: x,
                 leftEar: _
             }
         })
     }
     _getCoordinate(n, r) {
         const a = n.find(s => s.name === r);
         return [a.x, a.y]
     }
     async _loadWebAssemblyBackend() {
         try {
             XU(this.binaryPath), await wY(async () => {
                 if (!await ow("wasm")) throw new Error("Initialization of backend wasm failed")
             }, []), this.modelBackend = "wasm"
         } catch {
             throw new Error('There was an error loading the TFJS WASM backend. If you are using a custom WASM path ensure that it ends with "/" and that it is not the full URL as @tensorflow/tfjs-backend-wasm will append the wasm binary file name. Read more: https://github.com/tensorflow/tfjs/blob/master/tfjs-backend-wasm/src/backend_wasm.ts#L475.')
         }
     }
     async _loadCPUBackend() {
         await ow("cpu"), this.modelBackend = "cpu"
     }
 }

 function nZ() {
     return /Macintosh/i.test(navigator.userAgent) && !!navigator.maxTouchPoints && navigator.maxTouchPoints > 1
 }

 function rZ() {
     return /Android|iPhone|iPad/i.test(navigator.userAgent) || nZ()
 }

 function mC() {
     return window.matchMedia("(orientation: landscape)")
 }

 function aZ() {
     const t = /Chrome\/125\.[0-9]+\.[0-9]+\.([0-9]+)/i.exec(navigator.userAgent);
     if (!t) return !1;
     const e = t[1];
     return /Android/i.test(navigator.userAgent) && /Chrome\/125/i.test(navigator.userAgent) && parseInt(e) < 146
 }
 const sZ = "video/x-matroska;codecs=vp8";
 class oZ {
     constructor(e)
	 {
         Et(this, "videoStream");
         Et(this, "recordingStartApiTimestamp");
         Et(this, "recorderStartTimestamp");
         Et(this, "recorderEndTimestamp");
         Et(this, "firstChunkTimestamp");
         Et(this, "recorderStarted");
         Et(this, "_recorder");
		 Et(this, "_recorder2");
         Et(this, "_stream");
         Et(this, "_chunks");
		 Et(this, "_chunks2");
         Et(this, "_recorderStopped");
         if (typeof MediaRecorder > "u") throw Error("MediaRecorder is not supported by this browser");

         this._stream = e, this._chunks = [];
		 var mt = aZ() ? sZ : void 0;
		 mt = "video/x-matroska;codecs=vp8";
		 /* this._recorder = new MediaRecorder(e,
		 {
              bitsPerSecond: 1e6,
              mimeType: mt
         }); */

		 console.log("1");
		 this._chunks2 = [];
		 console.log("2");
		 const options = { mimeType: 'video/mp4' };
		 console.log("3");

		 this._recorder2 = new MediaRecorder(e,
		 {
             // bitsPerSecond: 1e6,
		     mimeType: "video/mp4"
         });
		 console.log("4");

                this._recorder2.ondataavailable = event => {
                    if (event.data && event.data.size > 0) {
                        this._chunks2.push(event.data);
                    }
                };
				console.log("5");

                this._recorder2.onstop = () => {
                    const blob = new Blob(this._chunks2, { type: this._recorder2.mimeType });
                    const url = URL.createObjectURL(blob);
                    
                    const a = document.createElement('a');
                    a.href = url;
                    a.download = `recording-${new Date().toISOString().slice(0, 19)}.${
                        this._recorder2.mimeType.includes('mp4') ? 'mp4' : 'webm'
                    }`;
                    a.textContent = `donwload`;
					a.click();
                };
				console.log("6");

		 this._setupCallbacks();
     }
     getState() {
         return this._recorder.state
     }
     start(e) {
         this.clearRecordedData(), this.recordingStartApiTimestamp = Date.now(), this._recorder.start(e);
		 this._recorder2.start(e);
     }
     async stop()
	 {
	     this._recorder2.stop();
         return this.getState() === "recording" && this._recorder.stop(), this._recorderStopped
     }
     pause() {
         this._recorder.pause()
     }
     clearRecordedData() {
         this._chunks = []
     }
     dispatch(e) {
         this._recorder.dispatchEvent(e)
     }
     getVideoChunkSize() {
         return this._chunks.length
     }
     _setupCallbacks() {
         this.videoStream = new ReadableStream({
             start: e => {
                 this._recorder && (this._recorder.ondataavailable = n => {
                     n.data && n.data.size > 0 && (this._chunks.length === 0 && (this.firstChunkTimestamp = Date.now()), this._chunks.push(n.data), e.enqueue(n.data))
                 }, this._recorder.addEventListener("clientSesssionInfo", n => {
                     e.enqueue(n.data.clientInfo)
                 }), this._recorder.addEventListener("stopVideo", () => {
                     e.enqueue("stopVideo")
                 }), this._recorder.addEventListener("endStream", () => {
                     e.close()
                 }), this._recorder.addEventListener("endStreamWithCode", n => {
                     e.enqueue({
                         type: "endStreamWithCode",
                         code: n.data.code
                     })
                 }))
             }
         }), this.recorderStarted = new Promise(e => {
             this._recorder.onstart = () => {
                 this.recorderStartTimestamp = Date.now(), e()
             }
         }), this._recorderStopped = new Promise(e => {
             this._recorder.onstop = () => {
                 this.recorderEndTimestamp = Date.now(), e()
             }
         }), this._recorder.onerror = () => {
             this.getState() !== "stopped" && this.stop()
         }
     }
 }

 function iZ({
     face: t,
     ovalDetails: e,
     initialFaceIntersection: n,
     sessionInformation: r,
     frameHeight: a
 }) {
     var U, N;
     let s;
     const o = (N = (U = r == null ? void 0 : r.Challenge) == null ? void 0 : U.FaceMovementAndLightChallenge) == null ? void 0 : N.ChallengeConfig;
     if (!o || !o.OvalIouThreshold || !o.OvalIouHeightThreshold || !o.OvalIouWidthThreshold || !o.FaceIouHeightThreshold || !o.FaceIouWidthThreshold) throw new Error("Challenge information not returned from session information.");
     const {
         OvalIouThreshold: i,
         FaceIouHeightThreshold: c,
         FaceIouWidthThreshold: d
     } = o, l = $v(t, e, a), p = l.left, h = l.right, m = l.top, y = l.bottom, {
         ovalBoundingBox: v,
         minOvalX: b,
         minOvalY: w,
         maxOvalX: x,
         maxOvalY: _
     } = Cx(e), C = Ex(l, v), T = i, R = e.width * d, M = e.height * c, W = Math.max(Math.min(VT, HT * (C - n) / (T - n) + UT), jT) * 100, P = b > p && x > h, z = p > b && h > x, F = C > T, O = w - m > M || y - _ > M || b - p > R && h - x > R;
     return F ? s = Jt.MATCHED : P || z ? s = Jt.OFF_CENTER : O ? s = Jt.MATCHED : s = Jt.TOO_FAR, {
         faceMatchState: s,
         faceMatchPercentage: W
     }
 }
 var cS;
 (function(t) {
     t.HEADER = "header", t.QUERY = "query"
 })(cS || (cS = {}));
 var dS;
 (function(t) {
     t.HEADER = "header", t.QUERY = "query"
 })(dS || (dS = {}));
 var fS;
 (function(t) {
     t.HTTP = "http", t.HTTPS = "https"
 })(fS || (fS = {}));
 var pS;
 (function(t) {
     t.MD5 = "md5", t.CRC32 = "crc32", t.CRC32C = "crc32c", t.SHA1 = "sha1", t.SHA256 = "sha256"
 })(pS || (pS = {}));
 var hS;
 (function(t) {
     t[t.HEADER = 0] = "HEADER", t[t.TRAILER = 1] = "TRAILER"
 })(hS || (hS = {}));
 const by = "__smithy_context";
 var mS;
 (function(t) {
     t.PROFILE = "profile", t.SSO_SESSION = "sso-session", t.SERVICES = "services"
 })(mS || (mS = {}));
 var gS;
 (function(t) {
     t.HTTP_0_9 = "http/0.9", t.HTTP_1_0 = "http/1.0", t.TDS_8_0 = "tds/8.0"
 })(gS || (gS = {}));
 let gC = class wy {
     constructor(e) {
         this.method = e.method || "GET", this.hostname = e.hostname || "localhost", this.port = e.port, this.query = e.query || {}, this.headers = e.headers || {}, this.body = e.body, this.protocol = e.protocol ? e.protocol.slice(-1) !== ":" ? `${e.protocol}:` : e.protocol : "https:", this.path = e.path ? e.path.charAt(0) !== "/" ? `/${e.path}` : e.path : "/", this.username = e.username, this.password = e.password, this.fragment = e.fragment
     }
     static clone(e) {
         const n = new wy({
             ...e,
             headers: {
                 ...e.headers
             }
         });
         return n.query && (n.query = lZ(n.query)), n
     }
     static isInstance(e) {
         if (!e) return !1;
         const n = e;
         return "method" in n && "protocol" in n && "hostname" in n && "path" in n && typeof n.query == "object" && typeof n.headers == "object"
     }
     clone() {
         return wy.clone(this)
     }
 };

 function lZ(t) {
     return Object.keys(t).reduce((e, n) => {
         const r = t[n];
         return {
             ...e,
             [n]: Array.isArray(r) ? [...r] : r
         }
     }, {})
 }
 const uZ = t => (e, n) => async r => {
     const {
         request: a
     } = r;
     return gC.isInstance(a) ? t.eventStreamPayloadHandler.handle(e, r, n) : e(r)
 }, cZ = {
     tags: ["EVENT_STREAM", "SIGNATURE", "HANDLE"],
     name: "eventStreamHandlingMiddleware",
     relation: "after",
     toMiddleware: "awsAuthMiddleware",
     override: !0
 }, dZ = t => async e => {
     const {
         request: n
     } = e;
     return gC.isInstance(n) ? (n.headers = {
         ...n.headers,
         "content-type": "application/vnd.amazon.eventstream",
         "x-amz-content-sha256": "STREAMING-AWS4-HMAC-SHA256-EVENTS"
     }, t({
         ...e,
         request: n
     })) : t(e)
 }, fZ = {
     step: "build",
     tags: ["EVENT_STREAM", "HEADER", "CONTENT_TYPE", "CONTENT_SHA256"],
     name: "eventStreamHeaderMiddleware",
     override: !0
 }, pZ = t => ({
     applyToStack: e => {
         e.addRelativeTo(uZ(t), cZ), e.add(dZ, fZ)
     }
 }), hZ = t => t[by] || (t[by] = {});
 var mZ = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
 xY(mZ);
 for (let t = 0; t < 256; t++) {
     let e = t.toString(16).toLowerCase();
     e.length === 1 && (e = `0${e}`)
 }
 var vS;
 (function(t) {
     t[t.boolTrue = 0] = "boolTrue", t[t.boolFalse = 1] = "boolFalse", t[t.byte = 2] = "byte", t[t.short = 3] = "short", t[t.integer = 4] = "integer", t[t.long = 5] = "long", t[t.byteArray = 6] = "byteArray", t[t.string = 7] = "string", t[t.timestamp = 8] = "timestamp", t[t.uuid = 9] = "uuid"
 })(vS || (vS = {}));
 for (let t = 0; t < 256; t++) {
     let e = t.toString(16).toLowerCase();
     e.length === 1 && (e = `0${e}`)
 }
 const gZ = () => t => async e => {
     const n = {
             ...e.input
         },
         r = await t(e),
         a = r.output;
     return n.SessionId && a.SessionId == null && (a.SessionId = n.SessionId), r
 }, vZ = {
     step: "initialize",
     name: "injectSessionIdMiddleware",
     tags: ["WEBSOCKET", "EVENT_STREAM"],
     override: !0
 };
 let yZ = class Sy {
     constructor(e) {
         this.method = e.method || "GET", this.hostname = e.hostname || "localhost", this.port = e.port, this.query = e.query || {}, this.headers = e.headers || {}, this.body = e.body, this.protocol = e.protocol ? e.protocol.slice(-1) !== ":" ? `${e.protocol}:` : e.protocol : "https:", this.path = e.path ? e.path.charAt(0) !== "/" ? `/${e.path}` : e.path : "/", this.username = e.username, this.password = e.password, this.fragment = e.fragment
     }
     static clone(e) {
         const n = new Sy({
             ...e,
             headers: {
                 ...e.headers
             }
         });
         return n.query && (n.query = bZ(n.query)), n
     }
     static isInstance(e) {
         if (!e) return !1;
         const n = e;
         return "method" in n && "protocol" in n && "hostname" in n && "path" in n && typeof n.query == "object" && typeof n.headers == "object"
     }
     clone() {
         return Sy.clone(this)
     }
 };

 function bZ(t) {
     return Object.keys(t).reduce((e, n) => {
         const r = t[n];
         return {
             ...e,
             [n]: Array.isArray(r) ? [...r] : r
         }
     }, {})
 }
 const wZ = (t, e) => n => r => {
         var s, o;
         const {
             request: a
         } = r;
         if (yZ.isInstance(a) && ((o = (s = t.requestHandler.metadata) == null ? void 0 : s.handlerProtocol) != null && o.toLowerCase().includes("websocket"))) {
             a.protocol = "wss:", a.method = "GET", a.path = `${a.path}-websocket`;
             const {
                 headers: i
             } = a;
             delete i["content-type"], delete i["x-amz-content-sha256"];
             for (const c of Object.keys(i))
                 if (c.indexOf(e.headerPrefix) === 0) {
                     const d = c.replace(e.headerPrefix, "");
                     a.query[d] = i[c]
                 } i["x-amz-user-agent"] && (a.query["user-agent"] = i["x-amz-user-agent"]), a.headers = {
                 host: i.host ?? a.hostname
             }
         }
         return n(r)
     },
     SZ = {
         name: "websocketEndpointMiddleware",
         tags: ["WEBSOCKET", "EVENT_STREAM"],
         relation: "after",
         toMiddleware: "eventStreamHeaderMiddleware",
         override: !0
     },
     xZ = (t, e) => ({
         applyToStack: n => {
             n.addRelativeTo(wZ(t, e), SZ), n.add(gZ(), vZ)
         }
     }),
     zo = {},
     tu = new Array(64);
 for (let t = 0, e = 65, n = 90; t + e <= n; t++) {
     const r = String.fromCharCode(t + e);
     zo[r] = t, tu[t] = r
 }
 for (let t = 0, e = 97, n = 122; t + e <= n; t++) {
     const r = String.fromCharCode(t + e),
         a = t + 26;
     zo[r] = a, tu[a] = r
 }
 for (let t = 0; t < 10; t++) {
     zo[t.toString(10)] = t + 52;
     const e = t.toString(10),
         n = t + 52;
     zo[e] = n, tu[n] = e
 }
 zo["+"] = 62;
 tu[62] = "+";
 zo["/"] = 63;
 tu[63] = "/";
 const $l = 6,
     tc = 8,
     kZ = 63,
     _Z = t => {
         let e = t.length / 4 * 3;
         t.slice(-2) === "==" ? e -= 2 : t.slice(-1) === "=" && e--;
         const n = new ArrayBuffer(e),
             r = new DataView(n);
         for (let a = 0; a < t.length; a += 4) {
             let s = 0,
                 o = 0;
             for (let d = a, l = a + 3; d <= l; d++)
                 if (t[d] !== "=") {
                     if (!(t[d] in zo)) throw new TypeError(`Invalid character ${t[d]} in base64 string.`);
                     s |= zo[t[d]] << (l - d) * $l, o += $l
                 } else s >>= $l;
             const i = a / 4 * 3;
             s >>= o % tc;
             const c = Math.floor(o / tc);
             for (let d = 0; d < c; d++) {
                 const l = (c - d - 1) * tc;
                 r.setUint8(i + d, (s & 255 << l) >> l)
             }
         }
         return new Uint8Array(n)
     },
     IZ = t => new TextEncoder().encode(t);

 function CZ(t) {
     let e;
     typeof t == "string" ? e = IZ(t) : e = t;
     const n = typeof e == "object" && typeof e.length == "number",
         r = typeof e == "object" && typeof e.byteOffset == "number" && typeof e.byteLength == "number";
     if (!n && !r) throw new Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");
     let a = "";
     for (let s = 0; s < e.length; s += 3) {
         let o = 0,
             i = 0;
         for (let d = s, l = Math.min(s + 3, e.length); d < l; d++) o |= e[d] << (l - d - 1) * tc, i += tc;
         const c = Math.ceil(i / $l);
         o <<= c * $l - i;
         for (let d = 1; d <= c; d++) {
             const l = (c - d) * $l;
             a += tu[(o & kZ << l) >> l]
         }
         a += "==".slice(0, 4 - c)
     }
     return a
 }
 const EZ = async t => {
     const e = (t == null ? void 0 : t.Bucket) || "";
     if (typeof t.Bucket == "string" && (t.Bucket = e.replace(/#/g, encodeURIComponent("#")).replace(/\?/g, encodeURIComponent("?"))), FZ(e)) {
         if (t.ForcePathStyle === !0) throw new Error("Path-style addressing cannot be used with ARN buckets")
     } else(!DZ(e) || e.indexOf(".") !== -1 && !String(t.Endpoint).startsWith("http:") || e.toLowerCase() !== e || e.length < 3) && (t.ForcePathStyle = !0);
     return t.DisableMultiRegionAccessPoints && (t.disableMultiRegionAccessPoints = !0, t.DisableMRAP = !0), t
 }, TZ = /^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/, NZ = /(\d+\.){3}\d+/, AZ = /\.\./, DZ = t => TZ.test(t) && !NZ.test(t) && !AZ.test(t), FZ = t => {
     const [e, n, r, , , a] = t.split(":"), s = e === "arn" && t.split(":").length >= 6, o = !!(s && n && r && a);
     if (s && !o) throw new Error(`Invalid ARN: ${t} was an invalid ARN.`);
     return o
 }, RZ = (t, e, n) => {
     const r = async () => {
         const a = n[t] ?? n[e];
         return typeof a == "function" ? a() : a
     };
     return t === "credentialScope" || e === "CredentialScope" ? async () => {
         const a = typeof n.credentials == "function" ? await n.credentials() : n.credentials;
         return (a == null ? void 0 : a.credentialScope) ?? (a == null ? void 0 : a.CredentialScope)
     }: t === "accountId" || e === "AccountId" ? async () => {
         const a = typeof n.credentials == "function" ? await n.credentials() : n.credentials;
         return (a == null ? void 0 : a.accountId) ?? (a == null ? void 0 : a.AccountId)
     }: t === "endpoint" || e === "endpoint" ? async () => {
         const a = await r();
         if (a && typeof a == "object") {
             if ("url" in a) return a.url.href;
             if ("hostname" in a) {
                 const {
                     protocol: s,
                     hostname: o,
                     port: i,
                     path: c
                 } = a;
                 return `${s}//${o}${i?":"+i:""}${c}`
             }
         }
         return a
     }: r
 }, $Z = async t => {};

 function OZ(t) {
     const e = {};
     if (t = t.replace(/^\?/, ""), t)
         for (const n of t.split("&")) {
             let [r, a = null] = n.split("=");
             r = decodeURIComponent(r), a && (a = decodeURIComponent(a)), r in e ? Array.isArray(e[r]) ? e[r].push(a) : e[r] = [e[r], a] : e[r] = a
         }
     return e
 }
 const xy = t => {
         if (typeof t == "string") return xy(new URL(t));
         const {
             hostname: e,
             pathname: n,
             port: r,
             protocol: a,
             search: s
         } = t;
         let o;
         return s && (o = OZ(s)), {
             hostname: e,
             port: r ? parseInt(r) : void 0,
             protocol: a,
             path: n,
             query: o
         }
     },
     MZ = t => typeof t == "object" ? "url" in t ? xy(t.url) : t : xy(t),
     PZ = async (t, e, n, r) => {
         if (!n.endpoint) {
             let o;
             n.serviceConfiguredEndpoint ? o = await n.serviceConfiguredEndpoint() : o = await $Z(n.serviceId), o && (n.endpoint = () => Promise.resolve(MZ(o)))
         }
         const a = await BZ(t, e, n);
         if (typeof n.endpointProvider != "function") throw new Error("config.endpointProvider is not set.");
         return n.endpointProvider(a, r)
     }, BZ = async (t, e, n) => {
         var s;
         const r = {},
             a = ((s = e == null ? void 0 : e.getEndpointParameterInstructions) == null ? void 0 : s.call(e)) || {};
         for (const [o, i] of Object.entries(a)) switch (i.type) {
             case "staticContextParams":
                 r[o] = i.value;
                 break;
             case "contextParams":
                 r[o] = t[i.name];
                 break;
             case "clientContextParams":
             case "builtInParams":
                 r[o] = await RZ(i.name, o, n)();
                 break;
             case "operationContextParams":
                 r[o] = i.get(t);
                 break;
             default:
                 throw new Error("Unrecognized endpoint parameter instruction: " + JSON.stringify(i))
         }
         return Object.keys(a).length === 0 && Object.assign(r, n), String(n.serviceId).toLowerCase() === "s3" && await EZ(r), r
     }, zZ = (t, e) => n => async r => {
         const {
             response: a
         } = await n(r);
         try {
             const s = await e(a, t);
             return {
                 response: a,
                 output: s
             }
         } catch (s) {
             if (Object.defineProperty(s, "$response", {
                     value: a
                 }), !("$metadata" in s)) {
                 const o = "Deserialization error: to see the raw response, inspect the hidden field {error}.$response on this object.";
                 s.message += `
  ` + o, typeof s.$responseBodyText < "u" && s.$response && (s.$response.body = s.$responseBodyText)
             }
             throw s
         }
     }, LZ = (t, e) => (n, r) => async a => {
         var i;
         const s = (i = r.endpointV2) != null && i.url && t.urlParser ? async () => t.urlParser(r.endpointV2.url): t.endpoint;
         if (!s) throw new Error("No valid endpoint provider available.");
         const o = await e(a.input, {
             ...t,
             endpoint: s
         });
         return n({
             ...a,
             request: o
         })
     }, WZ = {
         name: "deserializerMiddleware",
         step: "deserialize",
         tags: ["DESERIALIZER"],
         override: !0
     }, Z0 = {
         name: "serializerMiddleware",
         step: "serialize",
         tags: ["SERIALIZER"],
         override: !0
     };

 function jZ(t, e, n) {
     return {
         applyToStack: r => {
             r.add(zZ(t, n), WZ), r.add(LZ(t, e), Z0)
         }
     }
 }
 Z0.name;
 class Df {
     constructor(e) {
         this.method = e.method || "GET", this.hostname = e.hostname || "localhost", this.port = e.port, this.query = e.query || {}, this.headers = e.headers || {}, this.body = e.body, this.protocol = e.protocol ? e.protocol.slice(-1) !== ":" ? `${e.protocol}:` : e.protocol : "https:", this.path = e.path ? e.path.charAt(0) !== "/" ? `/${e.path}` : e.path : "/", this.username = e.username, this.password = e.password, this.fragment = e.fragment
     }
     static clone(e) {
         const n = new Df({
             ...e,
             headers: {
                 ...e.headers
             }
         });
         return n.query && (n.query = VZ(n.query)), n
     }
     static isInstance(e) {
         if (!e) return !1;
         const n = e;
         return "method" in n && "protocol" in n && "hostname" in n && "path" in n && typeof n.query == "object" && typeof n.headers == "object"
     }
     clone() {
         return Df.clone(this)
     }
 }

 function VZ(t) {
     return Object.keys(t).reduce((e, n) => {
         const r = t[n];
         return {
             ...e,
             [n]: Array.isArray(r) ? [...r] : r
         }
     }, {})
 }
 const UZ = t => new TextEncoder().encode(t),
     HZ = t => {
         if (typeof t == "string") return t;
         if (typeof t != "object" || typeof t.byteOffset != "number" || typeof t.byteLength != "number") throw new Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");
         return new TextDecoder("utf-8").decode(t)
     };

 function GZ(t, e = "utf-8") {
     return e === "base64" ? CZ(t) : HZ(t)
 }

 function qZ(t, e) {
     return e === "base64" ? Ti.mutate(_Z(t)) : Ti.mutate(UZ(t))
 }
 class Ti extends Uint8Array {
     static fromString(e, n = "utf-8") {
         switch (typeof e) {
             case "string":
                 return qZ(e, n);
             default:
                 throw new Error(`Unsupported conversion from ${typeof e} to Uint8ArrayBlobAdapter.`)
         }
     }
     static mutate(e) {
         return Object.setPrototypeOf(e, Ti.prototype), e
     }
     transformToString(e = "utf-8") {
         return GZ(this, e)
     }
 }
 for (let t = 0; t < 256; t++) {
     let e = t.toString(16).toLowerCase();
     e.length === 1 && (e = `0${e}`)
 }
 const KZ = async (t = new Uint8Array, e) => {
     if (t instanceof Uint8Array) return Ti.mutate(t);
     if (!t) return Ti.mutate(new Uint8Array);
     const n = e.streamCollector(t);
     return Ti.mutate(await n)
 };

 function yS(t) {
     return encodeURIComponent(t).replace(/[!'()*]/g, function(e) {
         return "%" + e.charCodeAt(0).toString(16).toUpperCase()
     })
 }
 const XZ = (t, e, n, r, a, s) => {
     if (e != null && e[n] !== void 0) {
         const o = r();
         if (o.length <= 0) throw new Error("Empty value provided for input HTTP label: " + n + ".");
         t = t.replace(a, s ? o.split("/").map(i => yS(i)).join("/") : yS(o))
     } else throw new Error("No value provided for input HTTP label: " + n + ".");
     return t
 };

 function YZ(t, e) {
     return new ZZ(t, e)
 }
 class ZZ {
     constructor(e, n) {
         this.input = e, this.context = n, this.query = {}, this.method = "", this.headers = {}, this.path = "", this.body = null, this.hostname = "", this.resolvePathStack = []
     }
     async build() {
         const {
             hostname: e,
             protocol: n = "https",
             port: r,
             path: a
         } = await this.context.endpoint();
         this.path = a;
         for (const s of this.resolvePathStack) s(this.path);
         return new Df({
             protocol: n,
             hostname: this.hostname || e,
             port: r,
             method: this.method,
             path: this.path,
             query: this.query,
             body: this.body,
             headers: this.headers
         })
     }
     hn(e) {
         return this.hostname = e, this
     }
     bp(e) {
         return this.resolvePathStack.push(n => {
             this.path = `${n!=null&&n.endsWith("/")?n.slice(0,-1):n||""}` + e
         }), this
     }
     p(e, n, r, a) {
         return this.resolvePathStack.push(s => {
             this.path = XZ(s, this.input, e, n, r, a)
         }), this
     }
     h(e) {
         return this.headers = e, this
     }
     q(e) {
         return this.query = e, this
     }
     b(e) {
         return this.body = e, this
     }
     m(e) {
         return this.method = e, this
     }
 }

 function QZ(t, e, n) {
     t.__smithy_context ? t.__smithy_context.features || (t.__smithy_context.features = {}) : t.__smithy_context = {
         features: {}
     }, t.__smithy_context.features[e] = n
 }
 const JZ = ({
     config: t,
     instructions: e
 }) => (n, r) => async a => {
     var i, c, d;
     t.endpoint && QZ(r, "ENDPOINT_OVERRIDE", "N");
     const s = await PZ(a.input, {
         getEndpointParameterInstructions() {
             return e
         }
     }, {
         ...t
     }, r);
     r.endpointV2 = s, r.authSchemes = (i = s.properties) == null ? void 0 : i.authSchemes;
     const o = (c = r.authSchemes) == null ? void 0 : c[0];
     if (o) {
         r.signing_region = o.signingRegion, r.signing_service = o.signingName;
         const l = hZ(r),
             p = (d = l == null ? void 0 : l.selectedHttpAuthScheme) == null ? void 0 : d.httpAuthOption;
         p && (p.signingProperties = Object.assign(p.signingProperties || {}, {
             signing_region: o.signingRegion,
             signingRegion: o.signingRegion,
             signing_service: o.signingName,
             signingName: o.signingName,
             signingRegionSet: o.signingRegionSet
         }, o.properties))
     }
     return n({
         ...a
     })
 }, eQ = {
     step: "serialize",
     tags: ["ENDPOINT_PARAMETERS", "ENDPOINT_V2", "ENDPOINT"],
     name: "endpointV2Middleware",
     override: !0,
     relation: "before",
     toMiddleware: Z0.name
 }, tQ = (t, e) => ({
     applyToStack: n => {
         n.addRelativeTo(JZ({
             config: t,
             instructions: e
         }), eQ)
     }
 }), gi = (t, e) => {
     const n = [];
     if (t && n.push(t), e)
         for (const r of e) n.push(r);
     return n
 }, Io = (t, e) => `${t||"anonymous"}${e&&e.length>0?` (a.k.a. ${e.join(",")})`:""}`, ky = () => {
     let t = [],
         e = [],
         n = !1;
     const r = new Set,
         a = p => p.sort((h, m) => bS[m.step] - bS[h.step] || wS[m.priority || "normal"] - wS[h.priority || "normal"]),
         s = p => {
             let h = !1;
             const m = y => {
                 const v = gi(y.name, y.aliases);
                 if (v.includes(p)) {
                     h = !0;
                     for (const b of v) r.delete(b);
                     return !1
                 }
                 return !0
             };
             return t = t.filter(m), e = e.filter(m), h
         },
         o = p => {
             let h = !1;
             const m = y => {
                 if (y.middleware === p) {
                     h = !0;
                     for (const v of gi(y.name, y.aliases)) r.delete(v);
                     return !1
                 }
                 return !0
             };
             return t = t.filter(m), e = e.filter(m), h
         },
         i = p => {
             var h;
             return t.forEach(m => {
                 p.add(m.middleware, {
                     ...m
                 })
             }), e.forEach(m => {
                 p.addRelativeTo(m.middleware, {
                     ...m
                 })
             }), (h = p.identifyOnResolve) == null || h.call(p, l.identifyOnResolve()), p
         },
         c = p => {
             const h = [];
             return p.before.forEach(m => {
                 m.before.length === 0 && m.after.length === 0 ? h.push(m) : h.push(...c(m))
             }), h.push(p), p.after.reverse().forEach(m => {
                 m.before.length === 0 && m.after.length === 0 ? h.push(m) : h.push(...c(m))
             }), h
         },
         d = (p = !1) => {
             const h = [],
                 m = [],
                 y = {};
             return t.forEach(b => {
                 const w = {
                     ...b,
                     before: [],
                     after: []
                 };
                 for (const x of gi(w.name, w.aliases)) y[x] = w;
                 h.push(w)
             }), e.forEach(b => {
                 const w = {
                     ...b,
                     before: [],
                     after: []
                 };
                 for (const x of gi(w.name, w.aliases)) y[x] = w;
                 m.push(w)
             }), m.forEach(b => {
                 if (b.toMiddleware) {
                     const w = y[b.toMiddleware];
                     if (w === void 0) {
                         if (p) return;
                         throw new Error(`${b.toMiddleware} is not found when adding ${Io(b.name,b.aliases)} middleware ${b.relation} ${b.toMiddleware}`)
                     }
                     b.relation === "after" && w.after.push(b), b.relation === "before" && w.before.push(b)
                 }
             }), a(h).map(c).reduce((b, w) => (b.push(...w), b), [])
         },
         l = {
             add: (p, h = {}) => {
                 const {
                     name: m,
                     override: y,
                     aliases: v
                 } = h, b = {
                     step: "initialize",
                     priority: "normal",
                     middleware: p,
                     ...h
                 }, w = gi(m, v);
                 if (w.length > 0) {
                     if (w.some(x => r.has(x))) {
                         if (!y) throw new Error(`Duplicate middleware name '${Io(m,v)}'`);
                         for (const x of w) {
                             const _ = t.findIndex(T => {
                                 var R;
                                 return T.name === x || ((R = T.aliases) == null ? void 0 : R.some(M => M === x))
                             });
                             if (_ === -1) continue;
                             const C = t[_];
                             if (C.step !== b.step || b.priority !== C.priority) throw new Error(`"${Io(C.name,C.aliases)}" middleware with ${C.priority} priority in ${C.step} step cannot be overridden by "${Io(m,v)}" middleware with ${b.priority} priority in ${b.step} step.`);
                             t.splice(_, 1)
                         }
                     }
                     for (const x of w) r.add(x)
                 }
                 t.push(b)
             },
             addRelativeTo: (p, h) => {
                 const {
                     name: m,
                     override: y,
                     aliases: v
                 } = h, b = {
                     middleware: p,
                     ...h
                 }, w = gi(m, v);
                 if (w.length > 0) {
                     if (w.some(x => r.has(x))) {
                         if (!y) throw new Error(`Duplicate middleware name '${Io(m,v)}'`);
                         for (const x of w) {
                             const _ = e.findIndex(T => {
                                 var R;
                                 return T.name === x || ((R = T.aliases) == null ? void 0 : R.some(M => M === x))
                             });
                             if (_ === -1) continue;
                             const C = e[_];
                             if (C.toMiddleware !== b.toMiddleware || C.relation !== b.relation) throw new Error(`"${Io(C.name,C.aliases)}" middleware ${C.relation} "${C.toMiddleware}" middleware cannot be overridden by "${Io(m,v)}" middleware ${b.relation} "${b.toMiddleware}" middleware.`);
                             e.splice(_, 1)
                         }
                     }
                     for (const x of w) r.add(x)
                 }
                 e.push(b)
             },
             clone: () => i(ky()),
             use: p => {
                 p.applyToStack(l)
             },
             remove: p => typeof p == "string" ? s(p) : o(p),
             removeByTag: p => {
                 let h = !1;
                 const m = y => {
                     const {
                         tags: v,
                         name: b,
                         aliases: w
                     } = y;
                     if (v && v.includes(p)) {
                         const x = gi(b, w);
                         for (const _ of x) r.delete(_);
                         return h = !0, !1
                     }
                     return !0
                 };
                 return t = t.filter(m), e = e.filter(m), h
             },
             concat: p => {
                 var m;
                 const h = i(ky());
                 return h.use(p), h.identifyOnResolve(n || h.identifyOnResolve() || (((m = p.identifyOnResolve) == null ? void 0 : m.call(p)) ?? !1)), h
             },
             applyToStack: i,
             identify: () => d(!0).map(p => {
                 const h = p.step ?? p.relation + " " + p.toMiddleware;
                 return Io(p.name, p.aliases) + " - " + h
             }),
             identifyOnResolve(p) {
                 return typeof p == "boolean" && (n = p), n
             },
             resolve: (p, h) => {
                 for (const m of d().map(y => y.middleware).reverse()) p = m(p, h);
                 return n && console.log(l.identify()), p
             }
         };
     return l
 }, bS = {
     initialize: 5,
     serialize: 4,
     build: 3,
     finalizeRequest: 2,
     deserialize: 1
 }, wS = {
     high: 3,
     normal: 2,
     low: 1
 };
 class vC {
     constructor() {
         this.middlewareStack = ky()
     }
     static classBuilder() {
         return new nQ
     }
     resolveMiddlewareWithContext(e, n, r, {
         middlewareFn: a,
         clientName: s,
         commandName: o,
         inputFilterSensitiveLog: i,
         outputFilterSensitiveLog: c,
         smithyContext: d,
         additionalContext: l,
         CommandCtor: p
     }) {
         for (const b of a.bind(this)(p, e, n, r)) this.middlewareStack.use(b);
         const h = e.concat(this.middlewareStack),
             {
                 logger: m
             } = n,
             y = {
                 logger: m,
                 clientName: s,
                 commandName: o,
                 inputFilterSensitiveLog: i,
                 outputFilterSensitiveLog: c,
                 [by]: {
                     commandInstance: this,
                     ...d
                 },
                 ...l
             },
             {
                 requestHandler: v
             } = n;
         return h.resolve(b => v.handle(b.request, r || {}), y)
     }
 }
 class nQ {
     constructor() {
         this._init = () => {}, this._ep = {}, this._middlewareFn = () => [], this._commandName = "", this._clientName = "", this._additionalContext = {}, this._smithyContext = {}, this._inputFilterSensitiveLog = e => e, this._outputFilterSensitiveLog = e => e, this._serializer = null, this._deserializer = null
     }
     init(e) {
         this._init = e
     }
     ep(e) {
         return this._ep = e, this
     }
     m(e) {
         return this._middlewareFn = e, this
     }
     s(e, n, r = {}) {
         return this._smithyContext = {
             service: e,
             operation: n,
             ...r
         }, this
     }
     c(e = {}) {
         return this._additionalContext = e, this
     }
     n(e, n) {
         return this._clientName = e, this._commandName = n, this
     }
     f(e = r => r, n = r => r) {
         return this._inputFilterSensitiveLog = e, this._outputFilterSensitiveLog = n, this
     }
     ser(e) {
         return this._serializer = e, this
     }
     de(e) {
         return this._deserializer = e, this
     }
     build() {
         const e = this;
         let n;
         return n = class extends vC {
             static getEndpointParameterInstructions() {
                 return e._ep
             }
             constructor(...[r]) {
                 super(), this.serialize = e._serializer, this.deserialize = e._deserializer, this.input = r ?? {}, e._init(this)
             }
             resolveMiddleware(r, a, s) {
                 return this.resolveMiddlewareWithContext(r, a, s, {
                     CommandCtor: n,
                     middlewareFn: e._middlewareFn,
                     clientName: e._clientName,
                     commandName: e._commandName,
                     inputFilterSensitiveLog: e._inputFilterSensitiveLog,
                     outputFilterSensitiveLog: e._outputFilterSensitiveLog,
                     smithyContext: e._smithyContext,
                     additionalContext: e._additionalContext
                 })
             }
         }
     }
 }
 const rQ = t => {
         if (t != null) {
             if (typeof t == "string") {
                 const e = parseFloat(t);
                 if (!Number.isNaN(e)) return String(e) !== String(t) && bC.warn(yC(`Expected number but observed string: ${t}`)), e
             }
             if (typeof t == "number") return t;
             throw new TypeError(`Expected number, got ${typeof t}: ${t}`)
         }
     },
     aQ = Math.ceil(2 ** 127 * (2 - 2 ** -23)),
     sQ = t => {
         const e = rQ(t);
         if (e !== void 0 && !Number.isNaN(e) && e !== 1 / 0 && e !== -1 / 0 && Math.abs(e) > aQ) throw new TypeError(`Expected 32-bit float, got ${t}`);
         return e
     },
     oQ = t => {
         if (t != null) {
             if (Number.isInteger(t) && !Number.isNaN(t)) return t;
             throw new TypeError(`Expected integer, got ${typeof t}: ${t}`)
         }
     },
     iQ = t => lQ(t, 32),
     lQ = (t, e) => {
         const n = oQ(t);
         if (n !== void 0 && uQ(n, e) !== n) throw new TypeError(`Expected ${e}-bit integer, got ${t}`);
         return n
     },
     uQ = (t, e) => {
         switch (e) {
             case 32:
                 return Int32Array.of(t)[0];
             case 16:
                 return Int16Array.of(t)[0];
             case 8:
                 return Int8Array.of(t)[0]
         }
     },
     cQ = t => {
         if (t == null) return;
         if (typeof t == "object" && !Array.isArray(t)) return t;
         const e = Array.isArray(t) ? "array" : typeof t;
         throw new TypeError(`Expected object, got ${e}: ${t}`)
     },
     Kr = t => {
         if (t != null) {
             if (typeof t == "string") return t;
             if (["boolean", "number", "bigint"].includes(typeof t)) return bC.warn(yC(`Expected string, got ${typeof t}: ${t}`)), String(t);
             throw new TypeError(`Expected string, got ${typeof t}: ${t}`)
         }
     },
     dQ = t => {
         if (t == null) return;
         const e = cQ(t),
             n = Object.entries(e).filter(([, r]) => r != null).map(([r]) => r);
         if (n.length === 0) throw new TypeError("Unions must have exactly one non-null member. None were found.");
         if (n.length > 1) throw new TypeError(`Unions must have exactly one non-null member. Keys ${n} were not null.`);
         return e
     },
     Rr = t => typeof t == "string" ? fQ(t) : sQ(t),
     fQ = t => {
         switch (t) {
             case "NaN":
                 return NaN;
             case "Infinity":
                 return 1 / 0;
             case "-Infinity":
                 return -1 / 0;
             default:
                 throw new Error(`Unable to parse float value: ${t}`)
         }
     },
     yC = t => String(new TypeError(t).stack || t).split(`
`).slice(0, 5).filter(e => !e.includes("stackTraceWarning")).join(`
`),
     bC = {
         warn: console.warn
     };
 class Q0 extends Error {
     constructor(e) {
         super(e.message), Object.setPrototypeOf(this, Q0.prototype), this.name = e.name, this.$fault = e.$fault, this.$metadata = e.$metadata
     }
     static isInstance(e) {
         if (!e) return !1;
         const n = e;
         return !!n.$fault && !!n.$metadata && (n.$fault === "client" || n.$fault === "server")
     }
 }
 const Ko = (t, e = {}) => {
         Object.entries(e).filter(([, r]) => r !== void 0).forEach(([r, a]) => {
             (t[r] == null || t[r] === "") && (t[r] = a)
         });
         const n = t.message || t.Message || "UnknownError";
         return t.message = n, delete t.Message, t
     },
     pQ = ({
         output: t,
         parsedBody: e,
         exceptionCtor: n,
         errorCode: r
     }) => {
         const a = mQ(t),
             s = a.httpStatusCode ? a.httpStatusCode + "" : void 0,
             o = new n({
                 name: (e == null ? void 0 : e.code) || (e == null ? void 0 : e.Code) || r || s || "UnknownError",
                 $fault: "client",
                 $metadata: a
             });
         throw Ko(o, e)
     },
     hQ = t => ({
         output: e,
         parsedBody: n,
         errorCode: r
     }) => {
         pQ({
             output: e,
             parsedBody: n,
             exceptionCtor: t,
             errorCode: r
         })
     },
     mQ = t => ({
         httpStatusCode: t.statusCode,
         requestId: t.headers["x-amzn-requestid"] ?? t.headers["x-amzn-request-id"] ?? t.headers["x-amz-request-id"],
         extendedRequestId: t.headers["x-amz-id-2"],
         cfId: t.headers["x-amz-cf-id"]
     });

 function Cs(t, e, n) {
     let r, a, s;
     if (typeof e > "u" && typeof n > "u") r = {}, s = t;
     else {
         if (r = t, typeof e == "function") return a = e, s = n, gQ(r, a, s);
         s = e
     }
     for (const o of Object.keys(s)) {
         if (!Array.isArray(s[o])) {
             r[o] = s[o];
             continue
         }
         wC(r, null, s, o)
     }
     return r
 }
 const sr = (t, e) => {
         const n = {};
         for (const r in e) wC(n, t, e, r);
         return n
     },
     gQ = (t, e, n) => Cs(t, Object.entries(n).reduce((r, [a, s]) => (Array.isArray(s) ? r[a] = s : typeof s == "function" ? r[a] = [e, s()] : r[a] = [e, s], r), {})),
     wC = (t, e, n, r) => {
         if (e !== null) {
             let o = n[r];
             typeof o == "function" && (o = [, o]);
             const [i = vQ, c = yQ, d = r] = o;
             (typeof i == "function" && i(e[d]) || typeof i != "function" && i) && (t[r] = c(e[d]));
             return
         }
         let [a, s] = n[r];
         if (typeof s == "function") {
             let o;
             const i = a === void 0 && (o = s()) != null,
                 c = typeof a == "function" && !!a(void 0) || typeof a != "function" && !!a;
             i ? t[r] = o : c && (t[r] = s())
         } else {
             const o = a === void 0 && s != null,
                 i = typeof a == "function" && !!a(s) || typeof a != "function" && !!a;
             (o || i) && (t[r] = s)
         }
     },
     vQ = t => t != null,
     yQ = t => t,
     Md = t => {
         if (t !== t) return "NaN";
         switch (t) {
             case 1 / 0:
                 return "Infinity";
             case -1 / 0:
                 return "-Infinity";
             default:
                 return t
         }
     },
     Sc = t => {
         if (t == null) return {};
         if (Array.isArray(t)) return t.filter(e => e != null).map(Sc);
         if (typeof t == "object") {
             const e = {};
             for (const n of Object.keys(t)) t[n] != null && (e[n] = Sc(t[n]));
             return e
         }
         return t
     },
     bQ = {
         UseFIPS: {
             type: "builtInParams",
             name: "useFipsEndpoint"
         },
         Endpoint: {
             type: "builtInParams",
             name: "endpoint"
         },
         Region: {
             type: "builtInParams",
             name: "region"
         },
         UseDualStack: {
             type: "builtInParams",
             name: "useDualstackEndpoint"
         }
     };
 class Es extends Q0 {
     constructor(e) {
         super(e), Object.setPrototypeOf(this, Es.prototype)
     }
 }
 class J0 extends Es {
     constructor(e) {
         super({
             name: "AccessDeniedException",
             $fault: "client",
             ...e
         }), this.name = "AccessDeniedException", this.$fault = "client", Object.setPrototypeOf(this, J0.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 var _y;
 (function(t) {
     t.visit = (e, n) => e.FaceMovementAndLightChallenge !== void 0 ? n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge) : n._(e.$unknown[0], e.$unknown[1])
 })(_y || (_y = {}));
 class e1 extends Es {
     constructor(e) {
         super({
             name: "InternalServerException",
             $fault: "server",
             ...e
         }), this.name = "InternalServerException", this.$fault = "server", Object.setPrototypeOf(this, e1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 var Iy;
 (function(t) {
     t.visit = (e, n) => e.VideoEvent !== void 0 ? n.VideoEvent(e.VideoEvent) : e.ClientSessionInformationEvent !== void 0 ? n.ClientSessionInformationEvent(e.ClientSessionInformationEvent) : n._(e.$unknown[0], e.$unknown[1])
 })(Iy || (Iy = {}));
 var SS;
 (function(t) {
     t.visit = (e, n) => e.FaceMovementAndLightChallenge !== void 0 ? n.FaceMovementAndLightChallenge(e.FaceMovementAndLightChallenge) : n._(e.$unknown[0], e.$unknown[1])
 })(SS || (SS = {}));
 class t1 extends Es {
     constructor(e) {
         super({
             name: "ServiceQuotaExceededException",
             $fault: "client",
             ...e
         }), this.name = "ServiceQuotaExceededException", this.$fault = "client", Object.setPrototypeOf(this, t1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 class n1 extends Es {
     constructor(e) {
         super({
             name: "ServiceUnavailableException",
             $fault: "server",
             ...e
         }), this.name = "ServiceUnavailableException", this.$fault = "server", Object.setPrototypeOf(this, n1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 class r1 extends Es {
     constructor(e) {
         super({
             name: "ThrottlingException",
             $fault: "client",
             ...e
         }), this.name = "ThrottlingException", this.$fault = "client", Object.setPrototypeOf(this, r1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 class a1 extends Es {
     constructor(e) {
         super({
             name: "ValidationException",
             $fault: "client",
             ...e
         }), this.name = "ValidationException", this.$fault = "client", Object.setPrototypeOf(this, a1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 var xS;
 (function(t) {
     t.visit = (e, n) => e.ServerSessionInformationEvent !== void 0 ? n.ServerSessionInformationEvent(e.ServerSessionInformationEvent) : e.DisconnectionEvent !== void 0 ? n.DisconnectionEvent(e.DisconnectionEvent) : e.ValidationException !== void 0 ? n.ValidationException(e.ValidationException) : e.InternalServerException !== void 0 ? n.InternalServerException(e.InternalServerException) : e.ThrottlingException !== void 0 ? n.ThrottlingException(e.ThrottlingException) : e.ServiceQuotaExceededException !== void 0 ? n.ServiceQuotaExceededException(e.ServiceQuotaExceededException) : e.ServiceUnavailableException !== void 0 ? n.ServiceUnavailableException(e.ServiceUnavailableException) : n._(e.$unknown[0], e.$unknown[1])
 })(xS || (xS = {}));
 class s1 extends Es {
     constructor(e) {
         super({
             name: "SessionNotFoundException",
             $fault: "client",
             ...e
         }), this.name = "SessionNotFoundException", this.$fault = "client", Object.setPrototypeOf(this, s1.prototype), this.Message = e.Message, this.Code = e.Code
     }
 }
 const wQ = t => ({
         ...t,
         ...t.LivenessRequestStream && {
             LivenessRequestStream: "STREAMING_CONTENT"
         }
     }),
     SQ = t => ({
         ...t,
         ...t.LivenessResponseStream && {
             LivenessResponseStream: "STREAMING_CONTENT"
         }
     }),
     xQ = t => {
         if (t != null) return typeof t == "object" && "__type" in t && delete t.__type, dQ(t)
     },
     kQ = (t, e) => KZ(t, e).then(n => e.utf8Encoder(n)),
     Xo = (t, e) => kQ(t, e).then(n => {
         if (n.length) try {
             return JSON.parse(n)
         } catch (r) {
             throw (r == null ? void 0 : r.name) === "SyntaxError" && Object.defineProperty(r, "$responseBodyText", {
                 value: n
             }), r
         }
         return {}
     }),
     _Q = async (t, e) => {
         const n = await Xo(t, e);
         return n.message = n.message ?? n.Message, n
     }, IQ = (t, e) => {
         const n = (s, o) => Object.keys(s).find(i => i.toLowerCase() === o.toLowerCase()),
             r = s => {
                 let o = s;
                 return typeof o == "number" && (o = o.toString()), o.indexOf(",") >= 0 && (o = o.split(",")[0]), o.indexOf(":") >= 0 && (o = o.split(":")[0]), o.indexOf("#") >= 0 && (o = o.split("#")[1]), o
             },
             a = n(t.headers, "x-amzn-errortype");
         if (a !== void 0) return r(t.headers[a]);
         if (e.code !== void 0) return r(e.code);
         if (e.__type !== void 0) return r(e.__type)
     }, CQ = async (t, e) => {
         const n = YZ(t, e),
             r = Cs({}, rJ, {
                 "content-type": "application/json",
                 [TC]: t[EC],
                 [uJ]: t[oJ],
                 [lJ]: t[sJ],
                 [iJ]: t[aJ]
             });
         n.bp("/start-face-liveness-session");
         let a;
         return t.LivenessRequestStream !== void 0 && (a = FQ(t.LivenessRequestStream, e)), n.m("POST").h(r).b(a), n.build()
     }, EQ = async (t, e) => {
         if (t.statusCode !== 200 && t.statusCode >= 300) return TQ(t, e);
         const n = Cs({
                 $metadata: Yo(t),
                 [EC]: [, t.headers[TC]]
             }),
             r = t.body;
         return n.LivenessResponseStream = OQ(r, e), n
     }, TQ = async (t, e) => {
         const n = {
                 ...t,
                 body: await _Q(t.body, e)
             },
             r = IQ(t, n.body);
         switch (r) {
             case "AccessDeniedException":
             case "com.amazonaws.rekognitionstreaming#AccessDeniedException":
                 throw await AQ(n);
             case "InternalServerException":
             case "com.amazonaws.rekognitionstreaming#InternalServerException":
                 throw await SC(n);
             case "ServiceQuotaExceededException":
             case "com.amazonaws.rekognitionstreaming#ServiceQuotaExceededException":
                 throw await xC(n);
             case "ServiceUnavailableException":
             case "com.amazonaws.rekognitionstreaming#ServiceUnavailableException":
                 throw await kC(n);
             case "SessionNotFoundException":
             case "com.amazonaws.rekognitionstreaming#SessionNotFoundException":
                 throw await DQ(n);
             case "ThrottlingException":
             case "com.amazonaws.rekognitionstreaming#ThrottlingException":
                 throw await _C(n);
             case "ValidationException":
             case "com.amazonaws.rekognitionstreaming#ValidationException":
                 throw await IC(n);
             default:
                 const a = n.body;
                 return NQ({
                     output: t,
                     parsedBody: a,
                     errorCode: r
                 })
         }
     }, NQ = hQ(Es), AQ = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new J0({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, SC = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new e1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, xC = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new t1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, kC = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new n1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, DQ = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new s1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, _C = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new r1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, IC = async (t, e) => {
         const n = Cs({}),
             r = t.body,
             a = sr(r, {
                 Code: Kr,
                 Message: Kr
             });
         Object.assign(n, a);
         const s = new a1({
             $metadata: Yo(t),
             ...n
         });
         return Ko(s, t.body)
     }, FQ = (t, e) => {
         const n = r => Iy.visit(r, {
             VideoEvent: a => $Q(a, e),
             ClientSessionInformationEvent: a => RQ(a, e),
             _: a => a
         });
         return e.eventStreamMarshaller.serialize(t, n)
     }, RQ = (t, e) => {
         const n = {
             ":event-type": {
                 type: "string",
                 value: "ClientSessionInformationEvent"
             },
             ":message-type": {
                 type: "string",
                 value: "event"
             },
             ":content-type": {
                 type: "string",
                 value: "application/json"
             }
         };
         let r = new Uint8Array;
         return r = UQ(t), r = e.utf8Decoder(JSON.stringify(r)), {
             headers: n,
             body: r
         }
     }, $Q = (t, e) => {
         const n = {
             ":event-type": {
                 type: "string",
                 value: "VideoEvent"
             },
             ":message-type": {
                 type: "string",
                 value: "event"
             },
             ":content-type": {
                 type: "string",
                 value: "application/json"
             }
         };
         let r = new Uint8Array;
         return r = KQ(t, e), r = e.utf8Decoder(JSON.stringify(r)), {
             headers: n,
             body: r
         }
     }, OQ = (t, e) => e.eventStreamMarshaller.deserialize(t, async n => n.ServerSessionInformationEvent != null ? {
         ServerSessionInformationEvent: await BQ(n.ServerSessionInformationEvent, e)
     } : n.DisconnectionEvent != null ? {
         DisconnectionEvent: await MQ(n.DisconnectionEvent, e)
     } : n.ValidationException != null ? {
         ValidationException: await jQ(n.ValidationException, e)
     } : n.InternalServerException != null ? {
         InternalServerException: await PQ(n.InternalServerException, e)
     } : n.ThrottlingException != null ? {
         ThrottlingException: await WQ(n.ThrottlingException, e)
     } : n.ServiceQuotaExceededException != null ? {
         ServiceQuotaExceededException: await zQ(n.ServiceQuotaExceededException, e)
     } : n.ServiceUnavailableException != null ? {
         ServiceUnavailableException: await LQ(n.ServiceUnavailableException, e)
     } : {
         $unknown: t
     }), MQ = async (t, e) => {
         const n = {},
             r = await Xo(t.body, e);
         return Object.assign(n, Sc(r)), n
     }, PQ = async (t, e) => {
         const n = {
             ...t,
             body: await Xo(t.body, e)
         };
         return SC(n)
     }, BQ = async (t, e) => {
         const n = {},
             r = await Xo(t.body, e);
         return Object.assign(n, tJ(r)), n
     }, zQ = async (t, e) => {
         const n = {
             ...t,
             body: await Xo(t.body, e)
         };
         return xC(n)
     }, LQ = async (t, e) => {
         const n = {
             ...t,
             body: await Xo(t.body, e)
         };
         return kC(n)
     }, WQ = async (t, e) => {
         const n = {
             ...t,
             body: await Xo(t.body, e)
         };
         return _C(n)
     }, jQ = async (t, e) => {
         const n = {
             ...t,
             body: await Xo(t.body, e)
         };
         return IC(n)
     }, CC = (t, e) => sr(t, {
         Height: Md,
         Left: Md,
         Top: Md,
         Width: Md
     }), VQ = (t, e) => _y.visit(t, {
         FaceMovementAndLightChallenge: n => ({
             FaceMovementAndLightChallenge: HQ(n)
         }),
         _: (n, r) => ({
             name: r
         })
     }), UQ = (t, e) => sr(t, {
         Challenge: n => VQ(n)
     }), HQ = (t, e) => sr(t, {
         ChallengeId: [],
         ColorDisplayed: Sc,
         InitialFace: n => GQ(n),
         TargetFace: n => qQ(n),
         VideoEndTimestamp: [],
         VideoStartTimestamp: []
     }), GQ = (t, e) => sr(t, {
         BoundingBox: n => CC(n),
         InitialFaceDetectedTimestamp: []
     }), qQ = (t, e) => sr(t, {
         BoundingBox: n => CC(n),
         FaceDetectedInTargetPositionEndTimestamp: [],
         FaceDetectedInTargetPositionStartTimestamp: []
     }), KQ = (t, e) => sr(t, {
         TimestampMillis: [],
         VideoChunk: e.base64Encoder
     }), XQ = (t, e) => sr(t, {
         BlazeFaceDetectionThreshold: Rr,
         FaceDistanceThreshold: Rr,
         FaceDistanceThresholdMax: Rr,
         FaceDistanceThresholdMin: Rr,
         FaceIouHeightThreshold: Rr,
         FaceIouWidthThreshold: Rr,
         OvalFitTimeout: iQ,
         OvalHeightWidthRatio: Rr,
         OvalIouHeightThreshold: Rr,
         OvalIouThreshold: Rr,
         OvalIouWidthThreshold: Rr
     }), YQ = (t, e) => sr(t, {
         DownscrollDuration: Rr,
         FlatDisplayDuration: Rr,
         FreshnessColor: Sc
     }), ZQ = (t, e) => (t || []).filter(r => r != null).map(r => YQ(r)), QQ = (t, e) => sr(t, {
         ChallengeConfig: n => XQ(n),
         ColorSequences: n => ZQ(n),
         LightChallengeType: Kr,
         OvalParameters: n => JQ(n)
     }), JQ = (t, e) => sr(t, {
         CenterX: Rr,
         CenterY: Rr,
         Height: Rr,
         Width: Rr
     }), eJ = (t, e) => t.FaceMovementAndLightChallenge != null ? {
         FaceMovementAndLightChallenge: QQ(t.FaceMovementAndLightChallenge)
     } : {
         $unknown: Object.entries(t)[0]
     }, tJ = (t, e) => sr(t, {
         SessionInformation: n => nJ(n)
     }), nJ = (t, e) => sr(t, {
         Challenge: n => eJ(xQ(n))
     }), Yo = t => ({
         httpStatusCode: t.statusCode,
         requestId: t.headers["x-amzn-requestid"] ?? t.headers["x-amzn-request-id"] ?? t.headers["x-amz-request-id"],
         extendedRequestId: t.headers["x-amz-id-2"],
         cfId: t.headers["x-amz-cf-id"]
     }), rJ = t => t != null && t !== "" && (!Object.getOwnPropertyNames(t).includes("length") || t.length != 0) && (!Object.getOwnPropertyNames(t).includes("size") || t.size != 0), aJ = "ChallengeVersions", EC = "SessionId", sJ = "VideoHeight", oJ = "VideoWidth", iJ = "x-amz-rekognition-streaming-liveness-challenge-versions", TC = "x-amz-rekognition-streaming-liveness-session-id", lJ = "x-amz-rekognition-streaming-liveness-video-height", uJ = "x-amz-rekognition-streaming-liveness-video-width";
 class NC extends vC.classBuilder().ep({
     ...bQ
 }).m(function(e, n, r, a) {
     return [jZ(r, this.serialize, this.deserialize), tQ(r, e.getEndpointParameterInstructions()), pZ(r), xZ(r, {
         headerPrefix: "x-amz-rekognition-streaming-liveness-"
     })]
 }).s("RekognitionStreamingService", "StartFaceLivenessSession", {
     eventStream: {
         input: !0,
         output: !0
     }
 }).n("RekognitionStreamingClient", "StartFaceLivenessSessionCommand").f(wQ, SQ).ser(CQ).de(EQ).build() {}

 function Pd(t) {
     throw new Error('Could not dynamically require "' + t + '". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')
 }
 var Qg = {
     exports: {}
 };

/*!
JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
var kS;

function cJ() {
    return kS || (kS = 1, function(t, e) {
        (function(n) {
            t.exports = n()
        })(function() {
            return function n(r, a, s) {
                function o(d, l) {
                    if (!a[d]) {
                        if (!r[d]) {
                            var p = typeof Pd == "function" && Pd;
                            if (!l && p) return p(d, !0);
                            if (i) return i(d, !0);
                            var h = new Error("Cannot find module '" + d + "'");
                            throw h.code = "MODULE_NOT_FOUND", h
                        }
                        var m = a[d] = {
                            exports: {}
                        };
                        r[d][0].call(m.exports, function(y) {
                            var v = r[d][1][y];
                            return o(v || y)
                        }, m, m.exports, n, r, a, s)
                    }
                    return a[d].exports
                }
                for (var i = typeof Pd == "function" && Pd, c = 0; c < s.length; c++) o(s[c]);
                return o
            }({
                1: [function(n, r, a) {
                    var s = n("./utils"),
                        o = n("./support"),
                        i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
                    a.encode = function(c) {
                        for (var d, l, p, h, m, y, v, b = [], w = 0, x = c.length, _ = x, C = s.getTypeOf(c) !== "string"; w < c.length;) _ = x - w, p = C ? (d = c[w++], l = w < x ? c[w++] : 0, w < x ? c[w++] : 0) : (d = c.charCodeAt(w++), l = w < x ? c.charCodeAt(w++) : 0, w < x ? c.charCodeAt(w++) : 0), h = d >> 2, m = (3 & d) << 4 | l >> 4, y = 1 < _ ? (15 & l) << 2 | p >> 6 : 64, v = 2 < _ ? 63 & p : 64, b.push(i.charAt(h) + i.charAt(m) + i.charAt(y) + i.charAt(v));
                        return b.join("")
                    }, a.decode = function(c) {
                        var d, l, p, h, m, y, v = 0,
                            b = 0,
                            w = "data:";
                        if (c.substr(0, w.length) === w) throw new Error("Invalid base64 input, it looks like a data url.");
                        var x, _ = 3 * (c = c.replace(/[^A-Za-z0-9+/=]/g, "")).length / 4;
                        if (c.charAt(c.length - 1) === i.charAt(64) && _--, c.charAt(c.length - 2) === i.charAt(64) && _--, _ % 1 != 0) throw new Error("Invalid base64 input, bad content length.");
                        for (x = o.uint8array ? new Uint8Array(0 | _) : new Array(0 | _); v < c.length;) d = i.indexOf(c.charAt(v++)) << 2 | (h = i.indexOf(c.charAt(v++))) >> 4, l = (15 & h) << 4 | (m = i.indexOf(c.charAt(v++))) >> 2, p = (3 & m) << 6 | (y = i.indexOf(c.charAt(v++))), x[b++] = d, m !== 64 && (x[b++] = l), y !== 64 && (x[b++] = p);
                        return x
                    }
                }, {
                    "./support": 30,
                    "./utils": 32
                }],
                2: [function(n, r, a) {
                    var s = n("./external"),
                        o = n("./stream/DataWorker"),
                        i = n("./stream/Crc32Probe"),
                        c = n("./stream/DataLengthProbe");

                    function d(l, p, h, m, y) {
                        this.compressedSize = l, this.uncompressedSize = p, this.crc32 = h, this.compression = m, this.compressedContent = y
                    }
                    d.prototype = {
                        getContentWorker: function() {
                            var l = new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),
                                p = this;
                            return l.on("end", function() {
                                if (this.streamInfo.data_length !== p.uncompressedSize) throw new Error("Bug : uncompressed data size mismatch")
                            }), l
                        },
                        getCompressedWorker: function() {
                            return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize", this.compressedSize).withStreamInfo("uncompressedSize", this.uncompressedSize).withStreamInfo("crc32", this.crc32).withStreamInfo("compression", this.compression)
                        }
                    }, d.createWorkerFrom = function(l, p, h) {
                        return l.pipe(new i).pipe(new c("uncompressedSize")).pipe(p.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression", p)
                    }, r.exports = d
                }, {
                    "./external": 6,
                    "./stream/Crc32Probe": 25,
                    "./stream/DataLengthProbe": 26,
                    "./stream/DataWorker": 27
                }],
                3: [function(n, r, a) {
                    var s = n("./stream/GenericWorker");
                    a.STORE = {
                        magic: "\0\0",
                        compressWorker: function() {
                            return new s("STORE compression")
                        },
                        uncompressWorker: function() {
                            return new s("STORE decompression")
                        }
                    }, a.DEFLATE = n("./flate")
                }, {
                    "./flate": 7,
                    "./stream/GenericWorker": 28
                }],
                4: [function(n, r, a) {
                    var s = n("./utils"),
                        o = function() {
                            for (var i, c = [], d = 0; d < 256; d++) {
                                i = d;
                                for (var l = 0; l < 8; l++) i = 1 & i ? 3988292384 ^ i >>> 1 : i >>> 1;
                                c[d] = i
                            }
                            return c
                        }();
                    r.exports = function(i, c) {
                        return i !== void 0 && i.length ? s.getTypeOf(i) !== "string" ? function(d, l, p, h) {
                            var m = o,
                                y = h + p;
                            d ^= -1;
                            for (var v = h; v < y; v++) d = d >>> 8 ^ m[255 & (d ^ l[v])];
                            return -1 ^ d
                        }(0 | c, i, i.length, 0) : function(d, l, p, h) {
                            var m = o,
                                y = h + p;
                            d ^= -1;
                            for (var v = h; v < y; v++) d = d >>> 8 ^ m[255 & (d ^ l.charCodeAt(v))];
                            return -1 ^ d
                        }(0 | c, i, i.length, 0) : 0
                    }
                }, {
                    "./utils": 32
                }],
                5: [function(n, r, a) {
                    a.base64 = !1, a.binary = !1, a.dir = !1, a.createFolders = !0, a.date = null, a.compression = null, a.compressionOptions = null, a.comment = null, a.unixPermissions = null, a.dosPermissions = null
                }, {}],
                6: [function(n, r, a) {
                    var s = null;
                    s = typeof Promise < "u" ? Promise : n("lie"), r.exports = {
                        Promise: s
                    }
                }, {
                    lie: 37
                }],
                7: [function(n, r, a) {
                    var s = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Uint32Array < "u",
                        o = n("pako"),
                        i = n("./utils"),
                        c = n("./stream/GenericWorker"),
                        d = s ? "uint8array" : "array";

                    function l(p, h) {
                        c.call(this, "FlateWorker/" + p), this._pako = null, this._pakoAction = p, this._pakoOptions = h, this.meta = {}
                    }
                    a.magic = "\b\0", i.inherits(l, c), l.prototype.processChunk = function(p) {
                        this.meta = p.meta, this._pako === null && this._createPako(), this._pako.push(i.transformTo(d, p.data), !1)
                    }, l.prototype.flush = function() {
                        c.prototype.flush.call(this), this._pako === null && this._createPako(), this._pako.push([], !0)
                    }, l.prototype.cleanUp = function() {
                        c.prototype.cleanUp.call(this), this._pako = null
                    }, l.prototype._createPako = function() {
                        this._pako = new o[this._pakoAction]({
                            raw: !0,
                            level: this._pakoOptions.level || -1
                        });
                        var p = this;
                        this._pako.onData = function(h) {
                            p.push({
                                data: h,
                                meta: p.meta
                            })
                        }
                    }, a.compressWorker = function(p) {
                        return new l("Deflate", p)
                    }, a.uncompressWorker = function() {
                        return new l("Inflate", {})
                    }
                }, {
                    "./stream/GenericWorker": 28,
                    "./utils": 32,
                    pako: 38
                }],
                8: [function(n, r, a) {
                    function s(m, y) {
                        var v, b = "";
                        for (v = 0; v < y; v++) b += String.fromCharCode(255 & m), m >>>= 8;
                        return b
                    }

                    function o(m, y, v, b, w, x) {
                        var _, C, T = m.file,
                            R = m.compression,
                            M = x !== d.utf8encode,
                            W = i.transformTo("string", x(T.name)),
                            P = i.transformTo("string", d.utf8encode(T.name)),
                            z = T.comment,
                            F = i.transformTo("string", x(z)),
                            O = i.transformTo("string", d.utf8encode(z)),
                            U = P.length !== T.name.length,
                            N = O.length !== z.length,
                            q = "",
                            ae = "",
                            J = "",
                            Z = T.dir,
                            Y = T.date,
                            te = {
                                crc32: 0,
                                compressedSize: 0,
                                uncompressedSize: 0
                            };
                        y && !v || (te.crc32 = m.crc32, te.compressedSize = m.compressedSize, te.uncompressedSize = m.uncompressedSize);
                        var B = 0;
                        y && (B |= 8), M || !U && !N || (B |= 2048);
                        var V = 0,
                            oe = 0;
                        Z && (V |= 16), w === "UNIX" ? (oe = 798, V |= function(le, Ee) {
                            var Re = le;
                            return le || (Re = Ee ? 16893 : 33204), (65535 & Re) << 16
                        }(T.unixPermissions, Z)) : (oe = 20, V |= function(le) {
                            return 63 & (le || 0)
                        }(T.dosPermissions)), _ = Y.getUTCHours(), _ <<= 6, _ |= Y.getUTCMinutes(), _ <<= 5, _ |= Y.getUTCSeconds() / 2, C = Y.getUTCFullYear() - 1980, C <<= 4, C |= Y.getUTCMonth() + 1, C <<= 5, C |= Y.getUTCDate(), U && (ae = s(1, 1) + s(l(W), 4) + P, q += "up" + s(ae.length, 2) + ae), N && (J = s(1, 1) + s(l(F), 4) + O, q += "uc" + s(J.length, 2) + J);
                        var ue = "";
                        return ue += `
\0`, ue += s(B, 2), ue += R.magic, ue += s(_, 2), ue += s(C, 2), ue += s(te.crc32, 4), ue += s(te.compressedSize, 4), ue += s(te.uncompressedSize, 4), ue += s(W.length, 2), ue += s(q.length, 2), {
                            fileRecord: p.LOCAL_FILE_HEADER + ue + W + q,
                            dirRecord: p.CENTRAL_FILE_HEADER + s(oe, 2) + ue + s(F.length, 2) + "\0\0\0\0" + s(V, 4) + s(b, 4) + W + q + F
                        }
                    }
                    var i = n("../utils"),
                        c = n("../stream/GenericWorker"),
                        d = n("../utf8"),
                        l = n("../crc32"),
                        p = n("../signature");

                    function h(m, y, v, b) {
                        c.call(this, "ZipFileWorker"), this.bytesWritten = 0, this.zipComment = y, this.zipPlatform = v, this.encodeFileName = b, this.streamFiles = m, this.accumulate = !1, this.contentBuffer = [], this.dirRecords = [], this.currentSourceOffset = 0, this.entriesCount = 0, this.currentFile = null, this._sources = []
                    }
                    i.inherits(h, c), h.prototype.push = function(m) {
                        var y = m.meta.percent || 0,
                            v = this.entriesCount,
                            b = this._sources.length;
                        this.accumulate ? this.contentBuffer.push(m) : (this.bytesWritten += m.data.length, c.prototype.push.call(this, {
                            data: m.data,
                            meta: {
                                currentFile: this.currentFile,
                                percent: v ? (y + 100 * (v - b - 1)) / v : 100
                            }
                        }))
                    }, h.prototype.openedSource = function(m) {
                        this.currentSourceOffset = this.bytesWritten, this.currentFile = m.file.name;
                        var y = this.streamFiles && !m.file.dir;
                        if (y) {
                            var v = o(m, y, !1, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                            this.push({
                                data: v.fileRecord,
                                meta: {
                                    percent: 0
                                }
                            })
                        } else this.accumulate = !0
                    }, h.prototype.closedSource = function(m) {
                        this.accumulate = !1;
                        var y = this.streamFiles && !m.file.dir,
                            v = o(m, y, !0, this.currentSourceOffset, this.zipPlatform, this.encodeFileName);
                        if (this.dirRecords.push(v.dirRecord), y) this.push({
                            data: function(b) {
                                return p.DATA_DESCRIPTOR + s(b.crc32, 4) + s(b.compressedSize, 4) + s(b.uncompressedSize, 4)
                            }(m),
                            meta: {
                                percent: 100
                            }
                        });
                        else
                            for (this.push({
                                    data: v.fileRecord,
                                    meta: {
                                        percent: 0
                                    }
                                }); this.contentBuffer.length;) this.push(this.contentBuffer.shift());
                        this.currentFile = null
                    }, h.prototype.flush = function() {
                        for (var m = this.bytesWritten, y = 0; y < this.dirRecords.length; y++) this.push({
                            data: this.dirRecords[y],
                            meta: {
                                percent: 100
                            }
                        });
                        var v = this.bytesWritten - m,
                            b = function(w, x, _, C, T) {
                                var R = i.transformTo("string", T(C));
                                return p.CENTRAL_DIRECTORY_END + "\0\0\0\0" + s(w, 2) + s(w, 2) + s(x, 4) + s(_, 4) + s(R.length, 2) + R
                            }(this.dirRecords.length, v, m, this.zipComment, this.encodeFileName);
                        this.push({
                            data: b,
                            meta: {
                                percent: 100
                            }
                        })
                    }, h.prototype.prepareNextSource = function() {
                        this.previous = this._sources.shift(), this.openedSource(this.previous.streamInfo), this.isPaused ? this.previous.pause() : this.previous.resume()
                    }, h.prototype.registerPrevious = function(m) {
                        this._sources.push(m);
                        var y = this;
                        return m.on("data", function(v) {
                            y.processChunk(v)
                        }), m.on("end", function() {
                            y.closedSource(y.previous.streamInfo), y._sources.length ? y.prepareNextSource() : y.end()
                        }), m.on("error", function(v) {
                            y.error(v)
                        }), this
                    }, h.prototype.resume = function() {
                        return !!c.prototype.resume.call(this) && (!this.previous && this._sources.length ? (this.prepareNextSource(), !0) : this.previous || this._sources.length || this.generatedError ? void 0 : (this.end(), !0))
                    }, h.prototype.error = function(m) {
                        var y = this._sources;
                        if (!c.prototype.error.call(this, m)) return !1;
                        for (var v = 0; v < y.length; v++) try {
                            y[v].error(m)
                        } catch {}
                        return !0
                    }, h.prototype.lock = function() {
                        c.prototype.lock.call(this);
                        for (var m = this._sources, y = 0; y < m.length; y++) m[y].lock()
                    }, r.exports = h
                }, {
                    "../crc32": 4,
                    "../signature": 23,
                    "../stream/GenericWorker": 28,
                    "../utf8": 31,
                    "../utils": 32
                }],
                9: [function(n, r, a) {
                    var s = n("../compressions"),
                        o = n("./ZipFileWorker");
                    a.generateWorker = function(i, c, d) {
                        var l = new o(c.streamFiles, d, c.platform, c.encodeFileName),
                            p = 0;
                        try {
                            i.forEach(function(h, m) {
                                p++;
                                var y = function(x, _) {
                                        var C = x || _,
                                            T = s[C];
                                        if (!T) throw new Error(C + " is not a valid compression method !");
                                        return T
                                    }(m.options.compression, c.compression),
                                    v = m.options.compressionOptions || c.compressionOptions || {},
                                    b = m.dir,
                                    w = m.date;
                                m._compressWorker(y, v).withStreamInfo("file", {
                                    name: h,
                                    dir: b,
                                    date: w,
                                    comment: m.comment || "",
                                    unixPermissions: m.unixPermissions,
                                    dosPermissions: m.dosPermissions
                                }).pipe(l)
                            }), l.entriesCount = p
                        } catch (h) {
                            l.error(h)
                        }
                        return l
                    }
                }, {
                    "../compressions": 3,
                    "./ZipFileWorker": 8
                }],
                10: [function(n, r, a) {
                    function s() {
                        if (!(this instanceof s)) return new s;
                        if (arguments.length) throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");
                        this.files = Object.create(null), this.comment = null, this.root = "", this.clone = function() {
                            var o = new s;
                            for (var i in this) typeof this[i] != "function" && (o[i] = this[i]);
                            return o
                        }
                    }(s.prototype = n("./object")).loadAsync = n("./load"), s.support = n("./support"), s.defaults = n("./defaults"), s.version = "3.10.1", s.loadAsync = function(o, i) {
                        return new s().loadAsync(o, i)
                    }, s.external = n("./external"), r.exports = s
                }, {
                    "./defaults": 5,
                    "./external": 6,
                    "./load": 11,
                    "./object": 15,
                    "./support": 30
                }],
                11: [function(n, r, a) {
                    var s = n("./utils"),
                        o = n("./external"),
                        i = n("./utf8"),
                        c = n("./zipEntries"),
                        d = n("./stream/Crc32Probe"),
                        l = n("./nodejsUtils");

                    function p(h) {
                        return new o.Promise(function(m, y) {
                            var v = h.decompressed.getContentWorker().pipe(new d);
                            v.on("error", function(b) {
                                y(b)
                            }).on("end", function() {
                                v.streamInfo.crc32 !== h.decompressed.crc32 ? y(new Error("Corrupted zip : CRC32 mismatch")) : m()
                            }).resume()
                        })
                    }
                    r.exports = function(h, m) {
                        var y = this;
                        return m = s.extend(m || {}, {
                            base64: !1,
                            checkCRC32: !1,
                            optimizedBinaryString: !1,
                            createFolders: !1,
                            decodeFileName: i.utf8decode
                        }), l.isNode && l.isStream(h) ? o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")) : s.prepareContent("the loaded zip file", h, !0, m.optimizedBinaryString, m.base64).then(function(v) {
                            var b = new c(m);
                            return b.load(v), b
                        }).then(function(v) {
                            var b = [o.Promise.resolve(v)],
                                w = v.files;
                            if (m.checkCRC32)
                                for (var x = 0; x < w.length; x++) b.push(p(w[x]));
                            return o.Promise.all(b)
                        }).then(function(v) {
                            for (var b = v.shift(), w = b.files, x = 0; x < w.length; x++) {
                                var _ = w[x],
                                    C = _.fileNameStr,
                                    T = s.resolve(_.fileNameStr);
                                y.file(T, _.decompressed, {
                                    binary: !0,
                                    optimizedBinaryString: !0,
                                    date: _.date,
                                    dir: _.dir,
                                    comment: _.fileCommentStr.length ? _.fileCommentStr : null,
                                    unixPermissions: _.unixPermissions,
                                    dosPermissions: _.dosPermissions,
                                    createFolders: m.createFolders
                                }), _.dir || (y.file(T).unsafeOriginalName = C)
                            }
                            return b.zipComment.length && (y.comment = b.zipComment), y
                        })
                    }
                }, {
                    "./external": 6,
                    "./nodejsUtils": 14,
                    "./stream/Crc32Probe": 25,
                    "./utf8": 31,
                    "./utils": 32,
                    "./zipEntries": 33
                }],
                12: [function(n, r, a) {
                    var s = n("../utils"),
                        o = n("../stream/GenericWorker");

                    function i(c, d) {
                        o.call(this, "Nodejs stream input adapter for " + c), this._upstreamEnded = !1, this._bindStream(d)
                    }
                    s.inherits(i, o), i.prototype._bindStream = function(c) {
                        var d = this;
                        (this._stream = c).pause(), c.on("data", function(l) {
                            d.push({
                                data: l,
                                meta: {
                                    percent: 0
                                }
                            })
                        }).on("error", function(l) {
                            d.isPaused ? this.generatedError = l : d.error(l)
                        }).on("end", function() {
                            d.isPaused ? d._upstreamEnded = !0 : d.end()
                        })
                    }, i.prototype.pause = function() {
                        return !!o.prototype.pause.call(this) && (this._stream.pause(), !0)
                    }, i.prototype.resume = function() {
                        return !!o.prototype.resume.call(this) && (this._upstreamEnded ? this.end() : this._stream.resume(), !0)
                    }, r.exports = i
                }, {
                    "../stream/GenericWorker": 28,
                    "../utils": 32
                }],
                13: [function(n, r, a) {
                    var s = n("readable-stream").Readable;

                    function o(i, c, d) {
                        s.call(this, c), this._helper = i;
                        var l = this;
                        i.on("data", function(p, h) {
                            l.push(p) || l._helper.pause(), d && d(h)
                        }).on("error", function(p) {
                            l.emit("error", p)
                        }).on("end", function() {
                            l.push(null)
                        })
                    }
                    n("../utils").inherits(o, s), o.prototype._read = function() {
                        this._helper.resume()
                    }, r.exports = o
                }, {
                    "../utils": 32,
                    "readable-stream": 16
                }],
                14: [function(n, r, a) {
                    r.exports = {
                        isNode: typeof Buffer < "u",
                        newBufferFrom: function(s, o) {
                            if (Buffer.from && Buffer.from !== Uint8Array.from) return Buffer.from(s, o);
                            if (typeof s == "number") throw new Error('The "data" argument must not be a number');
                            return new Buffer(s, o)
                        },
                        allocBuffer: function(s) {
                            if (Buffer.alloc) return Buffer.alloc(s);
                            var o = new Buffer(s);
                            return o.fill(0), o
                        },
                        isBuffer: function(s) {
                            return Buffer.isBuffer(s)
                        },
                        isStream: function(s) {
                            return s && typeof s.on == "function" && typeof s.pause == "function" && typeof s.resume == "function"
                        }
                    }
                }, {}],
                15: [function(n, r, a) {
                    function s(T, R, M) {
                        var W, P = i.getTypeOf(R),
                            z = i.extend(M || {}, l);
                        z.date = z.date || new Date, z.compression !== null && (z.compression = z.compression.toUpperCase()), typeof z.unixPermissions == "string" && (z.unixPermissions = parseInt(z.unixPermissions, 8)), z.unixPermissions && 16384 & z.unixPermissions && (z.dir = !0), z.dosPermissions && 16 & z.dosPermissions && (z.dir = !0), z.dir && (T = w(T)), z.createFolders && (W = b(T)) && x.call(this, W, !0);
                        var F = P === "string" && z.binary === !1 && z.base64 === !1;
                        M && M.binary !== void 0 || (z.binary = !F), (R instanceof p && R.uncompressedSize === 0 || z.dir || !R || R.length === 0) && (z.base64 = !1, z.binary = !0, R = "", z.compression = "STORE", P = "string");
                        var O = null;
                        O = R instanceof p || R instanceof c ? R : y.isNode && y.isStream(R) ? new v(T, R) : i.prepareContent(T, R, z.binary, z.optimizedBinaryString, z.base64);
                        var U = new h(T, O, z);
                        this.files[T] = U
                    }
                    var o = n("./utf8"),
                        i = n("./utils"),
                        c = n("./stream/GenericWorker"),
                        d = n("./stream/StreamHelper"),
                        l = n("./defaults"),
                        p = n("./compressedObject"),
                        h = n("./zipObject"),
                        m = n("./generate"),
                        y = n("./nodejsUtils"),
                        v = n("./nodejs/NodejsStreamInputAdapter"),
                        b = function(T) {
                            T.slice(-1) === "/" && (T = T.substring(0, T.length - 1));
                            var R = T.lastIndexOf("/");
                            return 0 < R ? T.substring(0, R) : ""
                        },
                        w = function(T) {
                            return T.slice(-1) !== "/" && (T += "/"), T
                        },
                        x = function(T, R) {
                            return R = R !== void 0 ? R : l.createFolders, T = w(T), this.files[T] || s.call(this, T, null, {
                                dir: !0,
                                createFolders: R
                            }), this.files[T]
                        };

                    function _(T) {
                        return Object.prototype.toString.call(T) === "[object RegExp]"
                    }
                    var C = {
                        load: function() {
                            throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                        },
                        forEach: function(T) {
                            var R, M, W;
                            for (R in this.files) W = this.files[R], (M = R.slice(this.root.length, R.length)) && R.slice(0, this.root.length) === this.root && T(M, W)
                        },
                        filter: function(T) {
                            var R = [];
                            return this.forEach(function(M, W) {
                                T(M, W) && R.push(W)
                            }), R
                        },
                        file: function(T, R, M) {
                            if (arguments.length !== 1) return T = this.root + T, s.call(this, T, R, M), this;
                            if (_(T)) {
                                var W = T;
                                return this.filter(function(z, F) {
                                    return !F.dir && W.test(z)
                                })
                            }
                            var P = this.files[this.root + T];
                            return P && !P.dir ? P : null
                        },
                        folder: function(T) {
                            if (!T) return this;
                            if (_(T)) return this.filter(function(P, z) {
                                return z.dir && T.test(P)
                            });
                            var R = this.root + T,
                                M = x.call(this, R),
                                W = this.clone();
                            return W.root = M.name, W
                        },
                        remove: function(T) {
                            T = this.root + T;
                            var R = this.files[T];
                            if (R || (T.slice(-1) !== "/" && (T += "/"), R = this.files[T]), R && !R.dir) delete this.files[T];
                            else
                                for (var M = this.filter(function(P, z) {
                                        return z.name.slice(0, T.length) === T
                                    }), W = 0; W < M.length; W++) delete this.files[M[W].name];
                            return this
                        },
                        generate: function() {
                            throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                        },
                        generateInternalStream: function(T) {
                            var R, M = {};
                            try {
                                if ((M = i.extend(T || {}, {
                                        streamFiles: !1,
                                        compression: "STORE",
                                        compressionOptions: null,
                                        type: "",
                                        platform: "DOS",
                                        comment: null,
                                        mimeType: "application/zip",
                                        encodeFileName: o.utf8encode
                                    })).type = M.type.toLowerCase(), M.compression = M.compression.toUpperCase(), M.type === "binarystring" && (M.type = "string"), !M.type) throw new Error("No output type specified.");
                                i.checkSupport(M.type), M.platform !== "darwin" && M.platform !== "freebsd" && M.platform !== "linux" && M.platform !== "sunos" || (M.platform = "UNIX"), M.platform === "win32" && (M.platform = "DOS");
                                var W = M.comment || this.comment || "";
                                R = m.generateWorker(this, M, W)
                            } catch (P) {
                                (R = new c("error")).error(P)
                            }
                            return new d(R, M.type || "string", M.mimeType)
                        },
                        generateAsync: function(T, R) {
                            return this.generateInternalStream(T).accumulate(R)
                        },
                        generateNodeStream: function(T, R) {
                            return (T = T || {}).type || (T.type = "nodebuffer"), this.generateInternalStream(T).toNodejsStream(R)
                        }
                    };
                    r.exports = C
                }, {
                    "./compressedObject": 2,
                    "./defaults": 5,
                    "./generate": 9,
                    "./nodejs/NodejsStreamInputAdapter": 12,
                    "./nodejsUtils": 14,
                    "./stream/GenericWorker": 28,
                    "./stream/StreamHelper": 29,
                    "./utf8": 31,
                    "./utils": 32,
                    "./zipObject": 35
                }],
                16: [function(n, r, a) {
                    r.exports = n("stream")
                }, {
                    stream: void 0
                }],
                17: [function(n, r, a) {
                    var s = n("./DataReader");

                    function o(i) {
                        s.call(this, i);
                        for (var c = 0; c < this.data.length; c++) i[c] = 255 & i[c]
                    }
                    n("../utils").inherits(o, s), o.prototype.byteAt = function(i) {
                        return this.data[this.zero + i]
                    }, o.prototype.lastIndexOfSignature = function(i) {
                        for (var c = i.charCodeAt(0), d = i.charCodeAt(1), l = i.charCodeAt(2), p = i.charCodeAt(3), h = this.length - 4; 0 <= h; --h)
                            if (this.data[h] === c && this.data[h + 1] === d && this.data[h + 2] === l && this.data[h + 3] === p) return h - this.zero;
                        return -1
                    }, o.prototype.readAndCheckSignature = function(i) {
                        var c = i.charCodeAt(0),
                            d = i.charCodeAt(1),
                            l = i.charCodeAt(2),
                            p = i.charCodeAt(3),
                            h = this.readData(4);
                        return c === h[0] && d === h[1] && l === h[2] && p === h[3]
                    }, o.prototype.readData = function(i) {
                        if (this.checkOffset(i), i === 0) return [];
                        var c = this.data.slice(this.zero + this.index, this.zero + this.index + i);
                        return this.index += i, c
                    }, r.exports = o
                }, {
                    "../utils": 32,
                    "./DataReader": 18
                }],
                18: [function(n, r, a) {
                    var s = n("../utils");

                    function o(i) {
                        this.data = i, this.length = i.length, this.index = 0, this.zero = 0
                    }
                    o.prototype = {
                        checkOffset: function(i) {
                            this.checkIndex(this.index + i)
                        },
                        checkIndex: function(i) {
                            if (this.length < this.zero + i || i < 0) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + i + "). Corrupted zip ?")
                        },
                        setIndex: function(i) {
                            this.checkIndex(i), this.index = i
                        },
                        skip: function(i) {
                            this.setIndex(this.index + i)
                        },
                        byteAt: function() {},
                        readInt: function(i) {
                            var c, d = 0;
                            for (this.checkOffset(i), c = this.index + i - 1; c >= this.index; c--) d = (d << 8) + this.byteAt(c);
                            return this.index += i, d
                        },
                        readString: function(i) {
                            return s.transformTo("string", this.readData(i))
                        },
                        readData: function() {},
                        lastIndexOfSignature: function() {},
                        readAndCheckSignature: function() {},
                        readDate: function() {
                            var i = this.readInt(4);
                            return new Date(Date.UTC(1980 + (i >> 25 & 127), (i >> 21 & 15) - 1, i >> 16 & 31, i >> 11 & 31, i >> 5 & 63, (31 & i) << 1))
                        }
                    }, r.exports = o
                }, {
                    "../utils": 32
                }],
                19: [function(n, r, a) {
                    var s = n("./Uint8ArrayReader");

                    function o(i) {
                        s.call(this, i)
                    }
                    n("../utils").inherits(o, s), o.prototype.readData = function(i) {
                        this.checkOffset(i);
                        var c = this.data.slice(this.zero + this.index, this.zero + this.index + i);
                        return this.index += i, c
                    }, r.exports = o
                }, {
                    "../utils": 32,
                    "./Uint8ArrayReader": 21
                }],
                20: [function(n, r, a) {
                    var s = n("./DataReader");

                    function o(i) {
                        s.call(this, i)
                    }
                    n("../utils").inherits(o, s), o.prototype.byteAt = function(i) {
                        return this.data.charCodeAt(this.zero + i)
                    }, o.prototype.lastIndexOfSignature = function(i) {
                        return this.data.lastIndexOf(i) - this.zero
                    }, o.prototype.readAndCheckSignature = function(i) {
                        return i === this.readData(4)
                    }, o.prototype.readData = function(i) {
                        this.checkOffset(i);
                        var c = this.data.slice(this.zero + this.index, this.zero + this.index + i);
                        return this.index += i, c
                    }, r.exports = o
                }, {
                    "../utils": 32,
                    "./DataReader": 18
                }],
                21: [function(n, r, a) {
                    var s = n("./ArrayReader");

                    function o(i) {
                        s.call(this, i)
                    }
                    n("../utils").inherits(o, s), o.prototype.readData = function(i) {
                        if (this.checkOffset(i), i === 0) return new Uint8Array(0);
                        var c = this.data.subarray(this.zero + this.index, this.zero + this.index + i);
                        return this.index += i, c
                    }, r.exports = o
                }, {
                    "../utils": 32,
                    "./ArrayReader": 17
                }],
                22: [function(n, r, a) {
                    var s = n("../utils"),
                        o = n("../support"),
                        i = n("./ArrayReader"),
                        c = n("./StringReader"),
                        d = n("./NodeBufferReader"),
                        l = n("./Uint8ArrayReader");
                    r.exports = function(p) {
                        var h = s.getTypeOf(p);
                        return s.checkSupport(h), h !== "string" || o.uint8array ? h === "nodebuffer" ? new d(p) : o.uint8array ? new l(s.transformTo("uint8array", p)) : new i(s.transformTo("array", p)) : new c(p)
                    }
                }, {
                    "../support": 30,
                    "../utils": 32,
                    "./ArrayReader": 17,
                    "./NodeBufferReader": 19,
                    "./StringReader": 20,
                    "./Uint8ArrayReader": 21
                }],
                23: [function(n, r, a) {
                    a.LOCAL_FILE_HEADER = "PK", a.CENTRAL_FILE_HEADER = "PK", a.CENTRAL_DIRECTORY_END = "PK", a.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK\x07", a.ZIP64_CENTRAL_DIRECTORY_END = "PK", a.DATA_DESCRIPTOR = "PK\x07\b"
                }, {}],
                24: [function(n, r, a) {
                    var s = n("./GenericWorker"),
                        o = n("../utils");

                    function i(c) {
                        s.call(this, "ConvertWorker to " + c), this.destType = c
                    }
                    o.inherits(i, s), i.prototype.processChunk = function(c) {
                        this.push({
                            data: o.transformTo(this.destType, c.data),
                            meta: c.meta
                        })
                    }, r.exports = i
                }, {
                    "../utils": 32,
                    "./GenericWorker": 28
                }],
                25: [function(n, r, a) {
                    var s = n("./GenericWorker"),
                        o = n("../crc32");

                    function i() {
                        s.call(this, "Crc32Probe"), this.withStreamInfo("crc32", 0)
                    }
                    n("../utils").inherits(i, s), i.prototype.processChunk = function(c) {
                        this.streamInfo.crc32 = o(c.data, this.streamInfo.crc32 || 0), this.push(c)
                    }, r.exports = i
                }, {
                    "../crc32": 4,
                    "../utils": 32,
                    "./GenericWorker": 28
                }],
                26: [function(n, r, a) {
                    var s = n("../utils"),
                        o = n("./GenericWorker");

                    function i(c) {
                        o.call(this, "DataLengthProbe for " + c), this.propName = c, this.withStreamInfo(c, 0)
                    }
                    s.inherits(i, o), i.prototype.processChunk = function(c) {
                        if (c) {
                            var d = this.streamInfo[this.propName] || 0;
                            this.streamInfo[this.propName] = d + c.data.length
                        }
                        o.prototype.processChunk.call(this, c)
                    }, r.exports = i
                }, {
                    "../utils": 32,
                    "./GenericWorker": 28
                }],
                27: [function(n, r, a) {
                    var s = n("../utils"),
                        o = n("./GenericWorker");

                    function i(c) {
                        o.call(this, "DataWorker");
                        var d = this;
                        this.dataIsReady = !1, this.index = 0, this.max = 0, this.data = null, this.type = "", this._tickScheduled = !1, c.then(function(l) {
                            d.dataIsReady = !0, d.data = l, d.max = l && l.length || 0, d.type = s.getTypeOf(l), d.isPaused || d._tickAndRepeat()
                        }, function(l) {
                            d.error(l)
                        })
                    }
                    s.inherits(i, o), i.prototype.cleanUp = function() {
                        o.prototype.cleanUp.call(this), this.data = null
                    }, i.prototype.resume = function() {
                        return !!o.prototype.resume.call(this) && (!this._tickScheduled && this.dataIsReady && (this._tickScheduled = !0, s.delay(this._tickAndRepeat, [], this)), !0)
                    }, i.prototype._tickAndRepeat = function() {
                        this._tickScheduled = !1, this.isPaused || this.isFinished || (this._tick(), this.isFinished || (s.delay(this._tickAndRepeat, [], this), this._tickScheduled = !0))
                    }, i.prototype._tick = function() {
                        if (this.isPaused || this.isFinished) return !1;
                        var c = null,
                            d = Math.min(this.max, this.index + 16384);
                        if (this.index >= this.max) return this.end();
                        switch (this.type) {
                            case "string":
                                c = this.data.substring(this.index, d);
                                break;
                            case "uint8array":
                                c = this.data.subarray(this.index, d);
                                break;
                            case "array":
                            case "nodebuffer":
                                c = this.data.slice(this.index, d)
                        }
                        return this.index = d, this.push({
                            data: c,
                            meta: {
                                percent: this.max ? this.index / this.max * 100 : 0
                            }
                        })
                    }, r.exports = i
                }, {
                    "../utils": 32,
                    "./GenericWorker": 28
                }],
                28: [function(n, r, a) {
                    function s(o) {
                        this.name = o || "default", this.streamInfo = {}, this.generatedError = null, this.extraStreamInfo = {}, this.isPaused = !0, this.isFinished = !1, this.isLocked = !1, this._listeners = {
                            data: [],
                            end: [],
                            error: []
                        }, this.previous = null
                    }
                    s.prototype = {
                        push: function(o) {
                            this.emit("data", o)
                        },
                        end: function() {
                            if (this.isFinished) return !1;
                            this.flush();
                            try {
                                this.emit("end"), this.cleanUp(), this.isFinished = !0
                            } catch (o) {
                                this.emit("error", o)
                            }
                            return !0
                        },
                        error: function(o) {
                            return !this.isFinished && (this.isPaused ? this.generatedError = o : (this.isFinished = !0, this.emit("error", o), this.previous && this.previous.error(o), this.cleanUp()), !0)
                        },
                        on: function(o, i) {
                            return this._listeners[o].push(i), this
                        },
                        cleanUp: function() {
                            this.streamInfo = this.generatedError = this.extraStreamInfo = null, this._listeners = []
                        },
                        emit: function(o, i) {
                            if (this._listeners[o])
                                for (var c = 0; c < this._listeners[o].length; c++) this._listeners[o][c].call(this, i)
                        },
                        pipe: function(o) {
                            return o.registerPrevious(this)
                        },
                        registerPrevious: function(o) {
                            if (this.isLocked) throw new Error("The stream '" + this + "' has already been used.");
                            this.streamInfo = o.streamInfo, this.mergeStreamInfo(), this.previous = o;
                            var i = this;
                            return o.on("data", function(c) {
                                i.processChunk(c)
                            }), o.on("end", function() {
                                i.end()
                            }), o.on("error", function(c) {
                                i.error(c)
                            }), this
                        },
                        pause: function() {
                            return !this.isPaused && !this.isFinished && (this.isPaused = !0, this.previous && this.previous.pause(), !0)
                        },
                        resume: function() {
                            if (!this.isPaused || this.isFinished) return !1;
                            var o = this.isPaused = !1;
                            return this.generatedError && (this.error(this.generatedError), o = !0), this.previous && this.previous.resume(), !o
                        },
                        flush: function() {},
                        processChunk: function(o) {
                            this.push(o)
                        },
                        withStreamInfo: function(o, i) {
                            return this.extraStreamInfo[o] = i, this.mergeStreamInfo(), this
                        },
                        mergeStreamInfo: function() {
                            for (var o in this.extraStreamInfo) Object.prototype.hasOwnProperty.call(this.extraStreamInfo, o) && (this.streamInfo[o] = this.extraStreamInfo[o])
                        },
                        lock: function() {
                            if (this.isLocked) throw new Error("The stream '" + this + "' has already been used.");
                            this.isLocked = !0, this.previous && this.previous.lock()
                        },
                        toString: function() {
                            var o = "Worker " + this.name;
                            return this.previous ? this.previous + " -> " + o : o
                        }
                    }, r.exports = s
                }, {}],
                29: [function(n, r, a) {
                    var s = n("../utils"),
                        o = n("./ConvertWorker"),
                        i = n("./GenericWorker"),
                        c = n("../base64"),
                        d = n("../support"),
                        l = n("../external"),
                        p = null;
                    if (d.nodestream) try {
                        p = n("../nodejs/NodejsStreamOutputAdapter")
                    } catch {}

                    function h(y, v) {
                        return new l.Promise(function(b, w) {
                            var x = [],
                                _ = y._internalType,
                                C = y._outputType,
                                T = y._mimeType;
                            y.on("data", function(R, M) {
                                x.push(R), v && v(M)
                            }).on("error", function(R) {
                                x = [], w(R)
                            }).on("end", function() {
                                try {
                                    var R = function(M, W, P) {
                                        switch (M) {
                                            case "blob":
                                                return s.newBlob(s.transformTo("arraybuffer", W), P);
                                            case "base64":
                                                return c.encode(W);
                                            default:
                                                return s.transformTo(M, W)
                                        }
                                    }(C, function(M, W) {
                                        var P, z = 0,
                                            F = null,
                                            O = 0;
                                        for (P = 0; P < W.length; P++) O += W[P].length;
                                        switch (M) {
                                            case "string":
                                                return W.join("");
                                            case "array":
                                                return Array.prototype.concat.apply([], W);
                                            case "uint8array":
                                                for (F = new Uint8Array(O), P = 0; P < W.length; P++) F.set(W[P], z), z += W[P].length;
                                                return F;
                                            case "nodebuffer":
                                                return Buffer.concat(W);
                                            default:
                                                throw new Error("concat : unsupported type '" + M + "'")
                                        }
                                    }(_, x), T);
                                    b(R)
                                } catch (M) {
                                    w(M)
                                }
                                x = []
                            }).resume()
                        })
                    }

                    function m(y, v, b) {
                        var w = v;
                        switch (v) {
                            case "blob":
                            case "arraybuffer":
                                w = "uint8array";
                                break;
                            case "base64":
                                w = "string"
                        }
                        try {
                            this._internalType = w, this._outputType = v, this._mimeType = b, s.checkSupport(w), this._worker = y.pipe(new o(w)), y.lock()
                        } catch (x) {
                            this._worker = new i("error"), this._worker.error(x)
                        }
                    }
                    m.prototype = {
                        accumulate: function(y) {
                            return h(this, y)
                        },
                        on: function(y, v) {
                            var b = this;
                            return y === "data" ? this._worker.on(y, function(w) {
                                v.call(b, w.data, w.meta)
                            }) : this._worker.on(y, function() {
                                s.delay(v, arguments, b)
                            }), this
                        },
                        resume: function() {
                            return s.delay(this._worker.resume, [], this._worker), this
                        },
                        pause: function() {
                            return this._worker.pause(), this
                        },
                        toNodejsStream: function(y) {
                            if (s.checkSupport("nodestream"), this._outputType !== "nodebuffer") throw new Error(this._outputType + " is not supported by this method");
                            return new p(this, {
                                objectMode: this._outputType !== "nodebuffer"
                            }, y)
                        }
                    }, r.exports = m
                }, {
                    "../base64": 1,
                    "../external": 6,
                    "../nodejs/NodejsStreamOutputAdapter": 13,
                    "../support": 30,
                    "../utils": 32,
                    "./ConvertWorker": 24,
                    "./GenericWorker": 28
                }],
                30: [function(n, r, a) {
                    if (a.base64 = !0, a.array = !0, a.string = !0, a.arraybuffer = typeof ArrayBuffer < "u" && typeof Uint8Array < "u", a.nodebuffer = typeof Buffer < "u", a.uint8array = typeof Uint8Array < "u", typeof ArrayBuffer > "u") a.blob = !1;
                    else {
                        var s = new ArrayBuffer(0);
                        try {
                            a.blob = new Blob([s], {
                                type: "application/zip"
                            }).size === 0
                        } catch {
                            try {
                                var o = new(self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                                o.append(s), a.blob = o.getBlob("application/zip").size === 0
                            } catch {
                                a.blob = !1
                            }
                        }
                    }
                    try {
                        a.nodestream = !!n("readable-stream").Readable
                    } catch {
                        a.nodestream = !1
                    }
                }, {
                    "readable-stream": 16
                }],
                31: [function(n, r, a) {
                    for (var s = n("./utils"), o = n("./support"), i = n("./nodejsUtils"), c = n("./stream/GenericWorker"), d = new Array(256), l = 0; l < 256; l++) d[l] = 252 <= l ? 6 : 248 <= l ? 5 : 240 <= l ? 4 : 224 <= l ? 3 : 192 <= l ? 2 : 1;
                    d[254] = d[254] = 1;

                    function p() {
                        c.call(this, "utf-8 decode"), this.leftOver = null
                    }

                    function h() {
                        c.call(this, "utf-8 encode")
                    }
                    a.utf8encode = function(m) {
                        return o.nodebuffer ? i.newBufferFrom(m, "utf-8") : function(y) {
                            var v, b, w, x, _, C = y.length,
                                T = 0;
                            for (x = 0; x < C; x++)(64512 & (b = y.charCodeAt(x))) == 55296 && x + 1 < C && (64512 & (w = y.charCodeAt(x + 1))) == 56320 && (b = 65536 + (b - 55296 << 10) + (w - 56320), x++), T += b < 128 ? 1 : b < 2048 ? 2 : b < 65536 ? 3 : 4;
                            for (v = o.uint8array ? new Uint8Array(T) : new Array(T), x = _ = 0; _ < T; x++)(64512 & (b = y.charCodeAt(x))) == 55296 && x + 1 < C && (64512 & (w = y.charCodeAt(x + 1))) == 56320 && (b = 65536 + (b - 55296 << 10) + (w - 56320), x++), b < 128 ? v[_++] = b : (b < 2048 ? v[_++] = 192 | b >>> 6 : (b < 65536 ? v[_++] = 224 | b >>> 12 : (v[_++] = 240 | b >>> 18, v[_++] = 128 | b >>> 12 & 63), v[_++] = 128 | b >>> 6 & 63), v[_++] = 128 | 63 & b);
                            return v
                        }(m)
                    }, a.utf8decode = function(m) {
                        return o.nodebuffer ? s.transformTo("nodebuffer", m).toString("utf-8") : function(y) {
                            var v, b, w, x, _ = y.length,
                                C = new Array(2 * _);
                            for (v = b = 0; v < _;)
                                if ((w = y[v++]) < 128) C[b++] = w;
                                else if (4 < (x = d[w])) C[b++] = 65533, v += x - 1;
                            else {
                                for (w &= x === 2 ? 31 : x === 3 ? 15 : 7; 1 < x && v < _;) w = w << 6 | 63 & y[v++], x--;
                                1 < x ? C[b++] = 65533 : w < 65536 ? C[b++] = w : (w -= 65536, C[b++] = 55296 | w >> 10 & 1023, C[b++] = 56320 | 1023 & w)
                            }
                            return C.length !== b && (C.subarray ? C = C.subarray(0, b) : C.length = b), s.applyFromCharCode(C)
                        }(m = s.transformTo(o.uint8array ? "uint8array" : "array", m))
                    }, s.inherits(p, c), p.prototype.processChunk = function(m) {
                        var y = s.transformTo(o.uint8array ? "uint8array" : "array", m.data);
                        if (this.leftOver && this.leftOver.length) {
                            if (o.uint8array) {
                                var v = y;
                                (y = new Uint8Array(v.length + this.leftOver.length)).set(this.leftOver, 0), y.set(v, this.leftOver.length)
                            } else y = this.leftOver.concat(y);
                            this.leftOver = null
                        }
                        var b = function(x, _) {
                                var C;
                                for ((_ = _ || x.length) > x.length && (_ = x.length), C = _ - 1; 0 <= C && (192 & x[C]) == 128;) C--;
                                return C < 0 || C === 0 ? _ : C + d[x[C]] > _ ? C : _
                            }(y),
                            w = y;
                        b !== y.length && (o.uint8array ? (w = y.subarray(0, b), this.leftOver = y.subarray(b, y.length)) : (w = y.slice(0, b), this.leftOver = y.slice(b, y.length))), this.push({
                            data: a.utf8decode(w),
                            meta: m.meta
                        })
                    }, p.prototype.flush = function() {
                        this.leftOver && this.leftOver.length && (this.push({
                            data: a.utf8decode(this.leftOver),
                            meta: {}
                        }), this.leftOver = null)
                    }, a.Utf8DecodeWorker = p, s.inherits(h, c), h.prototype.processChunk = function(m) {
                        this.push({
                            data: a.utf8encode(m.data),
                            meta: m.meta
                        })
                    }, a.Utf8EncodeWorker = h
                }, {
                    "./nodejsUtils": 14,
                    "./stream/GenericWorker": 28,
                    "./support": 30,
                    "./utils": 32
                }],
                32: [function(n, r, a) {
                    var s = n("./support"),
                        o = n("./base64"),
                        i = n("./nodejsUtils"),
                        c = n("./external");

                    function d(v) {
                        return v
                    }

                    function l(v, b) {
                        for (var w = 0; w < v.length; ++w) b[w] = 255 & v.charCodeAt(w);
                        return b
                    }
                    n("setimmediate"), a.newBlob = function(v, b) {
                        a.checkSupport("blob");
                        try {
                            return new Blob([v], {
                                type: b
                            })
                        } catch {
                            try {
                                var w = new(self.BlobBuilder || self.WebKitBlobBuilder || self.MozBlobBuilder || self.MSBlobBuilder);
                                return w.append(v), w.getBlob(b)
                            } catch {
                                throw new Error("Bug : can't construct the Blob.")
                            }
                        }
                    };
                    var p = {
                        stringifyByChunk: function(v, b, w) {
                            var x = [],
                                _ = 0,
                                C = v.length;
                            if (C <= w) return String.fromCharCode.apply(null, v);
                            for (; _ < C;) b === "array" || b === "nodebuffer" ? x.push(String.fromCharCode.apply(null, v.slice(_, Math.min(_ + w, C)))) : x.push(String.fromCharCode.apply(null, v.subarray(_, Math.min(_ + w, C)))), _ += w;
                            return x.join("")
                        },
                        stringifyByChar: function(v) {
                            for (var b = "", w = 0; w < v.length; w++) b += String.fromCharCode(v[w]);
                            return b
                        },
                        applyCanBeUsed: {
                            uint8array: function() {
                                try {
                                    return s.uint8array && String.fromCharCode.apply(null, new Uint8Array(1)).length === 1
                                } catch {
                                    return !1
                                }
                            }(),
                            nodebuffer: function() {
                                try {
                                    return s.nodebuffer && String.fromCharCode.apply(null, i.allocBuffer(1)).length === 1
                                } catch {
                                    return !1
                                }
                            }()
                        }
                    };

                    function h(v) {
                        var b = 65536,
                            w = a.getTypeOf(v),
                            x = !0;
                        if (w === "uint8array" ? x = p.applyCanBeUsed.uint8array : w === "nodebuffer" && (x = p.applyCanBeUsed.nodebuffer), x)
                            for (; 1 < b;) try {
                                return p.stringifyByChunk(v, w, b)
                            } catch {
                                b = Math.floor(b / 2)
                            }
                        return p.stringifyByChar(v)
                    }

                    function m(v, b) {
                        for (var w = 0; w < v.length; w++) b[w] = v[w];
                        return b
                    }
                    a.applyFromCharCode = h;
                    var y = {};
                    y.string = {
                        string: d,
                        array: function(v) {
                            return l(v, new Array(v.length))
                        },
                        arraybuffer: function(v) {
                            return y.string.uint8array(v).buffer
                        },
                        uint8array: function(v) {
                            return l(v, new Uint8Array(v.length))
                        },
                        nodebuffer: function(v) {
                            return l(v, i.allocBuffer(v.length))
                        }
                    }, y.array = {
                        string: h,
                        array: d,
                        arraybuffer: function(v) {
                            return new Uint8Array(v).buffer
                        },
                        uint8array: function(v) {
                            return new Uint8Array(v)
                        },
                        nodebuffer: function(v) {
                            return i.newBufferFrom(v)
                        }
                    }, y.arraybuffer = {
                        string: function(v) {
                            return h(new Uint8Array(v))
                        },
                        array: function(v) {
                            return m(new Uint8Array(v), new Array(v.byteLength))
                        },
                        arraybuffer: d,
                        uint8array: function(v) {
                            return new Uint8Array(v)
                        },
                        nodebuffer: function(v) {
                            return i.newBufferFrom(new Uint8Array(v))
                        }
                    }, y.uint8array = {
                        string: h,
                        array: function(v) {
                            return m(v, new Array(v.length))
                        },
                        arraybuffer: function(v) {
                            return v.buffer
                        },
                        uint8array: d,
                        nodebuffer: function(v) {
                            return i.newBufferFrom(v)
                        }
                    }, y.nodebuffer = {
                        string: h,
                        array: function(v) {
                            return m(v, new Array(v.length))
                        },
                        arraybuffer: function(v) {
                            return y.nodebuffer.uint8array(v).buffer
                        },
                        uint8array: function(v) {
                            return m(v, new Uint8Array(v.length))
                        },
                        nodebuffer: d
                    }, a.transformTo = function(v, b) {
                        if (b = b || "", !v) return b;
                        a.checkSupport(v);
                        var w = a.getTypeOf(b);
                        return y[w][v](b)
                    }, a.resolve = function(v) {
                        for (var b = v.split("/"), w = [], x = 0; x < b.length; x++) {
                            var _ = b[x];
                            _ === "." || _ === "" && x !== 0 && x !== b.length - 1 || (_ === ".." ? w.pop() : w.push(_))
                        }
                        return w.join("/")
                    }, a.getTypeOf = function(v) {
                        return typeof v == "string" ? "string" : Object.prototype.toString.call(v) === "[object Array]" ? "array" : s.nodebuffer && i.isBuffer(v) ? "nodebuffer" : s.uint8array && v instanceof Uint8Array ? "uint8array" : s.arraybuffer && v instanceof ArrayBuffer ? "arraybuffer" : void 0
                    }, a.checkSupport = function(v) {
                        if (!s[v.toLowerCase()]) throw new Error(v + " is not supported by this platform")
                    }, a.MAX_VALUE_16BITS = 65535, a.MAX_VALUE_32BITS = -1, a.pretty = function(v) {
                        var b, w, x = "";
                        for (w = 0; w < (v || "").length; w++) x += "\\x" + ((b = v.charCodeAt(w)) < 16 ? "0" : "") + b.toString(16).toUpperCase();
                        return x
                    }, a.delay = function(v, b, w) {
                        setImmediate(function() {
                            v.apply(w || null, b || [])
                        })
                    }, a.inherits = function(v, b) {
                        function w() {}
                        w.prototype = b.prototype, v.prototype = new w
                    }, a.extend = function() {
                        var v, b, w = {};
                        for (v = 0; v < arguments.length; v++)
                            for (b in arguments[v]) Object.prototype.hasOwnProperty.call(arguments[v], b) && w[b] === void 0 && (w[b] = arguments[v][b]);
                        return w
                    }, a.prepareContent = function(v, b, w, x, _) {
                        return c.Promise.resolve(b).then(function(C) {
                            return s.blob && (C instanceof Blob || ["[object File]", "[object Blob]"].indexOf(Object.prototype.toString.call(C)) !== -1) && typeof FileReader < "u" ? new c.Promise(function(T, R) {
                                var M = new FileReader;
                                M.onload = function(W) {
                                    T(W.target.result)
                                }, M.onerror = function(W) {
                                    R(W.target.error)
                                }, M.readAsArrayBuffer(C)
                            }) : C
                        }).then(function(C) {
                            var T = a.getTypeOf(C);
                            return T ? (T === "arraybuffer" ? C = a.transformTo("uint8array", C) : T === "string" && (_ ? C = o.decode(C) : w && x !== !0 && (C = function(R) {
                                return l(R, s.uint8array ? new Uint8Array(R.length) : new Array(R.length))
                            }(C))), C) : c.Promise.reject(new Error("Can't read the data of '" + v + "'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))
                        })
                    }
                }, {
                    "./base64": 1,
                    "./external": 6,
                    "./nodejsUtils": 14,
                    "./support": 30,
                    setimmediate: 54
                }],
                33: [function(n, r, a) {
                    var s = n("./reader/readerFor"),
                        o = n("./utils"),
                        i = n("./signature"),
                        c = n("./zipEntry"),
                        d = n("./support");

                    function l(p) {
                        this.files = [], this.loadOptions = p
                    }
                    l.prototype = {
                        checkSignature: function(p) {
                            if (!this.reader.readAndCheckSignature(p)) {
                                this.reader.index -= 4;
                                var h = this.reader.readString(4);
                                throw new Error("Corrupted zip or bug: unexpected signature (" + o.pretty(h) + ", expected " + o.pretty(p) + ")")
                            }
                        },
                        isSignature: function(p, h) {
                            var m = this.reader.index;
                            this.reader.setIndex(p);
                            var y = this.reader.readString(4) === h;
                            return this.reader.setIndex(m), y
                        },
                        readBlockEndOfCentral: function() {
                            this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2);
                            var p = this.reader.readData(this.zipCommentLength),
                                h = d.uint8array ? "uint8array" : "array",
                                m = o.transformTo(h, p);
                            this.zipComment = this.loadOptions.decodeFileName(m)
                        },
                        readBlockZip64EndOfCentral: function() {
                            this.zip64EndOfCentralSize = this.reader.readInt(8), this.reader.skip(4), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
                            for (var p, h, m, y = this.zip64EndOfCentralSize - 44; 0 < y;) p = this.reader.readInt(2), h = this.reader.readInt(4), m = this.reader.readData(h), this.zip64ExtensibleData[p] = {
                                id: p,
                                length: h,
                                value: m
                            }
                        },
                        readBlockZip64EndOfCentralLocator: function() {
                            if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), 1 < this.disksCount) throw new Error("Multi-volumes zip are not supported")
                        },
                        readLocalFiles: function() {
                            var p, h;
                            for (p = 0; p < this.files.length; p++) h = this.files[p], this.reader.setIndex(h.localHeaderOffset), this.checkSignature(i.LOCAL_FILE_HEADER), h.readLocalPart(this.reader), h.handleUTF8(), h.processAttributes()
                        },
                        readCentralDir: function() {
                            var p;
                            for (this.reader.setIndex(this.centralDirOffset); this.reader.readAndCheckSignature(i.CENTRAL_FILE_HEADER);)(p = new c({
                                zip64: this.zip64
                            }, this.loadOptions)).readCentralPart(this.reader), this.files.push(p);
                            if (this.centralDirRecords !== this.files.length && this.centralDirRecords !== 0 && this.files.length === 0) throw new Error("Corrupted zip or bug: expected " + this.centralDirRecords + " records in central dir, got " + this.files.length)
                        },
                        readEndOfCentral: function() {
                            var p = this.reader.lastIndexOfSignature(i.CENTRAL_DIRECTORY_END);
                            if (p < 0) throw this.isSignature(0, i.LOCAL_FILE_HEADER) ? new Error("Corrupted zip: can't find end of central directory") : new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");
                            this.reader.setIndex(p);
                            var h = p;
                            if (this.checkSignature(i.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === o.MAX_VALUE_16BITS || this.diskWithCentralDirStart === o.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === o.MAX_VALUE_16BITS || this.centralDirRecords === o.MAX_VALUE_16BITS || this.centralDirSize === o.MAX_VALUE_32BITS || this.centralDirOffset === o.MAX_VALUE_32BITS) {
                                if (this.zip64 = !0, (p = this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR)) < 0) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");
                                if (this.reader.setIndex(p), this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), !this.isSignature(this.relativeOffsetEndOfZip64CentralDir, i.ZIP64_CENTRAL_DIRECTORY_END) && (this.relativeOffsetEndOfZip64CentralDir = this.reader.lastIndexOfSignature(i.ZIP64_CENTRAL_DIRECTORY_END), this.relativeOffsetEndOfZip64CentralDir < 0)) throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");
                                this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(i.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral()
                            }
                            var m = this.centralDirOffset + this.centralDirSize;
                            this.zip64 && (m += 20, m += 12 + this.zip64EndOfCentralSize);
                            var y = h - m;
                            if (0 < y) this.isSignature(h, i.CENTRAL_FILE_HEADER) || (this.reader.zero = y);
                            else if (y < 0) throw new Error("Corrupted zip: missing " + Math.abs(y) + " bytes.")
                        },
                        prepareReader: function(p) {
                            this.reader = s(p)
                        },
                        load: function(p) {
                            this.prepareReader(p), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles()
                        }
                    }, r.exports = l
                }, {
                    "./reader/readerFor": 22,
                    "./signature": 23,
                    "./support": 30,
                    "./utils": 32,
                    "./zipEntry": 34
                }],
                34: [function(n, r, a) {
                    var s = n("./reader/readerFor"),
                        o = n("./utils"),
                        i = n("./compressedObject"),
                        c = n("./crc32"),
                        d = n("./utf8"),
                        l = n("./compressions"),
                        p = n("./support");

                    function h(m, y) {
                        this.options = m, this.loadOptions = y
                    }
                    h.prototype = {
                        isEncrypted: function() {
                            return (1 & this.bitFlag) == 1
                        },
                        useUTF8: function() {
                            return (2048 & this.bitFlag) == 2048
                        },
                        readLocalPart: function(m) {
                            var y, v;
                            if (m.skip(22), this.fileNameLength = m.readInt(2), v = m.readInt(2), this.fileName = m.readData(this.fileNameLength), m.skip(v), this.compressedSize === -1 || this.uncompressedSize === -1) throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");
                            if ((y = function(b) {
                                    for (var w in l)
                                        if (Object.prototype.hasOwnProperty.call(l, w) && l[w].magic === b) return l[w];
                                    return null
                                }(this.compressionMethod)) === null) throw new Error("Corrupted zip : compression " + o.pretty(this.compressionMethod) + " unknown (inner file : " + o.transformTo("string", this.fileName) + ")");
                            this.decompressed = new i(this.compressedSize, this.uncompressedSize, this.crc32, y, m.readData(this.compressedSize))
                        },
                        readCentralPart: function(m) {
                            this.versionMadeBy = m.readInt(2), m.skip(2), this.bitFlag = m.readInt(2), this.compressionMethod = m.readString(2), this.date = m.readDate(), this.crc32 = m.readInt(4), this.compressedSize = m.readInt(4), this.uncompressedSize = m.readInt(4);
                            var y = m.readInt(2);
                            if (this.extraFieldsLength = m.readInt(2), this.fileCommentLength = m.readInt(2), this.diskNumberStart = m.readInt(2), this.internalFileAttributes = m.readInt(2), this.externalFileAttributes = m.readInt(4), this.localHeaderOffset = m.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");
                            m.skip(y), this.readExtraFields(m), this.parseZIP64ExtraField(m), this.fileComment = m.readData(this.fileCommentLength)
                        },
                        processAttributes: function() {
                            this.unixPermissions = null, this.dosPermissions = null;
                            var m = this.versionMadeBy >> 8;
                            this.dir = !!(16 & this.externalFileAttributes), m == 0 && (this.dosPermissions = 63 & this.externalFileAttributes), m == 3 && (this.unixPermissions = this.externalFileAttributes >> 16 & 65535), this.dir || this.fileNameStr.slice(-1) !== "/" || (this.dir = !0)
                        },
                        parseZIP64ExtraField: function() {
                            if (this.extraFields[1]) {
                                var m = s(this.extraFields[1].value);
                                this.uncompressedSize === o.MAX_VALUE_32BITS && (this.uncompressedSize = m.readInt(8)), this.compressedSize === o.MAX_VALUE_32BITS && (this.compressedSize = m.readInt(8)), this.localHeaderOffset === o.MAX_VALUE_32BITS && (this.localHeaderOffset = m.readInt(8)), this.diskNumberStart === o.MAX_VALUE_32BITS && (this.diskNumberStart = m.readInt(4))
                            }
                        },
                        readExtraFields: function(m) {
                            var y, v, b, w = m.index + this.extraFieldsLength;
                            for (this.extraFields || (this.extraFields = {}); m.index + 4 < w;) y = m.readInt(2), v = m.readInt(2), b = m.readData(v), this.extraFields[y] = {
                                id: y,
                                length: v,
                                value: b
                            };
                            m.setIndex(w)
                        },
                        handleUTF8: function() {
                            var m = p.uint8array ? "uint8array" : "array";
                            if (this.useUTF8()) this.fileNameStr = d.utf8decode(this.fileName), this.fileCommentStr = d.utf8decode(this.fileComment);
                            else {
                                var y = this.findExtraFieldUnicodePath();
                                if (y !== null) this.fileNameStr = y;
                                else {
                                    var v = o.transformTo(m, this.fileName);
                                    this.fileNameStr = this.loadOptions.decodeFileName(v)
                                }
                                var b = this.findExtraFieldUnicodeComment();
                                if (b !== null) this.fileCommentStr = b;
                                else {
                                    var w = o.transformTo(m, this.fileComment);
                                    this.fileCommentStr = this.loadOptions.decodeFileName(w)
                                }
                            }
                        },
                        findExtraFieldUnicodePath: function() {
                            var m = this.extraFields[28789];
                            if (m) {
                                var y = s(m.value);
                                return y.readInt(1) !== 1 || c(this.fileName) !== y.readInt(4) ? null : d.utf8decode(y.readData(m.length - 5))
                            }
                            return null
                        },
                        findExtraFieldUnicodeComment: function() {
                            var m = this.extraFields[25461];
                            if (m) {
                                var y = s(m.value);
                                return y.readInt(1) !== 1 || c(this.fileComment) !== y.readInt(4) ? null : d.utf8decode(y.readData(m.length - 5))
                            }
                            return null
                        }
                    }, r.exports = h
                }, {
                    "./compressedObject": 2,
                    "./compressions": 3,
                    "./crc32": 4,
                    "./reader/readerFor": 22,
                    "./support": 30,
                    "./utf8": 31,
                    "./utils": 32
                }],
                35: [function(n, r, a) {
                    function s(y, v, b) {
                        this.name = y, this.dir = b.dir, this.date = b.date, this.comment = b.comment, this.unixPermissions = b.unixPermissions, this.dosPermissions = b.dosPermissions, this._data = v, this._dataBinary = b.binary, this.options = {
                            compression: b.compression,
                            compressionOptions: b.compressionOptions
                        }
                    }
                    var o = n("./stream/StreamHelper"),
                        i = n("./stream/DataWorker"),
                        c = n("./utf8"),
                        d = n("./compressedObject"),
                        l = n("./stream/GenericWorker");
                    s.prototype = {
                        internalStream: function(y) {
                            var v = null,
                                b = "string";
                            try {
                                if (!y) throw new Error("No output type specified.");
                                var w = (b = y.toLowerCase()) === "string" || b === "text";
                                b !== "binarystring" && b !== "text" || (b = "string"), v = this._decompressWorker();
                                var x = !this._dataBinary;
                                x && !w && (v = v.pipe(new c.Utf8EncodeWorker)), !x && w && (v = v.pipe(new c.Utf8DecodeWorker))
                            } catch (_) {
                                (v = new l("error")).error(_)
                            }
                            return new o(v, b, "")
                        },
                        async: function(y, v) {
                            return this.internalStream(y).accumulate(v)
                        },
                        nodeStream: function(y, v) {
                            return this.internalStream(y || "nodebuffer").toNodejsStream(v)
                        },
                        _compressWorker: function(y, v) {
                            if (this._data instanceof d && this._data.compression.magic === y.magic) return this._data.getCompressedWorker();
                            var b = this._decompressWorker();
                            return this._dataBinary || (b = b.pipe(new c.Utf8EncodeWorker)), d.createWorkerFrom(b, y, v)
                        },
                        _decompressWorker: function() {
                            return this._data instanceof d ? this._data.getContentWorker() : this._data instanceof l ? this._data : new i(this._data)
                        }
                    };
                    for (var p = ["asText", "asBinary", "asNodeBuffer", "asUint8Array", "asArrayBuffer"], h = function() {
                            throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")
                        }, m = 0; m < p.length; m++) s.prototype[p[m]] = h;
                    r.exports = s
                }, {
                    "./compressedObject": 2,
                    "./stream/DataWorker": 27,
                    "./stream/GenericWorker": 28,
                    "./stream/StreamHelper": 29,
                    "./utf8": 31
                }],
                36: [function(n, r, a) {
                    (function(s) {
                        var o, i, c = s.MutationObserver || s.WebKitMutationObserver;
                        if (c) {
                            var d = 0,
                                l = new c(y),
                                p = s.document.createTextNode("");
                            l.observe(p, {
                                characterData: !0
                            }), o = function() {
                                p.data = d = ++d % 2
                            }
                        } else if (s.setImmediate || s.MessageChannel === void 0) o = "document" in s && "onreadystatechange" in s.document.createElement("script") ? function() {
                            var v = s.document.createElement("script");
                            v.onreadystatechange = function() {
                                y(), v.onreadystatechange = null, v.parentNode.removeChild(v), v = null
                            }, s.document.documentElement.appendChild(v)
                        } : function() {
                            setTimeout(y, 0)
                        };
                        else {
                            var h = new s.MessageChannel;
                            h.port1.onmessage = y, o = function() {
                                h.port2.postMessage(0)
                            }
                        }
                        var m = [];

                        function y() {
                            var v, b;
                            i = !0;
                            for (var w = m.length; w;) {
                                for (b = m, m = [], v = -1; ++v < w;) b[v]();
                                w = m.length
                            }
                            i = !1
                        }
                        r.exports = function(v) {
                            m.push(v) !== 1 || i || o()
                        }
                    }).call(this, typeof $a < "u" ? $a : typeof self < "u" ? self : typeof window < "u" ? window : {})
                }, {}],
                37: [function(n, r, a) {
                    var s = n("immediate");

                    function o() {}
                    var i = {},
                        c = ["REJECTED"],
                        d = ["FULFILLED"],
                        l = ["PENDING"];

                    function p(w) {
                        if (typeof w != "function") throw new TypeError("resolver must be a function");
                        this.state = l, this.queue = [], this.outcome = void 0, w !== o && v(this, w)
                    }

                    function h(w, x, _) {
                        this.promise = w, typeof x == "function" && (this.onFulfilled = x, this.callFulfilled = this.otherCallFulfilled), typeof _ == "function" && (this.onRejected = _, this.callRejected = this.otherCallRejected)
                    }

                    function m(w, x, _) {
                        s(function() {
                            var C;
                            try {
                                C = x(_)
                            } catch (T) {
                                return i.reject(w, T)
                            }
                            C === w ? i.reject(w, new TypeError("Cannot resolve promise with itself")) : i.resolve(w, C)
                        })
                    }

                    function y(w) {
                        var x = w && w.then;
                        if (w && (typeof w == "object" || typeof w == "function") && typeof x == "function") return function() {
                            x.apply(w, arguments)
                        }
                    }

                    function v(w, x) {
                        var _ = !1;

                        function C(M) {
                            _ || (_ = !0, i.reject(w, M))
                        }

                        function T(M) {
                            _ || (_ = !0, i.resolve(w, M))
                        }
                        var R = b(function() {
                            x(T, C)
                        });
                        R.status === "error" && C(R.value)
                    }

                    function b(w, x) {
                        var _ = {};
                        try {
                            _.value = w(x), _.status = "success"
                        } catch (C) {
                            _.status = "error", _.value = C
                        }
                        return _
                    }(r.exports = p).prototype.finally = function(w) {
                        if (typeof w != "function") return this;
                        var x = this.constructor;
                        return this.then(function(_) {
                            return x.resolve(w()).then(function() {
                                return _
                            })
                        }, function(_) {
                            return x.resolve(w()).then(function() {
                                throw _
                            })
                        })
                    }, p.prototype.catch = function(w) {
                        return this.then(null, w)
                    }, p.prototype.then = function(w, x) {
                        if (typeof w != "function" && this.state === d || typeof x != "function" && this.state === c) return this;
                        var _ = new this.constructor(o);
                        return this.state !== l ? m(_, this.state === d ? w : x, this.outcome) : this.queue.push(new h(_, w, x)), _
                    }, h.prototype.callFulfilled = function(w) {
                        i.resolve(this.promise, w)
                    }, h.prototype.otherCallFulfilled = function(w) {
                        m(this.promise, this.onFulfilled, w)
                    }, h.prototype.callRejected = function(w) {
                        i.reject(this.promise, w)
                    }, h.prototype.otherCallRejected = function(w) {
                        m(this.promise, this.onRejected, w)
                    }, i.resolve = function(w, x) {
                        var _ = b(y, x);
                        if (_.status === "error") return i.reject(w, _.value);
                        var C = _.value;
                        if (C) v(w, C);
                        else {
                            w.state = d, w.outcome = x;
                            for (var T = -1, R = w.queue.length; ++T < R;) w.queue[T].callFulfilled(x)
                        }
                        return w
                    }, i.reject = function(w, x) {
                        w.state = c, w.outcome = x;
                        for (var _ = -1, C = w.queue.length; ++_ < C;) w.queue[_].callRejected(x);
                        return w
                    }, p.resolve = function(w) {
                        return w instanceof this ? w : i.resolve(new this(o), w)
                    }, p.reject = function(w) {
                        var x = new this(o);
                        return i.reject(x, w)
                    }, p.all = function(w) {
                        var x = this;
                        if (Object.prototype.toString.call(w) !== "[object Array]") return this.reject(new TypeError("must be an array"));
                        var _ = w.length,
                            C = !1;
                        if (!_) return this.resolve([]);
                        for (var T = new Array(_), R = 0, M = -1, W = new this(o); ++M < _;) P(w[M], M);
                        return W;

                        function P(z, F) {
                            x.resolve(z).then(function(O) {
                                T[F] = O, ++R !== _ || C || (C = !0, i.resolve(W, T))
                            }, function(O) {
                                C || (C = !0, i.reject(W, O))
                            })
                        }
                    }, p.race = function(w) {
                        var x = this;
                        if (Object.prototype.toString.call(w) !== "[object Array]") return this.reject(new TypeError("must be an array"));
                        var _ = w.length,
                            C = !1;
                        if (!_) return this.resolve([]);
                        for (var T = -1, R = new this(o); ++T < _;) M = w[T], x.resolve(M).then(function(W) {
                            C || (C = !0, i.resolve(R, W))
                        }, function(W) {
                            C || (C = !0, i.reject(R, W))
                        });
                        var M;
                        return R
                    }
                }, {
                    immediate: 36
                }],
                38: [function(n, r, a) {
                    var s = {};
                    (0, n("./lib/utils/common").assign)(s, n("./lib/deflate"), n("./lib/inflate"), n("./lib/zlib/constants")), r.exports = s
                }, {
                    "./lib/deflate": 39,
                    "./lib/inflate": 40,
                    "./lib/utils/common": 41,
                    "./lib/zlib/constants": 44
                }],
                39: [function(n, r, a) {
                    var s = n("./zlib/deflate"),
                        o = n("./utils/common"),
                        i = n("./utils/strings"),
                        c = n("./zlib/messages"),
                        d = n("./zlib/zstream"),
                        l = Object.prototype.toString,
                        p = 0,
                        h = -1,
                        m = 0,
                        y = 8;

                    function v(w) {
                        if (!(this instanceof v)) return new v(w);
                        this.options = o.assign({
                            level: h,
                            method: y,
                            chunkSize: 16384,
                            windowBits: 15,
                            memLevel: 8,
                            strategy: m,
                            to: ""
                        }, w || {});
                        var x = this.options;
                        x.raw && 0 < x.windowBits ? x.windowBits = -x.windowBits : x.gzip && 0 < x.windowBits && x.windowBits < 16 && (x.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new d, this.strm.avail_out = 0;
                        var _ = s.deflateInit2(this.strm, x.level, x.method, x.windowBits, x.memLevel, x.strategy);
                        if (_ !== p) throw new Error(c[_]);
                        if (x.header && s.deflateSetHeader(this.strm, x.header), x.dictionary) {
                            var C;
                            if (C = typeof x.dictionary == "string" ? i.string2buf(x.dictionary) : l.call(x.dictionary) === "[object ArrayBuffer]" ? new Uint8Array(x.dictionary) : x.dictionary, (_ = s.deflateSetDictionary(this.strm, C)) !== p) throw new Error(c[_]);
                            this._dict_set = !0
                        }
                    }

                    function b(w, x) {
                        var _ = new v(x);
                        if (_.push(w, !0), _.err) throw _.msg || c[_.err];
                        return _.result
                    }
                    v.prototype.push = function(w, x) {
                        var _, C, T = this.strm,
                            R = this.options.chunkSize;
                        if (this.ended) return !1;
                        C = x === ~~x ? x : x === !0 ? 4 : 0, typeof w == "string" ? T.input = i.string2buf(w) : l.call(w) === "[object ArrayBuffer]" ? T.input = new Uint8Array(w) : T.input = w, T.next_in = 0, T.avail_in = T.input.length;
                        do {
                            if (T.avail_out === 0 && (T.output = new o.Buf8(R), T.next_out = 0, T.avail_out = R), (_ = s.deflate(T, C)) !== 1 && _ !== p) return this.onEnd(_), !(this.ended = !0);
                            T.avail_out !== 0 && (T.avail_in !== 0 || C !== 4 && C !== 2) || (this.options.to === "string" ? this.onData(i.buf2binstring(o.shrinkBuf(T.output, T.next_out))) : this.onData(o.shrinkBuf(T.output, T.next_out)))
                        } while ((0 < T.avail_in || T.avail_out === 0) && _ !== 1);
                        return C === 4 ? (_ = s.deflateEnd(this.strm), this.onEnd(_), this.ended = !0, _ === p) : C !== 2 || (this.onEnd(p), !(T.avail_out = 0))
                    }, v.prototype.onData = function(w) {
                        this.chunks.push(w)
                    }, v.prototype.onEnd = function(w) {
                        w === p && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = o.flattenChunks(this.chunks)), this.chunks = [], this.err = w, this.msg = this.strm.msg
                    }, a.Deflate = v, a.deflate = b, a.deflateRaw = function(w, x) {
                        return (x = x || {}).raw = !0, b(w, x)
                    }, a.gzip = function(w, x) {
                        return (x = x || {}).gzip = !0, b(w, x)
                    }
                }, {
                    "./utils/common": 41,
                    "./utils/strings": 42,
                    "./zlib/deflate": 46,
                    "./zlib/messages": 51,
                    "./zlib/zstream": 53
                }],
                40: [function(n, r, a) {
                    var s = n("./zlib/inflate"),
                        o = n("./utils/common"),
                        i = n("./utils/strings"),
                        c = n("./zlib/constants"),
                        d = n("./zlib/messages"),
                        l = n("./zlib/zstream"),
                        p = n("./zlib/gzheader"),
                        h = Object.prototype.toString;

                    function m(v) {
                        if (!(this instanceof m)) return new m(v);
                        this.options = o.assign({
                            chunkSize: 16384,
                            windowBits: 0,
                            to: ""
                        }, v || {});
                        var b = this.options;
                        b.raw && 0 <= b.windowBits && b.windowBits < 16 && (b.windowBits = -b.windowBits, b.windowBits === 0 && (b.windowBits = -15)), !(0 <= b.windowBits && b.windowBits < 16) || v && v.windowBits || (b.windowBits += 32), 15 < b.windowBits && b.windowBits < 48 && !(15 & b.windowBits) && (b.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new l, this.strm.avail_out = 0;
                        var w = s.inflateInit2(this.strm, b.windowBits);
                        if (w !== c.Z_OK) throw new Error(d[w]);
                        this.header = new p, s.inflateGetHeader(this.strm, this.header)
                    }

                    function y(v, b) {
                        var w = new m(b);
                        if (w.push(v, !0), w.err) throw w.msg || d[w.err];
                        return w.result
                    }
                    m.prototype.push = function(v, b) {
                        var w, x, _, C, T, R, M = this.strm,
                            W = this.options.chunkSize,
                            P = this.options.dictionary,
                            z = !1;
                        if (this.ended) return !1;
                        x = b === ~~b ? b : b === !0 ? c.Z_FINISH : c.Z_NO_FLUSH, typeof v == "string" ? M.input = i.binstring2buf(v) : h.call(v) === "[object ArrayBuffer]" ? M.input = new Uint8Array(v) : M.input = v, M.next_in = 0, M.avail_in = M.input.length;
                        do {
                            if (M.avail_out === 0 && (M.output = new o.Buf8(W), M.next_out = 0, M.avail_out = W), (w = s.inflate(M, c.Z_NO_FLUSH)) === c.Z_NEED_DICT && P && (R = typeof P == "string" ? i.string2buf(P) : h.call(P) === "[object ArrayBuffer]" ? new Uint8Array(P) : P, w = s.inflateSetDictionary(this.strm, R)), w === c.Z_BUF_ERROR && z === !0 && (w = c.Z_OK, z = !1), w !== c.Z_STREAM_END && w !== c.Z_OK) return this.onEnd(w), !(this.ended = !0);
                            M.next_out && (M.avail_out !== 0 && w !== c.Z_STREAM_END && (M.avail_in !== 0 || x !== c.Z_FINISH && x !== c.Z_SYNC_FLUSH) || (this.options.to === "string" ? (_ = i.utf8border(M.output, M.next_out), C = M.next_out - _, T = i.buf2string(M.output, _), M.next_out = C, M.avail_out = W - C, C && o.arraySet(M.output, M.output, _, C, 0), this.onData(T)) : this.onData(o.shrinkBuf(M.output, M.next_out)))), M.avail_in === 0 && M.avail_out === 0 && (z = !0)
                        } while ((0 < M.avail_in || M.avail_out === 0) && w !== c.Z_STREAM_END);
                        return w === c.Z_STREAM_END && (x = c.Z_FINISH), x === c.Z_FINISH ? (w = s.inflateEnd(this.strm), this.onEnd(w), this.ended = !0, w === c.Z_OK) : x !== c.Z_SYNC_FLUSH || (this.onEnd(c.Z_OK), !(M.avail_out = 0))
                    }, m.prototype.onData = function(v) {
                        this.chunks.push(v)
                    }, m.prototype.onEnd = function(v) {
                        v === c.Z_OK && (this.options.to === "string" ? this.result = this.chunks.join("") : this.result = o.flattenChunks(this.chunks)), this.chunks = [], this.err = v, this.msg = this.strm.msg
                    }, a.Inflate = m, a.inflate = y, a.inflateRaw = function(v, b) {
                        return (b = b || {}).raw = !0, y(v, b)
                    }, a.ungzip = y
                }, {
                    "./utils/common": 41,
                    "./utils/strings": 42,
                    "./zlib/constants": 44,
                    "./zlib/gzheader": 47,
                    "./zlib/inflate": 49,
                    "./zlib/messages": 51,
                    "./zlib/zstream": 53
                }],
                41: [function(n, r, a) {
                    var s = typeof Uint8Array < "u" && typeof Uint16Array < "u" && typeof Int32Array < "u";
                    a.assign = function(c) {
                        for (var d = Array.prototype.slice.call(arguments, 1); d.length;) {
                            var l = d.shift();
                            if (l) {
                                if (typeof l != "object") throw new TypeError(l + "must be non-object");
                                for (var p in l) l.hasOwnProperty(p) && (c[p] = l[p])
                            }
                        }
                        return c
                    }, a.shrinkBuf = function(c, d) {
                        return c.length === d ? c : c.subarray ? c.subarray(0, d) : (c.length = d, c)
                    };
                    var o = {
                            arraySet: function(c, d, l, p, h) {
                                if (d.subarray && c.subarray) c.set(d.subarray(l, l + p), h);
                                else
                                    for (var m = 0; m < p; m++) c[h + m] = d[l + m]
                            },
                            flattenChunks: function(c) {
                                var d, l, p, h, m, y;
                                for (d = p = 0, l = c.length; d < l; d++) p += c[d].length;
                                for (y = new Uint8Array(p), d = h = 0, l = c.length; d < l; d++) m = c[d], y.set(m, h), h += m.length;
                                return y
                            }
                        },
                        i = {
                            arraySet: function(c, d, l, p, h) {
                                for (var m = 0; m < p; m++) c[h + m] = d[l + m]
                            },
                            flattenChunks: function(c) {
                                return [].concat.apply([], c)
                            }
                        };
                    a.setTyped = function(c) {
                        c ? (a.Buf8 = Uint8Array, a.Buf16 = Uint16Array, a.Buf32 = Int32Array, a.assign(a, o)) : (a.Buf8 = Array, a.Buf16 = Array, a.Buf32 = Array, a.assign(a, i))
                    }, a.setTyped(s)
                }, {}],
                42: [function(n, r, a) {
                    var s = n("./common"),
                        o = !0,
                        i = !0;
                    try {
                        String.fromCharCode.apply(null, [0])
                    } catch {
                        o = !1
                    }
                    try {
                        String.fromCharCode.apply(null, new Uint8Array(1))
                    } catch {
                        i = !1
                    }
                    for (var c = new s.Buf8(256), d = 0; d < 256; d++) c[d] = 252 <= d ? 6 : 248 <= d ? 5 : 240 <= d ? 4 : 224 <= d ? 3 : 192 <= d ? 2 : 1;

                    function l(p, h) {
                        if (h < 65537 && (p.subarray && i || !p.subarray && o)) return String.fromCharCode.apply(null, s.shrinkBuf(p, h));
                        for (var m = "", y = 0; y < h; y++) m += String.fromCharCode(p[y]);
                        return m
                    }
                    c[254] = c[254] = 1, a.string2buf = function(p) {
                        var h, m, y, v, b, w = p.length,
                            x = 0;
                        for (v = 0; v < w; v++)(64512 & (m = p.charCodeAt(v))) == 55296 && v + 1 < w && (64512 & (y = p.charCodeAt(v + 1))) == 56320 && (m = 65536 + (m - 55296 << 10) + (y - 56320), v++), x += m < 128 ? 1 : m < 2048 ? 2 : m < 65536 ? 3 : 4;
                        for (h = new s.Buf8(x), v = b = 0; b < x; v++)(64512 & (m = p.charCodeAt(v))) == 55296 && v + 1 < w && (64512 & (y = p.charCodeAt(v + 1))) == 56320 && (m = 65536 + (m - 55296 << 10) + (y - 56320), v++), m < 128 ? h[b++] = m : (m < 2048 ? h[b++] = 192 | m >>> 6 : (m < 65536 ? h[b++] = 224 | m >>> 12 : (h[b++] = 240 | m >>> 18, h[b++] = 128 | m >>> 12 & 63), h[b++] = 128 | m >>> 6 & 63), h[b++] = 128 | 63 & m);
                        return h
                    }, a.buf2binstring = function(p) {
                        return l(p, p.length)
                    }, a.binstring2buf = function(p) {
                        for (var h = new s.Buf8(p.length), m = 0, y = h.length; m < y; m++) h[m] = p.charCodeAt(m);
                        return h
                    }, a.buf2string = function(p, h) {
                        var m, y, v, b, w = h || p.length,
                            x = new Array(2 * w);
                        for (m = y = 0; m < w;)
                            if ((v = p[m++]) < 128) x[y++] = v;
                            else if (4 < (b = c[v])) x[y++] = 65533, m += b - 1;
                        else {
                            for (v &= b === 2 ? 31 : b === 3 ? 15 : 7; 1 < b && m < w;) v = v << 6 | 63 & p[m++], b--;
                            1 < b ? x[y++] = 65533 : v < 65536 ? x[y++] = v : (v -= 65536, x[y++] = 55296 | v >> 10 & 1023, x[y++] = 56320 | 1023 & v)
                        }
                        return l(x, y)
                    }, a.utf8border = function(p, h) {
                        var m;
                        for ((h = h || p.length) > p.length && (h = p.length), m = h - 1; 0 <= m && (192 & p[m]) == 128;) m--;
                        return m < 0 || m === 0 ? h : m + c[p[m]] > h ? m : h
                    }
                }, {
                    "./common": 41
                }],
                43: [function(n, r, a) {
                    r.exports = function(s, o, i, c) {
                        for (var d = 65535 & s | 0, l = s >>> 16 & 65535 | 0, p = 0; i !== 0;) {
                            for (i -= p = 2e3 < i ? 2e3 : i; l = l + (d = d + o[c++] | 0) | 0, --p;);
                            d %= 65521, l %= 65521
                        }
                        return d | l << 16 | 0
                    }
                }, {}],
                44: [function(n, r, a) {
                    r.exports = {
                        Z_NO_FLUSH: 0,
                        Z_PARTIAL_FLUSH: 1,
                        Z_SYNC_FLUSH: 2,
                        Z_FULL_FLUSH: 3,
                        Z_FINISH: 4,
                        Z_BLOCK: 5,
                        Z_TREES: 6,
                        Z_OK: 0,
                        Z_STREAM_END: 1,
                        Z_NEED_DICT: 2,
                        Z_ERRNO: -1,
                        Z_STREAM_ERROR: -2,
                        Z_DATA_ERROR: -3,
                        Z_BUF_ERROR: -5,
                        Z_NO_COMPRESSION: 0,
                        Z_BEST_SPEED: 1,
                        Z_BEST_COMPRESSION: 9,
                        Z_DEFAULT_COMPRESSION: -1,
                        Z_FILTERED: 1,
                        Z_HUFFMAN_ONLY: 2,
                        Z_RLE: 3,
                        Z_FIXED: 4,
                        Z_DEFAULT_STRATEGY: 0,
                        Z_BINARY: 0,
                        Z_TEXT: 1,
                        Z_UNKNOWN: 2,
                        Z_DEFLATED: 8
                    }
                }, {}],
                45: [function(n, r, a) {
                    var s = function() {
                        for (var o, i = [], c = 0; c < 256; c++) {
                            o = c;
                            for (var d = 0; d < 8; d++) o = 1 & o ? 3988292384 ^ o >>> 1 : o >>> 1;
                            i[c] = o
                        }
                        return i
                    }();
                    r.exports = function(o, i, c, d) {
                        var l = s,
                            p = d + c;
                        o ^= -1;
                        for (var h = d; h < p; h++) o = o >>> 8 ^ l[255 & (o ^ i[h])];
                        return -1 ^ o
                    }
                }, {}],
                46: [function(n, r, a) {
                    var s, o = n("../utils/common"),
                        i = n("./trees"),
                        c = n("./adler32"),
                        d = n("./crc32"),
                        l = n("./messages"),
                        p = 0,
                        h = 4,
                        m = 0,
                        y = -2,
                        v = -1,
                        b = 4,
                        w = 2,
                        x = 8,
                        _ = 9,
                        C = 286,
                        T = 30,
                        R = 19,
                        M = 2 * C + 1,
                        W = 15,
                        P = 3,
                        z = 258,
                        F = z + P + 1,
                        O = 42,
                        U = 113,
                        N = 1,
                        q = 2,
                        ae = 3,
                        J = 4;

                    function Z($, be) {
                        return $.msg = l[be], be
                    }

                    function Y($) {
                        return ($ << 1) - (4 < $ ? 9 : 0)
                    }

                    function te($) {
                        for (var be = $.length; 0 <= --be;) $[be] = 0
                    }

                    function B($) {
                        var be = $.state,
                            pe = be.pending;
                        pe > $.avail_out && (pe = $.avail_out), pe !== 0 && (o.arraySet($.output, be.pending_buf, be.pending_out, pe, $.next_out), $.next_out += pe, be.pending_out += pe, $.total_out += pe, $.avail_out -= pe, be.pending -= pe, be.pending === 0 && (be.pending_out = 0))
                    }

                    function V($, be) {
                        i._tr_flush_block($, 0 <= $.block_start ? $.block_start : -1, $.strstart - $.block_start, be), $.block_start = $.strstart, B($.strm)
                    }

                    function oe($, be) {
                        $.pending_buf[$.pending++] = be
                    }

                    function ue($, be) {
                        $.pending_buf[$.pending++] = be >>> 8 & 255, $.pending_buf[$.pending++] = 255 & be
                    }

                    function le($, be) {
                        var pe, Q, K = $.max_chain_length,
                            ce = $.strstart,
                            _e = $.prev_length,
                            Ae = $.nice_match,
                            ge = $.strstart > $.w_size - F ? $.strstart - ($.w_size - F) : 0,
                            $e = $.window,
                            Ve = $.w_mask,
                            Me = $.prev,
                            Ze = $.strstart + z,
                            ft = $e[ce + _e - 1],
                            dt = $e[ce + _e];
                        $.prev_length >= $.good_match && (K >>= 2), Ae > $.lookahead && (Ae = $.lookahead);
                        do
                            if ($e[(pe = be) + _e] === dt && $e[pe + _e - 1] === ft && $e[pe] === $e[ce] && $e[++pe] === $e[ce + 1]) {
                                ce += 2, pe++;
                                do; while ($e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && $e[++ce] === $e[++pe] && ce < Ze);
                                if (Q = z - (Ze - ce), ce = Ze - z, _e < Q) {
                                    if ($.match_start = be, Ae <= (_e = Q)) break;
                                    ft = $e[ce + _e - 1], dt = $e[ce + _e]
                                }
                            } while ((be = Me[be & Ve]) > ge && --K != 0);
                        return _e <= $.lookahead ? _e : $.lookahead
                    }

                    function Ee($) {
                        var be, pe, Q, K, ce, _e, Ae, ge, $e, Ve, Me = $.w_size;
                        do {
                            if (K = $.window_size - $.lookahead - $.strstart, $.strstart >= Me + (Me - F)) {
                                for (o.arraySet($.window, $.window, Me, Me, 0), $.match_start -= Me, $.strstart -= Me, $.block_start -= Me, be = pe = $.hash_size; Q = $.head[--be], $.head[be] = Me <= Q ? Q - Me : 0, --pe;);
                                for (be = pe = Me; Q = $.prev[--be], $.prev[be] = Me <= Q ? Q - Me : 0, --pe;);
                                K += Me
                            }
                            if ($.strm.avail_in === 0) break;
                            if (_e = $.strm, Ae = $.window, ge = $.strstart + $.lookahead, $e = K, Ve = void 0, Ve = _e.avail_in, $e < Ve && (Ve = $e), pe = Ve === 0 ? 0 : (_e.avail_in -= Ve, o.arraySet(Ae, _e.input, _e.next_in, Ve, ge), _e.state.wrap === 1 ? _e.adler = c(_e.adler, Ae, Ve, ge) : _e.state.wrap === 2 && (_e.adler = d(_e.adler, Ae, Ve, ge)), _e.next_in += Ve, _e.total_in += Ve, Ve), $.lookahead += pe, $.lookahead + $.insert >= P)
                                for (ce = $.strstart - $.insert, $.ins_h = $.window[ce], $.ins_h = ($.ins_h << $.hash_shift ^ $.window[ce + 1]) & $.hash_mask; $.insert && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[ce + P - 1]) & $.hash_mask, $.prev[ce & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = ce, ce++, $.insert--, !($.lookahead + $.insert < P)););
                        } while ($.lookahead < F && $.strm.avail_in !== 0)
                    }

                    function Re($, be) {
                        for (var pe, Q;;) {
                            if ($.lookahead < F) {
                                if (Ee($), $.lookahead < F && be === p) return N;
                                if ($.lookahead === 0) break
                            }
                            if (pe = 0, $.lookahead >= P && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + P - 1]) & $.hash_mask, pe = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), pe !== 0 && $.strstart - pe <= $.w_size - F && ($.match_length = le($, pe)), $.match_length >= P)
                                if (Q = i._tr_tally($, $.strstart - $.match_start, $.match_length - P), $.lookahead -= $.match_length, $.match_length <= $.max_lazy_match && $.lookahead >= P) {
                                    for ($.match_length--; $.strstart++, $.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + P - 1]) & $.hash_mask, pe = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart, --$.match_length != 0;);
                                    $.strstart++
                                } else $.strstart += $.match_length, $.match_length = 0, $.ins_h = $.window[$.strstart], $.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + 1]) & $.hash_mask;
                            else Q = i._tr_tally($, 0, $.window[$.strstart]), $.lookahead--, $.strstart++;
                            if (Q && (V($, !1), $.strm.avail_out === 0)) return N
                        }
                        return $.insert = $.strstart < P - 1 ? $.strstart : P - 1, be === h ? (V($, !0), $.strm.avail_out === 0 ? ae : J) : $.last_lit && (V($, !1), $.strm.avail_out === 0) ? N : q
                    }

                    function xe($, be) {
                        for (var pe, Q, K;;) {
                            if ($.lookahead < F) {
                                if (Ee($), $.lookahead < F && be === p) return N;
                                if ($.lookahead === 0) break
                            }
                            if (pe = 0, $.lookahead >= P && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + P - 1]) & $.hash_mask, pe = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), $.prev_length = $.match_length, $.prev_match = $.match_start, $.match_length = P - 1, pe !== 0 && $.prev_length < $.max_lazy_match && $.strstart - pe <= $.w_size - F && ($.match_length = le($, pe), $.match_length <= 5 && ($.strategy === 1 || $.match_length === P && 4096 < $.strstart - $.match_start) && ($.match_length = P - 1)), $.prev_length >= P && $.match_length <= $.prev_length) {
                                for (K = $.strstart + $.lookahead - P, Q = i._tr_tally($, $.strstart - 1 - $.prev_match, $.prev_length - P), $.lookahead -= $.prev_length - 1, $.prev_length -= 2; ++$.strstart <= K && ($.ins_h = ($.ins_h << $.hash_shift ^ $.window[$.strstart + P - 1]) & $.hash_mask, pe = $.prev[$.strstart & $.w_mask] = $.head[$.ins_h], $.head[$.ins_h] = $.strstart), --$.prev_length != 0;);
                                if ($.match_available = 0, $.match_length = P - 1, $.strstart++, Q && (V($, !1), $.strm.avail_out === 0)) return N
                            } else if ($.match_available) {
                                if ((Q = i._tr_tally($, 0, $.window[$.strstart - 1])) && V($, !1), $.strstart++, $.lookahead--, $.strm.avail_out === 0) return N
                            } else $.match_available = 1, $.strstart++, $.lookahead--
                        }
                        return $.match_available && (Q = i._tr_tally($, 0, $.window[$.strstart - 1]), $.match_available = 0), $.insert = $.strstart < P - 1 ? $.strstart : P - 1, be === h ? (V($, !0), $.strm.avail_out === 0 ? ae : J) : $.last_lit && (V($, !1), $.strm.avail_out === 0) ? N : q
                    }

                    function Ne($, be, pe, Q, K) {
                        this.good_length = $, this.max_lazy = be, this.nice_length = pe, this.max_chain = Q, this.func = K
                    }

                    function He() {
                        this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = x, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new o.Buf16(2 * M), this.dyn_dtree = new o.Buf16(2 * (2 * T + 1)), this.bl_tree = new o.Buf16(2 * (2 * R + 1)), te(this.dyn_ltree), te(this.dyn_dtree), te(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new o.Buf16(W + 1), this.heap = new o.Buf16(2 * C + 1), te(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new o.Buf16(2 * C + 1), te(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
                    }

                    function Ke($) {
                        var be;
                        return $ && $.state ? ($.total_in = $.total_out = 0, $.data_type = w, (be = $.state).pending = 0, be.pending_out = 0, be.wrap < 0 && (be.wrap = -be.wrap), be.status = be.wrap ? O : U, $.adler = be.wrap === 2 ? 0 : 1, be.last_flush = p, i._tr_init(be), m) : Z($, y)
                    }

                    function et($) {
                        var be = Ke($);
                        return be === m && function(pe) {
                            pe.window_size = 2 * pe.w_size, te(pe.head), pe.max_lazy_match = s[pe.level].max_lazy, pe.good_match = s[pe.level].good_length, pe.nice_match = s[pe.level].nice_length, pe.max_chain_length = s[pe.level].max_chain, pe.strstart = 0, pe.block_start = 0, pe.lookahead = 0, pe.insert = 0, pe.match_length = pe.prev_length = P - 1, pe.match_available = 0, pe.ins_h = 0
                        }($.state), be
                    }

                    function Qe($, be, pe, Q, K, ce) {
                        if (!$) return y;
                        var _e = 1;
                        if (be === v && (be = 6), Q < 0 ? (_e = 0, Q = -Q) : 15 < Q && (_e = 2, Q -= 16), K < 1 || _ < K || pe !== x || Q < 8 || 15 < Q || be < 0 || 9 < be || ce < 0 || b < ce) return Z($, y);
                        Q === 8 && (Q = 9);
                        var Ae = new He;
                        return ($.state = Ae).strm = $, Ae.wrap = _e, Ae.gzhead = null, Ae.w_bits = Q, Ae.w_size = 1 << Ae.w_bits, Ae.w_mask = Ae.w_size - 1, Ae.hash_bits = K + 7, Ae.hash_size = 1 << Ae.hash_bits, Ae.hash_mask = Ae.hash_size - 1, Ae.hash_shift = ~~((Ae.hash_bits + P - 1) / P), Ae.window = new o.Buf8(2 * Ae.w_size), Ae.head = new o.Buf16(Ae.hash_size), Ae.prev = new o.Buf16(Ae.w_size), Ae.lit_bufsize = 1 << K + 6, Ae.pending_buf_size = 4 * Ae.lit_bufsize, Ae.pending_buf = new o.Buf8(Ae.pending_buf_size), Ae.d_buf = 1 * Ae.lit_bufsize, Ae.l_buf = 3 * Ae.lit_bufsize, Ae.level = be, Ae.strategy = ce, Ae.method = pe, et($)
                    }
                    s = [new Ne(0, 0, 0, 0, function($, be) {
                        var pe = 65535;
                        for (pe > $.pending_buf_size - 5 && (pe = $.pending_buf_size - 5);;) {
                            if ($.lookahead <= 1) {
                                if (Ee($), $.lookahead === 0 && be === p) return N;
                                if ($.lookahead === 0) break
                            }
                            $.strstart += $.lookahead, $.lookahead = 0;
                            var Q = $.block_start + pe;
                            if (($.strstart === 0 || $.strstart >= Q) && ($.lookahead = $.strstart - Q, $.strstart = Q, V($, !1), $.strm.avail_out === 0) || $.strstart - $.block_start >= $.w_size - F && (V($, !1), $.strm.avail_out === 0)) return N
                        }
                        return $.insert = 0, be === h ? (V($, !0), $.strm.avail_out === 0 ? ae : J) : ($.strstart > $.block_start && (V($, !1), $.strm.avail_out), N)
                    }), new Ne(4, 4, 8, 4, Re), new Ne(4, 5, 16, 8, Re), new Ne(4, 6, 32, 32, Re), new Ne(4, 4, 16, 16, xe), new Ne(8, 16, 32, 32, xe), new Ne(8, 16, 128, 128, xe), new Ne(8, 32, 128, 256, xe), new Ne(32, 128, 258, 1024, xe), new Ne(32, 258, 258, 4096, xe)], a.deflateInit = function($, be) {
                        return Qe($, be, x, 15, 8, 0)
                    }, a.deflateInit2 = Qe, a.deflateReset = et, a.deflateResetKeep = Ke, a.deflateSetHeader = function($, be) {
                        return $ && $.state ? $.state.wrap !== 2 ? y : ($.state.gzhead = be, m) : y
                    }, a.deflate = function($, be) {
                        var pe, Q, K, ce;
                        if (!$ || !$.state || 5 < be || be < 0) return $ ? Z($, y) : y;
                        if (Q = $.state, !$.output || !$.input && $.avail_in !== 0 || Q.status === 666 && be !== h) return Z($, $.avail_out === 0 ? -5 : y);
                        if (Q.strm = $, pe = Q.last_flush, Q.last_flush = be, Q.status === O)
                            if (Q.wrap === 2) $.adler = 0, oe(Q, 31), oe(Q, 139), oe(Q, 8), Q.gzhead ? (oe(Q, (Q.gzhead.text ? 1 : 0) + (Q.gzhead.hcrc ? 2 : 0) + (Q.gzhead.extra ? 4 : 0) + (Q.gzhead.name ? 8 : 0) + (Q.gzhead.comment ? 16 : 0)), oe(Q, 255 & Q.gzhead.time), oe(Q, Q.gzhead.time >> 8 & 255), oe(Q, Q.gzhead.time >> 16 & 255), oe(Q, Q.gzhead.time >> 24 & 255), oe(Q, Q.level === 9 ? 2 : 2 <= Q.strategy || Q.level < 2 ? 4 : 0), oe(Q, 255 & Q.gzhead.os), Q.gzhead.extra && Q.gzhead.extra.length && (oe(Q, 255 & Q.gzhead.extra.length), oe(Q, Q.gzhead.extra.length >> 8 & 255)), Q.gzhead.hcrc && ($.adler = d($.adler, Q.pending_buf, Q.pending, 0)), Q.gzindex = 0, Q.status = 69) : (oe(Q, 0), oe(Q, 0), oe(Q, 0), oe(Q, 0), oe(Q, 0), oe(Q, Q.level === 9 ? 2 : 2 <= Q.strategy || Q.level < 2 ? 4 : 0), oe(Q, 3), Q.status = U);
                            else {
                                var _e = x + (Q.w_bits - 8 << 4) << 8;
                                _e |= (2 <= Q.strategy || Q.level < 2 ? 0 : Q.level < 6 ? 1 : Q.level === 6 ? 2 : 3) << 6, Q.strstart !== 0 && (_e |= 32), _e += 31 - _e % 31, Q.status = U, ue(Q, _e), Q.strstart !== 0 && (ue(Q, $.adler >>> 16), ue(Q, 65535 & $.adler)), $.adler = 1
                            } if (Q.status === 69)
                            if (Q.gzhead.extra) {
                                for (K = Q.pending; Q.gzindex < (65535 & Q.gzhead.extra.length) && (Q.pending !== Q.pending_buf_size || (Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), B($), K = Q.pending, Q.pending !== Q.pending_buf_size));) oe(Q, 255 & Q.gzhead.extra[Q.gzindex]), Q.gzindex++;
                                Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), Q.gzindex === Q.gzhead.extra.length && (Q.gzindex = 0, Q.status = 73)
                            } else Q.status = 73;
                        if (Q.status === 73)
                            if (Q.gzhead.name) {
                                K = Q.pending;
                                do {
                                    if (Q.pending === Q.pending_buf_size && (Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), B($), K = Q.pending, Q.pending === Q.pending_buf_size)) {
                                        ce = 1;
                                        break
                                    }
                                    ce = Q.gzindex < Q.gzhead.name.length ? 255 & Q.gzhead.name.charCodeAt(Q.gzindex++) : 0, oe(Q, ce)
                                } while (ce !== 0);
                                Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), ce === 0 && (Q.gzindex = 0, Q.status = 91)
                            } else Q.status = 91;
                        if (Q.status === 91)
                            if (Q.gzhead.comment) {
                                K = Q.pending;
                                do {
                                    if (Q.pending === Q.pending_buf_size && (Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), B($), K = Q.pending, Q.pending === Q.pending_buf_size)) {
                                        ce = 1;
                                        break
                                    }
                                    ce = Q.gzindex < Q.gzhead.comment.length ? 255 & Q.gzhead.comment.charCodeAt(Q.gzindex++) : 0, oe(Q, ce)
                                } while (ce !== 0);
                                Q.gzhead.hcrc && Q.pending > K && ($.adler = d($.adler, Q.pending_buf, Q.pending - K, K)), ce === 0 && (Q.status = 103)
                            } else Q.status = 103;
                        if (Q.status === 103 && (Q.gzhead.hcrc ? (Q.pending + 2 > Q.pending_buf_size && B($), Q.pending + 2 <= Q.pending_buf_size && (oe(Q, 255 & $.adler), oe(Q, $.adler >> 8 & 255), $.adler = 0, Q.status = U)) : Q.status = U), Q.pending !== 0) {
                            if (B($), $.avail_out === 0) return Q.last_flush = -1, m
                        } else if ($.avail_in === 0 && Y(be) <= Y(pe) && be !== h) return Z($, -5);
                        if (Q.status === 666 && $.avail_in !== 0) return Z($, -5);
                        if ($.avail_in !== 0 || Q.lookahead !== 0 || be !== p && Q.status !== 666) {
                            var Ae = Q.strategy === 2 ? function(ge, $e) {
                                for (var Ve;;) {
                                    if (ge.lookahead === 0 && (Ee(ge), ge.lookahead === 0)) {
                                        if ($e === p) return N;
                                        break
                                    }
                                    if (ge.match_length = 0, Ve = i._tr_tally(ge, 0, ge.window[ge.strstart]), ge.lookahead--, ge.strstart++, Ve && (V(ge, !1), ge.strm.avail_out === 0)) return N
                                }
                                return ge.insert = 0, $e === h ? (V(ge, !0), ge.strm.avail_out === 0 ? ae : J) : ge.last_lit && (V(ge, !1), ge.strm.avail_out === 0) ? N : q
                            }(Q, be) : Q.strategy === 3 ? function(ge, $e) {
                                for (var Ve, Me, Ze, ft, dt = ge.window;;) {
                                    if (ge.lookahead <= z) {
                                        if (Ee(ge), ge.lookahead <= z && $e === p) return N;
                                        if (ge.lookahead === 0) break
                                    }
                                    if (ge.match_length = 0, ge.lookahead >= P && 0 < ge.strstart && (Me = dt[Ze = ge.strstart - 1]) === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze]) {
                                        ft = ge.strstart + z;
                                        do; while (Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Me === dt[++Ze] && Ze < ft);
                                        ge.match_length = z - (ft - Ze), ge.match_length > ge.lookahead && (ge.match_length = ge.lookahead)
                                    }
                                    if (ge.match_length >= P ? (Ve = i._tr_tally(ge, 1, ge.match_length - P), ge.lookahead -= ge.match_length, ge.strstart += ge.match_length, ge.match_length = 0) : (Ve = i._tr_tally(ge, 0, ge.window[ge.strstart]), ge.lookahead--, ge.strstart++), Ve && (V(ge, !1), ge.strm.avail_out === 0)) return N
                                }
                                return ge.insert = 0, $e === h ? (V(ge, !0), ge.strm.avail_out === 0 ? ae : J) : ge.last_lit && (V(ge, !1), ge.strm.avail_out === 0) ? N : q
                            }(Q, be) : s[Q.level].func(Q, be);
                            if (Ae !== ae && Ae !== J || (Q.status = 666), Ae === N || Ae === ae) return $.avail_out === 0 && (Q.last_flush = -1), m;
                            if (Ae === q && (be === 1 ? i._tr_align(Q) : be !== 5 && (i._tr_stored_block(Q, 0, 0, !1), be === 3 && (te(Q.head), Q.lookahead === 0 && (Q.strstart = 0, Q.block_start = 0, Q.insert = 0))), B($), $.avail_out === 0)) return Q.last_flush = -1, m
                        }
                        return be !== h ? m : Q.wrap <= 0 ? 1 : (Q.wrap === 2 ? (oe(Q, 255 & $.adler), oe(Q, $.adler >> 8 & 255), oe(Q, $.adler >> 16 & 255), oe(Q, $.adler >> 24 & 255), oe(Q, 255 & $.total_in), oe(Q, $.total_in >> 8 & 255), oe(Q, $.total_in >> 16 & 255), oe(Q, $.total_in >> 24 & 255)) : (ue(Q, $.adler >>> 16), ue(Q, 65535 & $.adler)), B($), 0 < Q.wrap && (Q.wrap = -Q.wrap), Q.pending !== 0 ? m : 1)
                    }, a.deflateEnd = function($) {
                        var be;
                        return $ && $.state ? (be = $.state.status) !== O && be !== 69 && be !== 73 && be !== 91 && be !== 103 && be !== U && be !== 666 ? Z($, y) : ($.state = null, be === U ? Z($, -3) : m) : y
                    }, a.deflateSetDictionary = function($, be) {
                        var pe, Q, K, ce, _e, Ae, ge, $e, Ve = be.length;
                        if (!$ || !$.state || (ce = (pe = $.state).wrap) === 2 || ce === 1 && pe.status !== O || pe.lookahead) return y;
                        for (ce === 1 && ($.adler = c($.adler, be, Ve, 0)), pe.wrap = 0, Ve >= pe.w_size && (ce === 0 && (te(pe.head), pe.strstart = 0, pe.block_start = 0, pe.insert = 0), $e = new o.Buf8(pe.w_size), o.arraySet($e, be, Ve - pe.w_size, pe.w_size, 0), be = $e, Ve = pe.w_size), _e = $.avail_in, Ae = $.next_in, ge = $.input, $.avail_in = Ve, $.next_in = 0, $.input = be, Ee(pe); pe.lookahead >= P;) {
                            for (Q = pe.strstart, K = pe.lookahead - (P - 1); pe.ins_h = (pe.ins_h << pe.hash_shift ^ pe.window[Q + P - 1]) & pe.hash_mask, pe.prev[Q & pe.w_mask] = pe.head[pe.ins_h], pe.head[pe.ins_h] = Q, Q++, --K;);
                            pe.strstart = Q, pe.lookahead = P - 1, Ee(pe)
                        }
                        return pe.strstart += pe.lookahead, pe.block_start = pe.strstart, pe.insert = pe.lookahead, pe.lookahead = 0, pe.match_length = pe.prev_length = P - 1, pe.match_available = 0, $.next_in = Ae, $.input = ge, $.avail_in = _e, pe.wrap = ce, m
                    }, a.deflateInfo = "pako deflate (from Nodeca project)"
                }, {
                    "../utils/common": 41,
                    "./adler32": 43,
                    "./crc32": 45,
                    "./messages": 51,
                    "./trees": 52
                }],
                47: [function(n, r, a) {
                    r.exports = function() {
                        this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
                    }
                }, {}],
                48: [function(n, r, a) {
                    r.exports = function(s, o) {
                        var i, c, d, l, p, h, m, y, v, b, w, x, _, C, T, R, M, W, P, z, F, O, U, N, q;
                        i = s.state, c = s.next_in, N = s.input, d = c + (s.avail_in - 5), l = s.next_out, q = s.output, p = l - (o - s.avail_out), h = l + (s.avail_out - 257), m = i.dmax, y = i.wsize, v = i.whave, b = i.wnext, w = i.window, x = i.hold, _ = i.bits, C = i.lencode, T = i.distcode, R = (1 << i.lenbits) - 1, M = (1 << i.distbits) - 1;
                        e: do {
                            _ < 15 && (x += N[c++] << _, _ += 8, x += N[c++] << _, _ += 8), W = C[x & R];
                            t: for (;;) {
                                if (x >>>= P = W >>> 24, _ -= P, (P = W >>> 16 & 255) === 0) q[l++] = 65535 & W;
                                else {
                                    if (!(16 & P)) {
                                        if (!(64 & P)) {
                                            W = C[(65535 & W) + (x & (1 << P) - 1)];
                                            continue t
                                        }
                                        if (32 & P) {
                                            i.mode = 12;
                                            break e
                                        }
                                        s.msg = "invalid literal/length code", i.mode = 30;
                                        break e
                                    }
                                    z = 65535 & W, (P &= 15) && (_ < P && (x += N[c++] << _, _ += 8), z += x & (1 << P) - 1, x >>>= P, _ -= P), _ < 15 && (x += N[c++] << _, _ += 8, x += N[c++] << _, _ += 8), W = T[x & M];
                                    n: for (;;) {
                                        if (x >>>= P = W >>> 24, _ -= P, !(16 & (P = W >>> 16 & 255))) {
                                            if (!(64 & P)) {
                                                W = T[(65535 & W) + (x & (1 << P) - 1)];
                                                continue n
                                            }
                                            s.msg = "invalid distance code", i.mode = 30;
                                            break e
                                        }
                                        if (F = 65535 & W, _ < (P &= 15) && (x += N[c++] << _, (_ += 8) < P && (x += N[c++] << _, _ += 8)), m < (F += x & (1 << P) - 1)) {
                                            s.msg = "invalid distance too far back", i.mode = 30;
                                            break e
                                        }
                                        if (x >>>= P, _ -= P, (P = l - p) < F) {
                                            if (v < (P = F - P) && i.sane) {
                                                s.msg = "invalid distance too far back", i.mode = 30;
                                                break e
                                            }
                                            if (U = w, (O = 0) === b) {
                                                if (O += y - P, P < z) {
                                                    for (z -= P; q[l++] = w[O++], --P;);
                                                    O = l - F, U = q
                                                }
                                            } else if (b < P) {
                                                if (O += y + b - P, (P -= b) < z) {
                                                    for (z -= P; q[l++] = w[O++], --P;);
                                                    if (O = 0, b < z) {
                                                        for (z -= P = b; q[l++] = w[O++], --P;);
                                                        O = l - F, U = q
                                                    }
                                                }
                                            } else if (O += b - P, P < z) {
                                                for (z -= P; q[l++] = w[O++], --P;);
                                                O = l - F, U = q
                                            }
                                            for (; 2 < z;) q[l++] = U[O++], q[l++] = U[O++], q[l++] = U[O++], z -= 3;
                                            z && (q[l++] = U[O++], 1 < z && (q[l++] = U[O++]))
                                        } else {
                                            for (O = l - F; q[l++] = q[O++], q[l++] = q[O++], q[l++] = q[O++], 2 < (z -= 3););
                                            z && (q[l++] = q[O++], 1 < z && (q[l++] = q[O++]))
                                        }
                                        break
                                    }
                                }
                                break
                            }
                        } while (c < d && l < h);
                        c -= z = _ >> 3, x &= (1 << (_ -= z << 3)) - 1, s.next_in = c, s.next_out = l, s.avail_in = c < d ? d - c + 5 : 5 - (c - d), s.avail_out = l < h ? h - l + 257 : 257 - (l - h), i.hold = x, i.bits = _
                    }
                }, {}],
                49: [function(n, r, a) {
                    var s = n("../utils/common"),
                        o = n("./adler32"),
                        i = n("./crc32"),
                        c = n("./inffast"),
                        d = n("./inftrees"),
                        l = 1,
                        p = 2,
                        h = 0,
                        m = -2,
                        y = 1,
                        v = 852,
                        b = 592;

                    function w(O) {
                        return (O >>> 24 & 255) + (O >>> 8 & 65280) + ((65280 & O) << 8) + ((255 & O) << 24)
                    }

                    function x() {
                        this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new s.Buf16(320), this.work = new s.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
                    }

                    function _(O) {
                        var U;
                        return O && O.state ? (U = O.state, O.total_in = O.total_out = U.total = 0, O.msg = "", U.wrap && (O.adler = 1 & U.wrap), U.mode = y, U.last = 0, U.havedict = 0, U.dmax = 32768, U.head = null, U.hold = 0, U.bits = 0, U.lencode = U.lendyn = new s.Buf32(v), U.distcode = U.distdyn = new s.Buf32(b), U.sane = 1, U.back = -1, h) : m
                    }

                    function C(O) {
                        var U;
                        return O && O.state ? ((U = O.state).wsize = 0, U.whave = 0, U.wnext = 0, _(O)) : m
                    }

                    function T(O, U) {
                        var N, q;
                        return O && O.state ? (q = O.state, U < 0 ? (N = 0, U = -U) : (N = 1 + (U >> 4), U < 48 && (U &= 15)), U && (U < 8 || 15 < U) ? m : (q.window !== null && q.wbits !== U && (q.window = null), q.wrap = N, q.wbits = U, C(O))) : m
                    }

                    function R(O, U) {
                        var N, q;
                        return O ? (q = new x, (O.state = q).window = null, (N = T(O, U)) !== h && (O.state = null), N) : m
                    }
                    var M, W, P = !0;

                    function z(O) {
                        if (P) {
                            var U;
                            for (M = new s.Buf32(512), W = new s.Buf32(32), U = 0; U < 144;) O.lens[U++] = 8;
                            for (; U < 256;) O.lens[U++] = 9;
                            for (; U < 280;) O.lens[U++] = 7;
                            for (; U < 288;) O.lens[U++] = 8;
                            for (d(l, O.lens, 0, 288, M, 0, O.work, {
                                    bits: 9
                                }), U = 0; U < 32;) O.lens[U++] = 5;
                            d(p, O.lens, 0, 32, W, 0, O.work, {
                                bits: 5
                            }), P = !1
                        }
                        O.lencode = M, O.lenbits = 9, O.distcode = W, O.distbits = 5
                    }

                    function F(O, U, N, q) {
                        var ae, J = O.state;
                        return J.window === null && (J.wsize = 1 << J.wbits, J.wnext = 0, J.whave = 0, J.window = new s.Buf8(J.wsize)), q >= J.wsize ? (s.arraySet(J.window, U, N - J.wsize, J.wsize, 0), J.wnext = 0, J.whave = J.wsize) : (q < (ae = J.wsize - J.wnext) && (ae = q), s.arraySet(J.window, U, N - q, ae, J.wnext), (q -= ae) ? (s.arraySet(J.window, U, N - q, q, 0), J.wnext = q, J.whave = J.wsize) : (J.wnext += ae, J.wnext === J.wsize && (J.wnext = 0), J.whave < J.wsize && (J.whave += ae))), 0
                    }
                    a.inflateReset = C, a.inflateReset2 = T, a.inflateResetKeep = _, a.inflateInit = function(O) {
                        return R(O, 15)
                    }, a.inflateInit2 = R, a.inflate = function(O, U) {
                        var N, q, ae, J, Z, Y, te, B, V, oe, ue, le, Ee, Re, xe, Ne, He, Ke, et, Qe, $, be, pe, Q, K = 0,
                            ce = new s.Buf8(4),
                            _e = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
                        if (!O || !O.state || !O.output || !O.input && O.avail_in !== 0) return m;
                        (N = O.state).mode === 12 && (N.mode = 13), Z = O.next_out, ae = O.output, te = O.avail_out, J = O.next_in, q = O.input, Y = O.avail_in, B = N.hold, V = N.bits, oe = Y, ue = te, be = h;
                        e: for (;;) switch (N.mode) {
                            case y:
                                if (N.wrap === 0) {
                                    N.mode = 13;
                                    break
                                }
                                for (; V < 16;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if (2 & N.wrap && B === 35615) {
                                    ce[N.check = 0] = 255 & B, ce[1] = B >>> 8 & 255, N.check = i(N.check, ce, 2, 0), V = B = 0, N.mode = 2;
                                    break
                                }
                                if (N.flags = 0, N.head && (N.head.done = !1), !(1 & N.wrap) || (((255 & B) << 8) + (B >> 8)) % 31) {
                                    O.msg = "incorrect header check", N.mode = 30;
                                    break
                                }
                                if ((15 & B) != 8) {
                                    O.msg = "unknown compression method", N.mode = 30;
                                    break
                                }
                                if (V -= 4, $ = 8 + (15 & (B >>>= 4)), N.wbits === 0) N.wbits = $;
                                else if ($ > N.wbits) {
                                    O.msg = "invalid window size", N.mode = 30;
                                    break
                                }
                                N.dmax = 1 << $, O.adler = N.check = 1, N.mode = 512 & B ? 10 : 12, V = B = 0;
                                break;
                            case 2:
                                for (; V < 16;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if (N.flags = B, (255 & N.flags) != 8) {
                                    O.msg = "unknown compression method", N.mode = 30;
                                    break
                                }
                                if (57344 & N.flags) {
                                    O.msg = "unknown header flags set", N.mode = 30;
                                    break
                                }
                                N.head && (N.head.text = B >> 8 & 1), 512 & N.flags && (ce[0] = 255 & B, ce[1] = B >>> 8 & 255, N.check = i(N.check, ce, 2, 0)), V = B = 0, N.mode = 3;
                            case 3:
                                for (; V < 32;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                N.head && (N.head.time = B), 512 & N.flags && (ce[0] = 255 & B, ce[1] = B >>> 8 & 255, ce[2] = B >>> 16 & 255, ce[3] = B >>> 24 & 255, N.check = i(N.check, ce, 4, 0)), V = B = 0, N.mode = 4;
                            case 4:
                                for (; V < 16;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                N.head && (N.head.xflags = 255 & B, N.head.os = B >> 8), 512 & N.flags && (ce[0] = 255 & B, ce[1] = B >>> 8 & 255, N.check = i(N.check, ce, 2, 0)), V = B = 0, N.mode = 5;
                            case 5:
                                if (1024 & N.flags) {
                                    for (; V < 16;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    N.length = B, N.head && (N.head.extra_len = B), 512 & N.flags && (ce[0] = 255 & B, ce[1] = B >>> 8 & 255, N.check = i(N.check, ce, 2, 0)), V = B = 0
                                } else N.head && (N.head.extra = null);
                                N.mode = 6;
                            case 6:
                                if (1024 & N.flags && (Y < (le = N.length) && (le = Y), le && (N.head && ($ = N.head.extra_len - N.length, N.head.extra || (N.head.extra = new Array(N.head.extra_len)), s.arraySet(N.head.extra, q, J, le, $)), 512 & N.flags && (N.check = i(N.check, q, le, J)), Y -= le, J += le, N.length -= le), N.length)) break e;
                                N.length = 0, N.mode = 7;
                            case 7:
                                if (2048 & N.flags) {
                                    if (Y === 0) break e;
                                    for (le = 0; $ = q[J + le++], N.head && $ && N.length < 65536 && (N.head.name += String.fromCharCode($)), $ && le < Y;);
                                    if (512 & N.flags && (N.check = i(N.check, q, le, J)), Y -= le, J += le, $) break e
                                } else N.head && (N.head.name = null);
                                N.length = 0, N.mode = 8;
                            case 8:
                                if (4096 & N.flags) {
                                    if (Y === 0) break e;
                                    for (le = 0; $ = q[J + le++], N.head && $ && N.length < 65536 && (N.head.comment += String.fromCharCode($)), $ && le < Y;);
                                    if (512 & N.flags && (N.check = i(N.check, q, le, J)), Y -= le, J += le, $) break e
                                } else N.head && (N.head.comment = null);
                                N.mode = 9;
                            case 9:
                                if (512 & N.flags) {
                                    for (; V < 16;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    if (B !== (65535 & N.check)) {
                                        O.msg = "header crc mismatch", N.mode = 30;
                                        break
                                    }
                                    V = B = 0
                                }
                                N.head && (N.head.hcrc = N.flags >> 9 & 1, N.head.done = !0), O.adler = N.check = 0, N.mode = 12;
                                break;
                            case 10:
                                for (; V < 32;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                O.adler = N.check = w(B), V = B = 0, N.mode = 11;
                            case 11:
                                if (N.havedict === 0) return O.next_out = Z, O.avail_out = te, O.next_in = J, O.avail_in = Y, N.hold = B, N.bits = V, 2;
                                O.adler = N.check = 1, N.mode = 12;
                            case 12:
                                if (U === 5 || U === 6) break e;
                            case 13:
                                if (N.last) {
                                    B >>>= 7 & V, V -= 7 & V, N.mode = 27;
                                    break
                                }
                                for (; V < 3;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                switch (N.last = 1 & B, V -= 1, 3 & (B >>>= 1)) {
                                    case 0:
                                        N.mode = 14;
                                        break;
                                    case 1:
                                        if (z(N), N.mode = 20, U !== 6) break;
                                        B >>>= 2, V -= 2;
                                        break e;
                                    case 2:
                                        N.mode = 17;
                                        break;
                                    case 3:
                                        O.msg = "invalid block type", N.mode = 30
                                }
                                B >>>= 2, V -= 2;
                                break;
                            case 14:
                                for (B >>>= 7 & V, V -= 7 & V; V < 32;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if ((65535 & B) != (B >>> 16 ^ 65535)) {
                                    O.msg = "invalid stored block lengths", N.mode = 30;
                                    break
                                }
                                if (N.length = 65535 & B, V = B = 0, N.mode = 15, U === 6) break e;
                            case 15:
                                N.mode = 16;
                            case 16:
                                if (le = N.length) {
                                    if (Y < le && (le = Y), te < le && (le = te), le === 0) break e;
                                    s.arraySet(ae, q, J, le, Z), Y -= le, J += le, te -= le, Z += le, N.length -= le;
                                    break
                                }
                                N.mode = 12;
                                break;
                            case 17:
                                for (; V < 14;) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if (N.nlen = 257 + (31 & B), B >>>= 5, V -= 5, N.ndist = 1 + (31 & B), B >>>= 5, V -= 5, N.ncode = 4 + (15 & B), B >>>= 4, V -= 4, 286 < N.nlen || 30 < N.ndist) {
                                    O.msg = "too many length or distance symbols", N.mode = 30;
                                    break
                                }
                                N.have = 0, N.mode = 18;
                            case 18:
                                for (; N.have < N.ncode;) {
                                    for (; V < 3;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    N.lens[_e[N.have++]] = 7 & B, B >>>= 3, V -= 3
                                }
                                for (; N.have < 19;) N.lens[_e[N.have++]] = 0;
                                if (N.lencode = N.lendyn, N.lenbits = 7, pe = {
                                        bits: N.lenbits
                                    }, be = d(0, N.lens, 0, 19, N.lencode, 0, N.work, pe), N.lenbits = pe.bits, be) {
                                    O.msg = "invalid code lengths set", N.mode = 30;
                                    break
                                }
                                N.have = 0, N.mode = 19;
                            case 19:
                                for (; N.have < N.nlen + N.ndist;) {
                                    for (; Ne = (K = N.lencode[B & (1 << N.lenbits) - 1]) >>> 16 & 255, He = 65535 & K, !((xe = K >>> 24) <= V);) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    if (He < 16) B >>>= xe, V -= xe, N.lens[N.have++] = He;
                                    else {
                                        if (He === 16) {
                                            for (Q = xe + 2; V < Q;) {
                                                if (Y === 0) break e;
                                                Y--, B += q[J++] << V, V += 8
                                            }
                                            if (B >>>= xe, V -= xe, N.have === 0) {
                                                O.msg = "invalid bit length repeat", N.mode = 30;
                                                break
                                            }
                                            $ = N.lens[N.have - 1], le = 3 + (3 & B), B >>>= 2, V -= 2
                                        } else if (He === 17) {
                                            for (Q = xe + 3; V < Q;) {
                                                if (Y === 0) break e;
                                                Y--, B += q[J++] << V, V += 8
                                            }
                                            V -= xe, $ = 0, le = 3 + (7 & (B >>>= xe)), B >>>= 3, V -= 3
                                        } else {
                                            for (Q = xe + 7; V < Q;) {
                                                if (Y === 0) break e;
                                                Y--, B += q[J++] << V, V += 8
                                            }
                                            V -= xe, $ = 0, le = 11 + (127 & (B >>>= xe)), B >>>= 7, V -= 7
                                        }
                                        if (N.have + le > N.nlen + N.ndist) {
                                            O.msg = "invalid bit length repeat", N.mode = 30;
                                            break
                                        }
                                        for (; le--;) N.lens[N.have++] = $
                                    }
                                }
                                if (N.mode === 30) break;
                                if (N.lens[256] === 0) {
                                    O.msg = "invalid code -- missing end-of-block", N.mode = 30;
                                    break
                                }
                                if (N.lenbits = 9, pe = {
                                        bits: N.lenbits
                                    }, be = d(l, N.lens, 0, N.nlen, N.lencode, 0, N.work, pe), N.lenbits = pe.bits, be) {
                                    O.msg = "invalid literal/lengths set", N.mode = 30;
                                    break
                                }
                                if (N.distbits = 6, N.distcode = N.distdyn, pe = {
                                        bits: N.distbits
                                    }, be = d(p, N.lens, N.nlen, N.ndist, N.distcode, 0, N.work, pe), N.distbits = pe.bits, be) {
                                    O.msg = "invalid distances set", N.mode = 30;
                                    break
                                }
                                if (N.mode = 20, U === 6) break e;
                            case 20:
                                N.mode = 21;
                            case 21:
                                if (6 <= Y && 258 <= te) {
                                    O.next_out = Z, O.avail_out = te, O.next_in = J, O.avail_in = Y, N.hold = B, N.bits = V, c(O, ue), Z = O.next_out, ae = O.output, te = O.avail_out, J = O.next_in, q = O.input, Y = O.avail_in, B = N.hold, V = N.bits, N.mode === 12 && (N.back = -1);
                                    break
                                }
                                for (N.back = 0; Ne = (K = N.lencode[B & (1 << N.lenbits) - 1]) >>> 16 & 255, He = 65535 & K, !((xe = K >>> 24) <= V);) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if (Ne && !(240 & Ne)) {
                                    for (Ke = xe, et = Ne, Qe = He; Ne = (K = N.lencode[Qe + ((B & (1 << Ke + et) - 1) >> Ke)]) >>> 16 & 255, He = 65535 & K, !(Ke + (xe = K >>> 24) <= V);) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    B >>>= Ke, V -= Ke, N.back += Ke
                                }
                                if (B >>>= xe, V -= xe, N.back += xe, N.length = He, Ne === 0) {
                                    N.mode = 26;
                                    break
                                }
                                if (32 & Ne) {
                                    N.back = -1, N.mode = 12;
                                    break
                                }
                                if (64 & Ne) {
                                    O.msg = "invalid literal/length code", N.mode = 30;
                                    break
                                }
                                N.extra = 15 & Ne, N.mode = 22;
                            case 22:
                                if (N.extra) {
                                    for (Q = N.extra; V < Q;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    N.length += B & (1 << N.extra) - 1, B >>>= N.extra, V -= N.extra, N.back += N.extra
                                }
                                N.was = N.length, N.mode = 23;
                            case 23:
                                for (; Ne = (K = N.distcode[B & (1 << N.distbits) - 1]) >>> 16 & 255, He = 65535 & K, !((xe = K >>> 24) <= V);) {
                                    if (Y === 0) break e;
                                    Y--, B += q[J++] << V, V += 8
                                }
                                if (!(240 & Ne)) {
                                    for (Ke = xe, et = Ne, Qe = He; Ne = (K = N.distcode[Qe + ((B & (1 << Ke + et) - 1) >> Ke)]) >>> 16 & 255, He = 65535 & K, !(Ke + (xe = K >>> 24) <= V);) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    B >>>= Ke, V -= Ke, N.back += Ke
                                }
                                if (B >>>= xe, V -= xe, N.back += xe, 64 & Ne) {
                                    O.msg = "invalid distance code", N.mode = 30;
                                    break
                                }
                                N.offset = He, N.extra = 15 & Ne, N.mode = 24;
                            case 24:
                                if (N.extra) {
                                    for (Q = N.extra; V < Q;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    N.offset += B & (1 << N.extra) - 1, B >>>= N.extra, V -= N.extra, N.back += N.extra
                                }
                                if (N.offset > N.dmax) {
                                    O.msg = "invalid distance too far back", N.mode = 30;
                                    break
                                }
                                N.mode = 25;
                            case 25:
                                if (te === 0) break e;
                                if (le = ue - te, N.offset > le) {
                                    if ((le = N.offset - le) > N.whave && N.sane) {
                                        O.msg = "invalid distance too far back", N.mode = 30;
                                        break
                                    }
                                    Ee = le > N.wnext ? (le -= N.wnext, N.wsize - le) : N.wnext - le, le > N.length && (le = N.length), Re = N.window
                                } else Re = ae, Ee = Z - N.offset, le = N.length;
                                for (te < le && (le = te), te -= le, N.length -= le; ae[Z++] = Re[Ee++], --le;);
                                N.length === 0 && (N.mode = 21);
                                break;
                            case 26:
                                if (te === 0) break e;
                                ae[Z++] = N.length, te--, N.mode = 21;
                                break;
                            case 27:
                                if (N.wrap) {
                                    for (; V < 32;) {
                                        if (Y === 0) break e;
                                        Y--, B |= q[J++] << V, V += 8
                                    }
                                    if (ue -= te, O.total_out += ue, N.total += ue, ue && (O.adler = N.check = N.flags ? i(N.check, ae, ue, Z - ue) : o(N.check, ae, ue, Z - ue)), ue = te, (N.flags ? B : w(B)) !== N.check) {
                                        O.msg = "incorrect data check", N.mode = 30;
                                        break
                                    }
                                    V = B = 0
                                }
                                N.mode = 28;
                            case 28:
                                if (N.wrap && N.flags) {
                                    for (; V < 32;) {
                                        if (Y === 0) break e;
                                        Y--, B += q[J++] << V, V += 8
                                    }
                                    if (B !== (4294967295 & N.total)) {
                                        O.msg = "incorrect length check", N.mode = 30;
                                        break
                                    }
                                    V = B = 0
                                }
                                N.mode = 29;
                            case 29:
                                be = 1;
                                break e;
                            case 30:
                                be = -3;
                                break e;
                            case 31:
                                return -4;
                            case 32:
                            default:
                                return m
                        }
                        return O.next_out = Z, O.avail_out = te, O.next_in = J, O.avail_in = Y, N.hold = B, N.bits = V, (N.wsize || ue !== O.avail_out && N.mode < 30 && (N.mode < 27 || U !== 4)) && F(O, O.output, O.next_out, ue - O.avail_out) ? (N.mode = 31, -4) : (oe -= O.avail_in, ue -= O.avail_out, O.total_in += oe, O.total_out += ue, N.total += ue, N.wrap && ue && (O.adler = N.check = N.flags ? i(N.check, ae, ue, O.next_out - ue) : o(N.check, ae, ue, O.next_out - ue)), O.data_type = N.bits + (N.last ? 64 : 0) + (N.mode === 12 ? 128 : 0) + (N.mode === 20 || N.mode === 15 ? 256 : 0), (oe == 0 && ue === 0 || U === 4) && be === h && (be = -5), be)
                    }, a.inflateEnd = function(O) {
                        if (!O || !O.state) return m;
                        var U = O.state;
                        return U.window && (U.window = null), O.state = null, h
                    }, a.inflateGetHeader = function(O, U) {
                        var N;
                        return O && O.state && 2 & (N = O.state).wrap ? ((N.head = U).done = !1, h) : m
                    }, a.inflateSetDictionary = function(O, U) {
                        var N, q = U.length;
                        return O && O.state ? (N = O.state).wrap !== 0 && N.mode !== 11 ? m : N.mode === 11 && o(1, U, q, 0) !== N.check ? -3 : F(O, U, q, q) ? (N.mode = 31, -4) : (N.havedict = 1, h) : m
                    }, a.inflateInfo = "pako inflate (from Nodeca project)"
                }, {
                    "../utils/common": 41,
                    "./adler32": 43,
                    "./crc32": 45,
                    "./inffast": 48,
                    "./inftrees": 50
                }],
                50: [function(n, r, a) {
                    var s = n("../utils/common"),
                        o = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
                        i = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
                        c = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
                        d = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
                    r.exports = function(l, p, h, m, y, v, b, w) {
                        var x, _, C, T, R, M, W, P, z, F = w.bits,
                            O = 0,
                            U = 0,
                            N = 0,
                            q = 0,
                            ae = 0,
                            J = 0,
                            Z = 0,
                            Y = 0,
                            te = 0,
                            B = 0,
                            V = null,
                            oe = 0,
                            ue = new s.Buf16(16),
                            le = new s.Buf16(16),
                            Ee = null,
                            Re = 0;
                        for (O = 0; O <= 15; O++) ue[O] = 0;
                        for (U = 0; U < m; U++) ue[p[h + U]]++;
                        for (ae = F, q = 15; 1 <= q && ue[q] === 0; q--);
                        if (q < ae && (ae = q), q === 0) return y[v++] = 20971520, y[v++] = 20971520, w.bits = 1, 0;
                        for (N = 1; N < q && ue[N] === 0; N++);
                        for (ae < N && (ae = N), O = Y = 1; O <= 15; O++)
                            if (Y <<= 1, (Y -= ue[O]) < 0) return -1;
                        if (0 < Y && (l === 0 || q !== 1)) return -1;
                        for (le[1] = 0, O = 1; O < 15; O++) le[O + 1] = le[O] + ue[O];
                        for (U = 0; U < m; U++) p[h + U] !== 0 && (b[le[p[h + U]]++] = U);
                        if (M = l === 0 ? (V = Ee = b, 19) : l === 1 ? (V = o, oe -= 257, Ee = i, Re -= 257, 256) : (V = c, Ee = d, -1), O = N, R = v, Z = U = B = 0, C = -1, T = (te = 1 << (J = ae)) - 1, l === 1 && 852 < te || l === 2 && 592 < te) return 1;
                        for (;;) {
                            for (W = O - Z, z = b[U] < M ? (P = 0, b[U]) : b[U] > M ? (P = Ee[Re + b[U]], V[oe + b[U]]) : (P = 96, 0), x = 1 << O - Z, N = _ = 1 << J; y[R + (B >> Z) + (_ -= x)] = W << 24 | P << 16 | z | 0, _ !== 0;);
                            for (x = 1 << O - 1; B & x;) x >>= 1;
                            if (x !== 0 ? (B &= x - 1, B += x) : B = 0, U++, --ue[O] == 0) {
                                if (O === q) break;
                                O = p[h + b[U]]
                            }
                            if (ae < O && (B & T) !== C) {
                                for (Z === 0 && (Z = ae), R += N, Y = 1 << (J = O - Z); J + Z < q && !((Y -= ue[J + Z]) <= 0);) J++, Y <<= 1;
                                if (te += 1 << J, l === 1 && 852 < te || l === 2 && 592 < te) return 1;
                                y[C = B & T] = ae << 24 | J << 16 | R - v | 0
                            }
                        }
                        return B !== 0 && (y[R + B] = O - Z << 24 | 64 << 16 | 0), w.bits = ae, 0
                    }
                }, {
                    "../utils/common": 41
                }],
                51: [function(n, r, a) {
                    r.exports = {
                        2: "need dictionary",
                        1: "stream end",
                        0: "",
                        "-1": "file error",
                        "-2": "stream error",
                        "-3": "data error",
                        "-4": "insufficient memory",
                        "-5": "buffer error",
                        "-6": "incompatible version"
                    }
                }, {}],
                52: [function(n, r, a) {
                    var s = n("../utils/common"),
                        o = 0,
                        i = 1;

                    function c(K) {
                        for (var ce = K.length; 0 <= --ce;) K[ce] = 0
                    }
                    var d = 0,
                        l = 29,
                        p = 256,
                        h = p + 1 + l,
                        m = 30,
                        y = 19,
                        v = 2 * h + 1,
                        b = 15,
                        w = 16,
                        x = 7,
                        _ = 256,
                        C = 16,
                        T = 17,
                        R = 18,
                        M = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
                        W = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
                        P = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
                        z = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
                        F = new Array(2 * (h + 2));
                    c(F);
                    var O = new Array(2 * m);
                    c(O);
                    var U = new Array(512);
                    c(U);
                    var N = new Array(256);
                    c(N);
                    var q = new Array(l);
                    c(q);
                    var ae, J, Z, Y = new Array(m);

                    function te(K, ce, _e, Ae, ge) {
                        this.static_tree = K, this.extra_bits = ce, this.extra_base = _e, this.elems = Ae, this.max_length = ge, this.has_stree = K && K.length
                    }

                    function B(K, ce) {
                        this.dyn_tree = K, this.max_code = 0, this.stat_desc = ce
                    }

                    function V(K) {
                        return K < 256 ? U[K] : U[256 + (K >>> 7)]
                    }

                    function oe(K, ce) {
                        K.pending_buf[K.pending++] = 255 & ce, K.pending_buf[K.pending++] = ce >>> 8 & 255
                    }

                    function ue(K, ce, _e) {
                        K.bi_valid > w - _e ? (K.bi_buf |= ce << K.bi_valid & 65535, oe(K, K.bi_buf), K.bi_buf = ce >> w - K.bi_valid, K.bi_valid += _e - w) : (K.bi_buf |= ce << K.bi_valid & 65535, K.bi_valid += _e)
                    }

                    function le(K, ce, _e) {
                        ue(K, _e[2 * ce], _e[2 * ce + 1])
                    }

                    function Ee(K, ce) {
                        for (var _e = 0; _e |= 1 & K, K >>>= 1, _e <<= 1, 0 < --ce;);
                        return _e >>> 1
                    }

                    function Re(K, ce, _e) {
                        var Ae, ge, $e = new Array(b + 1),
                            Ve = 0;
                        for (Ae = 1; Ae <= b; Ae++) $e[Ae] = Ve = Ve + _e[Ae - 1] << 1;
                        for (ge = 0; ge <= ce; ge++) {
                            var Me = K[2 * ge + 1];
                            Me !== 0 && (K[2 * ge] = Ee($e[Me]++, Me))
                        }
                    }

                    function xe(K) {
                        var ce;
                        for (ce = 0; ce < h; ce++) K.dyn_ltree[2 * ce] = 0;
                        for (ce = 0; ce < m; ce++) K.dyn_dtree[2 * ce] = 0;
                        for (ce = 0; ce < y; ce++) K.bl_tree[2 * ce] = 0;
                        K.dyn_ltree[2 * _] = 1, K.opt_len = K.static_len = 0, K.last_lit = K.matches = 0
                    }

                    function Ne(K) {
                        8 < K.bi_valid ? oe(K, K.bi_buf) : 0 < K.bi_valid && (K.pending_buf[K.pending++] = K.bi_buf), K.bi_buf = 0, K.bi_valid = 0
                    }

                    function He(K, ce, _e, Ae) {
                        var ge = 2 * ce,
                            $e = 2 * _e;
                        return K[ge] < K[$e] || K[ge] === K[$e] && Ae[ce] <= Ae[_e]
                    }

                    function Ke(K, ce, _e) {
                        for (var Ae = K.heap[_e], ge = _e << 1; ge <= K.heap_len && (ge < K.heap_len && He(ce, K.heap[ge + 1], K.heap[ge], K.depth) && ge++, !He(ce, Ae, K.heap[ge], K.depth));) K.heap[_e] = K.heap[ge], _e = ge, ge <<= 1;
                        K.heap[_e] = Ae
                    }

                    function et(K, ce, _e) {
                        var Ae, ge, $e, Ve, Me = 0;
                        if (K.last_lit !== 0)
                            for (; Ae = K.pending_buf[K.d_buf + 2 * Me] << 8 | K.pending_buf[K.d_buf + 2 * Me + 1], ge = K.pending_buf[K.l_buf + Me], Me++, Ae === 0 ? le(K, ge, ce) : (le(K, ($e = N[ge]) + p + 1, ce), (Ve = M[$e]) !== 0 && ue(K, ge -= q[$e], Ve), le(K, $e = V(--Ae), _e), (Ve = W[$e]) !== 0 && ue(K, Ae -= Y[$e], Ve)), Me < K.last_lit;);
                        le(K, _, ce)
                    }

                    function Qe(K, ce) {
                        var _e, Ae, ge, $e = ce.dyn_tree,
                            Ve = ce.stat_desc.static_tree,
                            Me = ce.stat_desc.has_stree,
                            Ze = ce.stat_desc.elems,
                            ft = -1;
                        for (K.heap_len = 0, K.heap_max = v, _e = 0; _e < Ze; _e++) $e[2 * _e] !== 0 ? (K.heap[++K.heap_len] = ft = _e, K.depth[_e] = 0) : $e[2 * _e + 1] = 0;
                        for (; K.heap_len < 2;) $e[2 * (ge = K.heap[++K.heap_len] = ft < 2 ? ++ft : 0)] = 1, K.depth[ge] = 0, K.opt_len--, Me && (K.static_len -= Ve[2 * ge + 1]);
                        for (ce.max_code = ft, _e = K.heap_len >> 1; 1 <= _e; _e--) Ke(K, $e, _e);
                        for (ge = Ze; _e = K.heap[1], K.heap[1] = K.heap[K.heap_len--], Ke(K, $e, 1), Ae = K.heap[1], K.heap[--K.heap_max] = _e, K.heap[--K.heap_max] = Ae, $e[2 * ge] = $e[2 * _e] + $e[2 * Ae], K.depth[ge] = (K.depth[_e] >= K.depth[Ae] ? K.depth[_e] : K.depth[Ae]) + 1, $e[2 * _e + 1] = $e[2 * Ae + 1] = ge, K.heap[1] = ge++, Ke(K, $e, 1), 2 <= K.heap_len;);
                        K.heap[--K.heap_max] = K.heap[1],
                            function(dt, qt) {
                                var Bn, Ht, kr, Dt, Fn, tn, Rn = qt.dyn_tree,
                                    Yr = qt.max_code,
                                    Lr = qt.stat_desc.static_tree,
                                    ua = qt.stat_desc.has_stree,
                                    or = qt.stat_desc.extra_bits,
                                    Jn = qt.stat_desc.extra_base,
                                    an = qt.stat_desc.max_length,
                                    Pt = 0;
                                for (Dt = 0; Dt <= b; Dt++) dt.bl_count[Dt] = 0;
                                for (Rn[2 * dt.heap[dt.heap_max] + 1] = 0, Bn = dt.heap_max + 1; Bn < v; Bn++) an < (Dt = Rn[2 * Rn[2 * (Ht = dt.heap[Bn]) + 1] + 1] + 1) && (Dt = an, Pt++), Rn[2 * Ht + 1] = Dt, Yr < Ht || (dt.bl_count[Dt]++, Fn = 0, Jn <= Ht && (Fn = or[Ht - Jn]), tn = Rn[2 * Ht], dt.opt_len += tn * (Dt + Fn), ua && (dt.static_len += tn * (Lr[2 * Ht + 1] + Fn)));
                                if (Pt !== 0) {
                                    do {
                                        for (Dt = an - 1; dt.bl_count[Dt] === 0;) Dt--;
                                        dt.bl_count[Dt]--, dt.bl_count[Dt + 1] += 2, dt.bl_count[an]--, Pt -= 2
                                    } while (0 < Pt);
                                    for (Dt = an; Dt !== 0; Dt--)
                                        for (Ht = dt.bl_count[Dt]; Ht !== 0;) Yr < (kr = dt.heap[--Bn]) || (Rn[2 * kr + 1] !== Dt && (dt.opt_len += (Dt - Rn[2 * kr + 1]) * Rn[2 * kr], Rn[2 * kr + 1] = Dt), Ht--)
                                }
                            }(K, ce), Re($e, ft, K.bl_count)
                    }

                    function $(K, ce, _e) {
                        var Ae, ge, $e = -1,
                            Ve = ce[1],
                            Me = 0,
                            Ze = 7,
                            ft = 4;
                        for (Ve === 0 && (Ze = 138, ft = 3), ce[2 * (_e + 1) + 1] = 65535, Ae = 0; Ae <= _e; Ae++) ge = Ve, Ve = ce[2 * (Ae + 1) + 1], ++Me < Ze && ge === Ve || (Me < ft ? K.bl_tree[2 * ge] += Me : ge !== 0 ? (ge !== $e && K.bl_tree[2 * ge]++, K.bl_tree[2 * C]++) : Me <= 10 ? K.bl_tree[2 * T]++ : K.bl_tree[2 * R]++, $e = ge, ft = (Me = 0) === Ve ? (Ze = 138, 3) : ge === Ve ? (Ze = 6, 3) : (Ze = 7, 4))
                    }

                    function be(K, ce, _e) {
                        var Ae, ge, $e = -1,
                            Ve = ce[1],
                            Me = 0,
                            Ze = 7,
                            ft = 4;
                        for (Ve === 0 && (Ze = 138, ft = 3), Ae = 0; Ae <= _e; Ae++)
                            if (ge = Ve, Ve = ce[2 * (Ae + 1) + 1], !(++Me < Ze && ge === Ve)) {
                                if (Me < ft)
                                    for (; le(K, ge, K.bl_tree), --Me != 0;);
                                else ge !== 0 ? (ge !== $e && (le(K, ge, K.bl_tree), Me--), le(K, C, K.bl_tree), ue(K, Me - 3, 2)) : Me <= 10 ? (le(K, T, K.bl_tree), ue(K, Me - 3, 3)) : (le(K, R, K.bl_tree), ue(K, Me - 11, 7));
                                $e = ge, ft = (Me = 0) === Ve ? (Ze = 138, 3) : ge === Ve ? (Ze = 6, 3) : (Ze = 7, 4)
                            }
                    }
                    c(Y);
                    var pe = !1;

                    function Q(K, ce, _e, Ae) {
                        ue(K, (d << 1) + (Ae ? 1 : 0), 3),
                            function(ge, $e, Ve, Me) {
                                Ne(ge), oe(ge, Ve), oe(ge, ~Ve), s.arraySet(ge.pending_buf, ge.window, $e, Ve, ge.pending), ge.pending += Ve
                            }(K, ce, _e)
                    }
                    a._tr_init = function(K) {
                        pe || (function() {
                            var ce, _e, Ae, ge, $e, Ve = new Array(b + 1);
                            for (ge = Ae = 0; ge < l - 1; ge++)
                                for (q[ge] = Ae, ce = 0; ce < 1 << M[ge]; ce++) N[Ae++] = ge;
                            for (N[Ae - 1] = ge, ge = $e = 0; ge < 16; ge++)
                                for (Y[ge] = $e, ce = 0; ce < 1 << W[ge]; ce++) U[$e++] = ge;
                            for ($e >>= 7; ge < m; ge++)
                                for (Y[ge] = $e << 7, ce = 0; ce < 1 << W[ge] - 7; ce++) U[256 + $e++] = ge;
                            for (_e = 0; _e <= b; _e++) Ve[_e] = 0;
                            for (ce = 0; ce <= 143;) F[2 * ce + 1] = 8, ce++, Ve[8]++;
                            for (; ce <= 255;) F[2 * ce + 1] = 9, ce++, Ve[9]++;
                            for (; ce <= 279;) F[2 * ce + 1] = 7, ce++, Ve[7]++;
                            for (; ce <= 287;) F[2 * ce + 1] = 8, ce++, Ve[8]++;
                            for (Re(F, h + 1, Ve), ce = 0; ce < m; ce++) O[2 * ce + 1] = 5, O[2 * ce] = Ee(ce, 5);
                            ae = new te(F, M, p + 1, h, b), J = new te(O, W, 0, m, b), Z = new te(new Array(0), P, 0, y, x)
                        }(), pe = !0), K.l_desc = new B(K.dyn_ltree, ae), K.d_desc = new B(K.dyn_dtree, J), K.bl_desc = new B(K.bl_tree, Z), K.bi_buf = 0, K.bi_valid = 0, xe(K)
                    }, a._tr_stored_block = Q, a._tr_flush_block = function(K, ce, _e, Ae) {
                        var ge, $e, Ve = 0;
                        0 < K.level ? (K.strm.data_type === 2 && (K.strm.data_type = function(Me) {
                            var Ze, ft = 4093624447;
                            for (Ze = 0; Ze <= 31; Ze++, ft >>>= 1)
                                if (1 & ft && Me.dyn_ltree[2 * Ze] !== 0) return o;
                            if (Me.dyn_ltree[18] !== 0 || Me.dyn_ltree[20] !== 0 || Me.dyn_ltree[26] !== 0) return i;
                            for (Ze = 32; Ze < p; Ze++)
                                if (Me.dyn_ltree[2 * Ze] !== 0) return i;
                            return o
                        }(K)), Qe(K, K.l_desc), Qe(K, K.d_desc), Ve = function(Me) {
                            var Ze;
                            for ($(Me, Me.dyn_ltree, Me.l_desc.max_code), $(Me, Me.dyn_dtree, Me.d_desc.max_code), Qe(Me, Me.bl_desc), Ze = y - 1; 3 <= Ze && Me.bl_tree[2 * z[Ze] + 1] === 0; Ze--);
                            return Me.opt_len += 3 * (Ze + 1) + 5 + 5 + 4, Ze
                        }(K), ge = K.opt_len + 3 + 7 >>> 3, ($e = K.static_len + 3 + 7 >>> 3) <= ge && (ge = $e)) : ge = $e = _e + 5, _e + 4 <= ge && ce !== -1 ? Q(K, ce, _e, Ae) : K.strategy === 4 || $e === ge ? (ue(K, 2 + (Ae ? 1 : 0), 3), et(K, F, O)) : (ue(K, 4 + (Ae ? 1 : 0), 3), function(Me, Ze, ft, dt) {
                            var qt;
                            for (ue(Me, Ze - 257, 5), ue(Me, ft - 1, 5), ue(Me, dt - 4, 4), qt = 0; qt < dt; qt++) ue(Me, Me.bl_tree[2 * z[qt] + 1], 3);
                            be(Me, Me.dyn_ltree, Ze - 1), be(Me, Me.dyn_dtree, ft - 1)
                        }(K, K.l_desc.max_code + 1, K.d_desc.max_code + 1, Ve + 1), et(K, K.dyn_ltree, K.dyn_dtree)), xe(K), Ae && Ne(K)
                    }, a._tr_tally = function(K, ce, _e) {
                        return K.pending_buf[K.d_buf + 2 * K.last_lit] = ce >>> 8 & 255, K.pending_buf[K.d_buf + 2 * K.last_lit + 1] = 255 & ce, K.pending_buf[K.l_buf + K.last_lit] = 255 & _e, K.last_lit++, ce === 0 ? K.dyn_ltree[2 * _e]++ : (K.matches++, ce--, K.dyn_ltree[2 * (N[_e] + p + 1)]++, K.dyn_dtree[2 * V(ce)]++), K.last_lit === K.lit_bufsize - 1
                    }, a._tr_align = function(K) {
                        ue(K, 2, 3), le(K, _, F),
                            function(ce) {
                                ce.bi_valid === 16 ? (oe(ce, ce.bi_buf), ce.bi_buf = 0, ce.bi_valid = 0) : 8 <= ce.bi_valid && (ce.pending_buf[ce.pending++] = 255 & ce.bi_buf, ce.bi_buf >>= 8, ce.bi_valid -= 8)
                            }(K)
                    }
                }, {
                    "../utils/common": 41
                }],
                53: [function(n, r, a) {
                    r.exports = function() {
                        this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
                    }
                }, {}],
                54: [function(n, r, a) {
                    (function(s) {
                        (function(o, i) {
                            if (!o.setImmediate) {
                                var c, d, l, p, h = 1,
                                    m = {},
                                    y = !1,
                                    v = o.document,
                                    b = Object.getPrototypeOf && Object.getPrototypeOf(o);
                                b = b && b.setTimeout ? b : o, c = {}.toString.call(o.process) === "[object process]" ? function(C) {
                                    process.nextTick(function() {
                                        x(C)
                                    })
                                } : function() {
                                    if (o.postMessage && !o.importScripts) {
                                        var C = !0,
                                            T = o.onmessage;
                                        return o.onmessage = function() {
                                            C = !1
                                        }, o.postMessage("", "*"), o.onmessage = T, C
                                    }
                                }() ? (p = "setImmediate$" + Math.random() + "$", o.addEventListener ? o.addEventListener("message", _, !1) : o.attachEvent("onmessage", _), function(C) {
                                    o.postMessage(p + C, "*")
                                }) : o.MessageChannel ? ((l = new MessageChannel).port1.onmessage = function(C) {
                                    x(C.data)
                                }, function(C) {
                                    l.port2.postMessage(C)
                                }) : v && "onreadystatechange" in v.createElement("script") ? (d = v.documentElement, function(C) {
                                    var T = v.createElement("script");
                                    T.onreadystatechange = function() {
                                        x(C), T.onreadystatechange = null, d.removeChild(T), T = null
                                    }, d.appendChild(T)
                                }) : function(C) {
                                    setTimeout(x, 0, C)
                                }, b.setImmediate = function(C) {
                                    typeof C != "function" && (C = new Function("" + C));
                                    for (var T = new Array(arguments.length - 1), R = 0; R < T.length; R++) T[R] = arguments[R + 1];
                                    var M = {
                                        callback: C,
                                        args: T
                                    };
                                    return m[h] = M, c(h), h++
                                }, b.clearImmediate = w
                            }

                            function w(C) {
                                delete m[C]
                            }

                            function x(C) {
                                if (y) setTimeout(x, 0, C);
                                else {
                                    var T = m[C];
                                    if (T) {
                                        y = !0;
                                        try {
                                            (function(R) {
                                                var M = R.callback,
                                                    W = R.args;
                                                switch (W.length) {
                                                    case 0:
                                                        M();
                                                        break;
                                                    case 1:
                                                        M(W[0]);
                                                        break;
                                                    case 2:
                                                        M(W[0], W[1]);
                                                        break;
                                                    case 3:
                                                        M(W[0], W[1], W[2]);
                                                        break;
                                                    default:
                                                        M.apply(i, W)
                                                }
                                            })(T)
                                        } finally {
                                            w(C), y = !1
                                        }
                                    }
                                }
                            }

                            function _(C) {
                                C.source === o && typeof C.data == "string" && C.data.indexOf(p) === 0 && x(+C.data.slice(p.length))
                            }
                        })(typeof self > "u" ? s === void 0 ? this : s : self)
                    }).call(this, typeof $a < "u" ? $a : typeof self < "u" ? self : typeof window < "u" ? window : {})
                }, {}]
            }, {}, [10])(10)
        })
    }(Qg)), Qg.exports
}
var dJ = cJ();
const fJ = Hl(dJ),
    pJ = "ui-react-liveness/3.3.1",
    hJ = () => pJ;
class mJ {
    constructor(e) {
        Et(this, "config");
        Et(this, "middlewareStack");
        Et(this, "startAt", 0);
        Et(this, "messageQueue", []);
        Et(this, "messageWaiters", []);
        Et(this, "finished", !1);
        this.options = e, this.config = e || {}, this.middlewareStack = {
            add: () => {},
            remove: () => {}
        }, this.startAt = Date.now()
    }
    pushMessage(e) {
        if (this.messageWaiters.length > 0) {
            const n = this.messageWaiters.shift();
            n == null || n(e)
        } else this.messageQueue.push(e)
    }
    endMessages() {
        this.finished = !0;
        for (const e of this.messageWaiters) e(void 0);
        this.messageWaiters = []
    }
    async * getMessages() {
        for (; !this.finished || this.messageQueue.length > 0;)
            if (this.messageQueue.length > 0) yield this.messageQueue.shift();
            else {
                const e = await new Promise(n => {
                    this.messageWaiters.push(n)
                });
                if (e === void 0 && this.finished) break;
                yield e
            }
    }
    destroy() {}
    async send(e) {
        var n, r, a, s, o, i, c, d, l, p, h, m, y, v, b;
        if (e instanceof NC && e.input.LivenessRequestStream) {
            const w = Date.now();
            for await (const x of e.input.LivenessRequestStream) {
                let _;
                const C = Date.now();
                x.VideoEvent ? _ = {
                    command: {
                        VideoEvent: {
                            ...x.VideoEvent,
                            VideoChunk: x.VideoEvent.VideoChunk ? gJ(x.VideoEvent.VideoChunk) : "",
                            TimestampMillis: (x.VideoEvent.TimestampMillis || C) - w
                        }
                    },
                    sentAt: C - w
                } : (a = (r = (n = x.ClientSessionInformationEvent) == null ? void 0 : n.Challenge) == null ? void 0 : r.FaceMovementAndLightChallenge) != null && a.InitialFace && ((i = (o = (s = x.ClientSessionInformationEvent) == null ? void 0 : s.Challenge) == null ? void 0 : o.FaceMovementAndLightChallenge) != null && i.VideoEndTimestamp) ? _ = {
                    command: {
                        ...x,
                        ClientSessionInformationEvent: {
                            Challenge: {
                                ...x.ClientSessionInformationEvent.Challenge,
                                FaceMovementAndLightChallenge: {
                                    ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge,
                                    InitialFace: {
                                        ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.InitialFace,
                                        InitialFaceDetectedTimestamp: (x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.InitialFace.InitialFaceDetectedTimestamp || C) - w
                                    },
                                    VideoEndTimestamp: (x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.VideoEndTimestamp || C) - w,
                                    TargetFace: {
                                        ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.TargetFace,
                                        FaceDetectedInTargetPositionStartTimestamp: (((c = x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.TargetFace) == null ? void 0 : c.FaceDetectedInTargetPositionStartTimestamp) || C) - w,
                                        FaceDetectedInTargetPositionEndTimestamp: (((d = x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.TargetFace) == null ? void 0 : d.FaceDetectedInTargetPositionEndTimestamp) || C) - w
                                    }
                                }
                            }
                        }
                    },
                    sentAt: Date.now() - w
                } : (h = (p = (l = x.ClientSessionInformationEvent) == null ? void 0 : l.Challenge) == null ? void 0 : p.FaceMovementAndLightChallenge) != null && h.InitialFace ? _ = {
                    command: {
                        ...x,
                        ClientSessionInformationEvent: {
                            Challenge: {
                                ...x.ClientSessionInformationEvent.Challenge,
                                FaceMovementAndLightChallenge: {
                                    ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge,
                                    VideoStartTimestamp: (x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.VideoStartTimestamp || C) - w,
                                    InitialFace: {
                                        ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.InitialFace,
                                        InitialFaceDetectedTimestamp: (x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.InitialFace.InitialFaceDetectedTimestamp || C) - w
                                    }
                                }
                            }
                        }
                    },
                    sentAt: Date.now() - w
                } : (b = (v = (y = (m = x.ClientSessionInformationEvent) == null ? void 0 : m.Challenge) == null ? void 0 : y.FaceMovementAndLightChallenge) == null ? void 0 : v.ColorDisplayed) != null && b.CurrentColorStartTimestamp && (_ = {
                    command: {
                        ...x,
                        ClientSessionInformationEvent: {
                            Challenge: {
                                ...x.ClientSessionInformationEvent.Challenge,
                                FaceMovementAndLightChallenge: {
                                    ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge,
                                    ColorDisplayed: {
                                        ...x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.ColorDisplayed,
                                        CurrentColorStartTimestamp: (x.ClientSessionInformationEvent.Challenge.FaceMovementAndLightChallenge.ColorDisplayed.CurrentColorStartTimestamp || C) - w
                                    }
                                }
                            }
                        }
                    },
                    sentAt: Date.now() - w
                }), this.pushMessage(_)
            }
            this.endMessages()
        }
        return Promise.resolve({})
    }
}

function gJ(t) {
    let e = "";
    const n = t.byteLength;
    for (let r = 0; r < n; r++) e += String.fromCharCode(t[r]);
    return btoa(e)
}
const vJ = `${YY()} ${hJ()}`;
async function yJ() {
    const t = {
        customUserAgent: vJ
    };
    return new mJ(t)
}
const bJ = 1e3;

function wJ(t) {
    return t.arrayBuffer !== void 0
}

function SJ(t) {
    return t.Challenge !== void 0
}

function xJ(t) {
    return t.code !== void 0
}
class kJ {
    constructor({
        stream: e,
        videoEl: n,
        systemClockOffset: r
    }) {
        Et(this, "videoRecorder");
        Et(this, "responseStream");
        Et(this, "systemClockOffset");
        Et(this, "_reader");
        Et(this, "videoEl");
        Et(this, "_client");
        Et(this, "stream");
        Et(this, "initPromise");
        this.stream = e, this.videoEl = n, this.videoRecorder = new oZ(e), this.systemClockOffset = r, this.initPromise = this.init()
    }
    startRecordingLivenessVideo() {
        this.videoRecorder.start(bJ)
    }
    sendClientInfo(e) {
        this.videoRecorder.dispatch(new MessageEvent("clientSesssionInfo", {
            data: {
                clientInfo: e
            }
        }))
    }
    async stopVideo() {
        await this.videoRecorder.stop()
    }
    dispatchStopVideoEvent() {
        this.videoRecorder.dispatch(new Event("stopVideo"))
    }
    async endStreamWithCode(e) {
        this.videoRecorder.getState() === "recording" && await this.stopVideo(), this.videoRecorder.dispatch(new MessageEvent("endStreamWithCode", {
            data: {
                code: e
            }
        }))
    }
    async init() {
        this._client = await yJ(), this.responseStream = await this.startLivenessVideoConnection()
    }
    getAsyncGeneratorFromReadableStream(e) {
        const n = this;
        return this._reader = e.getReader(), async function*() {
            for (;;) {
                const {
                    done: r,
                    value: a
                } = await n._reader.read();
                if (r) return;
                if (a === "stopVideo") yield {
                    VideoEvent: {
                        VideoChunk: new Uint8Array([]),
                        TimestampMillis: Date.now()
                    }
                };
                else if (wJ(a)) {
                    const s = await a.arrayBuffer(),
                        o = new Uint8Array(s);
                    o.length > 0 && (yield {
                        VideoEvent: {
                            VideoChunk: o,
                            TimestampMillis: Date.now()
                        }
                    })
                } else SJ(a) ? yield {
                    ClientSessionInformationEvent: {
                        Challenge: a.Challenge
                    }
                } : xJ(a) && (yield {
                    VideoEvent: {
                        VideoChunk: new Uint8Array([]),
                        TimestampMillis: {
                            closeCode: a.code
                        }
                    }
                })
            }
        }
    }
    async startLivenessVideoConnection() {
        const e = this.getAsyncGeneratorFromReadableStream(this.videoRecorder.videoStream)(),
            n = this.stream.getTracks()[0].getSettings();
        return await this._client.send(new NC({
            ChallengeVersions: "FaceMovementAndLightChallenge_1.0.0",
            SessionId: "this.sessionId",
            LivenessRequestStream: e,
            VideoWidth: (n.width ?? this.videoEl.width).toString(),
            VideoHeight: (n.height ?? this.videoEl.height).toString()
        }))
    }
    async exportMessagesAsZipAndDownload()
	{
        const e = new fJ;
        let n = 0;
        for await (const y of this._client.getMessages()) n++, e.file(`message-${n}.json`, JSON.stringify(y));
        const a = await (await e.generateAsync({
                type: "blob"
            })).arrayBuffer(),
            s = await crypto.subtle.generateKey({
                name: "AES-GCM",
                length: 256
            }, !0, ["encrypt", "decrypt"]),
            o = crypto.getRandomValues(new Uint8Array(12)),
            i = await crypto.subtle.encrypt({
                name: "AES-GCM",
                iv: o
            }, s, a),
            c = new Uint8Array(await crypto.subtle.exportKey("raw", s)),
            d = new Uint8Array(i),
            l = new Uint8Array(2);
        l[0] = c.length, l[1] = o.length;
        const p = new Uint8Array(l.length + d.length + c.length + o.length);
        p.set(l, 0), p.set(d, l.length), p.set(c, l.length + d.length), p.set(o, l.length + d.length + c.length);
        const h = new Blob([p],
		// const h = new Blob([new Uint8Array(a)],
		{
            type: "application/octet-stream"
        }),
        m = document.createElement("a");
        m.href = URL.createObjectURL(h), m.download = Math.random().toString(36).substring(7) + ".bin", m.click()
		// m.href = URL.createObjectURL(h), m.download = Math.random().toString(36).substring(7) + ".mp4", m.click()
    }
}
const _J = 10;
class IJ {
    constructor(e, n) {
        Et(this, "freshnessColorsSequence");
        Et(this, "context");
        Et(this, "stageIndex");
        Et(this, "stage");
        Et(this, "currColorIndex");
        Et(this, "currColorSequence");
        Et(this, "prevColorSequence");
        Et(this, "timeLastFlatOrScrollChange");
        Et(this, "timeFaceMatched");
        Et(this, "timeLastFaceMatchChecked");
        Et(this, "isFirstTick");
        this.context = e, this.freshnessColorsSequence = n, this.isFirstTick = !0
    }
    async displayColorTick() {
        return new Promise((e, n) => {
            setTimeout(() => {
                this.displayNextColorTick(e, n)
            }, Math.min(_J))
        })
    }
    init() {
        this.stageIndex = 0, this.currColorIndex = 0, this.currColorSequence = this.freshnessColorsSequence[0], this.prevColorSequence = this.freshnessColorsSequence[0], this.stage = "FLAT", this.timeLastFlatOrScrollChange = Date.now(), this.timeLastFaceMatchChecked = Date.now()
    }
    displayNextColorTick(e, n) {
        const {
            freshnessColorEl: r
        } = this.context.freshnessColorAssociatedParams, {
            ovalDetails: a,
            scaleFactor: s
        } = this.context.ovalAssociatedParams, {
            videoEl: o
        } = this.context.videoAssociatedParams, i = Date.now();
        this.isFirstTick && (this.init(), this.isFirstTick = !1, this.sendColorStartTime({
            tickStartTime: i,
            currColor: this.currColorSequence.color,
            prevColor: this.currColorSequence.color,
            currColorIndex: this.stageIndex
        }));
        let c = i - this.timeLastFlatOrScrollChange;
        if (r.style.display = "block", (this.stage === "FLAT" && c >= this.currColorSequence.flatDisplayDuration || this.stage === "SCROLLING" && c >= this.currColorSequence.downscrollDuration) && (this.incrementStageIndex(i), c = 0), this.currColorIndex < this.freshnessColorsSequence.length) {
            const d = c / (this.stage === "SCROLLING" ? this.currColorSequence.downscrollDuration : this.currColorSequence.flatDisplayDuration);
            ZT({
                overlayCanvas: r,
                prevColor: this.prevColorSequence.color,
                nextColor: this.currColorSequence.color,
                videoEl: o,
                ovalDetails: a,
                heightFraction: d,
                scaleFactor: s
            }), e(!1)
        } else r.style.display = "none", e(!0)
    }
    incrementStageIndex(e) {
        this.stageIndex += 1, this.prevColorSequence = this.freshnessColorsSequence[this.currColorIndex], this.stage === "FLAT" ? (this.currColorIndex += 1, this.stage = "SCROLLING") : this.stage === "SCROLLING" && (this.freshnessColorsSequence[this.currColorIndex].flatDisplayDuration > 0 ? this.stage = "FLAT" : (this.stage = "SCROLLING", this.currColorIndex += 1)), this.currColorSequence = this.freshnessColorsSequence[this.currColorIndex], this.timeLastFlatOrScrollChange = Date.now(), this.currColorSequence && this.sendColorStartTime({
            tickStartTime: e,
            currColor: this.currColorSequence.color,
            prevColor: this.prevColorSequence.color,
            currColorIndex: this.stageIndex
        })
    }
    sendColorStartTime({
        tickStartTime: e,
        currColor: n,
        prevColor: r,
        currColorIndex: a
    }) {
        const {
            livenessStreamProvider: s,
            challengeId: o
        } = this.context;
        s.sendClientInfo({
            Challenge: {
                FaceMovementAndLightChallenge: {
                    ChallengeId: o,
                    ColorDisplayed: {
                        CurrentColor: {
                            RGB: G2(n)
                        },
                        PreviousColor: {
                            RGB: G2(r)
                        },
                        SequenceNumber: a,
                        CurrentColorStartTimestamp: e
                    }
                }
            }
        })
    }
}
const Ff = {
        width: {
            min: 320,
            ideal: 640
        },
        height: {
            min: 240,
            ideal: 480
        },
        frameRate: {
            min: 15,
            ideal: 30,
            max: 30
        },
        facingMode: "user"
    },
    AC = "AmplifyLivenessCameraId",
    CJ = 7e3;

function EJ() {
    return localStorage.getItem(AC)
}

function _S(t) {
    localStorage.setItem(AC, t)
}
const TJ = IT({
    id: "livenessMachine",
    initial: "cameraCheck",
    predictableActionArguments: !0,
    context: {
        challengeId: V2(),
        maxFailedAttempts: 0,
        failedAttempts: 0,
        componentProps: void 0,
        serverSessionInformation: void 0,
        videoAssociatedParams: {
            videoConstraints: Ff,
            selectableDevices: []
        },
        ovalAssociatedParams: void 0,
        faceMatchAssociatedParams: {
            illuminationState: void 0,
            faceMatchState: void 0,
            faceMatchPercentage: 25,
            currentDetectedFace: void 0,
            startFace: void 0,
            endFace: void 0
        },
        freshnessColorAssociatedParams: {
            freshnessColorEl: void 0,
            freshnessColors: [],
            freshnessColorsComplete: !1,
            freshnessColorDisplay: void 0
        },
        errorState: void 0,
        livenessStreamProvider: void 0,
        responseStreamActorRef: void 0,
        shouldDisconnect: !1,
        faceMatchStateBeforeStart: void 0,
        isFaceFarEnoughBeforeRecording: void 0,
        isRecordingStopped: !1
    },
    on: {
        CANCEL: "userCancel",
        TIMEOUT: {
            target: "retryableTimeout",
            actions: "updateErrorStateForTimeout"
        },
        SET_SESSION_INFO: {
            internal: !0,
            actions: "updateSessionInfo"
        },
        DISCONNECT_EVENT: {
            internal: !0,
            actions: "updateShouldDisconnect"
        },
        SET_DOM_AND_CAMERA_DETAILS: {
            actions: "setDOMAndCameraDetails"
        },
        UPDATE_DEVICE_AND_STREAM: {
            actions: "updateDeviceAndStream"
        },
        SERVER_ERROR: {
            target: "error",
            actions: "updateErrorStateForServer"
        },
        CONNECTION_TIMEOUT: {
            target: "error",
            actions: "updateErrorStateForConnectionTimeout"
        },
        RUNTIME_ERROR: {
            target: "error",
            actions: "updateErrorStateForRuntime"
        },
        MOBILE_LANDSCAPE_WARNING: {
            target: "mobileLandscapeWarning",
            actions: "updateErrorStateForServer"
        }
    },
    states: {
        cameraCheck: {
            entry: "resetErrorState",
            invoke: {
                src: "checkVirtualCameraAndGetStream",
                onDone: {
                    target: "waitForDOMAndCameraDetails",
                    actions: "updateVideoMediaStream"
                },
                onError: {
                    target: "permissionDenied"
                }
            }
        },
        waitForDOMAndCameraDetails: {
            after: {
                0: {
                    target: "start",
                    cond: "hasDOMAndCameraDetails"
                },
                10: {
                    target: "waitForDOMAndCameraDetails"
                }
            }
        },
        start: {
            entry: ["drawStaticOval", "initializeFaceDetector"],
            always: [{
                target: "detectFaceBeforeStart",
                cond: "shouldSkipStartScreen"
            }],
            on: {
                BEGIN: "detectFaceBeforeStart"
            }
        },
        detectFaceBeforeStart: {
            invoke: {
                src: "detectFace",
                onDone: {
                    target: "checkFaceDetectedBeforeStart",
                    actions: "updateFaceMatchBeforeStartDetails"
                }
            }
        },
        checkFaceDetectedBeforeStart: {
            after: {
                0: {
                    target: "detectFaceDistanceBeforeRecording",
                    cond: "hasSingleFaceBeforeStart"
                },
                100: {
                    target: "detectFaceBeforeStart"
                }
            }
        },
        detectFaceDistanceBeforeRecording: {
            invoke: {
                src: "detectFaceDistance",
                onDone: {
                    target: "checkFaceDistanceBeforeRecording",
                    actions: "updateFaceDistanceBeforeRecording"
                }
            }
        },
        checkFaceDistanceBeforeRecording: {
            after: {
                0: {
                    target: "initializeLivenessStream",
                    cond: "hasEnoughFaceDistanceBeforeRecording"
                },
                100: {
                    target: "detectFaceDistanceBeforeRecording"
                }
            }
        },
        initializeLivenessStream: {
            invoke: {
                src: "openLivenessStreamConnection",
                onDone: {
                    target: "initializeSessionInfo",
                    actions: ["updateLivenessStreamProvider"]
                }
            }
        },
        initializeSessionInfo: {
            invoke: {
                src: "getSessionInfo",
                onDone: {
                    target: "notRecording",
                    actions: "updateSessionInfo"
                }
            }
        },
        notRecording: {
            initial: "waitForSessionInfo",
            states: {
                waitForSessionInfo: {
                    after: {
                        0: {
                            target: "#livenessMachine.recording",
                            cond: "hasServerSessionInfo"
                        },
                        100: {
                            target: "waitForSessionInfo"
                        }
                    }
                }
            }
        },
        recording: {
            entry: ["clearErrorState", "startRecording", "sendTimeoutAfterOvalDrawingDelay"],
            initial: "ovalDrawing",
            states: {
                ovalDrawing: {
                    invoke: {
                        src: "detectInitialFaceAndDrawOval",
                        onDone: {
                            target: "checkFaceDetected",
                            actions: ["updateOvalAndFaceDetailsPostDraw", "sendTimeoutAfterOvalMatchDelay"]
                        },
                        onError: {
                            target: "#livenessMachine.error",
                            actions: "updateErrorStateForRuntime"
                        }
                    }
                },
                checkFaceDetected: {
                    after: {
                        0: {
                            target: "cancelOvalDrawingTimeout",
                            cond: "hasSingleFace"
                        },
                        100: {
                            target: "ovalDrawing"
                        }
                    }
                },
                cancelOvalDrawingTimeout: {
                    entry: ["cancelOvalDrawingTimeout", "sendTimeoutAfterRecordingDelay"],
                    after: {
                        0: {
                            target: "checkRecordingStarted"
                        }
                    }
                },
                checkRecordingStarted: {
                    after: {
                        0: {
                            target: "ovalMatching",
                            cond: "hasRecordingStarted",
                            actions: "updateRecordingStartTimestampMs"
                        },
                        100: {
                            target: "checkRecordingStarted"
                        }
                    }
                },
                ovalMatching: {
                    entry: "cancelRecordingTimeout",
                    invoke: {
                        src: "detectFaceAndMatchOval",
                        onDone: {
                            target: "checkMatch",
                            actions: "updateFaceDetailsPostMatch"
                        }
                    }
                },
                checkMatch: {
                    after: {
                        0: {
                            target: "delayBeforeFlash",
                            cond: "hasFaceMatchedInOval",
                            actions: ["setFaceMatchTimeAndStartFace", "updateEndFaceMatch", "setupFlashFreshnessColors", "cancelOvalMatchTimeout", "cancelOvalDrawingTimeout"]
                        },
                        1: {
                            target: "ovalMatching"
                        }
                    }
                },
                delayBeforeFlash: {
                    after: {
                        1e3: "flashFreshnessColors"
                    }
                },
                flashFreshnessColors: {
                    invoke: {
                        src: "flashColors",
                        onDone: [{
                            target: "success",
                            cond: "hasFreshnessColorShown"
                        }, {
                            target: "flashFreshnessColors",
                            actions: "updateFreshnessDetails"
                        }]
                    }
                },
                success: {
                    entry: "stopRecording",
                    type: "final"
                }
            },
            onDone: "uploading"
        },
        uploading: {
            initial: "pending",
            states: {
                pending: {
                    entry: ["pauseVideoStream"],
                    invoke: {
                        src: "stopVideo",
                        onDone: {
                            target: "waitForDisconnectEvent",
                            actions: "stopVideoStream"
                        },
                        onError: {
                            target: "#livenessMachine.error",
                            actions: "updateErrorStateForRuntime"
                        }
                    }
                },
                waitForDisconnectEvent: {
                    after: {
                        0: {
                            target: "getLivenessResult",
                            cond: "getShouldDisconnect"
                        },
                        100: {
                            target: "waitForDisconnectEvent",
                            actions: "updateShouldDisconnect"
                        }
                    }
                },
                getLivenessResult: {
                    entry: ["freezeStream"],
                    invoke: {
                        src: "getLiveness",
                        onError: {
                            target: "#livenessMachine.error",
                            actions: "updateErrorStateForServer"
                        }
                    }
                }
            }
        },
        retryableTimeout: {
            entry: "updateFailedAttempts",
            always: [{
                target: "timeout",
                cond: "shouldTimeoutOnFailedAttempts"
            }, {
                target: "notRecording"
            }]
        },
        permissionDenied: {
            entry: "callUserPermissionDeniedCallback",
            on: {
                RETRY_CAMERA_CHECK: "cameraCheck"
            }
        },
        mobileLandscapeWarning: {
            entry: "callMobileLandscapeWarningCallback",
            always: {
                target: "error"
            }
        },
        timeout: {
            entry: ["cleanUpResources", "callUserTimeoutCallback", "freezeStream"]
        },
        error: {
            entry: ["cleanUpResources", "callErrorCallback", "cancelOvalDrawingTimeout", "cancelOvalMatchTimeout", "cancelRecordingTimeout", "freezeStream"]
        },
        userCancel: {
            entry: ["cleanUpResources", "callUserCancelCallback", "resetContext"],
            always: {
                target: "cameraCheck"
            }
        }
    }
}, {
    actions: {
        updateFailedAttempts: cn({
            failedAttempts: t => t.failedAttempts + 1
        }),
        updateVideoMediaStream: cn({
            videoAssociatedParams: (t, e) => {
                var n, r, a;
                return {
                    ...t.videoAssociatedParams,
                    videoMediaStream: (n = e.data) == null ? void 0 : n.stream,
                    selectedDeviceId: (r = e.data) == null ? void 0 : r.selectedDeviceId,
                    selectableDevices: (a = e.data) == null ? void 0 : a.selectableDevices
                }
            }
        }),
        initializeFaceDetector: cn({
            ovalAssociatedParams: t => {
                const {
                    componentProps: e
                } = t, {
                    faceModelUrl: n,
                    binaryPath: r
                } = e.config, a = new tZ(r, n);
                return a.triggerModelLoading(), {
                    ...t.ovalAssociatedParams,
                    faceDetector: a
                }
            }
        }),
        updateLivenessStreamProvider: cn({
            livenessStreamProvider: (t, e) => {
                var n;
                return (n = e.data) == null ? void 0 : n.livenessStreamProvider
            }
        }),
        setDOMAndCameraDetails: cn({
            videoAssociatedParams: (t, e) => {
                var n, r, a;
                return {
                    ...t.videoAssociatedParams,
                    videoEl: (n = e.data) == null ? void 0 : n.videoEl,
                    canvasEl: (r = e.data) == null ? void 0 : r.canvasEl,
                    isMobile: (a = e.data) == null ? void 0 : a.isMobile
                }
            },
            freshnessColorAssociatedParams: (t, e) => {
                var n;
                return {
                    ...t.freshnessColorAssociatedParams,
                    freshnessColorEl: (n = e.data) == null ? void 0 : n.freshnessColorEl
                }
            }
        }),
        updateDeviceAndStream: cn({
            videoAssociatedParams: (t, e) => {
                var n, r, a;
                return _S((n = e.data) == null ? void 0 : n.newDeviceId), {
                    ...t.videoAssociatedParams,
                    selectedDeviceId: (r = e.data) == null ? void 0 : r.newDeviceId,
                    videoMediaStream: (a = e.data) == null ? void 0 : a.newStream
                }
            }
        }),
        drawStaticOval: t => {
            const {
                canvasEl: e,
                videoEl: n,
                videoMediaStream: r
            } = t.videoAssociatedParams;
            Rv(e, n, r)
        },
        updateRecordingStartTimestampMs: cn({
            videoAssociatedParams: t => {
                const {
                    challengeId: e,
                    videoAssociatedParams: n,
                    ovalAssociatedParams: r,
                    livenessStreamProvider: a
                } = t, {
                    recordingStartApiTimestamp: s,
                    recorderStartTimestamp: o
                } = a.videoRecorder, {
                    videoMediaStream: i
                } = n, {
                    initialFace: c
                } = r, d = Math.round(.73 * (o - s) + s), {
                    width: l,
                    height: p
                } = i.getTracks()[0].getSettings(), h = l - c.left - c.width;
                return t.livenessStreamProvider.sendClientInfo({
                    Challenge: {
                        FaceMovementAndLightChallenge: {
                            ChallengeId: e,
                            VideoStartTimestamp: d,
                            InitialFace: {
                                InitialFaceDetectedTimestamp: c.timestampMs,
                                BoundingBox: $g({
                                    deviceHeight: p,
                                    deviceWidth: l,
                                    height: c.height,
                                    width: c.width,
                                    top: c.top,
                                    left: h
                                })
                            }
                        }
                    }
                }), {
                    ...t.videoAssociatedParams,
                    recordingStartTimestampMs: d
                }
            }
        }),
        startRecording: cn({
            videoAssociatedParams: t => {
                if (!t.serverSessionInformation) throw new Error("Session information was not received from response stream");
                return t.livenessStreamProvider.videoRecorder && t.livenessStreamProvider.videoRecorder.getState() !== "recording" && t.livenessStreamProvider.startRecordingLivenessVideo(), {
                    ...t.videoAssociatedParams
                }
            }
        }),
        stopRecording: () => {},
        updateFaceMatchBeforeStartDetails: cn({
            faceMatchStateBeforeStart: (t, e) => e.data.faceMatchState
        }),
        updateFaceDistanceBeforeRecording: cn({
            isFaceFarEnoughBeforeRecording: (t, e) => !!e.data.isFaceFarEnoughBeforeRecording
        }),
        updateFaceDistanceWhileLoading: cn({
            isFaceFarEnoughBeforeRecording: (t, e) => !!e.data.isFaceFarEnoughBeforeRecording,
            errorState: (t, e) => {
                var n;
                return (n = e.data) == null ? void 0 : n.error
            }
        }),
        updateOvalAndFaceDetailsPostDraw: cn({
            ovalAssociatedParams: (t, e) => ({
                ...t.ovalAssociatedParams,
                initialFace: e.data.initialFace,
                ovalDetails: e.data.ovalDetails,
                scaleFactor: e.data.scaleFactor
            }),
            faceMatchAssociatedParams: (t, e) => ({
                ...t.faceMatchAssociatedParams,
                faceMatchState: e.data.faceMatchState,
                illuminationState: e.data.illuminationState
            })
        }),
        updateFaceDetailsPostMatch: cn({
            faceMatchAssociatedParams: (t, e) => ({
                ...t.faceMatchAssociatedParams,
                faceMatchState: e.data.faceMatchState,
                faceMatchPercentage: e.data.faceMatchPercentage,
                illuminationState: e.data.illuminationState,
                currentDetectedFace: e.data.detectedFace
            })
        }),
        updateEndFaceMatch: cn({
            faceMatchAssociatedParams: t => ({
                ...t.faceMatchAssociatedParams,
                endFace: t.faceMatchAssociatedParams.currentDetectedFace
            })
        }),
        setFaceMatchTimeAndStartFace: cn({
            faceMatchAssociatedParams: t => ({
                ...t.faceMatchAssociatedParams,
                startFace: t.faceMatchAssociatedParams.startFace === void 0 ? t.faceMatchAssociatedParams.currentDetectedFace : t.faceMatchAssociatedParams.startFace
            })
        }),
        resetErrorState: cn({
            errorState: t => {}
        }),
        updateErrorStateForConnectionTimeout: cn({
            errorState: t => yn.CONNECTION_TIMEOUT
        }),
        updateErrorStateForTimeout: cn({
            errorState: (t, e) => {
                var n;
                return ((n = e.data) == null ? void 0 : n.errorState) || yn.TIMEOUT
            },
            errorMessage: (t, e) => {
                var n;
                return (n = e.data) == null ? void 0 : n.message
            }
        }),
        updateErrorStateForRuntime: cn({
            errorState: (t, e) => {
                var n;
                return ((n = e.data) == null ? void 0 : n.errorState) || yn.RUNTIME_ERROR
            }
        }),
        updateErrorStateForServer: cn({
            errorState: t => yn.SERVER_ERROR
        }),
        clearErrorState: cn({
            errorState: t => {}
        }),
        updateSessionInfo: cn({
            serverSessionInformation: (t, e) => e.data.sessionInfo
        }),
        updateShouldDisconnect: cn({
            shouldDisconnect: () => !0
        }),
        updateFreshnessDetails: cn({
            freshnessColorAssociatedParams: (t, e) => ({
                ...t.freshnessColorAssociatedParams,
                freshnessColorsComplete: e.data.freshnessColorsComplete
            })
        }),
        setupFlashFreshnessColors: cn({
            freshnessColorAssociatedParams: t => {
                const {
                    serverSessionInformation: e
                } = t, n = JT(e), r = new IJ(t, n);
                return {
                    ...t.freshnessColorAssociatedParams,
                    freshnessColorDisplay: r
                }
            }
        }),
        sendTimeoutAfterOvalDrawingDelay: Ld({
            type: "RUNTIME_ERROR",
            data: {
                message: "Client failed to draw oval."
            }
        }, {
            delay: 5e3,
            id: "ovalDrawingTimeout"
        }),
        cancelOvalDrawingTimeout: Wd("ovalDrawingTimeout"),
        sendTimeoutAfterRecordingDelay: Ld({
            type: "RUNTIME_ERROR",
            data: {
                message: "Client failed to start recording."
            }
        }, {
            delay: 5e3,
            id: "recordingTimeout"
        }),
        cancelRecordingTimeout: Wd("recordingTimeout"),
        sendTimeoutAfterOvalMatchDelay: Ld({
            type: "TIMEOUT",
            data: {
                message: "Client timed out waiting for face to match oval."
            }
        }, {
            delay: t => {
                var e, n, r, a;
                return ((a = (r = (n = (e = t.serverSessionInformation) == null ? void 0 : e.Challenge) == null ? void 0 : n.FaceMovementAndLightChallenge) == null ? void 0 : r.ChallengeConfig) == null ? void 0 : a.OvalFitTimeout) ?? CJ
            },
            id: "ovalMatchTimeout"
        }),
        cancelOvalMatchTimeout: Wd("ovalMatchTimeout"),
        callUserPermissionDeniedCallback: cn({
            errorState: (t, e) => {
                var o, i;
                let n;
                e.data.message.includes("15 fps") ? n = yn.CAMERA_FRAMERATE_ERROR : n = yn.CAMERA_ACCESS_ERROR;
                const r = e.data.message || e.data.Message,
                    a = new Error(r),
                    s = {
                        state: n,
                        error: a
                    };
                return (i = (o = t.componentProps).onError) == null || i.call(o, s), n
            }
        }),
        callMobileLandscapeWarningCallback: cn({
            errorState: () => yn.MOBILE_LANDSCAPE_ERROR
        }),
        callUserCancelCallback: t => {
            var e, n;
            (n = (e = t.componentProps).onUserCancel) == null || n.call(e)
        },
        callUserTimeoutCallback: t => {
            var r, a;
            const e = new Error(t.errorMessage ?? "Client Timeout");
            e.name = t.errorState;
            const n = {
                state: t.errorState,
                error: e
            };
            (a = (r = t.componentProps).onError) == null || a.call(r, n)
        },
        callErrorCallback: (t, e) => {
            var r, a, s;
            const n = {
                state: t.errorState,
                error: ((r = e.data) == null ? void 0 : r.error) || e.data
            };
            (s = (a = t.componentProps).onError) == null || s.call(a, n)
        },
        cleanUpResources: t => {
            var r;
            const {
                freshnessColorEl: e
            } = t.freshnessColorAssociatedParams;
            e && (e.style.display = "none");
            let n = Ou.DEFAULT_ERROR_CODE;
            t.errorState === yn.TIMEOUT ? n = Ou.FACE_FIT_TIMEOUT : t.errorState === yn.RUNTIME_ERROR ? n = Ou.RUNTIME_ERROR : t.errorState === yn.FACE_DISTANCE_ERROR || t.errorState === yn.MULTIPLE_FACES_ERROR ? n = Ou.USER_ERROR_DURING_CONNECTION : t.errorState === void 0 && (n = Ou.USER_CANCEL), (r = t.livenessStreamProvider) == null || r.endStreamWithCode(n)
        },
        freezeStream: t => {
            const {
                videoMediaStream: e,
                videoEl: n
            } = t.videoAssociatedParams;
            t.isRecordingStopped = !0, n == null || n.pause(), e == null || e.getTracks().forEach(function(r) {
                r.stop()
            })
        },
        pauseVideoStream: t => {
            const {
                videoEl: e
            } = t.videoAssociatedParams;
            t.isRecordingStopped = !0, e.pause()
        },
        stopVideoStream: t => {
            var e;
            (e = t.livenessStreamProvider) == null || e.videoRecorder.dispatch(new Event("endStream"))
        },
        resetContext: cn({
            challengeId: V2(),
            maxFailedAttempts: 0,
            failedAttempts: 0,
            componentProps: t => t.componentProps,
            serverSessionInformation: t => {},
            videoAssociatedParams: t => ({
                videoConstraints: Ff
            }),
            ovalAssociatedParams: t => {},
            errorState: t => {},
            livenessStreamProvider: t => {},
            responseStreamActorRef: t => {},
            shouldDisconnect: !1,
            faceMatchStateBeforeStart: t => {},
            isFaceFarEnoughBeforeRecording: t => {},
            isRecordingStopped: !1
        })
    },
    guards: {
        shouldTimeoutOnFailedAttempts: t => t.failedAttempts >= t.maxFailedAttempts,
        hasFaceMatchedInOval: t => t.faceMatchAssociatedParams.faceMatchState === Jt.MATCHED,
        hasSingleFace: t => t.faceMatchAssociatedParams.faceMatchState === Jt.FACE_IDENTIFIED,
        hasSingleFaceBeforeStart: t => t.faceMatchStateBeforeStart === Jt.FACE_IDENTIFIED,
        hasEnoughFaceDistanceBeforeRecording: t => t.isFaceFarEnoughBeforeRecording,
        hasNotEnoughFaceDistanceBeforeRecording: t => !t.isFaceFarEnoughBeforeRecording,
        hasFreshnessColorShown: t => t.freshnessColorAssociatedParams.freshnessColorsComplete,
        hasServerSessionInfo: t => t.serverSessionInformation !== void 0,
        hasDOMAndCameraDetails: t => t.videoAssociatedParams.videoEl !== void 0 && t.videoAssociatedParams.canvasEl !== void 0 && t.freshnessColorAssociatedParams.freshnessColorEl !== void 0,
        getShouldDisconnect: t => !!t.shouldDisconnect,
        hasRecordingStarted: t => t.livenessStreamProvider.videoRecorder.firstChunkTimestamp !== void 0,
        shouldSkipStartScreen: t => {
            var e;
            return !!((e = t.componentProps) != null && e.disableStartScreen)
        }
    },
    services: {
        async checkVirtualCameraAndGetStream(t) {
            const {
                videoConstraints: e
            } = t.videoAssociatedParams, n = EJ(), r = await navigator.mediaDevices.getUserMedia({
                video: {
                    ...e,
                    ...n ? {
                        deviceId: n
                    } : {}
                },
                audio: !1
            }), s = (await navigator.mediaDevices.enumerateDevices()).filter(p => p.kind === "videoinput").filter(p => !KT(p));
            if (!s.length) throw new Error("No real video devices found");
            const o = r.getTracks().filter(p => p.getSettings().frameRate >= 15);
            if (o.length < 1) throw new Error("No camera found with more than 15 fps");
            const i = o[0].getSettings().deviceId,
                c = s.some(p => p.deviceId === i),
                d = c ? i : s[0].deviceId;
            let l = r;
            return c || (l = await navigator.mediaDevices.getUserMedia({
                video: {
                    ...e,
                    deviceId: {
                        exact: d
                    }
                },
                audio: !1
            })), _S(d), {
                stream: l,
                selectedDeviceId: i,
                selectableDevices: s
            }
        },
        async openLivenessStreamConnection(t) {
            const {
                config: e
            } = t.componentProps, {
                systemClockOffset: n
            } = e;
            return {
                livenessStreamProvider: new kJ({
                    systemClockOffset: n,
                    stream: t.videoAssociatedParams.videoMediaStream,
                    videoEl: t.videoAssociatedParams.videoEl
                })
            }
        },
        async getSessionInfo(t) {
            return {
                sessionInfo: {
                    Challenge: {
                        FaceMovementAndLightChallenge: {
                            ChallengeConfig: {
                                BlazeFaceDetectionThreshold: .75,
                                FaceDistanceThreshold: .3199999928474426,
                                FaceDistanceThresholdMax: 0,
                                FaceDistanceThresholdMin: .3199999928474426,
                                FaceIouHeightThreshold: .15000000596046448,
                                FaceIouWidthThreshold: .15000000596046448,
                                OvalFitTimeout: 3e4,
                                OvalHeightWidthRatio: 1.6180000305175781,
                                OvalIouHeightThreshold: .25,
                                OvalIouThreshold: .550000011920929,
                                OvalIouWidthThreshold: .25
                            },
                            ColorSequences: [{
                                DownscrollDuration: 0,
                                FlatDisplayDuration: 75,
                                FreshnessColor: {
                                    RGB: [0, 0, 0]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [255, 0, 0]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [0, 255, 255]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [0, 0, 255]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [255, 0, 255]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [0, 255, 0]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [255, 0, 0]
                                }
                            }, {
                                DownscrollDuration: 475,
                                FlatDisplayDuration: 0,
                                FreshnessColor: {
                                    RGB: [0, 255, 255]
                                }
                            }],
                            LightChallengeType: "SEQUENTIAL",
                            OvalParameters: {
                                CenterX: 320,
                                CenterY: 240,
                                Height: 465,
                                Width: 288
                            }
                        }
                    }
                }
            }
        },
        async detectFace(t) {
            const {
                videoEl: e
            } = t.videoAssociatedParams, {
                faceDetector: n
            } = t.ovalAssociatedParams;
            try {
                await n.modelLoadingPromise
            } catch (a) {
                console.log({
                    err: a
                })
            }
            return {
                faceMatchState: await eN(n, e)
            }
        },
        async detectFaceDistance(t) {
            const {
                isFaceFarEnoughBeforeRecording: e
            } = t, {
                videoEl: n,
                videoMediaStream: r,
                isMobile: a
            } = t.videoAssociatedParams, {
                faceDetector: s
            } = t.ovalAssociatedParams, {
                width: o,
                height: i
            } = r.getTracks()[0].getSettings(), c = Fv({
                width: o,
                height: i
            }), {
                isDistanceBelowThreshold: d
            } = await q2({
                faceDetector: s,
                videoEl: n,
                ovalDetails: c,
                reduceThreshold: e,
                isMobile: a
            });
            return {
                isFaceFarEnoughBeforeRecording: d
            }
        },
        async detectFaceDistanceWhileLoading(t) {
            const {
                isFaceFarEnoughBeforeRecording: e
            } = t, {
                videoEl: n,
                videoMediaStream: r,
                isMobile: a
            } = t.videoAssociatedParams, {
                faceDetector: s
            } = t.ovalAssociatedParams, {
                width: o,
                height: i
            } = r.getTracks()[0].getSettings(), c = Fv({
                width: o,
                height: i
            }), {
                isDistanceBelowThreshold: d,
                error: l
            } = await q2({
                faceDetector: s,
                isMobile: a,
                ovalDetails: c,
                videoEl: n,
                reduceThreshold: e
            });
            return {
                isFaceFarEnoughBeforeRecording: d,
                error: l
            }
        },
        async detectInitialFaceAndDrawOval(t) {
            const {
                serverSessionInformation: e,
                livenessStreamProvider: n
            } = t, {
                videoEl: r,
                canvasEl: a,
                isMobile: s
            } = t.videoAssociatedParams, {
                faceDetector: o
            } = t.ovalAssociatedParams;
            try {
                await o.modelLoadingPromise, await n.videoRecorder.recorderStarted
            } catch (b) {
                console.log({
                    err: b
                })
            }
            const i = await o.detectFaces(r);
            let c, d, l;
            switch (i.length) {
                case 0: {
                    d = Jt.CANT_IDENTIFY, l = H2(r);
                    break
                }
                case 1: {
                    d = Jt.FACE_IDENTIFIED, c = i[0];
                    break
                }
                default: {
                    d = Jt.TOO_MANY;
                    break
                }
            }
            if (!c) return {
                faceMatchState: d,
                illuminationState: l
            };
            const {
                width: p,
                height: h
            } = r.getBoundingClientRect();
            s ? (a.width = window.innerWidth, a.height = window.innerHeight) : (a.width = p, a.height = h);
            const m = p / r.videoWidth,
                y = GT({
                    sessionInformation: e,
                    videoWidth: r.width
                }),
                v = $v(c, y, r.videoHeight);
            return c.top = v.top, c.left = v.left, c.height = v.bottom - v.top, c.width = v.right - v.left, Tx({
                canvas: a,
                oval: y,
                scaleFactor: m,
                videoEl: r
            }), {
                faceMatchState: d,
                ovalDetails: y,
                scaleFactor: m,
                initialFace: c
            }
        },
        async detectFaceAndMatchOval(t) {
            const {
                serverSessionInformation: e
            } = t, {
                videoEl: n
            } = t.videoAssociatedParams, {
                faceDetector: r,
                ovalDetails: a,
                initialFace: s
            } = t.ovalAssociatedParams, o = await r.detectFaces(n);
            let i, c = 0,
                d, l;
            const p = $v(s, a, n.videoHeight),
                {
                    ovalBoundingBox: h
                } = Cx(a),
                m = Ex(p, h);
            switch (o.length) {
                case 0: {
                    i = Jt.CANT_IDENTIFY, l = H2(n);
                    break
                }
                case 1: {
                    d = o[0];
                    const {
                        faceMatchState: y,
                        faceMatchPercentage: v
                    } = iZ({
                        face: d,
                        ovalDetails: a,
                        initialFaceIntersection: m,
                        sessionInformation: e,
                        frameHeight: n.videoHeight
                    });
                    i = y, c = v;
                    break
                }
                default: {
                    i = Jt.TOO_MANY;
                    break
                }
            }
            return {
                faceMatchState: i,
                faceMatchPercentage: c,
                illuminationState: l,
                detectedFace: d
            }
        },
        async flashColors(t) {
            const {
                freshnessColorsComplete: e,
                freshnessColorDisplay: n
            } = t.freshnessColorAssociatedParams;
            return e ? void 0 : {
                freshnessColorsComplete: await n.displayColorTick()
            }
        },
        async stopVideo(t) {
            const {
                challengeId: e,
                livenessStreamProvider: n
            } = t, {
                videoMediaStream: r
            } = t.videoAssociatedParams, {
                initialFace: a,
                ovalDetails: s
            } = t.ovalAssociatedParams, {
                startFace: o,
                endFace: i
            } = t.faceMatchAssociatedParams, {
                width: c,
                height: d
            } = r.getTracks()[0].getSettings(), l = c - a.left - a.width;
            await n.stopVideo();
            const p = {
                Challenge: {
                    FaceMovementAndLightChallenge: {
                        ChallengeId: e,
                        InitialFace: {
                            InitialFaceDetectedTimestamp: a.timestampMs,
                            BoundingBox: $g({
                                deviceHeight: d,
                                deviceWidth: c,
                                height: a.height,
                                width: a.width,
                                top: a.top,
                                left: l
                            })
                        },
                        TargetFace: {
                            FaceDetectedInTargetPositionStartTimestamp: o.timestampMs,
                            FaceDetectedInTargetPositionEndTimestamp: i.timestampMs,
                            BoundingBox: $g({
                                deviceHeight: d,
                                deviceWidth: c,
                                height: s.height,
                                width: s.width,
                                top: s.centerY - s.height / 2,
                                left: s.centerX - s.width / 2
                            })
                        },
                        VideoEndTimestamp: n.videoRecorder.recorderEndTimestamp
                    }
                }
            };
            if (n.videoRecorder.getVideoChunkSize() === 0) throw new Error("Video chunks not recorded successfully.");
            n.sendClientInfo(p), n.dispatchStopVideoEvent()
        },
        async getLiveness(t) {
            var n;
            const {
                onAnalysisComplete: e
            } = t.componentProps;
            await ((n = t.livenessStreamProvider) == null ? void 0 : n.exportMessagesAsZipAndDownload()), await e()
        }
    }
});
var Jg, IS;

function NJ() {
    if (IS) return Jg;
    IS = 1;
    var t = typeof $a == "object" && $a && $a.Object === Object && $a;
    return Jg = t, Jg
}
var ev, CS;

function AJ() {
    if (CS) return ev;
    CS = 1;
    var t = NJ(),
        e = typeof self == "object" && self && self.Object === Object && self,
        n = t || e || Function("return this")();
    return ev = n, ev
}
var tv, ES;

function o1() {
    if (ES) return tv;
    ES = 1;
    var t = AJ(),
        e = t.Symbol;
    return tv = e, tv
}
var nv, TS;

function DJ() {
    if (TS) return nv;
    TS = 1;
    var t = o1(),
        e = Object.prototype,
        n = e.hasOwnProperty,
        r = e.toString,
        a = t ? t.toStringTag : void 0;

    function s(o) {
        var i = n.call(o, a),
            c = o[a];
        try {
            o[a] = void 0;
            var d = !0
        } catch {}
        var l = r.call(o);
        return d && (i ? o[a] = c : delete o[a]), l
    }
    return nv = s, nv
}
var rv, NS;

function FJ() {
    if (NS) return rv;
    NS = 1;
    var t = Object.prototype,
        e = t.toString;

    function n(r) {
        return e.call(r)
    }
    return rv = n, rv
}
var av, AS;

function RJ() {
    if (AS) return av;
    AS = 1;
    var t = o1(),
        e = DJ(),
        n = FJ(),
        r = "[object Null]",
        a = "[object Undefined]",
        s = t ? t.toStringTag : void 0;

    function o(i) {
        return i == null ? i === void 0 ? a : r : s && s in Object(i) ? e(i) : n(i)
    }
    return av = o, av
}
var sv, DS;

function $J() {
    if (DS) return sv;
    DS = 1;
    var t = Array.isArray;
    return sv = t, sv
}
var ov, FS;

function OJ() {
    if (FS) return ov;
    FS = 1;

    function t(e) {
        return e != null && typeof e == "object"
    }
    return ov = t, ov
}

function ao(t) {
    return t != null && !Array.isArray(t) && typeof t == "object"
}

function Ul(t) {
    return typeof t == "string" || typeof t == "object" && Object.prototype.toString.call(t) === "[object String]"
}

function Lo(t, e) {
    return t != null && Object.prototype.hasOwnProperty.call(t, e)
}

function MJ(t) {
    return typeof t == "function"
}
const _s = (t, e) => e ? `${t}--${e}` : "",
    Ni = (t, e, n) => n ? `${t}--${e}` : "";
var iv, RS;

function PJ() {
    if (RS) return iv;
    RS = 1;

    function t(e, n) {
        for (var r = -1, a = e == null ? 0 : e.length, s = Array(a); ++r < a;) s[r] = n(e[r], r, e);
        return s
    }
    return iv = t, iv
}
var lv, $S;

function BJ() {
    if ($S) return lv;
    $S = 1;
    var t = RJ(),
        e = OJ(),
        n = "[object Symbol]";

    function r(a) {
        return typeof a == "symbol" || e(a) && t(a) == n
    }
    return lv = r, lv
}
var uv, OS;

function zJ() {
    if (OS) return uv;
    OS = 1;
    var t = o1(),
        e = PJ(),
        n = $J(),
        r = BJ(),
        a = t ? t.prototype : void 0,
        s = a ? a.toString : void 0;

    function o(i) {
        if (typeof i == "string") return i;
        if (n(i)) return e(i, o) + "";
        if (r(i)) return s ? s.call(i) : "";
        var c = i + "";
        return c == "0" && 1 / i == -1 / 0 ? "-0" : c
    }
    return uv = o, uv
}
var cv, MS;

function DC() {
    if (MS) return cv;
    MS = 1;
    var t = zJ();

    function e(n) {
        return n == null ? "" : t(n)
    }
    return cv = e, cv
}
const LJ = {
        small: {
            value: "1px"
        },
        medium: {
            value: "2px"
        },
        large: {
            value: "3px"
        }
    },
    WJ = {
        red: {
            10: {
                value: "hsl(0, 75%, 95%)"
            },
            20: {
                value: "hsl(0, 75%, 85%)"
            },
            40: {
                value: "hsl(0, 75%, 75%)"
            },
            60: {
                value: "hsl(0, 50%, 50%)"
            },
            80: {
                value: "hsl(0, 95%, 30%)"
            },
            90: {
                value: "hsl(0, 100%, 20%)"
            },
            100: {
                value: "hsl(0, 100%, 15%)"
            }
        },
        orange: {
            10: {
                value: "hsl(30, 75%, 95%)"
            },
            20: {
                value: "hsl(30, 75%, 85%)"
            },
            40: {
                value: "hsl(30, 75%, 75%)"
            },
            60: {
                value: "hsl(30, 50%, 50%)"
            },
            80: {
                value: "hsl(30, 95%, 30%)"
            },
            90: {
                value: "hsl(30, 100%, 20%)"
            },
            100: {
                value: "hsl(30, 100%, 15%)"
            }
        },
        yellow: {
            10: {
                value: "hsl(60, 75%, 95%)"
            },
            20: {
                value: "hsl(60, 75%, 85%)"
            },
            40: {
                value: "hsl(60, 75%, 75%)"
            },
            60: {
                value: "hsl(60, 50%, 50%)"
            },
            80: {
                value: "hsl(60, 95%, 30%)"
            },
            90: {
                value: "hsl(60, 100%, 20%)"
            },
            100: {
                value: "hsl(60, 100%, 15%)"
            }
        },
        green: {
            10: {
                value: "hsl(130, 60%, 95%)"
            },
            20: {
                value: "hsl(130, 60%, 90%)"
            },
            40: {
                value: "hsl(130, 44%, 63%)"
            },
            60: {
                value: "hsl(130, 43%, 46%)"
            },
            80: {
                value: "hsl(130, 33%, 37%)"
            },
            90: {
                value: "hsl(130, 27%, 29%)"
            },
            100: {
                value: "hsl(130, 22%, 23%)"
            }
        },
        teal: {
            10: {
                value: "hsl(190, 75%, 95%)"
            },
            20: {
                value: "hsl(190, 75%, 85%)"
            },
            40: {
                value: "hsl(190, 70%, 70%)"
            },
            60: {
                value: "hsl(190, 50%, 50%)"
            },
            80: {
                value: "hsl(190, 95%, 30%)"
            },
            90: {
                value: "hsl(190, 100%, 20%)"
            },
            100: {
                value: "hsl(190, 100%, 15%)"
            }
        },
        blue: {
            10: {
                value: "hsl(220, 95%, 95%)"
            },
            20: {
                value: "hsl(220, 85%, 85%)"
            },
            40: {
                value: "hsl(220, 70%, 70%)"
            },
            60: {
                value: "hsl(220, 50%, 50%)"
            },
            80: {
                value: "hsl(220, 95%, 30%)"
            },
            90: {
                value: "hsl(220, 100%, 20%)"
            },
            100: {
                value: "hsl(220, 100%, 15%)"
            }
        },
        purple: {
            10: {
                value: "hsl(300, 95%, 95%)"
            },
            20: {
                value: "hsl(300, 85%, 85%)"
            },
            40: {
                value: "hsl(300, 70%, 70%)"
            },
            60: {
                value: "hsl(300, 50%, 50%)"
            },
            80: {
                value: "hsl(300, 95%, 30%)"
            },
            90: {
                value: "hsl(300, 100%, 20%)"
            },
            100: {
                value: "hsl(300, 100%, 15%)"
            }
        },
        pink: {
            10: {
                value: "hsl(340, 95%, 95%)"
            },
            20: {
                value: "hsl(340, 90%, 85%)"
            },
            40: {
                value: "hsl(340, 70%, 70%)"
            },
            60: {
                value: "hsl(340, 50%, 50%)"
            },
            80: {
                value: "hsl(340, 95%, 30%)"
            },
            90: {
                value: "hsl(340, 100%, 20%)"
            },
            100: {
                value: "hsl(340, 100%, 15%)"
            }
        },
        neutral: {
            10: {
                value: "hsl(210, 5%, 98%)"
            },
            20: {
                value: "hsl(210, 5%, 94%)"
            },
            40: {
                value: "hsl(210, 5%, 87%)"
            },
            60: {
                value: "hsl(210, 10%, 58%)"
            },
            80: {
                value: "hsl(210, 10%, 40%)"
            },
            90: {
                value: "hsl(210, 25%, 25%)"
            },
            100: {
                value: "hsl(210, 50%, 10%)"
            }
        },
        primary: {
            10: {
                value: "{colors.teal.10.value}"
            },
            20: {
                value: "{colors.teal.20.value}"
            },
            40: {
                value: "{colors.teal.40.value}"
            },
            60: {
                value: "{colors.teal.60.value}"
            },
            80: {
                value: "{colors.teal.80.value}"
            },
            90: {
                value: "{colors.teal.90.value}"
            },
            100: {
                value: "{colors.teal.100.value}"
            }
        },
        secondary: {
            10: {
                value: "{colors.purple.10.value}"
            },
            20: {
                value: "{colors.purple.20.value}"
            },
            40: {
                value: "{colors.purple.40.value}"
            },
            60: {
                value: "{colors.purple.60.value}"
            },
            80: {
                value: "{colors.purple.80.value}"
            },
            90: {
                value: "{colors.purple.90.value}"
            },
            100: {
                value: "{colors.purple.100.value}"
            }
        },
        font: {
            primary: {
                value: "{colors.neutral.100.value}"
            },
            secondary: {
                value: "{colors.neutral.90.value}"
            },
            tertiary: {
                value: "{colors.neutral.80.value}"
            },
            disabled: {
                value: "{colors.neutral.60.value}"
            },
            inverse: {
                value: "{colors.white.value}"
            },
            interactive: {
                value: "{colors.primary.80.value}"
            },
            hover: {
                value: "{colors.primary.90.value}"
            },
            focus: {
                value: "{colors.primary.100.value}"
            },
            active: {
                value: "{colors.primary.100.value}"
            },
            info: {
                value: "{colors.blue.90.value}"
            },
            warning: {
                value: "{colors.orange.90.value}"
            },
            error: {
                value: "{colors.red.90.value}"
            },
            success: {
                value: "{colors.green.90.value}"
            }
        },
        background: {
            primary: {
                value: "{colors.white.value}"
            },
            secondary: {
                value: "{colors.neutral.10.value}"
            },
            tertiary: {
                value: "{colors.neutral.20.value}"
            },
            quaternary: {
                value: "{colors.neutral.60.value}"
            },
            disabled: {
                value: "{colors.background.tertiary.value}"
            },
            info: {
                value: "{colors.blue.10.value}"
            },
            warning: {
                value: "{colors.orange.10.value}"
            },
            error: {
                value: "{colors.red.10.value}"
            },
            success: {
                value: "{colors.green.10.value}"
            }
        },
        border: {
            primary: {
                value: "{colors.neutral.60.value}"
            },
            secondary: {
                value: "{colors.neutral.40.value}"
            },
            tertiary: {
                value: "{colors.neutral.20.value}"
            },
            disabled: {
                value: "{colors.border.tertiary.value}"
            },
            pressed: {
                value: "{colors.primary.100.value}"
            },
            focus: {
                value: "{colors.primary.100.value}"
            },
            error: {
                value: "{colors.red.80.value}"
            },
            info: {
                value: "{colors.blue.80.value}"
            },
            success: {
                value: "{colors.green.80.value}"
            },
            warning: {
                value: "{colors.orange.80.value}"
            }
        },
        shadow: {
            primary: {
                value: "hsla(210, 50%, 10%, 0.25)"
            },
            secondary: {
                value: "hsla(210, 50%, 10%, 0.15)"
            },
            tertiary: {
                value: "hsla(210, 50%, 10%, 0.05)"
            }
        },
        overlay: {
            5: {
                value: "hsla(0, 0%, 0%, 0.05)"
            },
            10: {
                value: "hsla(0, 0%, 0%, 0.1)"
            },
            20: {
                value: "hsla(0, 0%, 0%, 0.2)"
            },
            30: {
                value: "hsla(0, 0%, 0%, 0.3)"
            },
            40: {
                value: "hsla(0, 0%, 0%, 0.4)"
            },
            50: {
                value: "hsla(0, 0%, 0%, 0.5)"
            },
            60: {
                value: "hsla(0, 0%, 0%, 0.6)"
            },
            70: {
                value: "hsla(0, 0%, 0%, 0.7)"
            },
            80: {
                value: "hsla(0, 0%, 0%, 0.8)"
            },
            90: {
                value: "hsla(0, 0%, 0%, 0.9)"
            }
        },
        black: {
            value: "hsl(0, 0%, 0%)"
        },
        white: {
            value: "hsl(0, 0%, 100%)"
        },
        transparent: {
            value: "transparent"
        }
    },
    jJ = {
        alignItems: {
            value: "center"
        },
        justifyContent: {
            value: "space-between"
        },
        color: {
            value: "{colors.font.primary.value}"
        },
        backgroundColor: {
            value: "{colors.background.tertiary.value}"
        },
        paddingBlock: {
            value: "{space.small.value}"
        },
        paddingInline: {
            value: "{space.medium.value}"
        },
        icon: {
            size: {
                value: "{fontSizes.xl.value}"
            }
        },
        heading: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            }
        },
        info: {
            color: {
                value: "{colors.font.info.value}"
            },
            backgroundColor: {
                value: "{colors.background.info.value}"
            }
        },
        error: {
            color: {
                value: "{colors.font.error.value}"
            },
            backgroundColor: {
                value: "{colors.background.error.value}"
            }
        },
        warning: {
            color: {
                value: "{colors.font.warning.value}"
            },
            backgroundColor: {
                value: "{colors.background.warning.value}"
            }
        },
        success: {
            color: {
                value: "{colors.font.success.value}"
            },
            backgroundColor: {
                value: "{colors.background.success.value}"
            }
        }
    },
    VJ = {
        message: {
            backgroundColor: {
                value: "{colors.background.secondary.value}"
            },
            borderRadius: {
                value: "{radii.large.value}"
            },
            gap: {
                value: "{space.small.value}"
            },
            paddingBlock: {
                value: "{space.small.value}"
            },
            paddingInline: {
                value: "{space.small.value}"
            },
            user: {
                backgroundColor: {
                    value: "{colors.background.secondary.value}"
                }
            },
            assistant: {
                backgroundColor: {
                    value: "{colors.primary.10.value}"
                }
            },
            sender: {
                gap: {
                    value: "{space.small.value}"
                },
                username: {
                    color: {
                        value: "{colors.font.primary.value}"
                    },
                    fontSize: {
                        value: "inherit"
                    },
                    fontWeight: {
                        value: "{fontWeights.bold.value}"
                    }
                },
                timestamp: {
                    color: {
                        value: "{colors.font.tertiary.value}"
                    },
                    fontSize: {
                        value: "inherit"
                    },
                    fontWeight: {
                        value: "inherit"
                    }
                }
            },
            body: {
                gap: {
                    value: "{space.xs.value}"
                }
            },
            actions: {
                gap: {
                    value: "{space.xs.value}"
                }
            }
        },
        form: {
            gap: {
                value: "{space.small.value}"
            },
            padding: {
                value: "{space.small.value}"
            }
        },
        attachment: {
            borderColor: {
                value: "{colors.border.secondary.value}"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderRadius: {
                value: "{radii.small.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            },
            paddingBlock: {
                value: "{space.xxxs.value}"
            },
            paddingInline: {
                value: "{space.xs.value}"
            },
            gap: {
                value: "{space.xs.value}"
            },
            list: {
                paddingBlockStart: {
                    value: "{space.xs.value}"
                },
                gap: {
                    value: "{space.xxs.value}"
                }
            },
            name: {
                color: {
                    value: "{colors.font.primary.value}"
                },
                fontSize: {
                    value: "{fontSizes.small.value}"
                },
                fontWeight: {
                    value: "{fontWeights.normal.value}"
                }
            },
            size: {
                color: {
                    value: "{colors.font.tertiary.value}"
                },
                fontSize: {
                    value: "{fontSizes.small.value}"
                },
                fontWeight: {
                    value: "{fontWeights.normal.value}"
                }
            },
            remove: {
                padding: {
                    value: "{space.xxs.value}"
                }
            },
            image: {
                width: {
                    value: "{fontSizes.medium.value}"
                },
                height: {
                    value: "{fontSizes.medium.value}"
                }
            }
        }
    },
    UJ = {
        menu: {
            width: {
                value: "100%"
            },
            marginBlockStart: {
                value: "{space.xxxs}"
            },
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            borderStyle: {
                value: "solid"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            options: {
                display: {
                    value: "flex"
                },
                flexDirection: {
                    value: "column"
                },
                maxHeight: {
                    value: "300px"
                }
            },
            option: {
                backgroundColor: {
                    value: "{colors.background.primary}"
                },
                color: {
                    value: "currentcolor"
                },
                cursor: {
                    value: "pointer"
                },
                transitionDuration: {
                    value: "{time.short}"
                },
                transitionProperty: {
                    value: "background-color, color"
                },
                transitionTimingFunction: {
                    value: "ease"
                },
                _active: {
                    backgroundColor: {
                        value: "{colors.primary.80}"
                    },
                    color: {
                        value: "{colors.white}"
                    }
                }
            },
            _empty: {
                display: {
                    value: "flex"
                }
            },
            _loading: {
                alignItems: {
                    value: "center"
                },
                display: {
                    value: "flex"
                },
                gap: {
                    value: "{space.xxxs}"
                }
            },
            spaceShared: {
                paddingBlock: {
                    value: "{space.xs}"
                },
                paddingInline: {
                    value: "{space.small}"
                }
            }
        }
    },
    HJ = {
        maxWidth: {
            value: "60rem"
        },
        modal: {
            width: {
                value: "{space.relative.full}"
            },
            height: {
                value: "{space.relative.full}"
            },
            backgroundColor: {
                value: "{colors.overlay.50.value}"
            },
            top: {
                value: "{space.zero}"
            },
            left: {
                value: "{space.zero}"
            }
        },
        container: {
            widthMax: {
                value: "30rem"
            }
        },
        router: {
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderColor: {
                value: "{colors.border.primary.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            boxShadow: {
                value: "{shadows.medium.value}"
            }
        },
        footer: {
            paddingBottom: {
                value: "{space.medium.value}"
            }
        },
        form: {
            padding: {
                value: "{space.xl.value}"
            }
        },
        state: {
            inactive: {
                backgroundColor: {
                    value: "{colors.background.secondary.value}"
                }
            }
        },
        orContainer: {
            color: {
                value: "{colors.neutral.80.value}"
            },
            orLine: {
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                }
            }
        }
    },
    GJ = {
        color: {
            value: "{colors.font.tertiary.value}"
        },
        lineHeight: {
            value: 1
        },
        fontWeight: {
            value: "{fontWeights.semibold.value}"
        },
        fontSize: {
            value: "{fontSizes.small.value}"
        },
        textAlign: {
            value: "center"
        },
        width: {
            value: "{fontSizes.xxl.value}"
        },
        height: {
            value: "{fontSizes.xxl.value}"
        },
        backgroundColor: {
            value: "{colors.background.tertiary}"
        },
        borderRadius: {
            value: "100%"
        },
        borderColor: {
            value: "{colors.border.primary.value}"
        },
        borderWidth: {
            value: "{borderWidths.medium.value}"
        },
        info: {
            color: {
                value: "{colors.font.info.value}"
            },
            backgroundColor: {
                value: "{colors.background.info.value}"
            },
            borderColor: {
                value: "{colors.border.info.value}"
            }
        },
        warning: {
            color: {
                value: "{colors.font.warning.value}"
            },
            backgroundColor: {
                value: "{colors.background.warning.value}"
            },
            borderColor: {
                value: "{colors.border.warning.value}"
            }
        },
        success: {
            color: {
                value: "{colors.font.success.value}"
            },
            backgroundColor: {
                value: "{colors.background.success.value}"
            },
            borderColor: {
                value: "{colors.border.success.value}"
            }
        },
        error: {
            color: {
                value: "{colors.font.error.value}"
            },
            backgroundColor: {
                value: "{colors.background.error.value}"
            },
            borderColor: {
                value: "{colors.border.error.value}"
            }
        },
        small: {
            fontSize: {
                value: "{fontSizes.xs.value}"
            },
            width: {
                value: "{fontSizes.xl.value}"
            },
            height: {
                value: "{fontSizes.xl.value}"
            }
        },
        large: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            width: {
                value: "{fontSizes.xxxl.value}"
            },
            height: {
                value: "{fontSizes.xxxl.value}"
            }
        }
    },
    qJ = {
        color: {
            value: "{colors.font.primary.value}"
        },
        lineHeight: {
            value: 1
        },
        fontWeight: {
            value: "{fontWeights.semibold.value}"
        },
        fontSize: {
            value: "{fontSizes.small.value}"
        },
        textAlign: {
            value: "center"
        },
        paddingVertical: {
            value: "{space.xs.value}"
        },
        paddingHorizontal: {
            value: "{space.small.value}"
        },
        backgroundColor: {
            value: "{colors.background.tertiary.value}"
        },
        borderRadius: {
            value: "{radii.xl.value}"
        },
        info: {
            color: {
                value: "{colors.font.info.value}"
            },
            backgroundColor: {
                value: "{colors.background.info.value}"
            }
        },
        warning: {
            color: {
                value: "{colors.font.warning.value}"
            },
            backgroundColor: {
                value: "{colors.background.warning.value}"
            }
        },
        success: {
            color: {
                value: "{colors.font.success.value}"
            },
            backgroundColor: {
                value: "{colors.background.success.value}"
            }
        },
        error: {
            color: {
                value: "{colors.font.error.value}"
            },
            backgroundColor: {
                value: "{colors.background.error.value}"
            }
        },
        small: {
            fontSize: {
                value: "{fontSizes.xs.value}"
            },
            paddingVertical: {
                value: "{space.xxs.value}"
            },
            paddingHorizontal: {
                value: "{space.xs.value}"
            }
        },
        large: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            paddingVertical: {
                value: "{space.small.value}"
            },
            paddingHorizontal: {
                value: "{space.medium.value}"
            }
        }
    },
    KJ = {
        flexDirection: {
            value: "row"
        },
        flexWrap: {
            value: "wrap"
        },
        gap: {
            value: "0"
        },
        color: {
            value: "{colors.font.tertiary}"
        },
        item: {
            flexDirection: {
                value: "row"
            },
            color: {
                value: "inherit"
            },
            fontSize: {
                value: "inherit"
            },
            alignItems: {
                value: "center"
            },
            lineHeight: {
                value: "1"
            }
        },
        separator: {
            color: {
                value: "inherit"
            },
            fontSize: {
                value: "inherit"
            },
            paddingInline: {
                value: "{space.xxs}"
            }
        },
        link: {
            color: {
                value: "{components.link.color}"
            },
            fontSize: {
                value: "inherit"
            },
            fontWeight: {
                value: "normal"
            },
            textDecoration: {
                value: "none"
            },
            paddingInline: {
                value: "{space.xs}"
            },
            paddingBlock: {
                value: "{space.xxs}"
            },
            current: {
                color: {
                    value: "inherit"
                },
                fontSize: {
                    value: "inherit"
                },
                fontWeight: {
                    value: "normal"
                },
                textDecoration: {
                    value: "none"
                }
            }
        }
    },
    XJ = {
        fontWeight: {
            value: "{fontWeights.bold.value}"
        },
        transitionDuration: {
            value: "{components.fieldcontrol.transitionDuration.value}"
        },
        fontSize: {
            value: "{components.fieldcontrol.fontSize.value}"
        },
        lineHeight: {
            value: "{components.fieldcontrol.lineHeight.value}"
        },
        paddingBlockStart: {
            value: "{components.fieldcontrol.paddingBlockStart.value}"
        },
        paddingBlockEnd: {
            value: "{components.fieldcontrol.paddingBlockEnd.value}"
        },
        paddingInlineStart: {
            value: "{components.fieldcontrol.paddingInlineStart.value}"
        },
        paddingInlineEnd: {
            value: "{components.fieldcontrol.paddingInlineEnd.value}"
        },
        backgroundColor: {
            value: "transparent"
        },
        borderColor: {
            value: "{components.fieldcontrol.borderColor.value}"
        },
        borderWidth: {
            value: "{components.fieldcontrol.borderWidth.value}"
        },
        borderStyle: {
            value: "{components.fieldcontrol.borderStyle.value}"
        },
        borderRadius: {
            value: "{components.fieldcontrol.borderRadius.value}"
        },
        color: {
            value: "{colors.font.primary.value}"
        },
        _hover: {
            color: {
                value: "{colors.font.focus.value}"
            },
            backgroundColor: {
                value: "{colors.primary.10.value}"
            },
            borderColor: {
                value: "{colors.primary.60.value}"
            }
        },
        _focus: {
            color: {
                value: "{colors.font.focus.value}"
            },
            backgroundColor: {
                value: "{colors.primary.10.value}"
            },
            borderColor: {
                value: "{colors.border.focus.value}"
            },
            boxShadow: {
                value: "{components.fieldcontrol._focus.boxShadow.value}"
            }
        },
        _active: {
            color: {
                value: "{colors.font.active.value}"
            },
            backgroundColor: {
                value: "{colors.primary.20.value}"
            },
            borderColor: {
                value: "{colors.primary.100.value}"
            }
        },
        _loading: {
            color: {
                value: "{colors.font.disabled.value}"
            },
            backgroundColor: {
                value: "transparent"
            },
            borderColor: {
                value: "{colors.border.tertiary.value}"
            }
        },
        _disabled: {
            color: {
                value: "{colors.font.disabled.value}"
            },
            backgroundColor: {
                value: "transparent"
            },
            borderColor: {
                value: "{colors.border.tertiary.value}"
            }
        },
        outlined: {
            info: {
                borderColor: {
                    value: "{colors.blue.60.value}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.blue.100}"
                },
                _hover: {
                    borderColor: {
                        value: "{colors.blue.60.value}"
                    },
                    backgroundColor: {
                        value: "{colors.blue.10.value}"
                    },
                    color: {
                        value: "{colors.blue.100.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.blue.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.blue.10.value}"
                    },
                    color: {
                        value: "{colors.blue.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.info._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "{colors.blue.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.blue.20.value}"
                    },
                    color: {
                        value: "{colors.blue.100.value}"
                    }
                }
            },
            warning: {
                borderColor: {
                    value: "{colors.orange.60.value}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.orange.100}"
                },
                _hover: {
                    borderColor: {
                        value: "{colors.orange.60.value}"
                    },
                    backgroundColor: {
                        value: "{colors.orange.10.value}"
                    },
                    color: {
                        value: "{colors.orange.100.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.orange.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.orange.10.value}"
                    },
                    color: {
                        value: "{colors.orange.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.warning._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "{colors.orange.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.orange.20.value}"
                    },
                    color: {
                        value: "{colors.orange.100.value}"
                    }
                }
            },
            success: {
                borderColor: {
                    value: "{colors.green.60.value}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.green.100}"
                },
                _hover: {
                    borderColor: {
                        value: "{colors.green.60.value}"
                    },
                    backgroundColor: {
                        value: "{colors.green.10.value}"
                    },
                    color: {
                        value: "{colors.green.100.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.green.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.green.10.value}"
                    },
                    color: {
                        value: "{colors.green.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.success._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "{colors.green.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.green.20.value}"
                    },
                    color: {
                        value: "{colors.green.100.value}"
                    }
                }
            },
            error: {
                borderColor: {
                    value: "{colors.red.80.value}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.red.100}"
                },
                _hover: {
                    borderColor: {
                        value: "{colors.red.80.value}"
                    },
                    backgroundColor: {
                        value: "{colors.red.10.value}"
                    },
                    color: {
                        value: "{colors.red.100.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.red.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.red.10.value}"
                    },
                    color: {
                        value: "{colors.red.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "{colors.red.100.value}"
                    },
                    backgroundColor: {
                        value: "{colors.red.20.value}"
                    },
                    color: {
                        value: "{colors.red.100.value}"
                    }
                }
            },
            overlay: {
                borderColor: {
                    value: "{colors.overlay.60.value}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.font.primary.value}"
                },
                _hover: {
                    borderColor: {
                        value: "{colors.overlay.60.value}"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.5.value}"
                    },
                    color: {
                        value: "{colors.neutral.90.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.overlay.90.value}"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.5.value}"
                    },
                    color: {
                        value: "{colors.neutral.90.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.overlay._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "{colors.overlay.90.value}"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.10.value}"
                    },
                    color: {
                        value: "{colors.neutral.100.value}"
                    }
                }
            }
        },
        primary: {
            borderColor: {
                value: "transparent"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderStyle: {
                value: "solid"
            },
            backgroundColor: {
                value: "{colors.primary.80.value}"
            },
            color: {
                value: "{colors.font.inverse.value}"
            },
            _disabled: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.background.disabled.value}"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            _loading: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.background.disabled.value}"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            _hover: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.90.value}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                }
            },
            _focus: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.90.value}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            },
            _active: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.100.value}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                }
            },
            info: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.blue.80}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.info._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.100.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                }
            },
            warning: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.orange.80}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.overlay._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.100.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                }
            },
            error: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.red.80}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.100.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                }
            },
            success: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.green.80}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.success._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.100.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                }
            },
            overlay: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.overlay.70}"
                },
                color: {
                    value: "{colors.font.inverse.value}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.overlay._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.90.value}"
                    },
                    color: {
                        value: "{colors.font.inverse.value}"
                    }
                }
            }
        },
        menu: {
            borderWidth: {
                value: "{space.zero.value}"
            },
            backgroundColor: {
                value: "transparent"
            },
            justifyContent: {
                value: "start"
            },
            _hover: {
                color: {
                    value: "{colors.font.inverse.value}"
                },
                backgroundColor: {
                    value: "{colors.primary.80.value}"
                }
            },
            _focus: {
                color: {
                    value: "{colors.font.inverse.value}"
                },
                backgroundColor: {
                    value: "{colors.primary.80.value}"
                }
            },
            _active: {
                color: {
                    value: "{colors.font.inverse.value}"
                },
                backgroundColor: {
                    value: "{colors.primary.90.value}"
                }
            },
            _disabled: {
                color: {
                    value: "{colors.font.disabled.value}"
                }
            }
        },
        link: {
            backgroundColor: {
                value: "transparent"
            },
            borderColor: {
                value: "transparent"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            color: {
                value: "{colors.font.interactive.value}"
            },
            _hover: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.10.value}"
                },
                color: {
                    value: "{colors.font.hover.value}"
                }
            },
            _focus: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.10.value}"
                },
                color: {
                    value: "{colors.font.focus.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            },
            _active: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.primary.20.value}"
                },
                color: {
                    value: "{colors.font.active.value}"
                }
            },
            _disabled: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            _loading: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            info: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.blue.100}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.10.value}"
                    },
                    color: {
                        value: "{colors.blue.90.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.10.value}"
                    },
                    color: {
                        value: "{colors.blue.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.info._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.blue.20.value}"
                    },
                    color: {
                        value: "{colors.blue.100.value}"
                    }
                }
            },
            warning: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.orange.100}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.10.value}"
                    },
                    color: {
                        value: "{colors.orange.90.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.10.value}"
                    },
                    color: {
                        value: "{colors.orange.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.warning._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.orange.20.value}"
                    },
                    color: {
                        value: "{colors.orange.100.value}"
                    }
                }
            },
            success: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.green.100}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.10.value}"
                    },
                    color: {
                        value: "{colors.green.90.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.10.value}"
                    },
                    color: {
                        value: "{colors.green.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.success._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.green.20.value}"
                    },
                    color: {
                        value: "{colors.green.100.value}"
                    }
                }
            },
            error: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.red.100}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.10.value}"
                    },
                    color: {
                        value: "{colors.red.90.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.10.value}"
                    },
                    color: {
                        value: "{colors.red.100.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.red.20.value}"
                    },
                    color: {
                        value: "{colors.red.100.value}"
                    }
                }
            },
            overlay: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.neutral.100}"
                },
                _hover: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.5.value}"
                    },
                    color: {
                        value: "{colors.overlay.80.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.5.value}"
                    },
                    color: {
                        value: "{colors.overlay.90.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol.overlay._focus.boxShadow.value}"
                    }
                },
                _active: {
                    borderColor: {
                        value: "transparent"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.10.value}"
                    },
                    color: {
                        value: "{colors.overlay.90.value}"
                    }
                }
            }
        },
        warning: {
            backgroundColor: {
                value: "transparent"
            },
            borderColor: {
                value: "{colors.red.60}"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            color: {
                value: "{colors.red.60}"
            },
            _hover: {
                borderColor: {
                    value: "{colors.red.80}"
                },
                backgroundColor: {
                    value: "{colors.red.10}"
                },
                color: {
                    value: "{colors.font.error}"
                }
            },
            _focus: {
                borderColor: {
                    value: "{colors.red.80}"
                },
                backgroundColor: {
                    value: "{colors.red.10}"
                },
                color: {
                    value: "{colors.red.80}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._error._focus.boxShadow}"
                }
            },
            _active: {
                borderColor: {
                    value: "{colors.red.100}"
                },
                backgroundColor: {
                    value: "{colors.red.20}"
                },
                color: {
                    value: "{colors.red.100}"
                }
            },
            _disabled: {
                borderColor: {
                    value: "{colors.border.tertiary}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.font.disabled}"
                }
            },
            _loading: {
                borderColor: {
                    value: "{colors.border.tertiary}"
                },
                backgroundColor: {
                    value: "transparent"
                },
                color: {
                    value: "{colors.font.disabled}"
                }
            }
        },
        destructive: {
            borderColor: {
                value: "transparent"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            borderStyle: {
                value: "solid"
            },
            backgroundColor: {
                value: "{colors.red.60}"
            },
            color: {
                value: "{colors.font.inverse}"
            },
            _disabled: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.background.disabled}"
                },
                color: {
                    value: "{colors.font.disabled}"
                }
            },
            _loading: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.background.disabled}"
                },
                color: {
                    value: "{colors.font.disabled}"
                }
            },
            _hover: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.red.80}"
                },
                color: {
                    value: "{colors.font.inverse}"
                }
            },
            _focus: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.red.80}"
                },
                color: {
                    value: "{colors.font.inverse}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._error._focus.boxShadow}"
                }
            },
            _active: {
                borderColor: {
                    value: "transparent"
                },
                backgroundColor: {
                    value: "{colors.red.100}"
                },
                color: {
                    value: "{colors.font.inverse}"
                }
            }
        },
        small: {
            fontSize: {
                value: "{components.fieldcontrol.small.fontSize.value}"
            },
            paddingBlockStart: {
                value: "{components.fieldcontrol.small.paddingBlockStart.value}"
            },
            paddingBlockEnd: {
                value: "{components.fieldcontrol.small.paddingBlockEnd.value}"
            },
            paddingInlineStart: {
                value: "{components.fieldcontrol.small.paddingInlineStart.value}"
            },
            paddingInlineEnd: {
                value: "{components.fieldcontrol.small.paddingInlineEnd.value}"
            }
        },
        large: {
            fontSize: {
                value: "{components.fieldcontrol.large.fontSize.value}"
            },
            paddingBlockStart: {
                value: "{components.fieldcontrol.large.paddingBlockStart.value}"
            },
            paddingBlockEnd: {
                value: "{components.fieldcontrol.large.paddingBlockEnd.value}"
            },
            paddingInlineStart: {
                value: "{components.fieldcontrol.large.paddingInlineStart.value}"
            },
            paddingInlineEnd: {
                value: "{components.fieldcontrol.large.paddingInlineEnd.value}"
            }
        },
        loaderWrapper: {
            alignItems: {
                value: "center"
            },
            gap: {
                value: "{space.xs.value}"
            }
        }
    },
    YJ = {
        backgroundColor: {
            value: "{colors.background.primary.value}"
        },
        borderRadius: {
            value: "{radii.xs.value}"
        },
        borderWidth: {
            value: "0"
        },
        borderStyle: {
            value: "solid"
        },
        borderColor: {
            value: "transparent"
        },
        boxShadow: {
            value: "none"
        },
        padding: {
            value: "{space.medium.value}"
        },
        outlined: {
            backgroundColor: {
                value: "{components.card.backgroundColor.value}"
            },
            borderRadius: {
                value: "{radii.xs.value}"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderColor: {
                value: "{colors.border.primary.value}"
            },
            boxShadow: {
                value: "{components.card.boxShadow.value}"
            }
        },
        elevated: {
            backgroundColor: {
                value: "{components.card.backgroundColor.value}"
            },
            borderRadius: {
                value: "{radii.xs.value}"
            },
            borderWidth: {
                value: "0"
            },
            borderStyle: {
                value: "solid"
            },
            borderColor: {
                value: "transparent"
            },
            boxShadow: {
                value: "{shadows.medium.value}"
            }
        }
    },
    ZJ = {
        cursor: {
            value: "pointer"
        },
        alignItems: {
            value: "center"
        },
        _disabled: {
            cursor: {
                value: "not-allowed"
            }
        },
        button: {
            position: {
                value: "relative"
            },
            alignItems: {
                value: "center"
            },
            justifyContent: {
                value: "center"
            },
            color: {
                value: "{colors.font.inverse.value}"
            },
            before: {
                width: {
                    value: "100%"
                },
                height: {
                    value: "100%"
                },
                borderWidth: {
                    value: "{borderWidths.medium.value}"
                },
                borderRadius: {
                    value: "20%"
                },
                borderStyle: {
                    value: "solid"
                },
                borderColor: {
                    value: "{colors.border.primary.value}"
                }
            },
            _focus: {
                outlineColor: {
                    value: "{colors.transparent.value}"
                },
                outlineStyle: {
                    value: "solid"
                },
                outlineWidth: {
                    value: "{outlineWidths.medium.value}"
                },
                outlineOffset: {
                    value: "{outlineOffsets.medium.value}"
                },
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            },
            _disabled: {
                borderColor: {
                    value: "{colors.border.disabled.value}"
                }
            },
            _error: {
                borderColor: {
                    value: "{colors.border.error.value}"
                },
                _focus: {
                    borderColor: {
                        value: "{colors.border.error.value}"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                }
            }
        },
        icon: {
            backgroundColor: {
                value: "{colors.primary.80.value}"
            },
            borderRadius: {
                value: "20%"
            },
            opacity: {
                value: "{opacities.0.value}"
            },
            transform: {
                value: "scale(0)"
            },
            transitionProperty: {
                value: "all"
            },
            transitionDuration: {
                value: "{time.short.value}"
            },
            transitionTimingFunction: {
                value: "ease-in-out"
            },
            _checked: {
                opacity: {
                    value: "{opacities.100.value}"
                },
                transform: {
                    value: "scale(1)"
                },
                _disabled: {
                    backgroundColor: {
                        value: "{colors.background.disabled.value}"
                    }
                }
            },
            _indeterminate: {
                opacity: {
                    value: "{opacities.100.value}"
                },
                transform: {
                    value: "scale(1)"
                },
                _disabled: {
                    backgroundColor: {
                        value: "{colors.background.disabled.value}"
                    }
                }
            }
        },
        label: {
            color: {
                value: "{components.text.color.value}"
            },
            _disabled: {
                color: {
                    value: "{colors.font.disabled.value}"
                }
            }
        }
    },
    QJ = {
        alignItems: {
            value: "flex-start"
        },
        alignContent: {
            value: "center"
        },
        flexDirection: {
            value: "column"
        },
        justifyContent: {
            value: "center"
        }
    },
    JJ = {
        pagination: {
            current: {
                color: {
                    value: "{components.pagination.current.color}"
                },
                backgroundColor: {
                    value: "{components.pagination.current.backgroundColor}"
                }
            },
            button: {
                color: {
                    value: "{components.pagination.button.color}"
                },
                _hover: {
                    backgroundColor: {
                        value: "{components.pagination.button.hover.backgroundColor}"
                    },
                    color: {
                        value: "{components.pagination.button.hover.color}"
                    }
                },
                _disabled: {
                    color: {
                        value: "{components.pagination.button.disabled.color}"
                    }
                }
            }
        },
        search: {
            input: {
                color: {
                    value: "{components.searchfield.color}"
                }
            },
            button: {
                color: {
                    value: "{components.searchfield.button.color}"
                },
                _active: {
                    backgroundColor: {
                        value: "{components.searchfield.button._active.backgroundColor}"
                    },
                    borderColor: {
                        value: "{components.searchfield.button._active.borderColor}"
                    },
                    color: {
                        value: "{components.searchfield.button._active.color}"
                    }
                },
                _disabled: {
                    backgroundColor: {
                        value: "{components.searchfield.button._disabled.backgroundColor}"
                    },
                    borderColor: {
                        value: "{components.searchfield.button._disabled.borderColor}"
                    },
                    color: {
                        value: "{components.searchfield.button._disabled.color}"
                    }
                },
                _focus: {
                    backgroundColor: {
                        value: "{components.searchfield.button._focus.backgroundColor}"
                    },
                    borderColor: {
                        value: "{components.searchfield.button._focus.borderColor}"
                    },
                    color: {
                        value: "{components.searchfield.button._focus.color}"
                    }
                },
                _hover: {
                    backgroundColor: {
                        value: "{components.searchfield.button._hover.backgroundColor}"
                    },
                    borderColor: {
                        value: "{components.searchfield.button._hover.borderColor}"
                    },
                    color: {
                        value: "{components.searchfield.button._hover.color}"
                    }
                }
            }
        }
    },
    eee = {
        fontSize: {
            value: "{fontSizes.xs}"
        },
        gap: {
            value: "{space.relative.medium}"
        },
        svg: {
            path: {
                fill: {
                    value: "{colors.font.primary}"
                }
            }
        },
        toolTip: {
            bottom: {
                value: "{space.large}"
            },
            color: {
                value: "{colors.teal.100}"
            },
            fontSize: {
                value: "{fontSizes.xxs}"
            }
        }
    },
    tee = {
        height: {
            value: "{space.relative.full.value}"
        }
    },
    nee = {
        borderStyle: {
            value: "solid"
        },
        borderColor: {
            value: "{colors.border.primary.value}"
        },
        borderWidth: {
            value: "{borderWidths.medium.value}"
        },
        label: {
            color: {
                value: "{colors.font.tertiary.value}"
            },
            paddingInline: {
                value: "{space.medium.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            }
        },
        small: {
            borderWidth: {
                value: "{borderWidths.small.value}"
            }
        },
        large: {
            borderWidth: {
                value: "{borderWidths.large.value}"
            }
        },
        opacity: {
            value: "{opacities.60.value}"
        }
    },
    ree = {
        backgroundColor: {
            value: "{colors.background.primary}"
        },
        borderRadius: {
            value: "{radii.small}"
        },
        borderColor: {
            value: "{colors.border.primary}"
        },
        borderStyle: {
            value: "dashed"
        },
        borderWidth: {
            value: "{borderWidths.small}"
        },
        color: {
            value: "{colors.font.primary}"
        },
        gap: {
            value: "{space.small}"
        },
        paddingBlock: {
            value: "{space.xl}"
        },
        paddingInline: {
            value: "{space.large}"
        },
        textAlign: {
            value: "center"
        },
        _active: {
            backgroundColor: {
                value: "{colors.primary.10}"
            },
            borderRadius: {
                value: "{components.dropzone.borderRadius}"
            },
            borderColor: {
                value: "{colors.border.pressed}"
            },
            borderStyle: {
                value: "{components.dropzone.borderStyle}"
            },
            borderWidth: {
                value: "{components.dropzone.borderWidth}"
            },
            color: {
                value: "{colors.font.primary}"
            }
        },
        _disabled: {
            backgroundColor: {
                value: "{colors.background.disabled}"
            },
            borderRadius: {
                value: "{components.dropzone.borderRadius}"
            },
            borderColor: {
                value: "{colors.border.disabled}"
            },
            borderStyle: {
                value: "{components.dropzone.borderStyle}"
            },
            borderWidth: {
                value: "{components.dropzone.borderWidth}"
            },
            color: {
                value: "{colors.font.disabled}"
            }
        },
        accepted: {
            backgroundColor: {
                value: "{colors.background.success}"
            },
            borderRadius: {
                value: "{components.dropzone.borderRadius}"
            },
            borderColor: {
                value: "{colors.border.success}"
            },
            borderStyle: {
                value: "{components.dropzone.borderStyle}"
            },
            borderWidth: {
                value: "{components.dropzone.borderWidth}"
            },
            color: {
                value: "{colors.font.success}"
            }
        },
        rejected: {
            backgroundColor: {
                value: "{colors.background.error}"
            },
            borderRadius: {
                value: "{components.dropzone.borderRadius}"
            },
            borderColor: {
                value: "{colors.border.pressed}"
            },
            borderStyle: {
                value: "{components.dropzone.borderStyle}"
            },
            borderWidth: {
                value: "{components.dropzone.borderWidth}"
            },
            color: {
                value: "{colors.font.error}"
            }
        }
    },
    aee = {
        backgroundColor: {
            value: "{colors.background.primary.value}"
        },
        item: {
            borderColor: {
                value: "{colors.border.secondary.value}"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderRadius: {
                value: "{radii.small.value}"
            },
            trigger: {
                alignItems: {
                    value: "center"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                color: {
                    value: "inherit"
                },
                gap: {
                    value: "{space.small.value}"
                },
                justifyContent: {
                    value: "space-between"
                },
                paddingBlock: {
                    value: "{space.xs.value}"
                },
                paddingInline: {
                    value: "{space.small.value}"
                },
                _hover: {
                    color: {
                        value: "inherit"
                    },
                    backgroundColor: {
                        value: "{colors.overlay.5.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{colors.border.focus.value}"
                    },
                    boxShadow: {
                        value: {
                            offsetX: "0",
                            offsetY: "0",
                            blurRadius: "0",
                            spreadRadius: "2px",
                            color: "{colors.border.focus.value}"
                        }
                    }
                }
            },
            content: {
                color: {
                    value: "inherit"
                },
                paddingInline: {
                    value: "{space.small.value}"
                },
                paddingBlockEnd: {
                    value: "{space.small.value}"
                },
                paddingBlockStart: {
                    value: "{space.xxxs.value}"
                }
            },
            icon: {
                color: {
                    value: "{colors.font.tertiary.value}"
                },
                transitionDuration: {
                    value: "{time.medium.value}"
                },
                transitionTimingFunction: {
                    value: "cubic-bezier(0.87, 0, 0.13, 1)"
                }
            }
        }
    },
    see = {
        gap: {
            value: "{space.xs.value}"
        },
        fontSize: {
            value: "{fontSizes.medium.value}"
        },
        flexDirection: {
            value: "column"
        },
        small: {
            gap: {
                value: "{space.xxxs.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            }
        },
        large: {
            gap: {
                value: "{space.small.value}"
            },
            fontSize: {
                value: "{fontSizes.large.value}"
            }
        },
        label: {
            color: {
                value: "{colors.font.secondary.value}"
            }
        }
    },
    oee = {
        borderStyle: {
            value: "solid"
        },
        borderColor: {
            value: "{colors.border.primary.value}"
        },
        borderWidth: {
            value: "{borderWidths.small.value}"
        },
        borderRadius: {
            value: "{radii.small.value}"
        },
        color: {
            value: "{colors.font.primary.value}"
        },
        paddingBlockStart: {
            value: "{space.xs.value}"
        },
        paddingBlockEnd: {
            value: "{space.xs.value}"
        },
        paddingInlineStart: {
            value: "{space.medium.value}"
        },
        paddingInlineEnd: {
            value: "{space.medium.value}"
        },
        fontSize: {
            value: "{components.field.fontSize.value}"
        },
        lineHeight: {
            value: "{lineHeights.medium.value}"
        },
        transitionDuration: {
            value: "{time.medium.value}"
        },
        outlineColor: {
            value: "{colors.transparent.value}"
        },
        outlineStyle: {
            value: "solid"
        },
        outlineWidth: {
            value: "{outlineWidths.medium.value}"
        },
        outlineOffset: {
            value: "{outlineOffsets.medium.value}"
        },
        small: {
            fontSize: {
                value: "{components.field.small.fontSize.value}"
            },
            paddingBlockStart: {
                value: "{space.xxs.value}"
            },
            paddingBlockEnd: {
                value: "{space.xxs.value}"
            },
            paddingInlineStart: {
                value: "{space.small.value}"
            },
            paddingInlineEnd: {
                value: "{space.small.value}"
            }
        },
        large: {
            fontSize: {
                value: "{components.field.large.fontSize.value}"
            },
            paddingBlockStart: {
                value: "{space.xs.value}"
            },
            paddingBlockEnd: {
                value: "{space.xs.value}"
            },
            paddingInlineStart: {
                value: "{space.medium.value}"
            },
            paddingInlineEnd: {
                value: "{space.medium.value}"
            }
        },
        quiet: {
            borderStyle: {
                value: "none"
            },
            borderInlineStart: {
                value: "none"
            },
            borderInlineEnd: {
                value: "none"
            },
            borderBlockStart: {
                value: "none"
            },
            borderRadius: {
                value: "0"
            },
            _focus: {
                borderBlockEndColor: {
                    value: "transparent"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            },
            _error: {
                borderBlockEndColor: {
                    value: "{colors.border.error.value}"
                },
                _focus: {
                    borderBlockEndColor: {
                        value: "transparent"
                    },
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                }
            }
        },
        _focus: {
            borderColor: {
                value: "{colors.border.focus.value}"
            },
            boxShadow: {
                value: {
                    offsetX: "0px",
                    offsetY: "0px",
                    blurRadius: "0px",
                    spreadRadius: "2px",
                    color: "{colors.border.focus.value}"
                }
            }
        },
        _disabled: {
            color: {
                value: "{colors.font.disabled.value}"
            },
            cursor: {
                value: "not-allowed"
            },
            borderColor: {
                value: "{colors.transparent.value}"
            },
            backgroundColor: {
                value: "{colors.background.disabled.value}"
            }
        },
        _error: {
            borderColor: {
                value: "{colors.border.error.value}"
            },
            color: {
                value: "{colors.font.error.value}"
            },
            _focus: {
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "2px",
                        color: "{colors.border.error.value}"
                    }
                }
            }
        },
        info: {
            _focus: {
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "2px",
                        color: "{colors.blue.100.value}"
                    }
                }
            }
        },
        warning: {
            _focus: {
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "2px",
                        color: "{colors.orange.100.value}"
                    }
                }
            }
        },
        success: {
            _focus: {
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "2px",
                        color: "{colors.green.100.value}"
                    }
                }
            }
        },
        overlay: {
            _focus: {
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "2px",
                        color: "{colors.overlay.90.value}"
                    }
                }
            }
        }
    },
    iee = {
        gap: {
            value: "{space.zero.value}"
        },
        vertical: {
            alignItems: {
                value: "center"
            }
        },
        outer: {
            alignItems: {
                value: "center"
            }
        }
    },
    lee = {
        backgroundColor: {
            value: "transparent"
        },
        borderRadius: {
            value: "{radii.xs.value}"
        },
        flexDirection: {
            value: "column"
        },
        gap: {
            value: "{components.field.gap.value}"
        },
        legend: {
            color: {
                value: "{colors.font.primary.value}"
            },
            fontSize: {
                value: "{components.field.fontSize.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            },
            lineHeight: {
                value: "{lineHeights.medium.value}"
            },
            small: {
                fontSize: "{components.field.small.fontSize.value}"
            },
            large: {
                fontSize: "{components.field.large.fontSize.value}"
            }
        },
        outlined: {
            padding: "{space.medium.value}",
            borderColor: "{colors.neutral.40.value}",
            borderWidth: "{borderWidths.small.value}",
            borderStyle: "solid",
            small: {
                padding: "{space.small.value}"
            },
            large: {
                padding: "{space.large.value}"
            }
        },
        small: {
            gap: "{components.field.small.gap.value}"
        },
        large: {
            gap: "{components.field.large.gap.value}"
        }
    },
    uee = {
        error: {
            color: {
                value: "{colors.font.error.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            }
        },
        description: {
            color: {
                value: "{colors.font.secondary.value}"
            },
            fontStyle: {
                value: "italic"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            }
        }
    },
    cee = {
        dropzone: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "dashed"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            gap: {
                value: "{space.small}"
            },
            paddingBlock: {
                value: "{space.xl}"
            },
            paddingInline: {
                value: "{space.large}"
            },
            textAlign: {
                value: "center"
            },
            _active: {
                backgroundColor: {
                    value: "{colors.primary.10}"
                },
                borderRadius: {
                    value: "{components.fileuploader.dropzone.borderRadius}"
                },
                borderColor: {
                    value: "{colors.border.pressed}"
                },
                borderStyle: {
                    value: "{components.fileuploader.dropzone.borderStyle}"
                },
                borderWidth: {
                    value: "{borderWidths.medium}"
                }
            },
            icon: {
                color: {
                    value: "{colors.border.primary}"
                },
                fontSize: {
                    value: "{fontSizes.xxl}"
                }
            },
            text: {
                color: {
                    value: "{colors.font.tertiary}"
                },
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                }
            }
        },
        file: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            paddingBlock: {
                value: "{space.xs}"
            },
            paddingInline: {
                value: "{space.small}"
            },
            gap: {
                value: "{space.small}"
            },
            alignItems: {
                value: "baseline"
            },
            name: {
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                },
                color: {
                    value: "{colors.font.primary}"
                }
            },
            size: {
                fontSize: {
                    value: "{fontSizes.small}"
                },
                fontWeight: {
                    value: "{fontWeights.normal}"
                },
                color: {
                    value: "{colors.font.tertiary}"
                }
            },
            image: {
                width: {
                    value: "{space.xxl}"
                },
                height: {
                    value: "{space.xxl}"
                },
                backgroundColor: {
                    value: "{colors.background.secondary}"
                },
                color: {
                    value: "{colors.font.tertiary}"
                },
                borderRadius: {
                    value: "{radii.small}"
                }
            }
        },
        filelist: {
            flexDirection: {
                value: "column"
            },
            gap: {
                value: "{space.small}"
            }
        },
        loader: {
            strokeLinecap: {
                value: "round"
            },
            strokeEmpty: {
                value: "{colors.border.secondary}"
            },
            strokeFilled: {
                value: "{components.loader.strokeFilled}"
            },
            strokeWidth: {
                value: "{borderWidths.large}"
            }
        },
        previewer: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            paddingBlock: {
                value: "{space.zero}"
            },
            paddingInline: {
                value: "{space.zero}"
            },
            maxHeight: {
                value: "40rem"
            },
            maxWidth: {
                value: "auto"
            },
            text: {
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                },
                color: {
                    value: "{colors.font.primary}"
                }
            },
            body: {
                paddingBlock: {
                    value: "{space.medium}"
                },
                paddingInline: {
                    value: "{space.medium}"
                },
                gap: {
                    value: "{space.small}"
                }
            },
            footer: {
                justifyContent: {
                    value: "flex-end"
                }
            }
        }
    },
    dee = {
        gap: {
            value: "{space.medium.value}"
        },
        justifyContent: {
            value: "normal"
        },
        alignItems: {
            value: "stretch"
        },
        alignContent: {
            value: "normal"
        },
        flexWrap: {
            value: "nowrap"
        }
    },
    fee = {
        color: {
            value: "{colors.font.primary.value}"
        },
        lineHeight: {
            value: "{lineHeights.small.value}"
        },
        1: {
            fontSize: {
                value: "{fontSizes.xxxxl.value}"
            },
            fontWeight: {
                value: "{fontWeights.light.value}"
            }
        },
        2: {
            fontSize: {
                value: "{fontSizes.xxxl.value}"
            },
            fontWeight: {
                value: "{fontWeights.normal.value}"
            }
        },
        3: {
            fontSize: {
                value: "{fontSizes.xxl.value}"
            },
            fontWeight: {
                value: "{fontWeights.medium.value}"
            }
        },
        4: {
            fontSize: {
                value: "{fontSizes.xl.value}"
            },
            fontWeight: {
                value: "{fontWeights.semibold.value}"
            }
        },
        5: {
            fontSize: {
                value: "{fontSizes.large.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            }
        },
        6: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.extrabold.value}"
            }
        }
    },
    pee = {
        highlighted: {
            fontWeight: {
                value: "{fontWeights.bold}"
            }
        }
    },
    hee = {
        lineHeight: {
            value: 1
        },
        height: {
            value: "1em"
        }
    },
    mee = {
        color: {
            value: "{components.fieldcontrol.color.value}"
        },
        borderColor: {
            value: "{components.fieldcontrol.borderColor.value}"
        },
        fontSize: {
            value: "{components.fieldcontrol.fontSize.value}"
        },
        _focus: {
            borderColor: {
                value: "{components.fieldcontrol._focus.borderColor.value}"
            }
        }
    },
    gee = {
        maxWidth: {
            value: "100%"
        },
        height: {
            value: "auto"
        },
        objectFit: {
            value: "initial"
        },
        objectPosition: {
            value: "initial"
        }
    },
    vee = {
        banner: {
            height: {
                value: "150px "
            },
            width: {
                value: "400px "
            }
        },
        button: {
            backgroundColor: {
                value: "#e8e8e8"
            },
            borderRadius: {
                value: "5px"
            },
            color: {
                value: "black"
            }
        },
        dialog: {
            height: {
                value: "50vh"
            },
            minHeight: {
                value: "400px"
            },
            minWidth: {
                value: "400px"
            },
            width: {
                value: "30vw"
            }
        },
        header: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.extrabold.value}"
            }
        }
    },
    yee = {
        active: {
            color: {
                value: "{colors.font.active.value}"
            }
        },
        color: {
            value: "{colors.font.interactive.value}"
        },
        focus: {
            color: {
                value: "{colors.font.focus.value}"
            }
        },
        hover: {
            color: {
                value: "{colors.font.hover.value}"
            }
        },
        visited: {
            color: {
                value: "{colors.font.interactive.value}"
            }
        }
    },
    bee = {
        cameraModule: {
            backgroundColor: {
                value: "{colors.background.primary.value}"
            }
        }
    },
    wee = {
        width: {
            value: "{fontSizes.medium.value}"
        },
        height: {
            value: "{fontSizes.medium.value}"
        },
        fontSize: {
            value: "{fontSizes.xs.value}"
        },
        strokeEmpty: {
            value: "{colors.neutral.20.value}"
        },
        strokeFilled: {
            value: "{colors.primary.80.value}"
        },
        strokeLinecap: {
            value: "round"
        },
        animationDuration: {
            value: "1s"
        },
        small: {
            width: {
                value: "{fontSizes.small.value}"
            },
            height: {
                value: "{fontSizes.small.value}"
            },
            fontSize: {
                value: "{fontSizes.xxs.value}"
            }
        },
        large: {
            width: {
                value: "{fontSizes.large.value}"
            },
            height: {
                value: "{fontSizes.large.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            }
        },
        linear: {
            width: {
                value: "100%"
            },
            minWidth: {
                value: "5rem"
            },
            fontSize: {
                value: "{fontSizes.xxs.value}"
            },
            strokeWidth: {
                value: "{fontSizes.xxs.value}"
            },
            strokeFilled: {
                value: "{colors.primary.80.value}"
            },
            strokeEmpty: {
                value: "{colors.neutral.20.value}"
            },
            strokeLinecap: {
                value: "round"
            },
            animationDuration: {
                value: "1s"
            },
            small: {
                strokeWidth: {
                    value: "{fontSizes.xxxs.value}"
                },
                fontSize: {
                    value: "{fontSizes.xxxs.value}"
                }
            },
            large: {
                strokeWidth: {
                    value: "{fontSizes.xs.value}"
                },
                fontSize: {
                    value: "{fontSizes.xs.value}"
                }
            }
        },
        text: {
            fill: {
                value: "{colors.font.primary.value}"
            }
        }
    },
    See = {
        backgroundColor: {
            value: "{colors.background.primary.value}"
        },
        borderRadius: {
            value: "{radii.medium.value}"
        },
        borderWidth: {
            value: "{borderWidths.small.value}"
        },
        borderStyle: {
            value: "solid"
        },
        borderColor: {
            value: "{colors.border.primary.value}"
        },
        boxShadow: {
            value: "{shadows.large.value}"
        },
        flexDirection: {
            value: "column"
        },
        gap: {
            value: "{space.zero.value}"
        },
        maxWidth: {
            value: "30rem"
        },
        minWidth: {
            value: "14rem"
        },
        small: {
            width: {
                value: "{fontSizes.medium.value}"
            },
            height: {
                value: "{fontSizes.medium.value}"
            }
        },
        large: {
            width: {
                value: "{fontSizes.xxxl.value}"
            },
            height: {
                value: "{fontSizes.xxxl.value}"
            }
        },
        item: {
            minHeight: {
                value: "2.5rem"
            },
            paddingInlineStart: {
                value: "{space.medium.value}"
            },
            paddingInlineEnd: {
                value: "{space.medium.value}"
            }
        }
    },
    xee = {
        alignItems: {
            value: "center"
        },
        backgroundColor: {
            value: "{colors.background.tertiary.value}"
        },
        borderColor: {
            value: "transparent"
        },
        borderStyle: {
            value: "solid"
        },
        borderWidth: {
            value: "{borderWidths.small.value}"
        },
        borderRadius: {
            value: "{radii.xs.value}"
        },
        color: {
            value: "{colors.font.primary.value}"
        },
        justifyContent: {
            value: "flex-start"
        },
        paddingBlock: {
            value: "{space.small.value}"
        },
        paddingInline: {
            value: "{space.medium.value}"
        },
        lineHeight: {
            value: "{lineHeights.small.value}"
        },
        icon: {
            size: {
                value: "{fontSizes.xl.value}"
            }
        },
        heading: {
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            }
        },
        dismiss: {
            gap: {
                value: "{space.xxs.value}"
            }
        },
        plain: {
            color: {
                value: "{colors.font.primary.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            borderColor: {
                value: "transparent"
            },
            info: {
                color: {
                    value: "{colors.font.info.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            error: {
                color: {
                    value: "{colors.font.error.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            success: {
                color: {
                    value: "{colors.font.success.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            warning: {
                color: {
                    value: "{colors.font.warning.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            }
        },
        outlined: {
            color: {
                value: "{colors.font.primary.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            borderColor: {
                value: "{colors.border.primary.value}"
            },
            info: {
                color: {
                    value: "{colors.font.info.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "{colors.border.info.value}"
                }
            },
            error: {
                color: {
                    value: "{colors.font.error.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "{colors.border.error.value}"
                }
            },
            success: {
                color: {
                    value: "{colors.font.success.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "{colors.border.success.value}"
                }
            },
            warning: {
                color: {
                    value: "{colors.font.warning.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "{colors.border.warning.value}"
                }
            }
        },
        filled: {
            color: {
                value: "{colors.font.primary.value}"
            },
            backgroundColor: {
                value: "{colors.background.secondary.value}"
            },
            borderColor: {
                value: "transparent"
            },
            info: {
                color: {
                    value: "{colors.font.info.value}"
                },
                backgroundColor: {
                    value: "{colors.background.info.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            error: {
                color: {
                    value: "{colors.font.error.value}"
                },
                backgroundColor: {
                    value: "{colors.background.error.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            success: {
                color: {
                    value: "{colors.font.success.value}"
                },
                backgroundColor: {
                    value: "{colors.background.success.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            },
            warning: {
                color: {
                    value: "{colors.font.warning.value}"
                },
                backgroundColor: {
                    value: "{colors.background.warning.value}"
                },
                borderColor: {
                    value: "transparent"
                }
            }
        }
    },
    kee = {
        current: {
            alignItems: {
                value: "center"
            },
            justifyContent: {
                value: "center"
            },
            color: {
                value: "{colors.font.inverse.value}"
            },
            fontSize: {
                value: "{fontSizes.small.value}"
            },
            backgroundColor: {
                value: "{colors.overlay.40.value}"
            }
        },
        button: {
            color: {
                value: "{colors.font.primary.value}"
            },
            paddingInlineStart: {
                value: "{space.xxs.value}"
            },
            paddingInlineEnd: {
                value: "{space.xxs.value}"
            },
            transitionProperty: {
                value: "background-color"
            },
            transitionDuration: {
                value: "{time.medium.value}"
            },
            hover: {
                backgroundColor: {
                    value: "{colors.overlay.10.value}"
                },
                color: {
                    value: "{colors.font.primary.value}"
                }
            },
            disabled: {
                color: {
                    value: "{colors.font.disabled.value}"
                }
            }
        },
        ellipsis: {
            alignItems: {
                value: "baseline"
            },
            justifyContent: {
                value: "center"
            },
            paddingInlineStart: {
                value: "{space.xs.value}"
            },
            paddingInlineEnd: {
                value: "{space.xs.value}"
            }
        },
        itemContainer: {
            marginLeft: {
                value: "{space.xxxs.value}"
            },
            marginRight: {
                value: "{space.xxxs.value}"
            }
        },
        itemShared: {
            height: {
                value: "{fontSizes.xxl.value}"
            },
            minWidth: {
                value: "{fontSizes.xxl.value}"
            },
            borderRadius: {
                value: "{fontSizes.medium.value}"
            }
        }
    },
    _ee = {
        color: {
            value: "{components.fieldcontrol.color.value}"
        },
        button: {
            color: {
                value: "{components.button.color.value}"
            },
            _active: {
                backgroundColor: {
                    value: "{components.button._active.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._active.borderColor.value}"
                },
                color: {
                    value: "{components.button._active.color.value}"
                }
            },
            _disabled: {
                backgroundColor: {
                    value: "{components.button._disabled.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._disabled.borderColor.value}"
                },
                color: {
                    value: "{components.button._disabled.color.value}"
                }
            },
            _error: {
                color: {
                    value: "{components.button.outlined.error.color.value}"
                },
                backgroundColor: {
                    value: "{components.button.outlined.error.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button.outlined.error.borderColor.value}"
                },
                _active: {
                    borderColor: {
                        value: "{components.button.outlined.error._active.borderColor.value}"
                    },
                    backgroundColor: {
                        value: "{components.button.outlined.error._active.backgroundColor.value}"
                    },
                    color: {
                        value: "{components.button.outlined.error._active.color.value}"
                    }
                },
                _focus: {
                    borderColor: {
                        value: "{components.button.outlined.error._focus.borderColor.value}"
                    },
                    backgroundColor: {
                        value: "{components.button.outlined.error._focus.backgroundColor.value}"
                    },
                    color: {
                        value: "{components.button.outlined.error._focus.color.value}"
                    },
                    boxShadow: {
                        value: "{components.button.outlined.error._focus.boxShadow.value}"
                    }
                },
                _hover: {
                    borderColor: {
                        value: "{components.button.outlined.error._hover.borderColor.value}"
                    },
                    backgroundColor: {
                        value: "{components.button.outlined.error._hover.backgroundColor.value}"
                    },
                    color: {
                        value: "{components.button.outlined.error._hover.color.value}"
                    }
                }
            },
            _focus: {
                backgroundColor: {
                    value: "{components.button._focus.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._focus.borderColor.value}"
                },
                color: {
                    value: "{components.button._focus.color.value}"
                }
            },
            _hover: {
                backgroundColor: {
                    value: "{components.button._hover.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._hover.borderColor.value}"
                },
                color: {
                    value: "{components.button._hover.color.value}"
                }
            }
        }
    },
    Iee = {
        color: {
            value: "{components.fieldcontrol.color}"
        },
        borderColor: {
            value: "{components.fieldcontrol.borderColor}"
        },
        fontSize: {
            value: "{components.fieldcontrol.fontSize}"
        },
        _focus: {
            borderColor: {
                value: "{components.fieldcontrol._focus.borderColor}"
            }
        }
    },
    Cee = {
        borderRadius: {
            value: "{radii.small.value}"
        },
        transitionDuration: {
            value: "{time.long.value}"
        },
        startColor: {
            value: "{colors.background.secondary.value}"
        },
        endColor: {
            value: "{colors.background.tertiary.value}"
        },
        small: {
            height: {
                value: "{space.small.value}"
            }
        },
        default: {
            height: {
                value: "{space.medium.value}"
            }
        },
        large: {
            height: {
                value: "{space.large.value}"
            }
        }
    },
    Eee = {
        alignItems: {
            value: "center"
        },
        justifyContent: {
            value: "flex-start"
        },
        gap: {
            value: "inherit"
        },
        _disabled: {
            cursor: {
                value: "not-allowed"
            }
        },
        button: {
            alignItems: {
                value: "center"
            },
            justifyContent: {
                value: "center"
            },
            width: {
                value: "{fontSizes.medium.value}"
            },
            height: {
                value: "{fontSizes.medium.value}"
            },
            boxSizing: {
                value: "border-box"
            },
            borderWidth: {
                value: "{borderWidths.medium.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderRadius: {
                value: "50%"
            },
            borderColor: {
                value: "{colors.border.primary.value}"
            },
            color: {
                value: "{colors.background.primary.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            transitionProperty: {
                value: "all"
            },
            transitionDuration: {
                value: "{time.medium.value}"
            },
            outlineColor: {
                value: "{colors.transparent.value}"
            },
            outlineStyle: {
                value: "solid"
            },
            outlineWidth: {
                value: "{outlineWidths.medium.value}"
            },
            outlineOffset: {
                value: "{outlineOffsets.medium.value}"
            },
            padding: {
                value: "{borderWidths.medium.value}"
            },
            small: {
                width: {
                    value: "{fontSizes.small.value}"
                },
                height: {
                    value: "{fontSizes.small.value}"
                }
            },
            large: {
                width: {
                    value: "{fontSizes.large.value}"
                },
                height: {
                    value: "{fontSizes.large.value}"
                }
            },
            _checked: {
                color: {
                    value: "{colors.primary.80.value}"
                },
                _disabled: {
                    color: {
                        value: "{colors.background.disabled.value}"
                    }
                }
            },
            _focus: {
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            },
            _error: {
                borderColor: {
                    value: "{colors.border.error.value}"
                },
                _focus: {
                    boxShadow: {
                        value: "{components.fieldcontrol._error._focus.boxShadow.value}"
                    }
                }
            },
            _disabled: {
                borderColor: {
                    value: "{colors.border.disabled.value}"
                },
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                }
            }
        },
        label: {
            color: {
                value: "{components.text.color.value}"
            },
            _disabled: {
                color: {
                    value: "{colors.font.disabled.value}"
                }
            }
        }
    },
    Tee = {
        radio: {
            borderWidth: {
                value: "{components.radio.button.borderWidth}"
            },
            borderColor: {
                value: "{components.radio.button.borderColor}"
            },
            backgroundColor: {
                value: "{components.radio.button.backgroundColor}"
            },
            _checked: {
                color: {
                    value: "{components.radio.button._checked.color}"
                }
            },
            label: {
                color: {
                    value: "{components.radio.label.color}"
                }
            }
        },
        legend: {
            color: {
                value: "{components.fieldset.legend.color}"
            },
            fontWeight: {
                value: "{fontWeights.normal}"
            }
        }
    },
    Nee = {
        large: {
            size: {
                value: "{fontSizes.xxxl.value}"
            }
        },
        default: {
            size: {
                value: "{fontSizes.xl.value}"
            }
        },
        small: {
            size: {
                value: "{fontSizes.small.value}"
            }
        },
        filled: {
            color: {
                value: "{colors.secondary.80.value}"
            }
        },
        empty: {
            color: {
                value: "{colors.background.tertiary.value}"
            }
        }
    },
    Aee = {
        color: {
            value: "{components.fieldcontrol.color.value}"
        },
        button: {
            color: {
                value: "{components.button.color.value}"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            _active: {
                backgroundColor: {
                    value: "{components.button._active.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._active.borderColor.value}"
                },
                color: {
                    value: "{components.button._active.color.value}"
                }
            },
            _disabled: {
                backgroundColor: {
                    value: "{components.button._disabled.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._disabled.borderColor.value}"
                },
                color: {
                    value: "{components.button._disabled.color.value}"
                }
            },
            _focus: {
                backgroundColor: {
                    value: "{components.button._focus.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._focus.borderColor.value}"
                },
                color: {
                    value: "{components.button._focus.color.value}"
                }
            },
            _hover: {
                backgroundColor: {
                    value: "{components.button._hover.backgroundColor.value}"
                },
                borderColor: {
                    value: "{components.button._hover.borderColor.value}"
                },
                color: {
                    value: "{components.button._hover.color.value}"
                }
            }
        }
    },
    Dee = {
        color: {
            value: "{components.fieldcontrol.color}"
        },
        backgroundColor: {
            value: "{colors.background.primary.value}"
        },
        paddingInlineEnd: {
            value: "{space.xxl.value}"
        },
        _disabled: {
            color: {
                value: "{colors.font.disabled.value}"
            },
            backgroundColor: {
                value: "{colors.background.disabled.value}"
            }
        },
        wrapper: {
            flex: {
                value: "1"
            },
            display: {
                value: "block"
            },
            position: {
                value: "relative"
            },
            cursor: {
                value: "pointer"
            }
        },
        iconWrapper: {
            alignItems: {
                value: "center"
            },
            position: {
                value: "absolute"
            },
            top: {
                value: "50%"
            },
            right: {
                value: "{space.medium.value}"
            },
            transform: {
                value: "translateY(-50%)"
            },
            pointerEvents: {
                value: "none"
            },
            small: {
                right: {
                    value: "{space.xs.value}"
                }
            },
            large: {
                right: {
                    value: "{space.medium.value}"
                }
            }
        },
        option: {
            backgroundColor: {
                value: "transparent"
            },
            color: {
                value: "{colors.font.primary.value}"
            },
            _disabled: {
                color: {
                    value: "{colors.font.disabled.value}"
                },
                backgroundColor: {
                    value: "transparent"
                }
            }
        },
        whiteSpace: {
            value: "nowrap"
        },
        minWidth: {
            value: "6.5rem"
        },
        small: {
            minWidth: {
                value: "5.5rem"
            },
            paddingInlineEnd: {
                value: "{space.xl.value}"
            }
        },
        large: {
            minWidth: {
                value: "7.5rem"
            },
            paddingInlineEnd: {
                value: "{space.xxl.value}"
            }
        },
        expanded: {
            paddingBlock: {
                value: "{space.xs.value}"
            },
            paddingInline: {
                value: "{space.small.value}"
            },
            option: {
                paddingBlock: {
                    value: "{space.xs.value}"
                },
                paddingInline: {
                    value: "{space.small.value}"
                }
            }
        }
    },
    Fee = {
        borderColor: {
            value: "{components.fieldcontrol.borderColor}"
        },
        color: {
            value: "{components.fieldcontrol.color}"
        },
        flexDirection: {
            value: "column"
        },
        fontSize: {
            value: "{components.fieldcontrol.fontSize}"
        },
        _focus: {
            borderColor: {
                value: "{components.fieldcontrol._focus.borderColor}"
            }
        },
        label: {
            color: {
                value: "{components.field.label.color}"
            }
        }
    },
    Ree = {
        paddingBlock: {
            value: "{space.xs.value}"
        },
        track: {
            backgroundColor: {
                value: "{colors.background.quaternary.value}"
            },
            borderRadius: {
                value: "9999px"
            },
            height: {
                value: "0.375rem"
            },
            minWidth: {
                value: "10rem"
            }
        },
        range: {
            backgroundColor: {
                value: "{colors.primary.80.value}"
            },
            borderRadius: {
                value: "9999px"
            },
            _disabled: {
                backgroundColor: {
                    value: "{colors.background.disabled.value}"
                }
            }
        },
        thumb: {
            width: {
                value: "1.25rem"
            },
            height: {
                value: "1.25rem"
            },
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            boxShadow: {
                value: "{shadows.small.value}"
            },
            borderRadius: {
                value: "50%"
            },
            borderWidth: {
                value: "{borderWidths.medium.value}"
            },
            borderColor: {
                value: "{colors.border.primary.value}"
            },
            borderStyle: {
                value: "solid"
            },
            _disabled: {
                backgroundColor: {
                    value: "{colors.background.disabled.value}"
                },
                borderColor: {
                    value: "transparent"
                },
                boxShadow: {
                    value: "none"
                }
            },
            _hover: {
                backgroundColor: {
                    value: "{colors.background.primary.value}"
                },
                borderColor: {
                    value: "{colors.border.focus.value}"
                }
            },
            _focus: {
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                }
            }
        },
        small: {
            track: {
                height: {
                    value: "0.25rem"
                }
            },
            thumb: {
                width: {
                    value: "1rem"
                },
                height: {
                    value: "1rem"
                }
            }
        },
        large: {
            track: {
                height: {
                    value: "0.625rem"
                }
            },
            thumb: {
                width: {
                    value: "1.5rem"
                },
                height: {
                    value: "1.5rem"
                }
            }
        }
    },
    $ee = {
        borderColor: {
            value: "{components.fieldcontrol.borderColor}"
        },
        flexDirection: {
            value: "column"
        },
        input: {
            color: {
                value: "{components.fieldcontrol.color}"
            },
            fontSize: {
                value: "{components.fieldcontrol.fontSize}"
            },
            textAlign: {
                value: "center"
            }
        },
        button: {
            color: {
                value: "{components.button.color}"
            },
            backgroundColor: {
                value: "{colors.transparent}"
            },
            _active: {
                color: {
                    value: "{components.button._active.color}"
                },
                backgroundColor: {
                    value: "{components.button._active.backgroundColor}"
                }
            },
            _focus: {
                color: {
                    value: "{components.button._focus.color}"
                },
                backgroundColor: {
                    value: "{components.button._focus.backgroundColor}"
                }
            },
            _disabled: {
                color: {
                    value: "{components.button._disabled.color}"
                },
                backgroundColor: {
                    value: "{components.fieldcontrol._disabled.backgroundColor}"
                }
            },
            _hover: {
                color: {
                    value: "{components.button._hover.color}"
                },
                backgroundColor: {
                    value: "{components.button._hover.backgroundColor}"
                }
            }
        }
    },
    Oee = {
        dropzone: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "dashed"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            gap: {
                value: "{space.small}"
            },
            paddingBlock: {
                value: "{space.xl}"
            },
            paddingInline: {
                value: "{space.large}"
            },
            textAlign: {
                value: "center"
            },
            _active: {
                backgroundColor: {
                    value: "{colors.primary.10}"
                },
                borderRadius: {
                    value: "{components.storagemanager.dropzone.borderRadius}"
                },
                borderColor: {
                    value: "{colors.border.pressed}"
                },
                borderStyle: {
                    value: "{components.storagemanager.dropzone.borderStyle}"
                },
                borderWidth: {
                    value: "{borderWidths.medium}"
                }
            },
            icon: {
                color: {
                    value: "{colors.border.primary}"
                },
                fontSize: {
                    value: "{fontSizes.xxl}"
                }
            },
            text: {
                color: {
                    value: "{colors.font.tertiary}"
                },
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                }
            }
        },
        file: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            paddingBlock: {
                value: "{space.xs}"
            },
            paddingInline: {
                value: "{space.small}"
            },
            gap: {
                value: "{space.small}"
            },
            alignItems: {
                value: "baseline"
            },
            name: {
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                },
                color: {
                    value: "{colors.font.primary}"
                }
            },
            size: {
                fontSize: {
                    value: "{fontSizes.small}"
                },
                fontWeight: {
                    value: "{fontWeights.normal}"
                },
                color: {
                    value: "{colors.font.tertiary}"
                }
            },
            image: {
                width: {
                    value: "{space.xxl}"
                },
                height: {
                    value: "{space.xxl}"
                },
                backgroundColor: {
                    value: "{colors.background.secondary}"
                },
                color: {
                    value: "{colors.font.tertiary}"
                },
                borderRadius: {
                    value: "{radii.small}"
                }
            }
        },
        filelist: {
            flexDirection: {
                value: "column"
            },
            gap: {
                value: "{space.small}"
            }
        },
        loader: {
            strokeLinecap: {
                value: "round"
            },
            strokeEmpty: {
                value: "{colors.border.secondary}"
            },
            strokeFilled: {
                value: "{components.loader.strokeFilled}"
            },
            strokeWidth: {
                value: "{borderWidths.large}"
            }
        },
        previewer: {
            backgroundColor: {
                value: "{colors.background.primary}"
            },
            borderColor: {
                value: "{colors.border.primary}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small}"
            },
            borderRadius: {
                value: "{radii.small}"
            },
            paddingBlock: {
                value: "{space.zero}"
            },
            paddingInline: {
                value: "{space.zero}"
            },
            maxHeight: {
                value: "40rem"
            },
            maxWidth: {
                value: "auto"
            },
            text: {
                fontSize: {
                    value: "{fontSizes.medium}"
                },
                fontWeight: {
                    value: "{fontWeights.bold}"
                },
                color: {
                    value: "{colors.font.primary}"
                }
            },
            body: {
                paddingBlock: {
                    value: "{space.medium}"
                },
                paddingInline: {
                    value: "{space.medium}"
                },
                gap: {
                    value: "{space.small}"
                }
            },
            footer: {
                justifyContent: {
                    value: "flex-end"
                }
            }
        }
    },
    Mee = {
        _disabled: {
            opacity: {
                value: "{opacities.60.value}"
            }
        },
        _focused: {
            shadow: {
                value: "{components.fieldcontrol._focus.boxShadow.value}"
            }
        },
        fontSize: {
            value: "{fontSizes.medium.value}"
        },
        large: {
            fontSize: {
                value: "{fontSizes.large.value}"
            }
        },
        small: {
            fontSize: {
                value: "{fontSizes.small.value}"
            }
        },
        label: {
            padding: {
                value: "{space.xs.value}"
            }
        },
        thumb: {
            backgroundColor: {
                value: "{colors.background.primary.value}"
            },
            borderColor: {
                value: "transparent"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderRadius: {
                value: "{radii.xxxl.value}"
            },
            checked: {
                transform: {
                    value: "{transforms.slideX.medium.value}"
                }
            },
            transition: {
                duration: {
                    value: "{time.medium.value}"
                }
            },
            width: {
                value: "{space.relative.medium.value}"
            }
        },
        track: {
            backgroundColor: {
                value: "{colors.background.quaternary.value}"
            },
            borderRadius: {
                value: "{radii.xxxl.value}"
            },
            checked: {
                backgroundColor: {
                    value: "{colors.primary.80.value}"
                }
            },
            height: {
                value: "{space.relative.medium.value}"
            },
            padding: {
                value: "{outlineWidths.medium.value}"
            },
            transition: {
                duration: {
                    value: "{time.short.value}"
                }
            },
            width: {
                value: "{space.relative.xl.value}"
            },
            _error: {
                backgroundColor: {
                    value: "{colors.background.error.value}"
                }
            }
        }
    },
    Pee = {
        borderCollapse: {
            value: "collapse"
        },
        display: {
            value: "table"
        },
        width: {
            value: "100%"
        },
        head: {
            display: {
                value: "table-header-group"
            },
            verticalAlign: {
                value: "middle"
            }
        },
        body: {
            display: {
                value: "table-row-group"
            },
            verticalAlign: {
                value: "middle"
            }
        },
        foot: {
            display: {
                value: "table-footer-group"
            },
            verticalAlign: {
                value: "middle"
            }
        },
        row: {
            display: {
                value: "table-row"
            },
            verticalAlign: {
                value: "middle"
            },
            hover: {
                backgroundColor: {
                    value: "{colors.background.tertiary.value}"
                }
            },
            striped: {
                backgroundColor: {
                    value: "{colors.background.secondary.value}"
                }
            }
        },
        header: {
            borderColor: {
                value: "{colors.border.tertiary.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            color: {
                value: "{colors.font.primary.value}"
            },
            display: {
                value: "table-cell"
            },
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            },
            padding: {
                value: "{space.medium.value}"
            },
            verticalAlign: {
                value: "middle"
            },
            large: {
                fontSize: {
                    value: "{fontSizes.large.value}"
                },
                padding: {
                    value: "{space.large.value}"
                }
            },
            small: {
                fontSize: {
                    value: "{fontSizes.small.value}"
                },
                padding: {
                    value: "{space.xs.value}"
                }
            }
        },
        data: {
            borderColor: {
                value: "{colors.border.tertiary.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            color: {
                value: "{colors.font.primary.value}"
            },
            display: {
                value: "table-cell"
            },
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.normal.value}"
            },
            padding: {
                value: "{space.medium.value}"
            },
            verticalAlign: {
                value: "middle"
            },
            large: {
                fontSize: {
                    value: "{fontSizes.large.value}"
                },
                padding: {
                    value: "{space.large.value}"
                }
            },
            small: {
                fontSize: {
                    value: "{fontSizes.small.value}"
                },
                padding: {
                    value: "{space.xs.value}"
                }
            }
        },
        caption: {
            captionSide: {
                value: "bottom"
            },
            color: {
                value: "{colors.font.primary.value}"
            },
            display: {
                value: "table-caption"
            },
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            textAlign: {
                value: "center"
            },
            wordBreak: {
                value: "break-all"
            },
            large: {
                fontSize: {
                    value: "{fontSizes.large.value}"
                }
            },
            small: {
                fontSize: {
                    value: "{fontSizes.small.value}"
                }
            }
        }
    },
    Bee = {
        backgroundColor: {
            value: "transparent"
        },
        borderColor: {
            value: "{colors.border.secondary.value}"
        },
        borderStyle: {
            value: "solid"
        },
        borderWidth: {
            value: "{borderWidths.medium.value}"
        },
        gap: {
            value: "0"
        },
        item: {
            backgroundColor: {
                value: "transparent"
            },
            borderColor: {
                value: "{colors.border.secondary.value}"
            },
            borderStyle: {
                value: "solid"
            },
            borderWidth: {
                value: "{borderWidths.medium.value}"
            },
            color: {
                value: "{colors.font.secondary.value}"
            },
            fontSize: {
                value: "{fontSizes.medium.value}"
            },
            fontWeight: {
                value: "{fontWeights.bold.value}"
            },
            paddingVertical: {
                value: "{space.small.value}"
            },
            paddingHorizontal: {
                value: "{space.medium.value}"
            },
            textAlign: {
                value: "center"
            },
            transitionDuration: {
                value: "{time.medium.value}"
            },
            _hover: {
                backgroundColor: {
                    value: "transparent"
                },
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                boxShadow: {
                    value: "none"
                },
                color: {
                    value: "{colors.font.hover.value}"
                }
            },
            _focus: {
                backgroundColor: {
                    value: "transparent"
                },
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                boxShadow: {
                    value: {
                        offsetX: "0px",
                        offsetY: "0px",
                        blurRadius: "0px",
                        spreadRadius: "{borderWidths.medium}",
                        color: "{colors.border.focus.value}"
                    }
                },
                color: {
                    value: "{colors.font.focus.value}"
                }
            },
            _active: {
                backgroundColor: {
                    value: "transparent"
                },
                borderColor: {
                    value: "{colors.font.interactive.value}"
                },
                boxShadow: {
                    value: "none"
                },
                color: {
                    value: "{colors.font.interactive.value}"
                }
            },
            _disabled: {
                backgroundColor: {
                    value: "transparent"
                },
                borderColor: {
                    value: "{colors.border.tertiary.value}"
                },
                boxShadow: {
                    value: "none"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            }
        },
        panel: {
            backgroundColor: {
                value: "transparent"
            },
            paddingInline: {
                value: "0"
            },
            paddingBlock: {
                value: "{space.small.value}"
            }
        }
    },
    zee = {
        color: {
            value: "{colors.font.primary.value}"
        },
        primary: {
            color: {
                value: "{colors.font.primary.value}"
            }
        },
        secondary: {
            color: {
                value: "{colors.font.secondary.value}"
            }
        },
        tertiary: {
            color: {
                value: "{colors.font.tertiary.value}"
            }
        },
        error: {
            color: {
                value: "{colors.font.error.value}"
            }
        },
        warning: {
            color: {
                value: "{colors.font.warning.value}"
            }
        },
        success: {
            color: {
                value: "{colors.font.success.value}"
            }
        },
        info: {
            color: {
                value: "{colors.font.info.value}"
            }
        }
    },
    Lee = {
        color: {
            value: "{components.fieldcontrol.color.value}"
        },
        borderColor: {
            value: "{components.fieldcontrol.borderColor.value}"
        },
        _focus: {
            borderColor: {
                value: "{components.fieldcontrol._focus.borderColor.value}"
            }
        }
    },
    Wee = {
        color: {
            value: "{components.fieldcontrol.color.value}"
        },
        borderColor: {
            value: "{components.fieldcontrol.borderColor.value}"
        },
        fontSize: {
            value: "{components.fieldcontrol.fontSize.value}"
        },
        _focus: {
            borderColor: {
                value: "{components.fieldcontrol._focus.borderColor.value}"
            }
        }
    },
    jee = {
        borderColor: {
            value: "{colors.border.primary.value}"
        },
        color: {
            value: "{colors.font.primary.value}"
        },
        _hover: {
            backgroundColor: {
                value: "{colors.overlay.10.value}"
            }
        },
        _focus: {
            borderColor: {
                value: "{colors.border.focus.value}"
            },
            color: {
                value: "{colors.font.primary.value}"
            }
        },
        _active: {
            backgroundColor: {
                value: "{colors.transparent.value}"
            }
        },
        _disabled: {
            backgroundColor: {
                value: "{colors.transparent.value}"
            },
            borderColor: {
                value: "{colors.border.disabled.value}"
            },
            color: {
                value: "{colors.font.disabled.value}"
            }
        },
        _pressed: {
            borderColor: {
                value: "{colors.border.pressed.value}"
            },
            color: {
                value: "{colors.font.primary.value}"
            },
            backgroundColor: {
                value: "{colors.overlay.20.value}"
            },
            _hover: {
                backgroundColor: {
                    value: "{colors.overlay.30.value}"
                }
            }
        },
        primary: {
            backgroundColor: {
                value: "{colors.transparent.value}"
            },
            borderWidth: {
                value: "{borderWidths.small.value}"
            },
            _focus: {
                borderColor: {
                    value: "{colors.border.focus.value}"
                },
                backgroundColor: {
                    value: "{colors.transparent.value}"
                },
                boxShadow: {
                    value: "{components.fieldcontrol._focus.boxShadow.value}"
                },
                color: {
                    value: "{colors.font.primary.value}"
                }
            },
            _hover: {
                backgroundColor: {
                    value: "{colors.overlay.10.value}"
                },
                color: {
                    value: "{colors.font.primary.value}"
                }
            },
            _disabled: {
                borderColor: {
                    value: "{colors.border.disabled.value}"
                },
                backgroundColor: {
                    value: "{colors.background.disabled.value}"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            _pressed: {
                backgroundColor: {
                    value: "{colors.primary.80.value}"
                },
                borderColor: {
                    value: "{colors.primary.80.value}"
                },
                color: {
                    value: "{colors.background.primary.value}"
                },
                _focus: {
                    backgroundColor: {
                        value: "{colors.border.focus.value}"
                    },
                    borderColor: {
                        value: "{colors.border.focus.value}"
                    },
                    color: {
                        value: "{colors.background.primary.value}"
                    }
                },
                _hover: {
                    borderColor: {
                        value: "{colors.primary.60.value}"
                    },
                    backgroundColor: {
                        value: "{colors.primary.60.value}"
                    },
                    boxShadow: {
                        value: "{colors.primary.60.value}"
                    },
                    color: {
                        value: "{colors.background.primary.value}"
                    }
                }
            }
        },
        link: {
            backgroundColor: {
                value: "{colors.transparent.value}"
            },
            color: {
                value: "{colors.overlay.50.value}"
            },
            _hover: {
                backgroundColor: {
                    value: "{colors.transparent.value}"
                },
                color: {
                    value: "{colors.overlay.50.value}"
                }
            },
            _focus: {
                backgroundColor: {
                    value: "{colors.transparent.value}"
                },
                color: {
                    value: "{colors.overlay.50.value}"
                }
            },
            _disabled: {
                backgroundColor: {
                    value: "{colors.transparent.value}"
                },
                color: {
                    value: "{colors.font.disabled.value}"
                }
            },
            _pressed: {
                backgroundColor: {
                    value: "{colors.transparent.value}"
                },
                color: {
                    value: "{colors.overlay.90.value}"
                },
                _focus: {
                    backgroundColor: {
                        value: "{colors.transparent.value}"
                    },
                    color: {
                        value: "{colors.overlay.90.value}"
                    }
                },
                _hover: {
                    color: {
                        value: "{colors.overlay.90.value}"
                    },
                    backgroundColor: {
                        value: "{colors.transparent.value}"
                    }
                }
            }
        }
    },
    Vee = {
        alignItems: {
            value: "center"
        },
        alignContent: {
            value: "center"
        },
        justifyContent: {
            value: "flex-start"
        }
    },
    Uee = {
        accordion: aee,
        aiConversation: VJ,
        alert: jJ,
        authenticator: HJ,
        autocomplete: UJ,
        avatar: GJ,
        badge: qJ,
        breadcrumbs: KJ,
        button: XJ,
        card: YJ,
        checkbox: ZJ,
        checkboxfield: QJ,
        collection: JJ,
        copy: eee,
        countrycodeselect: tee,
        divider: nee,
        dropzone: ree,
        field: see,
        fieldcontrol: oee,
        fieldgroup: iee,
        fieldmessages: uee,
        fieldset: lee,
        fileuploader: cee,
        flex: dee,
        heading: fee,
        icon: hee,
        highlightmatch: pee,
        image: gee,
        inappmessaging: vee,
        input: mee,
        link: yee,
        liveness: bee,
        loader: wee,
        menu: See,
        message: xee,
        pagination: kee,
        passwordfield: _ee,
        phonenumberfield: Iee,
        placeholder: Cee,
        radio: Eee,
        radiogroup: Tee,
        rating: Nee,
        searchfield: Aee,
        select: Dee,
        selectfield: Fee,
        sliderfield: Ree,
        stepperfield: $ee,
        storagemanager: Oee,
        switchfield: Mee,
        table: Pee,
        tabs: Bee,
        text: zee,
        textareafield: Lee,
        textfield: Wee,
        togglebutton: jee,
        togglebuttongroup: Vee
    },
    Hee = {
        default: {
            variable: {
                value: `'InterVariable', 'Inter var', 'Inter', -apple-system, BlinkMacSystemFont,
        'Helvetica Neue', 'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans',
        sans-serif`
            },
            static: {
                value: `'Inter', -apple-system, BlinkMacSystemFont, 'Helvetica Neue',
        'Segoe UI', Oxygen, Ubuntu, Cantarell, 'Open Sans', sans-serif`
            }
        }
    },
    qs = {
        xxxs: {
            value: "0.375rem"
        },
        xxs: {
            value: "0.5rem"
        },
        xs: {
            value: "0.75rem"
        },
        small: {
            value: "0.875rem"
        },
        medium: {
            value: "1rem"
        },
        large: {
            value: "1.25rem"
        },
        xl: {
            value: "1.5rem"
        },
        xxl: {
            value: "2rem"
        },
        xxxl: {
            value: "2.5rem"
        },
        xxxxl: {
            value: "3rem"
        }
    },
    Gee = {
        hairline: {
            value: 100
        },
        thin: {
            value: 200
        },
        light: {
            value: 300
        },
        normal: {
            value: 400
        },
        medium: {
            value: 500
        },
        semibold: {
            value: 600
        },
        bold: {
            value: 700
        },
        extrabold: {
            value: 800
        },
        black: {
            value: 900
        }
    },
    qee = {
        small: {
            value: "1.25"
        },
        medium: {
            value: "1.5"
        },
        large: {
            value: "2"
        }
    },
    Kee = {
        0: {
            value: "0"
        },
        10: {
            value: "0.1"
        },
        20: {
            value: "0.2"
        },
        30: {
            value: "0.3"
        },
        40: {
            value: "0.4"
        },
        50: {
            value: "0.5"
        },
        60: {
            value: "0.6"
        },
        70: {
            value: "0.7"
        },
        80: {
            value: "0.8"
        },
        90: {
            value: "0.9"
        },
        100: {
            value: "1"
        }
    },
    Xee = {
        small: {
            value: "1px"
        },
        medium: {
            value: "2px"
        },
        large: {
            value: "3px"
        }
    },
    Yee = {
        small: {
            value: "1px"
        },
        medium: {
            value: "2px"
        },
        large: {
            value: "3px"
        }
    },
    Zee = {
        xs: {
            value: "0.125rem"
        },
        small: {
            value: "0.25rem"
        },
        medium: {
            value: "0.5rem"
        },
        large: {
            value: "1rem"
        },
        xl: {
            value: "2rem"
        },
        xxl: {
            value: "4rem"
        },
        xxxl: {
            value: "8rem"
        }
    },
    Qee = {
        small: {
            value: {
                offsetX: "0px",
                offsetY: "2px",
                blurRadius: "4px",
                color: "{colors.shadow.tertiary.value}"
            }
        },
        medium: {
            value: {
                offsetX: "0px",
                offsetY: "2px",
                blurRadius: "6px",
                color: "{colors.shadow.secondary.value}"
            }
        },
        large: {
            value: {
                offsetX: "0px",
                offsetY: "4px",
                blurRadius: "12px",
                color: "{colors.shadow.primary.value}"
            }
        }
    },
    Ks = {
        zero: {
            value: "0"
        },
        xxxs: {
            value: "0.25rem"
        },
        xxs: {
            value: "0.375rem"
        },
        xs: {
            value: "0.5rem"
        },
        small: {
            value: "0.75rem"
        },
        medium: {
            value: "1rem"
        },
        large: {
            value: "1.5rem"
        },
        xl: {
            value: "2.0rem"
        },
        xxl: {
            value: "3.0rem"
        },
        xxxl: {
            value: "4.5rem"
        },
        relative: {
            xxxs: {
                value: "0.25em"
            },
            xxs: {
                value: "0.375em"
            },
            xs: {
                value: "0.5em"
            },
            small: {
                value: "0.75em"
            },
            medium: {
                value: "1em"
            },
            large: {
                value: "1.5em"
            },
            xl: {
                value: "2.0em"
            },
            xxl: {
                value: "3.0em"
            },
            xxxl: {
                value: "4.5em"
            },
            full: {
                value: "100%"
            }
        }
    },
    Jee = {
        short: {
            value: "100ms"
        },
        medium: {
            value: "250ms"
        },
        long: {
            value: "500ms"
        }
    },
    ete = {
        slideX: {
            small: {
                value: "translateX(0.5em)"
            },
            medium: {
                value: "translateX(1em)"
            },
            large: {
                value: "translateX(2em)"
            }
        }
    },
    tte = {
        components: Uee,
        borderWidths: LJ,
        colors: WJ,
        fonts: Hee,
        fontSizes: qs,
        fontWeights: Gee,
        lineHeights: qee,
        opacities: Kee,
        outlineOffsets: Xee,
        outlineWidths: Yee,
        radii: Zee,
        shadows: Qee,
        space: Ks,
        time: Jee,
        transforms: ete
    };
qs.xxs, qs.xs, qs.small, qs.medium, qs.large, qs.xl, qs.xxl, qs.xxxl, Ks.xxxs, Ks.xs, Ks.small, Ks.medium, Ks.large, Ks.xl, Ks.xxl, Ks.xxxl;
const nte = {
        values: {
            base: 0,
            small: 480,
            medium: 768,
            large: 992,
            xl: 1280,
            xxl: 1536
        },
        defaultBreakpoint: "base"
    },
    FC = {
        tokens: tte,
        breakpoints: nte,
        name: "default-theme"
    };
var dv, PS;

function rte() {
    if (PS) return dv;
    PS = 1;

    function t(e, n, r, a) {
        var s = -1,
            o = e == null ? 0 : e.length;
        for (a && o && (r = e[++s]); ++s < o;) r = n(r, e[s], s, e);
        return r
    }
    return dv = t, dv
}
var fv, BS;

function ate() {
    if (BS) return fv;
    BS = 1;

    function t(e) {
        return function(n) {
            return e == null ? void 0 : e[n]
        }
    }
    return fv = t, fv
}
var pv, zS;

function ste() {
    if (zS) return pv;
    zS = 1;
    var t = ate(),
        e = {
            À: "A",
            Á: "A",
            Â: "A",
            Ã: "A",
            Ä: "A",
            Å: "A",
            à: "a",
            á: "a",
            â: "a",
            ã: "a",
            ä: "a",
            å: "a",
            Ç: "C",
            ç: "c",
            Ð: "D",
            ð: "d",
            È: "E",
            É: "E",
            Ê: "E",
            Ë: "E",
            è: "e",
            é: "e",
            ê: "e",
            ë: "e",
            Ì: "I",
            Í: "I",
            Î: "I",
            Ï: "I",
            ì: "i",
            í: "i",
            î: "i",
            ï: "i",
            Ñ: "N",
            ñ: "n",
            Ò: "O",
            Ó: "O",
            Ô: "O",
            Õ: "O",
            Ö: "O",
            Ø: "O",
            ò: "o",
            ó: "o",
            ô: "o",
            õ: "o",
            ö: "o",
            ø: "o",
            Ù: "U",
            Ú: "U",
            Û: "U",
            Ü: "U",
            ù: "u",
            ú: "u",
            û: "u",
            ü: "u",
            Ý: "Y",
            ý: "y",
            ÿ: "y",
            Æ: "Ae",
            æ: "ae",
            Þ: "Th",
            þ: "th",
            ß: "ss",
            Ā: "A",
            Ă: "A",
            Ą: "A",
            ā: "a",
            ă: "a",
            ą: "a",
            Ć: "C",
            Ĉ: "C",
            Ċ: "C",
            Č: "C",
            ć: "c",
            ĉ: "c",
            ċ: "c",
            č: "c",
            Ď: "D",
            Đ: "D",
            ď: "d",
            đ: "d",
            Ē: "E",
            Ĕ: "E",
            Ė: "E",
            Ę: "E",
            Ě: "E",
            ē: "e",
            ĕ: "e",
            ė: "e",
            ę: "e",
            ě: "e",
            Ĝ: "G",
            Ğ: "G",
            Ġ: "G",
            Ģ: "G",
            ĝ: "g",
            ğ: "g",
            ġ: "g",
            ģ: "g",
            Ĥ: "H",
            Ħ: "H",
            ĥ: "h",
            ħ: "h",
            Ĩ: "I",
            Ī: "I",
            Ĭ: "I",
            Į: "I",
            İ: "I",
            ĩ: "i",
            ī: "i",
            ĭ: "i",
            į: "i",
            ı: "i",
            Ĵ: "J",
            ĵ: "j",
            Ķ: "K",
            ķ: "k",
            ĸ: "k",
            Ĺ: "L",
            Ļ: "L",
            Ľ: "L",
            Ŀ: "L",
            Ł: "L",
            ĺ: "l",
            ļ: "l",
            ľ: "l",
            ŀ: "l",
            ł: "l",
            Ń: "N",
            Ņ: "N",
            Ň: "N",
            Ŋ: "N",
            ń: "n",
            ņ: "n",
            ň: "n",
            ŋ: "n",
            Ō: "O",
            Ŏ: "O",
            Ő: "O",
            ō: "o",
            ŏ: "o",
            ő: "o",
            Ŕ: "R",
            Ŗ: "R",
            Ř: "R",
            ŕ: "r",
            ŗ: "r",
            ř: "r",
            Ś: "S",
            Ŝ: "S",
            Ş: "S",
            Š: "S",
            ś: "s",
            ŝ: "s",
            ş: "s",
            š: "s",
            Ţ: "T",
            Ť: "T",
            Ŧ: "T",
            ţ: "t",
            ť: "t",
            ŧ: "t",
            Ũ: "U",
            Ū: "U",
            Ŭ: "U",
            Ů: "U",
            Ű: "U",
            Ų: "U",
            ũ: "u",
            ū: "u",
            ŭ: "u",
            ů: "u",
            ű: "u",
            ų: "u",
            Ŵ: "W",
            ŵ: "w",
            Ŷ: "Y",
            ŷ: "y",
            Ÿ: "Y",
            Ź: "Z",
            Ż: "Z",
            Ž: "Z",
            ź: "z",
            ż: "z",
            ž: "z",
            Ĳ: "IJ",
            ĳ: "ij",
            Œ: "Oe",
            œ: "oe",
            ŉ: "'n",
            ſ: "s"
        },
        n = t(e);
    return pv = n, pv
}
var hv, LS;

function ote() {
    if (LS) return hv;
    LS = 1;
    var t = ste(),
        e = DC(),
        n = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
        r = "\\u0300-\\u036f",
        a = "\\ufe20-\\ufe2f",
        s = "\\u20d0-\\u20ff",
        o = r + a + s,
        i = "[" + o + "]",
        c = RegExp(i, "g");

    function d(l) {
        return l = e(l), l && l.replace(n, t).replace(c, "")
    }
    return hv = d, hv
}
var mv, WS;

function ite() {
    if (WS) return mv;
    WS = 1;
    var t = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;

    function e(n) {
        return n.match(t) || []
    }
    return mv = e, mv
}
var gv, jS;

function lte() {
    if (jS) return gv;
    jS = 1;
    var t = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;

    function e(n) {
        return t.test(n)
    }
    return gv = e, gv
}
var vv, VS;

function ute() {
    if (VS) return vv;
    VS = 1;
    var t = "\\ud800-\\udfff",
        e = "\\u0300-\\u036f",
        n = "\\ufe20-\\ufe2f",
        r = "\\u20d0-\\u20ff",
        a = e + n + r,
        s = "\\u2700-\\u27bf",
        o = "a-z\\xdf-\\xf6\\xf8-\\xff",
        i = "\\xac\\xb1\\xd7\\xf7",
        c = "\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",
        d = "\\u2000-\\u206f",
        l = " \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",
        p = "A-Z\\xc0-\\xd6\\xd8-\\xde",
        h = "\\ufe0e\\ufe0f",
        m = i + c + d + l,
        y = "['’]",
        v = "[" + m + "]",
        b = "[" + a + "]",
        w = "\\d+",
        x = "[" + s + "]",
        _ = "[" + o + "]",
        C = "[^" + t + m + w + s + o + p + "]",
        T = "\\ud83c[\\udffb-\\udfff]",
        R = "(?:" + b + "|" + T + ")",
        M = "[^" + t + "]",
        W = "(?:\\ud83c[\\udde6-\\uddff]){2}",
        P = "[\\ud800-\\udbff][\\udc00-\\udfff]",
        z = "[" + p + "]",
        F = "\\u200d",
        O = "(?:" + _ + "|" + C + ")",
        U = "(?:" + z + "|" + C + ")",
        N = "(?:" + y + "(?:d|ll|m|re|s|t|ve))?",
        q = "(?:" + y + "(?:D|LL|M|RE|S|T|VE))?",
        ae = R + "?",
        J = "[" + h + "]?",
        Z = "(?:" + F + "(?:" + [M, W, P].join("|") + ")" + J + ae + ")*",
        Y = "\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",
        te = "\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",
        B = J + ae + Z,
        V = "(?:" + [x, W, P].join("|") + ")" + B,
        oe = RegExp([z + "?" + _ + "+" + N + "(?=" + [v, z, "$"].join("|") + ")", U + "+" + q + "(?=" + [v, z + O, "$"].join("|") + ")", z + "?" + O + "+" + N, z + "+" + q, te, Y, w, V].join("|"), "g");

    function ue(le) {
        return le.match(oe) || []
    }
    return vv = ue, vv
}
var yv, US;

function cte() {
    if (US) return yv;
    US = 1;
    var t = ite(),
        e = lte(),
        n = DC(),
        r = ute();

    function a(s, o, i) {
        return s = n(s), o = i ? void 0 : o, o === void 0 ? e(s) ? r(s) : t(s) : s.match(o) || []
    }
    return yv = a, yv
}
var bv, HS;

function dte() {
    if (HS) return bv;
    HS = 1;
    var t = rte(),
        e = ote(),
        n = cte(),
        r = "['’]",
        a = RegExp(r, "g");

    function s(o) {
        return function(i) {
            return t(n(e(i).replace(a, "")), o, "")
        }
    }
    return bv = s, bv
}
var wv, GS;

function fte() {
    if (GS) return wv;
    GS = 1;
    var t = dte(),
        e = t(function(n, r, a) {
            return n + (a ? "-" : "") + r.toLowerCase()
        });
    return wv = e, wv
}
var pte = fte();
const RC = Hl(pte),
    hte = /\{([^}]+)\}/g;

function $C(t) {
    const e = new RegExp(hte);
    if (typeof t == "string") return e.test(t);
    if (typeof t == "object") {
        let n = !1;
        for (const r in t)
            if (Lo(t, r)) {
                const a = t[r];
                if ($C(a)) {
                    n = !0;
                    break
                }
            } return n
    }
    return !1
}
const mte = "amplify";

function gte(t) {
    return Object.entries(t).map(([e, n]) => {
        const r = Yh(n) ? n.toString() : OC({
            value: n
        });
        return `${RC(e)}:${r}; `
    }).join(" ")
}

function i1({
    path: t = []
}) {
    return `${RC([mte,...t].join(" "))}`
}
const vte = ["offsetX", "offsetY", "blurRadius", "spreadRadius", "color"];

function OC(t) {
    const {
        value: e
    } = t;
    return Ul(e) ? KS(e) : qS(e) ? vte.map(n => KS(qS(t) ? t[n] : e[n])).join(" ") : e
}

function Yh(t) {
    return ao(t) && Lo(t, "value")
}

function qS(t) {
    return ao(t) && Lo(t, "offsetX")
}

function KS(t) {
    if (!t) return "";
    if ($C(t)) {
        const e = t.replace(/\{|\}/g, "").replace(".value", "").split(".");
        return `var(--${i1({path:e})})`
    }
    return t
}
const XS = ({
    token: t,
    path: e
}) => {
    const n = `--${i1({path:e})}`,
        {
            value: r
        } = t,
        a = OC(t);
    return {
        name: n,
        original: r,
        path: e,
        value: a,
        toString: () => `var(${n})`
    }
};

function Cy({
    tokens: t,
    path: e = [],
    setupToken: n
}) {
    if (Lo(t, "value")) return n({
        token: t,
        path: e
    });
    const r = {};
    for (const a in t)
        if (Lo(t, a)) {
            const s = t[a],
                o = ao(s) ? s : {
                    value: s
                };
            r[a] = Cy({
                tokens: o,
                path: e.concat(a),
                setupToken: n
            })
        } return r
}

function Ey(t, e) {
    e = e || [];
    for (var n in t) Lo(t, n) && (ao(t[n]) && "value" in t[n] ? e.push(t[n]) : ao(t[n]) && Ey(t[n], e));
    return e
}

function MC(t, e, n) {
    if (t == null) return {};
    var r, a, s, o, i, c, d = t[0] || {},
        l = 1,
        p = t.length;
    for (n = n || [], typeof d != "object" && (d = {}); l < p; l++)
        if ((i = t[l]) != null) {
            for (o in i)
                if (Lo(i, o) && o !== "__proto__" && (r = d[o], s = i[o], d !== s))
                    if (s && (ao(s) || (a = Array.isArray(s)))) {
                        a ? (a = !1, c = r && Array.isArray(r) ? r : []) : c = r && ao(r) ? r : {};
                        var h = n.slice(0);
                        h.push(o), d[o] = MC([c, s], e, h)
                    } else s !== void 0 && (d[o] = s)
        } return d
}

function YS({
    keys: t,
    value: e
}) {
    return t.reduce((n, r) => ({
        ...n,
        [r]: {
            value: `{colors.${e}.${r}.value}`
        }
    }), {})
}

function yte({
    animations: t,
    tokens: e
}) {
    let n = "";
    return Object.entries(t).forEach(([r, a]) => {
        n += `
  @keyframes ${r} {`, Object.entries(a).forEach(([s, o]) => {
            n += `
    ${s} {
`;
            const i = MJ(o) ? o(e) : o;
            n += gte(i), n += `
    }`
        }), n += `
  }`
    }), n
}

function PC(t, e = FC) {
    const n = MC([{}, e, {
            ...t,
            components: {}
        }]),
        {
            primaryColor: r,
            secondaryColor: a
        } = n;
    Ul(r) && (n.tokens.colors.primary = YS({
        keys: Object.keys(n.tokens.colors[r]),
        value: r
    })), Ul(a) && (n.tokens.colors.secondary = YS({
        keys: Object.keys(n.tokens.colors[a]),
        value: a
    }));
    const s = Cy({
            tokens: n.tokens,
            setupToken: XS
        }),
        {
            breakpoints: o,
            name: i
        } = n;
    let c = `[data-amplify-theme="${i}"] {
` + Ey(s).map(l => `${l.name}: ${l.value};`).join(`
`) + `
}
`,
        d = [];
    return n.animations && (c += yte({
        animations: n.animations,
        tokens: s
    })), n.overrides && (d = n.overrides.map(l => {
        const p = Cy({
                tokens: l.tokens,
                setupToken: XS
            }),
            h = Ey(p).map(m => `${m.name}: ${m.value};`).join(`
`);
        if ("selector" in l && (c += `
${l.selector} {
${h}
}
`), "mediaQuery" in l && (c += `
@media (${l.mediaQuery}) {
  [data-amplify-theme="${i}"] {
    ${h}
  }
}
`), "breakpoint" in l) {
            const m = n.breakpoints.values[l.breakpoint];
            c += `
@media (min-width: ${m}px) {
  [data-amplify-theme="${i}"] {
    ${h}
  }
}
`
        }
        return "colorMode" in l && (c += `
@media (prefers-color-scheme: ${l.colorMode}) {
          [data-amplify-theme="${i}"][data-amplify-color-mode="system"] {
            ${h}
            color-scheme: ${l.colorMode};
          }
        }
`, c += `
[data-amplify-theme="${i}"][data-amplify-color-mode="${l.colorMode}"] {
          ${h}
          color-scheme: ${l.colorMode};
        }
`), {
            ...l,
            tokens: p
        }
    })), {
        tokens: s,
        breakpoints: o,
        name: i,
        cssText: c,
        containerProps: ({
            colorMode: l
        } = {}) => ({
            "data-amplify-theme": i,
            "data-amplify-color-mode": l
        }),
        overrides: d
    }
}
const In = (...t) => {
        const e = [];
        for (const n of t)
            if (n) {
                if (Ul(n)) {
                    e.push(n);
                    continue
                }
                if (typeof n == "number") {
                    e.push(n.toString());
                    continue
                }
                if (Array.isArray(n)) {
                    e.push(In(...n));
                    continue
                }
                if (ao(n)) {
                    if (n.toString !== Object.prototype.toString && n.toString() !== "[object Object]") {
                        e.push(n.toString());
                        continue
                    }
                    for (const r in n) Lo(n, r) && n[r] && e.push(r)
                }
            } return e.join(" ")
    },
    wt = {
        Alert: "amplify-alert",
        AlertIcon: "amplify-alert__icon",
        AlertHeading: "amplify-alert__heading",
        AlertBody: "amplify-alert__body",
        Button: "amplify-button",
        ButtonLoaderWrapper: "amplify-button__loader-wrapper",
        Field: "amplify-field",
        FieldDescription: "amplify-field__description",
        FieldErrorMessage: "amplify-field__error-message",
        FieldGroupControl: "amplify-field-group__control",
        Flex: "amplify-flex",
        Icon: "amplify-icon",
        Label: "amplify-label",
        Loader: "amplify-loader",
        LoaderLabel: "amplify-loader__label",
        Select: "amplify-select",
        SelectField: "amplify-selectfield",
        SelectWrapper: "amplify-select__wrapper",
        SelectIcon: "amplify-select__icon",
        Text: "amplify-text",
        VisuallyHidden: "amplify-visually-hidden"
    },
    BC = Oe.createContext({
        theme: PC(),
        colorMode: void 0
    }),
    l1 = {
        alignContent: "alignContent",
        alignItems: "alignItems",
        alignSelf: "alignSelf",
        area: "gridArea",
        aspectRatio: "aspectRatio",
        autoColumns: "gridAutoColumns",
        autoFlow: "gridAutoFlow",
        autoRows: "gridAutoRows",
        backgroundColor: "backgroundColor",
        backgroundImage: "backgroundImage",
        basis: "flexBasis",
        border: "border",
        borderRadius: "borderRadius",
        borderColor: "borderColor",
        borderWidth: "borderWidth",
        borderStyle: "borderStyle",
        bottom: "bottom",
        boxShadow: "boxShadow",
        color: "color",
        column: "gridColumn",
        columnEnd: "gridColumnEnd",
        columnGap: "columnGap",
        columnSpan: "gridColumn",
        columnStart: "gridColumnStart",
        direction: "flexDirection",
        display: "display",
        flex: "flex",
        fontFamily: "fontFamily",
        fontSize: "fontSize",
        fontStyle: "fontStyle",
        fontWeight: "fontWeight",
        gap: "gap",
        grow: "flexGrow",
        height: "height",
        justifyContent: "justifyContent",
        left: "left",
        letterSpacing: "letterSpacing",
        lineHeight: "lineHeight",
        margin: "margin",
        marginBlock: "marginBlock",
        marginBlockEnd: "marginBlockEnd",
        marginBlockStart: "marginBlockStart",
        marginBottom: "marginBlockEnd",
        marginInline: "marginInline",
        marginInlineEnd: "marginInlineEnd",
        marginInlineStart: "marginInlineStart",
        marginLeft: "marginInlineStart",
        marginRight: "marginInlineEnd",
        marginTop: "marginBlockStart",
        maxHeight: "maxHeight",
        maxWidth: "maxWidth",
        minHeight: "minHeight",
        minWidth: "minWidth",
        objectFit: "objectFit",
        objectPosition: "objectPosition",
        opacity: "opacity",
        order: "order",
        overflow: "overflow",
        padding: "padding",
        paddingBlock: "paddingBlock",
        paddingBlockEnd: "paddingBlockEnd",
        paddingBlockStart: "paddingBlockStart",
        paddingBottom: "paddingBlockEnd",
        paddingInline: "paddingInline",
        paddingInlineEnd: "paddingInlineEnd",
        paddingInlineStart: "paddingInlineStart",
        paddingLeft: "paddingInlineStart",
        paddingRight: "paddingInlineEnd",
        paddingTop: "paddingBlockStart",
        position: "position",
        resize: "resize",
        right: "right",
        row: "gridRow",
        rowEnd: "gridRowEnd",
        rowGap: "rowGap",
        rowSpan: "gridRow",
        rowStart: "gridRowStart",
        shrink: "flexShrink",
        templateAreas: "gridTemplateAreas",
        templateColumns: "gridTemplateColumns",
        templateRows: "gridTemplateRows",
        textAlign: "textAlign",
        textDecoration: "textDecoration",
        textTransform: "textTransform",
        top: "top",
        transform: "transform",
        transformOrigin: "transformOrigin",
        width: "width",
        whiteSpace: "whiteSpace",
        wrap: "flexWrap"
    },
    Ty = {
        backgroundColor: "colors",
        borderColor: "colors",
        borderWidth: "borderWidths",
        color: "colors",
        borderRadius: "radii",
        fontSize: "fontSizes",
        fontWeight: "fontWeights",
        fontFamily: "fonts",
        lineHeight: "lineHeights",
        opacity: "opacities",
        boxShadow: "shadows",
        transform: "transforms",
        left: "space",
        right: "space",
        top: "space",
        bottom: "space",
        height: "space",
        width: "space",
        letterSpacing: "space",
        margin: "space",
        marginBlock: "space",
        marginBlockEnd: "space",
        marginBlockStart: "space",
        marginInline: "space",
        marginInlineEnd: "space",
        marginInlineStart: "space",
        marginLeft: "space",
        marginRight: "space",
        marginTop: "space",
        marginBottom: "space",
        maxHeight: "space",
        maxWidth: "space",
        minHeight: "space",
        minWidth: "space",
        padding: "space",
        paddingBlock: "space",
        paddingBlockEnd: "space",
        paddingBlockStart: "space",
        paddingInline: "space",
        paddingInlineEnd: "space",
        paddingInlineStart: "space",
        paddingLeft: "space",
        paddingRight: "space",
        paddingTop: "space",
        paddingBottom: "space",
        gap: "space",
        columnGap: "space",
        rowGap: "space"
    },
    bte = t => t in Ty,
    zC = t => typeof t == "string" && t.length === 0,
    ZS = t => t == null || zC(t),
    Zh = t => Object.keys(t),
    u1 = (t, e, n) => {
        if (typeof e != "string") return e;
        if (e.includes(" ")) return e.split(" ").map(r => u1(t, r, n)).join(" ");
        if (bte(t)) {
            const r = e.split("."),
                a = Ty[t];
            let s = n[a];
            for (let o = 0; o < r.length; o++) {
                if (s) {
                    s = s[r[o]];
                    continue
                }
                break
            }
            return Yh(s) ? `var(--${i1({path:[Ty[t],...r]})})` : e
        }
        return e
    },
    wte = ({
        breakpoint: t,
        breakpoints: e,
        values: n
    }) => {
        const r = n[t];
        if (r !== void 0) return r;
        const a = Zh(e).sort((o, i) => e[i] - e[o]),
            s = a.slice(a.indexOf(t));
        for (const o of s) {
            const i = n[o];
            if (i !== void 0) return i
        }
        return null
    },
    Ste = t => Zh(t).reduce((e, n) => n in FC.breakpoints.values ? {
        ...e,
        [n]: t[n]
    } : e, {}),
    xte = ({
        breakpoint: t,
        breakpoints: e,
        values: n
    }) => {
        let r = {};
        const a = Zh(e).sort((s, o) => e[s] - e[o]);
        return Array.isArray(n) ? n.forEach((s, o) => {
            r[a[o]] = s
        }) : typeof n == "object" && (r = Ste(n)), wte({
            breakpoint: t,
            breakpoints: e,
            values: r
        })
    },
    kte = ({
        breakpoints: t
    }) => {
        const e = Zh(t).sort((n, r) => t[r] - t[n]);
        return e.map((n, r) => {
            let a = "";
            const s = t[n],
                o = e[r - 1],
                i = o ? t[o] - 1 : null;
            return s >= 0 && (a = `(min-width: ${s}px)`), i !== null && (a && (a += " and "), a += `(max-width: ${i}px)`), {
                breakpoint: n,
                query: a,
                maxWidth: i,
                minWidth: s
            }
        })
    },
    _te = typeof window > "u" ? Oe.useEffect : Oe.useLayoutEffect,
    LC = ({
        breakpoints: t,
        defaultBreakpoint: e
    }) => {
        const r = typeof window < "u" && typeof window.matchMedia < "u" ? window.matchMedia : null,
            a = Oe.useMemo(() => kte({
                breakpoints: t
            }), [t]),
            [s, o] = Oe.useState(e),
            i = Oe.useCallback((c, d) => {
                c && o(d)
            }, [o]);
        return _te(() => {
            if (!r) return;
            const c = a.map(({
                query: d,
                breakpoint: l
            }) => {
                const p = r(d);
                i(p.matches, l);
                const h = m => {
                    m.matches && o(l)
                };
                return p.addEventListener("change", h), () => p.removeEventListener("change", h)
            });
            return () => {
                c.forEach(d => d())
            }
        }, [t, o, r, a]), Oe.useDebugValue(s, c => c), s
    },
    Ite = t => typeof t > "u" || typeof t.theme > "u" ? PC() : t.theme,
    c1 = () => {
        const t = Oe.useContext(BC);
        return Ite(t)
    },
    Cte = () => Oe.useContext(BC).colorMode,
    Ete = ({
        value: t,
        propKey: e,
        tokens: n
    }) => Yh(t) ? t.toString() : Ul(t) ? Ul(e) ? u1(e, t, n) : t : null,
    Tte = t => t === "auto" || typeof t == "number" && !isNaN(t) || typeof t == "string" && !isNaN(parseFloat(t)),
    Sv = t => t === "auto" ? "auto" : `span ${t}`,
    QS = t => Tte(t) ? Sv(t) : Array.isArray(t) ? t.map(e => Sv(e)) : typeof t == "object" && t != null ? Object.entries(t).reduce((e, [n, r]) => ({
        ...e,
        [n]: Sv(r)
    }), {}) : null,
    Nte = t => {
        const {
            rowSpan: e,
            columnSpan: n,
            row: r,
            column: a,
            ...s
        } = t, {
            rowFromSpanValue: o,
            columnFromSpanValue: i
        } = Oe.useMemo(() => ({
            rowFromSpanValue: QS(e),
            columnFromSpanValue: QS(n)
        }), [e, n]);
        return {
            row: ZS(r) ? o : r,
            column: ZS(a) ? i : a,
            ...s
        }
    },
    Ate = t => t in l1,
    Dte = ({
        props: t = {},
        style: e = {},
        breakpoint: n,
        breakpoints: r,
        tokens: a
    }) => {
        const s = {};
        return Object.keys(t).filter(o => t[o] !== null).forEach(o => {
            if (Ate(o)) {
                const i = t[o];
                if (!i || zC(i)) return;
                const c = l1[o];
                let d = "";
                Yh(i) ? d = i.toString() : typeof i == "string" ? d = u1(o, i, a) : typeof i == "number" ? d = i : typeof i == "object" && (d = Ete({
                    propKey: o,
                    tokens: a,
                    value: xte({
                        values: i,
                        breakpoint: n,
                        breakpoints: r
                    })
                })), e = {
                    ...e,
                    [c]: d
                }
            } else typeof t[o] < "u" && (s[o] = t[o])
        }), {
            propStyles: e,
            nonStyleProps: s
        }
    },
    Fte = (t, e) => {
        const {
            breakpoints: {
                values: n,
                defaultBreakpoint: r
            },
            tokens: a
        } = c1(), s = LC({
            breakpoints: n,
            defaultBreakpoint: r
        }), o = Nte(t);
        return Oe.useMemo(() => Dte({
            props: o,
            style: e,
            breakpoint: s,
            breakpoints: n,
            tokens: a
        }), [o, e, n, s, a])
    },
    Ts = t => Oe.forwardRef(t),
    Rte = ({
        as: t = "div",
        children: e,
        testId: n,
        ariaLabel: r,
        isDisabled: a,
        style: s,
        inert: o,
        ...i
    }, c) => {
        const {
            propStyles: d,
            nonStyleProps: l
        } = Fte(i, s);
        return Oe.createElement(t, {
            "aria-label": r,
            "data-testid": n,
            disabled: a,
            ref: c,
            inert: o ? "" : null,
            style: d,
            ...l
        }, e)
    },
    Qt = Ts(Rte);
Qt.displayName = "View";
const zu = {
        minX: 0,
        minY: 0,
        width: 24,
        height: 24
    },
    $te = ({
        className: t,
        as: e = "svg",
        fill: n = "currentColor",
        pathData: r,
        viewBox: a = zu,
        children: s,
        paths: o,
        ...i
    }, c) => {
        const d = a.minX ? a.minX : zu.minX,
            l = a.minY ? a.minY : zu.minY,
            p = a.width ? a.width : zu.width,
            h = a.height ? a.height : zu.height;
        let m;
        return s && (m = s), o && (m = o.map((y, v) => Oe.createElement("path", {
            ...y,
            key: v
        }))), r && (m = Oe.createElement("path", {
            d: r,
            fill: n
        })), Oe.createElement(Qt, {
            as: e,
            className: In(wt.Icon, t),
            ref: c,
            viewBox: `${d} ${l} ${p} ${h}`,
            ...i
        }, m)
    },
    WC = Ts($te);
WC.displayName = "Icon";
const Ote = Oe.createContext({});

function jC(t) {
    const e = Oe.useContext(Ote);
    if (t && e) return e[t]
}
const Mte = t => {
        const {
            className: e,
            ...n
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: "1em",
            height: "1em",
            className: In(wt.Icon, e),
            ...n
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, Oe.createElement("path", {
            d: "M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20ZM16.59 7.58L10 14.17L7.41 11.59L6 13L10 17L18 9L16.59 7.58Z",
            fill: "currentColor"
        })))
    },
    Pte = t => {
        const {
            className: e,
            ...n
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: "1em",
            height: "1em",
            className: In(wt.Icon, e),
            ...n
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, Oe.createElement("path", {
            d: "M12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM13 17H11V15H13V17ZM13 13H11V7H13V13Z",
            fill: "currentColor"
        })))
    },
    Bte = t => {
        const {
            className: e,
            ...n
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: "1em",
            height: "1em",
            className: In(wt.Icon, e),
            ...n
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, Oe.createElement("path", {
            d: "M11 7H13V9H11V7ZM11 11H13V17H11V11ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z",
            fill: "currentColor"
        })))
    },
    zte = t => {
        const {
            className: e,
            ...n
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: "1em",
            height: "1em",
            className: In(wt.Icon, e),
            ...n
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, Oe.createElement("path", {
            d: "M1 21H23L12 2L1 21ZM13 18H11V16H13V18ZM13 14H11V10H13V14Z",
            fill: "currentColor"
        })))
    },
    d1 = ({
        variation: t,
        ariaHidden: e,
        ariaLabel: n,
        role: r
    }) => {
        const a = jC("alert");
        let s;
        switch (t) {
            case "info":
                s = (a == null ? void 0 : a.info) ?? Oe.createElement(Bte, {
                    "aria-hidden": e,
                    "aria-label": n,
                    role: r
                });
                break;
            case "error":
                s = (a == null ? void 0 : a.error) ?? Oe.createElement(Pte, {
                    "aria-hidden": e,
                    "aria-label": n,
                    role: r
                });
                break;
            case "warning":
                s = (a == null ? void 0 : a.warning) ?? Oe.createElement(zte, {
                    "aria-hidden": e,
                    "aria-label": n,
                    role: r
                });
                break;
            case "success":
                s = (a == null ? void 0 : a.success) ?? Oe.createElement(Mte, {
                    "aria-hidden": e,
                    "aria-label": n,
                    role: r
                });
                break
        }
        return s ? Oe.createElement("span", {
            className: wt.AlertIcon
        }, s) : null
    };
d1.displayName = "AlertIcon";
const Lte = globalThis != null && globalThis.document ? Oe.useLayoutEffect : () => {},
    Wte = "amplify-id",
    jte = x4.useId || (() => {});
let Vte = 0;
const JS = t => {
        const [e, n] = Oe.useState(jte());
        return Lte(() => {
            t || n(r => r ?? String(Vte++))
        }, [t]), t ?? (e ? `${Wte}-${e}` : "")
    },
    Ute = Oe.createContext({
        isFieldsetDisabled: !1
    }),
    VC = () => Oe.useContext(Ute),
    Hte = ({
        className: t,
        children: e,
        ...n
    }, r) => Oe.createElement(Qt, {
        className: In(wt.Flex, t),
        ref: r,
        ...n
    }, e),
    dn = Ts(Hte);
dn.displayName = "Flex";
const Gte = "linear-empty",
    qte = "linear-filled",
    Kte = "circular-empty",
    Xte = "circular-filled",
    ex = 8,
    Ny = 42,
    Bd = 2 * Ny * Math.PI,
    Yte = ({
        className: t,
        filledColor: e,
        emptyColor: n,
        size: r,
        variation: a,
        isDeterminate: s = !1,
        isPercentageTextHidden: o = !1,
        percentage: i = 0,
        ...c
    }, d) => {
        i = Math.min(i, 100), i = Math.max(i, 0);
        const l = `${i}%`,
            p = In(wt.Loader, _s(wt.Loader, r), _s(wt.Loader, a), Ni(wt.Loader, "determinate", s), t),
            h = Oe.createElement("g", null, Oe.createElement("line", {
                x1: "0",
                x2: "100%",
                y1: "50%",
                y2: "50%",
                style: {
                    stroke: String(n)
                },
                "data-testid": Gte
            }), Oe.createElement("line", {
                x1: "0",
                x2: s ? l : "100%",
                y1: "50%",
                y2: "50%",
                style: {
                    stroke: s && i === 0 ? "none" : e ? String(e) : void 0
                },
                "data-testid": qte
            }), s ? Oe.createElement("text", {
                "aria-live": "polite",
                className: In(wt.LoaderLabel, o ? wt.VisuallyHidden : null),
                x: `${-1+i}%`,
                y: "200%"
            }, l) : null),
            m = Oe.createElement("g", null, Oe.createElement("circle", {
                cx: "50%",
                cy: "50%",
                r: `${Ny}%`,
                strokeWidth: `${ex}%`,
                style: {
                    stroke: String(n)
                },
                "data-testid": Kte
            }), Oe.createElement("circle", {
                cx: "50%",
                cy: "50%",
                r: `${Ny}%`,
                strokeWidth: `${ex}%`,
                style: {
                    stroke: String(e),
                    strokeDasharray: s ? `${Bd}% ${Bd}%` : void 0,
                    strokeDashoffset: s ? `${Bd-Bd*i/100}%` : void 0
                },
                "data-testid": Xte
            }), s ? Oe.createElement("text", {
                "aria-live": "polite",
                className: In(wt.LoaderLabel, o ? wt.VisuallyHidden : null),
                x: "130%",
                y: "80%"
            }, l) : null);
        return Oe.createElement(Qt, {
            as: "svg",
            className: p,
            ref: d,
            role: "img",
            ...c
        }, a === "linear" ? h : m)
    },
    Rc = Ts(Yte);
Rc.displayName = "Loader";
const Zte = ["link", "primary", void 0],
    Qte = ({
        className: t,
        children: e,
        colorTheme: n,
        isFullWidth: r = !1,
        isDisabled: a,
        isLoading: s,
        loadingText: o = "",
        size: i,
        type: c = "button",
        variation: d,
        ...l
    }, p) => {
        const h = Zte.includes(d) && n ? `${d??"outlined"}--${n}` : void 0,
            {
                isFieldsetDisabled: m
            } = VC(),
            y = m || (a ?? s ?? l.disabled),
            v = In(wt.Button, wt.FieldGroupControl, _s(wt.Button, d), _s(wt.Button, h), _s(wt.Button, i), Ni(wt.Button, "disabled", y), Ni(wt.Button, "loading", s), Ni(wt.Button, "fullwidth", r), t);
        return Oe.createElement(Qt, {
            ref: p,
            as: "button",
            className: v,
            isDisabled: y,
            type: c,
            ...l
        }, s ? Oe.createElement(dn, {
            as: "span",
            className: wt.ButtonLoaderWrapper
        }, Oe.createElement(Rc, {
            size: i
        }), o || null) : e)
    },
    Vi = Ts(Qte);
Vi.displayName = "Button";
const Jte = t => {
        const {
            className: e,
            size: n,
            ...r
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: n ?? "1em",
            height: n ?? "1em",
            className: In(wt.Icon, e),
            ...r
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg",
            style: n ? {
                width: n,
                height: n
            } : void 0
        }, Oe.createElement("path", {
            d: "M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z",
            fill: "currentColor"
        })))
    },
    ene = ({
        as: t = "p",
        className: e,
        children: n,
        isTruncated: r,
        variation: a,
        ...s
    }, o) => {
        const i = In(wt.Text, _s(wt.Text, a), Ni(wt.Text, "truncated", r), e);
        return Oe.createElement(Qt, {
            as: t,
            className: i,
            ref: o,
            ...s
        }, n)
    },
    ts = Ts(ene);
ts.displayName = "Text";
const tne = "qa-field-description",
    UC = ({
        descriptiveText: t,
        labelHidden: e,
        ...n
    }) => t ? Oe.createElement(ts, {
        "data-testid": tne,
        className: In(wt.FieldDescription, {
            [wt.VisuallyHidden]: e
        }),
        ...n
    }, t) : null;
UC.displayName = "FieldDescription";
const HC = ({
    errorMessage: t,
    hasError: e,
    ...n
}) => e && t ? Oe.createElement(ts, {
    className: wt.FieldErrorMessage,
    ...n
}, t) : null;
HC.displayName = "FieldErrorMessage";
const nne = ({
        children: t,
        className: e,
        visuallyHidden: n,
        ...r
    }, a) => Oe.createElement(Qt, {
        as: "label",
        className: In(wt.Label, e, {
            [wt.VisuallyHidden]: n
        }),
        ref: a,
        ...r
    }, t),
    f1 = Ts(nne);
f1.displayName = "Label";
const tx = (t, e) => t && e ? `${t}-${e}` : void 0,
    rne = t => t in l1,
    ane = t => {
        const e = {
            styleProps: {},
            rest: {}
        };
        return Object.keys(t).forEach(n => {
            rne(n) ? e.styleProps = {
                ...e.styleProps,
                [n]: t[n]
            } : e.rest = {
                ...e.rest,
                [n]: t[n]
            }
        }), e
    },
    sne = t => {
        const e = t.filter(n => n !== void 0).join(" ");
        return e.length > 0 ? e : void 0
    },
    one = "error",
    ine = "description",
    lne = ({
        as: t = "span",
        children: e,
        className: n,
        ...r
    }, a) => Oe.createElement(Qt, {
        as: t,
        className: In(wt.VisuallyHidden, n),
        ref: a,
        ...r
    }, e),
    nf = Ts(lne);
nf.displayName = "VisuallyHidden";
const une = t => {
        const {
            className: e,
            ...n
        } = t;
        return Oe.createElement(Qt, {
            as: "span",
            width: "1em",
            height: "1em",
            className: In(wt.Icon, e),
            ...n
        }, Oe.createElement("svg", {
            width: "24",
            height: "24",
            viewBox: "0 0 24 24",
            fill: "none",
            xmlns: "http://www.w3.org/2000/svg"
        }, Oe.createElement("path", {
            d: "M16.59 8.58984L12 13.1698L7.41 8.58984L6 9.99984L12 15.9998L18 9.99984L16.59 8.58984Z",
            fill: "currentColor"
        })))
    },
    cne = ({
        autoComplete: t,
        className: e,
        size: n,
        variation: r,
        value: a,
        defaultValue: s,
        hasError: o,
        icon: i,
        iconColor: c,
        children: d,
        placeholder: l,
        isDisabled: p,
        isRequired: h,
        isMultiple: m = !1,
        selectSize: y = 1,
        ...v
    }, b) => {
        const w = "",
            x = a === void 0 && s === void 0 && l,
            _ = m || y > 1,
            C = In(wt.Select, wt.FieldGroupControl, _s(wt.Select, n), _s(wt.Select, r), Ni(wt.Select, "error", o), Ni(wt.Select, "expanded", _), e),
            T = jC("select"),
            {
                isFieldsetDisabled: R
            } = VC();
        return Oe.createElement(Qt, {
            className: wt.SelectWrapper
        }, Oe.createElement(Qt, {
            "aria-invalid": o,
            as: "select",
            autoComplete: t,
            value: a,
            defaultValue: x ? w : s,
            isDisabled: R || p,
            multiple: m,
            size: y,
            required: h,
            className: C,
            ref: b,
            ...v
        }, l && Oe.createElement("option", {
            value: ""
        }, l), d), _ ? null : Oe.createElement(dn, {
            className: In(wt.SelectIcon, _s(wt.SelectIcon, n)),
            color: c,
            "aria-hidden": "true"
        }, i ?? (T == null ? void 0 : T.expand) ?? Oe.createElement(une, null)))
    },
    GC = Ts(cne);
GC.displayName = "Select";
const dne = ({
        children: t,
        options: e
    }) => t ? (e != null && e.length && console.warn("Amplify UI: <SelectField> component  defaults to rendering children over `options`. When using the `options` prop, omit children."), t) : e == null ? void 0 : e.map((n, r) => Oe.createElement("option", {
        label: n,
        value: n,
        key: `${n}-${r}`
    }, n)),
    fne = (t, e) => {
        const {
            children: n,
            className: r,
            descriptiveText: a,
            errorMessage: s,
            hasError: o = !1,
            id: i,
            label: c,
            labelHidden: d = !1,
            options: l,
            size: p,
            testId: h,
            inputStyles: m,
            ...y
        } = t, v = JS(i), b = JS(), w = a ? tx(b, ine) : void 0, x = o ? tx(b, one) : void 0, _ = sne([x, w]), {
            styleProps: C,
            rest: T
        } = ane(y);
        return Oe.createElement(dn, {
            className: In(wt.Field, _s(wt.Field, p), wt.SelectField, r),
            testId: h,
            ...C
        }, Oe.createElement(f1, {
            htmlFor: v,
            visuallyHidden: d
        }, c), Oe.createElement(UC, {
            id: w,
            labelHidden: d,
            descriptiveText: a
        }), Oe.createElement(GC, {
            "aria-describedby": _,
            hasError: o,
            id: v,
            ref: e,
            size: p,
            ...T,
            ...m
        }, dne({
            children: n,
            options: l
        })), Oe.createElement(HC, {
            id: x,
            hasError: o,
            errorMessage: s
        }))
    },
    qC = Ts(fne);
qC.displayName = "SelectField";
const KC = ya.createContext(null);

function pne({
    children: t,
    ...e
}) {
    return Fe.jsx(KC.Provider, {
        value: e,
        children: t
    })
}

function XC() {
    const t = ya.useContext(KC);
    if (t === null) throw new Error("useFaceLivenessDetector must be used within a FaceLivenessDetectorProvider");
    return t
}
const hne = () => {
    const {
        breakpoints: {
            values: t,
            defaultBreakpoint: e
        }
    } = c1();
    return LC({
        breakpoints: t,
        defaultBreakpoint: e
    })
};

function Qh() {
    const {
        service: t
    } = XC();
    return $T(t)
}

function Vr(t) {
    const {
        service: e
    } = XC();
    return PT(e, t)
}

function mne(t) {
    const e = Ff.height.ideal,
        n = Ff.width.ideal,
        r = Oe.useRef(null),
        [a, s] = Oe.useState(e),
        [o, i] = Oe.useState(n);
    return Oe.useEffect(() => {
        if (t) {
            ao(r.current) && (r.current.srcObject = t);
            const {
                height: c,
                width: d
            } = t.getTracks()[0].getSettings();
            s(c), i(d)
        }
        return () => {
            t && t.getTracks().forEach(c => {
                t.removeTrack(c), c.stop()
            })
        }
    }, [t]), {
        videoRef: r,
        videoHeight: a,
        videoWidth: o
    }
}
var It = (t => (t.CameraModule = "amplify-liveness-camera-module", t.CancelContainer = "amplify-liveness-cancel-container", t.CancelButton = "amplify-liveness-cancel-button", t.CountdownContainer = "amplify-liveness-countdown-container", t.DescriptionBullet = "amplify-liveness-description-bullet", t.DescriptionBulletIndex = "amplify-liveness-description-bullet__index", t.DescriptionBulletIndexText = "amplify-liveness-description-bullet__index__text", t.DescriptionBulletMessage = "amplify-liveness-description-bullet__message", t.ErrorModal = "amplify-liveness-error-modal", t.ErrorModalHeading = "amplify-liveness-error-modal__heading", t.FadeOut = "amplify-liveness-fade-out", t.FreshnessCanvas = "amplify-liveness-freshness-canvas", t.InstructionList = "amplify-liveness-instruction-list", t.InstructionOverlay = "amplify-liveness-instruction-overlay", t.Hint = "amplify-liveness-hint", t.HintText = "amplify-liveness-hint__text", t.LandscapeErrorModal = "amplify-liveness-landscape-error-modal", t.LandscapeErrorModalButton = "amplify-liveness-landscape-error-modal__button", t.LandscapeErrorModalHeader = "amplify-liveness-landscape-error-modal__header", t.Loader = "amplify-liveness-loader", t.MatchIndicator = "amplify-liveness-match-indicator", t.OvalCanvas = "amplify-liveness-oval-canvas", t.OpaqueOverlay = "amplify-liveness-overlay-opaque", t.Overlay = "amplify-liveness-overlay", t.Popover = "amplify-liveness-popover", t.PopoverContainer = "amplify-liveness-popover__container", t.PopoverAnchor = "amplify-liveness-popover__anchor", t.PopoverAnchorSecondary = "amplify-liveness-popover__anchor-secondary", t.RecordingIconContainer = "amplify-liveness-recording-icon-container", t.RecordingIcon = "amplify-liveness-recording-icon", t.StartScreenCameraSelect = "amplify-liveness-start-screen-camera-select", t.StartScreenCameraSelectContainer = "amplify-liveness-start-screen-camera-select__container", t.StartScreenCameraWaiting = "amplify-liveness-start-screen-camera-waiting", t.StartScreenHeader = "amplify-liveness-start-screen-header", t.StartScreenHeaderBody = "amplify-liveness-start-screen-header__body", t.StartScreenHeaderHeading = "amplify-liveness-start-screen-header__heading", t.StartScreenWarning = "amplify-liveness-start-screen-warning", t.StartScreenInstructions = "amplify-liveness-start-screen-instructions", t.StartScreenInstructionsHeading = "amplify-liveness-start-screen-instructions__heading", t.Toast = "amplify-liveness-toast", t.ToastContainer = "amplify-liveness-toast__container", t.ToastMessage = "amplify-liveness-toast__message", t.Video = "amplify-liveness-video", t.VideoAnchor = "amplify-liveness-video-anchor", t))(It || {});
const YC = ({
        ariaLabel: t
    }) => {
        const [e, n] = Qh(), r = e.done, a = () => {
            n({
                type: "CANCEL"
            })
        };
        return r ? null : Fe.jsx(Vi, {
            autoFocus: !0,
            variation: "link",
            onClick: a,
            size: "large",
            className: It.CancelButton,
            "aria-label": t,
            children: Fe.jsx(Jte, {
                "aria-hidden": "true",
                "data-testid": "close-icon"
            })
        })
    },
    Jh = ({
        variation: t = "default",
        size: e = "medium",
        children: n,
        isInitial: r = !1,
        ...a
    }) => {
        const {
            tokens: s
        } = c1();
        return Fe.jsx(Qt, {
            className: `${It.Toast} ${It.Toast}--${t} ${It.Toast}--${e}`,
            ...r && {
                backgroundColor: s.colors.background.primary
            },
            ...a,
            children: Fe.jsx(dn, {
                className: It.ToastContainer,
                children: Fe.jsx(dn, {
                    className: It.ToastMessage,
                    ...r ? {
                        color: s.colors.font.primary
                    } : {},
                    children: n
                })
            })
        })
    },
    nx = ({
        displayText: t
    }) => Fe.jsx(Jh, {
        "aria-live": "polite",
        children: Fe.jsxs(dn, {
            className: It.HintText,
            children: [Fe.jsx(Rc, {}), Fe.jsx(Qt, {
                children: t
            })]
        })
    }),
    p1 = t => t.context.errorState,
    gne = t => t.context.faceMatchAssociatedParams.faceMatchState,
    vne = t => t.context.faceMatchAssociatedParams.illuminationState,
    yne = t => t.context.isFaceFarEnoughBeforeRecording,
    bne = t => t.context.faceMatchStateBeforeStart,
    wne = t => {
        var e;
        return (e = t.context.faceMatchAssociatedParams) == null ? void 0 : e.faceMatchPercentage
    },
    xl = ({
        text: t,
        isInitial: e = !1
    }) => Fe.jsx(Jh, {
        size: "large",
        variation: "primary",
        isInitial: e,
        children: Fe.jsx(Qt, {
            "aria-live": "assertive",
            children: t
        })
    }),
    Sne = ({
        hintDisplayText: t
    }) => {
        const [e] = Qh(), n = Vr(p1), r = Vr(gne), a = Vr(vne), s = Vr(bne), o = Vr(yne), i = Vr(wne), c = e.matches("checkFaceDetectedBeforeStart") || e.matches("detectFaceBeforeStart"), d = e.matches("checkFaceDistanceBeforeRecording") || e.matches("detectFaceDistanceBeforeRecording"), l = e.matches("start") || e.matches("userCancel"), p = e.matches("recording"), h = e.matches("notRecording"), m = e.matches("uploading"), y = e.matches("checkSucceeded"), v = e.matches("checkFailed"), b = e.matches({
            recording: "flashFreshnessColors"
        }), w = {
            [Jt.CANT_IDENTIFY]: t.hintCanNotIdentifyText,
            [Jt.FACE_IDENTIFIED]: t.hintTooFarText,
            [Jt.TOO_MANY]: t.hintTooManyFacesText,
            [Jt.TOO_FAR]: t.hintTooFarText,
            [Jt.MATCHED]: t.hintHoldFaceForFreshnessText,
            [Jt.OFF_CENTER]: t.hintFaceOffCenterText
        }, x = {
            [No.BRIGHT]: t.hintIlluminationTooBrightText,
            [No.DARK]: t.hintIlluminationTooDarkText,
            [No.NORMAL]: t.hintIlluminationNormalText
        };
        if (l) return Fe.jsxs(Fe.Fragment, {
            children: [Fe.jsx(nf, {
                role: "alert",
                children: t.hintCenterFaceInstructionText
            }), Fe.jsx(xl, {
                text: t.hintCenterFaceText,
                isInitial: !0
            })]
        });
        if (n ?? (v || y)) return null;
        if (!p) {
            if (c) return s === Jt.TOO_MANY ? Fe.jsx(xl, {
                text: t.hintTooManyFacesText
            }) : Fe.jsx(xl, {
                text: t.hintMoveFaceFrontOfCameraText
            });
            if (d && o === !1) return Fe.jsx(xl, {
                text: t.hintTooCloseText
            });
            if (h) return Fe.jsx(nx, {
                displayText: t.hintConnectingText
            });
            if (m) return Fe.jsxs(Fe.Fragment, {
                children: [Fe.jsx(nf, {
                    "aria-live": "assertive",
                    children: t.hintCheckCompleteText
                }), Fe.jsx(nx, {
                    displayText: t.hintVerifyingText
                })]
            });
            if (a && a !== No.NORMAL) return Fe.jsx(xl, {
                text: x[a]
            })
        }
        if (b) return Fe.jsx(xl, {
            text: t.hintHoldFaceForFreshnessText
        });
        if (p && !b) {
            let _ = w[Jt.TOO_FAR];
            r === Jt.MATCHED && (_ = w[r]);
            let C = _;
            return r === Jt.OFF_CENTER ? C = w[r] : r === Jt.TOO_FAR && i > 50 && (C = t.hintMatchIndicatorText), Fe.jsxs(Jh, {
                size: "large",
                variation: "primary",
                children: [Fe.jsx(nf, {
                    "aria-live": "assertive",
                    children: C
                }), Fe.jsx(Qt, {
                    "aria-label": C,
                    children: _
                })]
            })
        }
        return null
    },
    xne = ({
        percentage: t,
        initialPercentage: e = 25,
        testId: n
    }) => {
        const [r, a] = ya.useState(e);
        ya.useEffect(() => {
            t < 0 ? a(0) : t > 100 ? a(100) : a(t)
        }, [t]);
        const s = {
            "--percentage": `${r}%`
        };
        return Fe.jsx("div", {
            className: It.MatchIndicator,
            "data-testid": n,
            children: Fe.jsx("div", {
                className: `${It.MatchIndicator}__bar`,
                style: s,
                role: "progressbar",
                "aria-label": "MatchIndicator",
                "aria-valuenow": t,
                "aria-valuetext": `${t}% face fit`
            })
        })
    },
    ZC = ({
        children: t,
        horizontal: e = "center",
        vertical: n = "center",
        className: r,
        ...a
    }) => Fe.jsx(dn, {
        className: `${It.Overlay} ${r}`,
        alignItems: e,
        justifyContent: n,
        ...a,
        children: t
    }),
    kne = ({
        children: t
    }) => Fe.jsxs(dn, {
        className: It.RecordingIcon,
        children: [Fe.jsx(dn, {
            "data-testid": "rec-icon",
            justifyContent: "center",
            children: Fe.jsx(WC, {
                viewBox: {
                    width: 20,
                    height: 20
                },
                width: "20",
                height: "20",
                children: Fe.jsx("circle", {
                    cx: "10",
                    cy: "10",
                    r: "8",
                    fill: "red"
                })
            })
        }), Fe.jsx(ts, {
            as: "span",
            fontWeight: "bold",
            children: t
        })]
    }),
    em = {
        errorLabelText: "Error",
        connectionTimeoutHeaderText: "Connection time out",
        connectionTimeoutMessageText: "Connection has timed out.",
        timeoutHeaderText: "Time out",
        timeoutMessageText: "Face didn't fit inside oval in time limit. Try again and completely fill the oval with face in it.",
        faceDistanceHeaderText: "Forward movement detected",
        faceDistanceMessageText: "Avoid moving closer when connecting.",
        multipleFacesHeaderText: "Multiple faces detected",
        multipleFacesMessageText: "Ensure only one face is present in front of the camera when connecting.",
        clientHeaderText: "Client error",
        clientMessageText: "Check failed due to client issue",
        serverHeaderText: "Server issue",
        serverMessageText: "Cannot complete check due to server issue",
        landscapeHeaderText: "Landscape orientation not supported",
        landscapeMessageText: "Rotate your device to portrait (vertical) orientation.",
        portraitMessageText: "Ensure your device remains in portrait (vertical) orientation for the check’s duration.",
        tryAgainText: "Try again"
    },
    rf = {
        cameraMinSpecificationsHeadingText: "Camera does not meet minimum specifications",
        cameraMinSpecificationsMessageText: "Camera must support at least 320*240 resolution and 15 frames per second.",
        cameraNotFoundHeadingText: "Camera is not accessible.",
        cameraNotFoundMessageText: "Check that a camera is connected and there is not another application using the camera. You may have to go into settings to grant camera permissions and close out all instances of your browser and retry.",
        a11yVideoLabelText: "Webcam for liveness check",
        cancelLivenessCheckText: "Cancel Liveness check",
        goodFitCaptionText: "Good fit",
        goodFitAltText: "Ilustration of a person's face, perfectly fitting inside of an oval.",
        hintCenterFaceText: "Center your face",
        hintCenterFaceInstructionText: "Instruction: Before starting the check, make sure your camera is at the center top of your screen and center your face to the camera. When the check starts an oval will show up in the center. You will be prompted to move forward into the oval and then prompted to hold still. After holding still for a few seconds, you should hear check complete.",
        hintFaceOffCenterText: "Face is not in the oval, center your face to the camera.",
        hintMoveFaceFrontOfCameraText: "Move face in front of camera",
        hintTooManyFacesText: "Ensure only one face is in front of camera",
        hintFaceDetectedText: "Face detected",
        hintCanNotIdentifyText: "Move face in front of camera",
        hintTooCloseText: "Move back",
        hintTooFarText: "Move closer",
        hintConnectingText: "Connecting...",
        hintVerifyingText: "Verifying...",
        hintCheckCompleteText: "Check complete",
        hintIlluminationTooBrightText: "Move to dimmer area",
        hintIlluminationTooDarkText: "Move to brighter area",
        hintIlluminationNormalText: "Lighting conditions normal",
        hintHoldFaceForFreshnessText: "Hold still",
        hintMatchIndicatorText: "50% completed. Keep moving closer.",
        photosensitivityWarningBodyText: "This check flashes different colors. Use caution if you are photosensitive.",
        photosensitivityWarningHeadingText: "Photosensitivity warning",
        photosensitivityWarningInfoText: "Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",
        photosensitivityWarningLabelText: "More information about photosensitivity",
        photosensitivyWarningBodyText: "This check flashes different colors. Use caution if you are photosensitive.",
        photosensitivyWarningHeadingText: "Photosensitivity warning",
        photosensitivyWarningInfoText: "Some people may experience epileptic seizures when exposed to colored lights. Use caution if you, or anyone in your family, have an epileptic condition.",
        photosensitivyWarningLabelText: "More information about photosensitivity",
        retryCameraPermissionsText: "Retry",
        recordingIndicatorText: "Rec",
        startScreenBeginCheckText: "Start video check",
        tooFarCaptionText: "Too far",
        tooFarAltText: "Illustration of a person's face inside of an oval; there is a gap between the perimeter of the face and the boundaries of the oval.",
        waitingCameraPermissionText: "Waiting for you to allow camera permission.",
        ...em
    },
    _ne = t => {
        const {
            error: e,
            displayText: n
        } = t, {
            connectionTimeoutHeaderText: r,
            connectionTimeoutMessageText: a,
            errorLabelText: s,
            timeoutHeaderText: o,
            timeoutMessageText: i,
            faceDistanceHeaderText: c,
            faceDistanceMessageText: d,
            multipleFacesHeaderText: l,
            multipleFacesMessageText: p,
            clientHeaderText: h,
            clientMessageText: m,
            serverHeaderText: y,
            serverMessageText: v
        } = n;
        let b, w;
        switch (e) {
            case yn.CONNECTION_TIMEOUT:
                b = r, w = a;
                break;
            case yn.TIMEOUT:
                b = o, w = i;
                break;
            case yn.FACE_DISTANCE_ERROR:
                b = c, w = d;
                break;
            case yn.MULTIPLE_FACES_ERROR:
                b = l, w = p;
                break;
            case yn.RUNTIME_ERROR:
                b = h, w = m;
                break;
            case yn.SERVER_ERROR:
            default:
                b = y, w = v
        }
        return Fe.jsxs(Fe.Fragment, {
            children: [Fe.jsxs(dn, {
                className: It.ErrorModal,
                children: [Fe.jsx(d1, {
                    ariaLabel: s,
                    role: "img",
                    variation: "error"
                }), Fe.jsx(ts, {
                    className: It.ErrorModalHeading,
                    id: "amplify-liveness-error-heading",
                    children: b
                })]
            }), Fe.jsx(ts, {
                id: "amplify-liveness-error-message",
                children: w
            })]
        })
    },
    Ine = ({
        errorState: t,
        overrideErrorDisplayText: e
    }) => {
        const n = {
            ...em,
            ...e
        };
        return t === yn.CAMERA_ACCESS_ERROR || t === yn.CAMERA_FRAMERATE_ERROR || t === yn.MOBILE_LANDSCAPE_ERROR ? null : _ne({
            error: t,
            displayText: n
        })
    },
    Cne = t => {
        const {
            children: e,
            onRetry: n,
            displayText: r
        } = t, a = {
            ...em,
            ...r
        }, {
            tryAgainText: s
        } = a;
        return Fe.jsx(ZC, {
            className: It.OpaqueOverlay,
            children: Fe.jsxs(Jh, {
                "aria-labelledby": "amplify-liveness-error-heading",
                "aria-describedby": "amplify-liveness-error-message",
                role: "alertdialog",
                children: [e, Fe.jsx(dn, {
                    justifyContent: "center",
                    children: Fe.jsx(Vi, {
                        variation: "primary",
                        type: "button",
                        onClick: n,
                        children: s
                    })
                })]
            })
        })
    },
    QC = ({
        children: t,
        headingText: e,
        labelText: n
    }) => {
        const r = hne(),
            [a, s] = Oe.useState(!1),
            o = Oe.useRef(null),
            i = r === "base";
        return Oe.useEffect(() => {
            function c(d) {
                a && o.current && !o.current.contains(d.target) && s(!1)
            }
            return document.addEventListener("mousedown", c), () => {
                document.removeEventListener("mousedown", c)
            }
        }, [o, a]), Fe.jsxs("div", {
            className: It.Popover,
            ref: o,
            children: [Fe.jsx(Vi, {
                "aria-controls": "photosensitivity-description",
                "aria-expanded": a,
                role: "alertdialog",
                "aria-label": n,
                "aria-describedby": "photosensitivity-description",
                colorTheme: "info",
                id: "popover-button",
                onClick: () => s(!a),
                testId: "popover-icon",
                children: Fe.jsx(d1, {
                    ariaHidden: !0,
                    variation: "info"
                })
            }), a && Fe.jsxs(Fe.Fragment, {
                children: [Fe.jsx(dn, {
                    className: It.PopoverAnchor
                }), Fe.jsx(dn, {
                    className: It.PopoverAnchorSecondary
                }), Fe.jsx(dn, {
                    "aria-hidden": !a,
                    "aria-label": e,
                    className: It.PopoverContainer,
                    "data-testid": "popover-text",
                    id: "photosensitivity-description",
                    left: i ? -190 : -108,
                    role: "alertdialog",
                    children: t
                })]
            })]
        })
    };
QC.displayName = "LivenessIconWithPopover";
const Ene = ({
        bodyText: t,
        headingText: e,
        infoText: n,
        labelText: r
    }) => Fe.jsxs(dn, {
        className: `${wt.Alert} ${It.StartScreenWarning}`,
        style: {
            zIndex: "3"
        },
        children: [Fe.jsxs(Qt, {
            flex: "1",
            children: [Fe.jsx(Qt, {
                className: wt.AlertHeading,
                children: e
            }), Fe.jsx(Qt, {
                className: wt.AlertBody,
                children: t
            })]
        }), Fe.jsx(QC, {
            labelText: r,
            headingText: e,
            children: n
        })]
    }),
    Tne = ({
        recordingIndicatorText: t
    }) => Fe.jsx(Qt, {
        className: It.RecordingIconContainer,
        children: Fe.jsx(kne, {
            children: t
        })
    }),
    Nne = ({
        cancelLivenessCheckText: t
    }) => Fe.jsx(Qt, {
        className: It.CancelContainer,
        children: Fe.jsx(YC, {
            ariaLabel: t
        })
    }),
    Ane = t => {
        var e;
        return (e = t.context.videoAssociatedParams) == null ? void 0 : e.videoConstraints
    },
    Dne = t => {
        var e;
        return (e = t.context.videoAssociatedParams) == null ? void 0 : e.videoMediaStream
    },
    Fne = t => {
        var e;
        return (e = t.context.faceMatchAssociatedParams) == null ? void 0 : e.faceMatchPercentage
    },
    Rne = t => {
        var e;
        return (e = t.context.faceMatchAssociatedParams) == null ? void 0 : e.faceMatchState
    },
    $ne = t => {
        var e;
        return (e = t.context.videoAssociatedParams) == null ? void 0 : e.selectedDeviceId
    },
    One = t => {
        var e;
        return (e = t.context.videoAssociatedParams) == null ? void 0 : e.selectableDevices
    },
    Mne = Fe.jsx(Rc, {
        size: "large",
        className: It.Loader,
        "data-testid": "centered-loader"
    }),
    Pne = [Jt.TOO_FAR, Jt.CANT_IDENTIFY, Jt.FACE_IDENTIFIED, Jt.OFF_CENTER],
    Bne = ya.memo(xne),
    zne = t => {
        const {
            isMobileScreen: e,
            isRecordingStopped: n,
            instructionDisplayText: r,
            streamDisplayText: a,
            hintDisplayText: s,
            errorDisplayText: o,
            cameraDisplayText: i,
            components: c,
            testId: d
        } = t, {
            cancelLivenessCheckText: l,
            recordingIndicatorText: p
        } = a, {
            ErrorView: h = Cne,
            PhotosensitiveWarning: m = Ene
        } = c ?? {}, [y, v] = Qh(), b = Vr(Dne), w = Vr(Ane), x = Vr($ne), _ = Vr(One), C = Vr(Fne), T = Vr(Rne), R = Vr(p1), M = Cte(), {
            videoRef: W,
            videoWidth: P,
            videoHeight: z
        } = mne(b), F = Oe.useRef(null), O = Oe.useRef(null), [U, N] = Oe.useState(!1), q = y.matches("cameraCheck"), ae = y.matches("waitForDOMAndCameraDetails"), J = y.matches("start") || y.matches("userCancel"), Z = y.matches("detectFaceBeforeStart"), Y = y.matches("recording"), te = y.matches("checkSucceeded"), B = y.matches({
            recording: "flashFreshnessColors"
        }), [V, oe] = Oe.useState(P), [ue, le] = Oe.useState(z), [Ee, Re] = Oe.useState(() => P && z ? P / z : 0);
        ya.useEffect(() => {
            F != null && F.current && (W != null && W.current) && b && J && Rv(F.current, W.current, b)
        }, [F, W, b, M, J]), ya.useEffect(() => {
            const Qe = pe => {
                    pe.matches && (F != null && F.current) && (W != null && W.current) && b && J && Rv(F.current, W.current, b)
                },
                $ = window.matchMedia("(prefers-color-scheme: dark)"),
                be = window.matchMedia("(prefers-color-scheme: light)");
            return $.addEventListener("change", Qe), be.addEventListener("change", Qe), () => {
                $.removeEventListener("change", Qe), be.addEventListener("change", Qe)
            }
        }, [F, W, b, J]), ya.useLayoutEffect(() => {
            U && v({
                type: "SET_DOM_AND_CAMERA_DETAILS",
                data: {
                    videoEl: W.current,
                    canvasEl: F.current,
                    freshnessColorEl: O.current,
                    isMobile: e
                }
            }), W.current && (oe(W.current.videoWidth), le(W.current.videoHeight), Re(W.current.videoWidth / W.current.videoHeight))
        }, [v, W, U, e]), ya.useEffect(() => {
            Z && qT({
                canvas: F.current
            })
        }, [Z]);
        const xe = ya.useMemo(() => Fe.jsx(Qt, {
                style: {
                    visibility: J ? "visible" : "hidden"
                },
                children: Fe.jsx(m, {
                    bodyText: r.photosensitivityWarningBodyText,
                    headingText: r.photosensitivityWarningHeadingText,
                    infoText: r.photosensitivityWarningInfoText,
                    labelText: r.photosensitivityWarningLabelText
                })
            }), [m, r, J]),
            Ne = () => {
                N(!0)
            },
            He = ya.useCallback(() => {
                v({
                    type: "BEGIN"
                })
            }, [v]),
            Ke = ya.useCallback(Qe => {
                const $ = Qe.target.value;
                (async () => {
                    const pe = await navigator.mediaDevices.getUserMedia({
                        video: {
                            ...w,
                            deviceId: {
                                exact: $
                            }
                        },
                        audio: !1
                    });
                    v({
                        type: "UPDATE_DEVICE_AND_STREAM",
                        data: {
                            newDeviceId: $,
                            newStream: pe
                        }
                    })
                })()
            }, [w, v]);
        if (q) return Fe.jsxs(dn, {
            justifyContent: "center",
            className: It.StartScreenCameraWaiting,
            children: [Fe.jsx(Rc, {
                size: "large",
                className: It.Loader,
                "data-testid": "centered-loader",
                position: "unset"
            }), Fe.jsx(ts, {
                fontSize: "large",
                fontWeight: "bold",
                "data-testid": "waiting-camera-permission",
                className: `${It.StartScreenCameraWaiting}__text`,
                children: i.waitingCameraPermissionText
            })]
        });
        const et = e && !J && !ae;
        return Fe.jsxs(Fe.Fragment, {
            children: [xe, Fe.jsxs(dn, {
                className: In(It.CameraModule, et && `${It.CameraModule}--mobile`),
                "data-testid": d,
                gap: "zero",
                children: [!U && Mne, Fe.jsxs(ZC, {
                    horizontal: "center",
                    vertical: Y && !B ? "start" : "space-between",
                    className: It.InstructionOverlay,
                    children: [Y && Fe.jsx(Tne, {
                        recordingIndicatorText: p
                    }), !J && !ae && !te && Fe.jsx(Nne, {
                        cancelLivenessCheckText: l
                    }), Fe.jsx(dn, {
                        className: In(It.Hint, et && `${It.Hint}--mobile`),
                        children: Fe.jsx(Sne, {
                            hintDisplayText: s
                        })
                    }), R && Fe.jsx(h, {
                        onRetry: () => {
                            v({
                                type: "CANCEL"
                            })
                        },
                        displayText: o,
                        children: Ine({
                            errorState: R,
                            overrideErrorDisplayText: o
                        })
                    }), Y && !B && Pne.includes(T) ? Fe.jsx(Bne, {
                        percentage: Math.ceil(C)
                    }) : null]
                }), Fe.jsx(Qt, {
                    as: "canvas",
                    ref: O,
                    className: It.FreshnessCanvas,
                    hidden: !0
                }), Fe.jsxs(Qt, {
                    className: It.VideoAnchor,
                    style: {
                        aspectRatio: `${Ee}`
                    },
                    children: [Fe.jsx("video", {
                        ref: W,
                        muted: !0,
                        autoPlay: !0,
                        playsInline: !0,
                        width: V,
                        height: ue,
                        onCanPlay: Ne,
                        "data-testid": "video",
                        className: In(It.Video, n && It.FadeOut),
                        "aria-label": i.a11yVideoLabelText
                    }), Fe.jsx(dn, {
                        className: In(It.OvalCanvas, et && `${It.OvalCanvas}--mobile`, n && It.FadeOut),
                        children: Fe.jsx(Qt, {
                            as: "canvas",
                            ref: F
                        })
                    }), J && !e && _ && _.length > 1 && Fe.jsx(dn, {
                        className: It.StartScreenCameraSelect,
                        children: Fe.jsxs(Qt, {
                            className: It.StartScreenCameraSelectContainer,
                            children: [Fe.jsx(f1, {
                                htmlFor: "amplify-liveness-camera-select",
                                className: `${It.StartScreenCameraSelect}__label`,
                                children: "Camera:"
                            }), Fe.jsx(qC, {
                                id: "amplify-liveness-camera-select",
                                label: "Camera",
                                labelHidden: !0,
                                value: x,
                                onChange: Ke,
                                children: _ == null ? void 0 : _.map(Qe => Fe.jsx("option", {
                                    value: Qe.deviceId,
                                    children: Qe.label
                                }, Qe.deviceId))
                            })]
                        })
                    })]
                })]
            }), J && Fe.jsx(dn, {
                justifyContent: "center",
                children: Fe.jsx(Vi, {
                    variation: "primary",
                    type: "button",
                    onClick: He,
                    children: r.startScreenBeginCheckText
                })
            })]
        })
    },
    Lne = t => {
        const {
            onRetry: e,
            header: n,
            portraitMessage: r,
            landscapeMessage: a,
            tryAgainText: s
        } = t, [o, i] = Oe.useState(!0);
        return Oe.useLayoutEffect(() => {
            const c = mC();
            return i(c.matches), c.addEventListener("change", d => {
                i(d.matches)
            }), () => {
                c.removeEventListener("change", d => i(d.matches))
            }
        }, []), Fe.jsxs(dn, {
            className: It.LandscapeErrorModal,
            height: o ? "auto" : 480,
            children: [Fe.jsx(ts, {
                className: It.LandscapeErrorModalHeader,
                children: n
            }), Fe.jsx(ts, {
                children: o ? a : r
            }), o ? null : Fe.jsx(dn, {
                className: It.LandscapeErrorModalButton,
                children: Fe.jsx(Vi, {
                    variation: "primary",
                    type: "button",
                    onClick: e,
                    children: s
                })
            })]
        })
    },
    rx = "liveness-detector-check",
    Wne = 420,
    jne = t => t.context.isRecordingStopped,
    Vne = ({
        instructionDisplayText: t,
        hintDisplayText: e,
        cameraDisplayText: n,
        streamDisplayText: r,
        errorDisplayText: a,
        components: s
    }) => {
        const [o, i] = Qh(), c = Vr(p1), d = Vr(jne), l = o.matches("permissionDenied"), p = rZ(), h = () => {
            i({
                type: "RETRY_CAMERA_CHECK"
            })
        }, {
            cameraMinSpecificationsHeadingText: m,
            cameraMinSpecificationsMessageText: y,
            cameraNotFoundHeadingText: v,
            cameraNotFoundMessageText: b,
            retryCameraPermissionsText: w
        } = n, {
            cancelLivenessCheckText: x
        } = r;
        Oe.useLayoutEffect(() => {
            if (p) {
                const C = R => {
                        R && i({
                            type: "MOBILE_LANDSCAPE_WARNING"
                        })
                    },
                    T = mC();
                return C(T.matches), T.addEventListener("change", R => {
                    C(R.matches)
                }), () => {
                    T.removeEventListener("change", R => C(R.matches))
                }
            }
        }, [p, i]);
        const _ = () => {
            if (c === yn.MOBILE_LANDSCAPE_ERROR) {
                const C = {
                        ...em,
                        ...a
                    },
                    {
                        landscapeHeaderText: T,
                        portraitMessageText: R,
                        landscapeMessageText: M,
                        tryAgainText: W
                    } = C;
                return Fe.jsx(dn, {
                    backgroundColor: "background.primary",
                    direction: "column",
                    textAlign: "center",
                    alignItems: "center",
                    justifyContent: "center",
                    position: "absolute",
                    width: "100%",
                    children: Fe.jsx(Lne, {
                        header: T,
                        portraitMessage: R,
                        landscapeMessage: M,
                        tryAgainText: W,
                        onRetry: () => {
                            i({
                                type: "CANCEL"
                            })
                        }
                    })
                })
            } else return l ? Fe.jsxs(dn, {
                backgroundColor: "background.primary",
                direction: "column",
                textAlign: "center",
                alignItems: "center",
                justifyContent: "center",
                width: "100%",
                height: 480,
                children: [Fe.jsx(ts, {
                    fontSize: "large",
                    fontWeight: "bold",
                    children: c === yn.CAMERA_FRAMERATE_ERROR ? m : v
                }), Fe.jsx(ts, {
                    maxWidth: Wne,
                    children: c === yn.CAMERA_FRAMERATE_ERROR ? y : b
                }), Fe.jsx(Vi, {
                    variation: "primary",
                    type: "button",
                    onClick: h,
                    children: w
                }), Fe.jsx(Qt, {
                    position: "absolute",
                    top: "medium",
                    right: "medium",
                    children: Fe.jsx(YC, {
                        ariaLabel: x
                    })
                })]
            }) : Fe.jsx(zne, {
                isMobileScreen: p,
                isRecordingStopped: d,
                instructionDisplayText: t,
                streamDisplayText: r,
                hintDisplayText: e,
                errorDisplayText: a,
                cameraDisplayText: n,
                components: s
            })
        };
        return Fe.jsx(dn, {
            direction: "column",
            position: "relative",
            testId: rx,
            className: rx,
            gap: "xl",
            children: _()
        })
    };

function Une(t) {
    const e = (n, r) => t[n] && t[n] !== rf[n] ? t[n] : t[r] && t[r] !== rf[n] ? t[r] : rf[n];
    return {
        photosensitivityWarningBodyText: e("photosensitivityWarningBodyText", "photosensitivyWarningBodyText"),
        photosensitivityWarningHeadingText: e("photosensitivityWarningHeadingText", "photosensitivyWarningHeadingText"),
        photosensitivityWarningInfoText: e("photosensitivityWarningInfoText", "photosensitivyWarningInfoText"),
        photosensitivityWarningLabelText: e("photosensitivityWarningLabelText", "photosensitivyWarningLabelText")
    }
}

function Hne(t) {
    const e = Une(t ?? {}),
        n = {
            ...rf,
            ...t,
            ...e
        },
        {
            a11yVideoLabelText: r,
            cameraMinSpecificationsHeadingText: a,
            cameraMinSpecificationsMessageText: s,
            cameraNotFoundHeadingText: o,
            cameraNotFoundMessageText: i,
            cancelLivenessCheckText: c,
            connectionTimeoutHeaderText: d,
            connectionTimeoutMessageText: l,
            clientHeaderText: p,
            clientMessageText: h,
            errorLabelText: m,
            hintCanNotIdentifyText: y,
            hintCenterFaceText: v,
            hintCenterFaceInstructionText: b,
            hintFaceOffCenterText: w,
            hintConnectingText: x,
            hintFaceDetectedText: _,
            hintHoldFaceForFreshnessText: C,
            hintIlluminationNormalText: T,
            hintIlluminationTooBrightText: R,
            hintIlluminationTooDarkText: M,
            hintMoveFaceFrontOfCameraText: W,
            hintTooManyFacesText: P,
            hintTooCloseText: z,
            hintTooFarText: F,
            hintVerifyingText: O,
            hintCheckCompleteText: U,
            hintMatchIndicatorText: N,
            faceDistanceHeaderText: q,
            faceDistanceMessageText: ae,
            goodFitCaptionText: J,
            goodFitAltText: Z,
            landscapeHeaderText: Y,
            landscapeMessageText: te,
            multipleFacesHeaderText: B,
            multipleFacesMessageText: V,
            photosensitivityWarningBodyText: oe,
            photosensitivityWarningHeadingText: ue,
            photosensitivityWarningInfoText: le,
            photosensitivityWarningLabelText: Ee,
            photosensitivyWarningBodyText: Re,
            photosensitivyWarningHeadingText: xe,
            photosensitivyWarningInfoText: Ne,
            photosensitivyWarningLabelText: He,
            portraitMessageText: Ke,
            retryCameraPermissionsText: et,
            recordingIndicatorText: Qe,
            serverHeaderText: $,
            serverMessageText: be,
            startScreenBeginCheckText: pe,
            timeoutHeaderText: Q,
            timeoutMessageText: K,
            tooFarCaptionText: ce,
            tooFarAltText: _e,
            tryAgainText: Ae,
            waitingCameraPermissionText: ge
        } = n;
    return {
        hintDisplayText: {
            hintMoveFaceFrontOfCameraText: W,
            hintTooManyFacesText: P,
            hintFaceDetectedText: _,
            hintCanNotIdentifyText: y,
            hintTooCloseText: z,
            hintTooFarText: F,
            hintConnectingText: x,
            hintVerifyingText: O,
            hintCheckCompleteText: U,
            hintIlluminationTooBrightText: R,
            hintIlluminationTooDarkText: M,
            hintIlluminationNormalText: T,
            hintHoldFaceForFreshnessText: C,
            hintCenterFaceText: v,
            hintCenterFaceInstructionText: b,
            hintFaceOffCenterText: w,
            hintMatchIndicatorText: N
        },
        cameraDisplayText: {
            cameraMinSpecificationsHeadingText: a,
            cameraMinSpecificationsMessageText: s,
            cameraNotFoundHeadingText: o,
            cameraNotFoundMessageText: i,
            retryCameraPermissionsText: et,
            waitingCameraPermissionText: ge,
            a11yVideoLabelText: r
        },
        instructionDisplayText: {
            photosensitivityWarningBodyText: oe,
            photosensitivityWarningHeadingText: ue,
            photosensitivityWarningInfoText: le,
            photosensitivityWarningLabelText: Ee,
            photosensitivyWarningBodyText: Re,
            photosensitivyWarningHeadingText: xe,
            photosensitivyWarningInfoText: Ne,
            photosensitivyWarningLabelText: He,
            goodFitCaptionText: J,
            goodFitAltText: Z,
            tooFarCaptionText: ce,
            tooFarAltText: _e,
            startScreenBeginCheckText: pe
        },
        streamDisplayText: {
            cancelLivenessCheckText: c,
            recordingIndicatorText: Qe
        },
        errorDisplayText: {
            connectionTimeoutHeaderText: d,
            connectionTimeoutMessageText: l,
            errorLabelText: m,
            timeoutHeaderText: Q,
            timeoutMessageText: K,
            faceDistanceHeaderText: q,
            faceDistanceMessageText: ae,
            multipleFacesHeaderText: B,
            multipleFacesMessageText: V,
            clientHeaderText: p,
            clientMessageText: h,
            serverHeaderText: $,
            serverMessageText: be,
            landscapeHeaderText: Y,
            landscapeMessageText: te,
            portraitMessageText: Ke,
            tryAgainText: Ae
        }
    }
}

function Gne(t) {
    const {
        components: e,
        config: n,
        displayText: r
    } = t, a = Oe.useRef(null), {
        hintDisplayText: s,
        cameraDisplayText: o,
        instructionDisplayText: i,
        streamDisplayText: c,
        errorDisplayText: d
    } = Hne(r), l = NT(TJ, {
        devTools: !1,
        context: {
            componentProps: {
                ...t,
                config: n ?? {}
            }
        }
    });
    return Fe.jsx(Qt, {
        children: Fe.jsx(pne, {
            componentProps: t,
            service: l,
            children: Fe.jsx(dn, {
                direction: "column",
                ref: a,
                children: Fe.jsx(Vne, {
                    instructionDisplayText: i,
                    hintDisplayText: s,
                    cameraDisplayText: o,
                    streamDisplayText: c,
                    errorDisplayText: d,
                    components: e
                })
            })
        })
    })
}

function qne(t) {
    const {
        config: e,
        ...n
    } = t;
    return Fe.jsx(Gne, {
        ...n,
        config: {
            ...e
        }
    })
}

function Kne() {
    return Fe.jsx("div", {
        className: "w-100 flex justify-center",
        children: Fe.jsx(qne, {
            onAnalysisComplete: async function() {
                window.close()
            }
        })
    })
}
T4.createRoot(document.getElementById("root")).render(Fe.jsx(Oe.StrictMode, {
    children: Fe.jsx(Kne, {})
}));